---
const currentPath = Astro.url.pathname;
---

<nav class="nav-bar not-content flex items-center gap-1">
	<div class="desktop-links">
		<a
			href="/"
			class:list={[
				'nav-link',
				{ active: currentPath === '/' || currentPath === '' },
			]}
			data-astro-prefetch>
			<svg
				class="nav-icon"
				viewBox="0 0 24 24"
				fill="none"
				stroke="currentColor"
				stroke-width="2"
				stroke-linecap="round"
				stroke-linejoin="round">
				<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z">
				</path><polyline points="9 22 9 12 15 12 15 22"></polyline>
			</svg>
			<span class="nav-label">Home</span>
		</a>
		<a
			href="/guides/getting-started"
			class:list={[
				'nav-link',
				{
					active:
						currentPath.startsWith('/guides') ||
						currentPath.startsWith('/reference'),
				},
			]}
			data-astro-prefetch>
			<svg
				class="nav-icon"
				viewBox="0 0 24 24"
				fill="none"
				stroke="currentColor"
				stroke-width="2"
				stroke-linecap="round"
				stroke-linejoin="round">
				<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path
					d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z">
				</path>
			</svg>
			<span class="nav-label">Docs</span>
		</a>
	</div>

	<button
		id="nav-hamburger"
		type="button"
		class="hamburger-btn"
		aria-label="Open menu">
		<svg
			class="hamburger-icon"
			viewBox="0 0 24 24"
			fill="none"
			stroke="currentColor"
			stroke-width="2"
			stroke-linecap="round"
			stroke-linejoin="round">
			<line x1="3" y1="12" x2="21" y2="12"></line>
			<line x1="3" y1="6" x2="21" y2="6"></line>
			<line x1="3" y1="18" x2="21" y2="18"></line>
		</svg>
	</button>
</nav>

<style>
	.nav-bar {
		gap: 0.25rem;
	}

	.desktop-links {
		display: none;
		align-items: center;
		gap: 0.25rem;
	}

	.hamburger-btn {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		width: 2.25rem;
		height: 2.25rem;
		border-radius: 0.375rem;
		border: none;
		background: none;
		color: var(--sl-color-gray-2, #a1a1aa);
		cursor: pointer;
		transition: color 150ms ease;
	}
	.hamburger-btn:hover {
		color: var(--sl-color-white, #e2e8f0);
	}
	.hamburger-icon {
		width: 1.25rem;
		height: 1.25rem;
	}

	@media (min-width: 768px) {
		.desktop-links {
			display: flex;
		}
		.hamburger-btn {
			display: none;
		}
	}

	.nav-icon {
		width: 1rem;
		height: 1rem;
		flex-shrink: 0;
		opacity: 0.8;
	}

	.nav-label {
		font-size: 0.8125rem;
		font-weight: 500;
	}

	.nav-link {
		display: inline-flex;
		align-items: center;
		gap: 0.375rem;
		padding: 0.375rem 0.625rem;
		border-radius: 0.375rem;
		color: var(--sl-color-gray-2, #94a3b8);
		text-decoration: none;
		transition:
			background-color 150ms ease,
			color 150ms ease;
	}

	.nav-link:hover {
		background-color: var(--sl-color-gray-6, rgba(148, 163, 184, 0.1));
		color: var(--sl-color-white, #e2e8f0);
	}

	.nav-link.active {
		background-color: var(--sl-color-accent-low);
		color: var(--sl-color-accent);
	}

	.nav-link:hover .nav-icon,
	.nav-link.active .nav-icon {
		opacity: 1;
	}
</style>
