var gw=Object.defineProperty;var mw=(d,p,y)=>p in d?gw(d,p,{enumerable:!0,configurable:!0,writable:!0,value:y}):d[p]=y;var Bn=(d,p,y)=>(mw(d,typeof p!="symbol"?p+"":p,y),y);(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))E(w);new MutationObserver(w=>{for(const R of w)if(R.type==="childList")for(const c of R.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&E(c)}).observe(document,{childList:!0,subtree:!0});function y(w){const R={};return w.integrity&&(R.integrity=w.integrity),w.referrerPolicy&&(R.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?R.credentials="include":w.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function E(w){if(w.ep)return;w.ep=!0;const R=y(w);fetch(w.href,R)}})();var yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function na(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var iy={exports:{}},Fl={},ny={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),xw=Symbol.for("react.portal"),Tw=Symbol.for("react.fragment"),Sw=Symbol.for("react.strict_mode"),Cw=Symbol.for("react.profiler"),Ew=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),ww=Symbol.for("react.suspense"),Mw=Symbol.for("react.memo"),Rw=Symbol.for("react.lazy"),vg=Symbol.iterator;function Lw(d){return d===null||typeof d!="object"?null:(d=vg&&d[vg]||d["@@iterator"],typeof d=="function"?d:null)}var ry={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sy=Object.assign,ay={};function ra(d,p,y){this.props=d,this.context=p,this.refs=ay,this.updater=y||ry}ra.prototype.isReactComponent={};ra.prototype.setState=function(d,p){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,p,"setState")};ra.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function oy(){}oy.prototype=ra.prototype;function Sc(d,p,y){this.props=d,this.context=p,this.refs=ay,this.updater=y||ry}var Cc=Sc.prototype=new oy;Cc.constructor=Sc;sy(Cc,ra.prototype);Cc.isPureReactComponent=!0;var pg=Array.isArray,hy=Object.prototype.hasOwnProperty,Ec={current:null},ly={key:!0,ref:!0,__self:!0,__source:!0};function uy(d,p,y){var E,w={},R=null,c=null;if(p!=null)for(E in p.ref!==void 0&&(c=p.ref),p.key!==void 0&&(R=""+p.key),p)hy.call(p,E)&&!ly.hasOwnProperty(E)&&(w[E]=p[E]);var x=arguments.length-2;if(x===1)w.children=y;else if(1<x){for(var t=Array(x),a=0;a<x;a++)t[a]=arguments[a+2];w.children=t}if(d&&d.defaultProps)for(E in x=d.defaultProps,x)w[E]===void 0&&(w[E]=x[E]);return{$$typeof:To,type:d,key:R,ref:c,props:w,_owner:Ec.current}}function Fw(d,p){return{$$typeof:To,type:d.type,key:p,ref:d.ref,props:d.props,_owner:d._owner}}function Pc(d){return typeof d=="object"&&d!==null&&d.$$typeof===To}function Ow(d){var p={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(y){return p[y]})}var gg=/\/+/g;function Rf(d,p){return typeof d=="object"&&d!==null&&d.key!=null?Ow(""+d.key):p.toString(36)}function bh(d,p,y,E,w){var R=typeof d;(R==="undefined"||R==="boolean")&&(d=null);var c=!1;if(d===null)c=!0;else switch(R){case"string":case"number":c=!0;break;case"object":switch(d.$$typeof){case To:case xw:c=!0}}if(c)return c=d,w=w(c),d=E===""?"."+Rf(c,0):E,pg(w)?(y="",d!=null&&(y=d.replace(gg,"$&/")+"/"),bh(w,p,y,"",function(a){return a})):w!=null&&(Pc(w)&&(w=Fw(w,y+(!w.key||c&&c.key===w.key?"":(""+w.key).replace(gg,"$&/")+"/")+d)),p.push(w)),1;if(c=0,E=E===""?".":E+":",pg(d))for(var x=0;x<d.length;x++){R=d[x];var t=E+Rf(R,x);c+=bh(R,p,y,t,w)}else if(t=Lw(d),typeof t=="function")for(d=t.call(d),x=0;!(R=d.next()).done;)R=R.value,t=E+Rf(R,x++),c+=bh(R,p,y,t,w);else if(R==="object")throw p=String(d),Error("Objects are not valid as a React child (found: "+(p==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":p)+"). If you meant to render a collection of children, use an array instead.");return c}function gh(d,p,y){if(d==null)return d;var E=[],w=0;return bh(d,E,"","",function(R){return p.call(y,R,w++)}),E}function Dw(d){if(d._status===-1){var p=d._result;p=p(),p.then(function(y){(d._status===0||d._status===-1)&&(d._status=1,d._result=y)},function(y){(d._status===0||d._status===-1)&&(d._status=2,d._result=y)}),d._status===-1&&(d._status=0,d._result=p)}if(d._status===1)return d._result.default;throw d._result}var ii={current:null},Uh={transition:null},Bw={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:Ec};jt.Children={map:gh,forEach:function(d,p,y){gh(d,function(){p.apply(this,arguments)},y)},count:function(d){var p=0;return gh(d,function(){p++}),p},toArray:function(d){return gh(d,function(p){return p})||[]},only:function(d){if(!Pc(d))throw Error("React.Children.only expected to receive a single React element child.");return d}};jt.Component=ra;jt.Fragment=Tw;jt.Profiler=Cw;jt.PureComponent=Sc;jt.StrictMode=Sw;jt.Suspense=ww;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw;jt.cloneElement=function(d,p,y){if(d==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+d+".");var E=sy({},d.props),w=d.key,R=d.ref,c=d._owner;if(p!=null){if(p.ref!==void 0&&(R=p.ref,c=Ec.current),p.key!==void 0&&(w=""+p.key),d.type&&d.type.defaultProps)var x=d.type.defaultProps;for(t in p)hy.call(p,t)&&!ly.hasOwnProperty(t)&&(E[t]=p[t]===void 0&&x!==void 0?x[t]:p[t])}var t=arguments.length-2;if(t===1)E.children=y;else if(1<t){x=Array(t);for(var a=0;a<t;a++)x[a]=arguments[a+2];E.children=x}return{$$typeof:To,type:d.type,key:w,ref:R,props:E,_owner:c}};jt.createContext=function(d){return d={$$typeof:Pw,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},d.Provider={$$typeof:Ew,_context:d},d.Consumer=d};jt.createElement=uy;jt.createFactory=function(d){var p=uy.bind(null,d);return p.type=d,p};jt.createRef=function(){return{current:null}};jt.forwardRef=function(d){return{$$typeof:Aw,render:d}};jt.isValidElement=Pc;jt.lazy=function(d){return{$$typeof:Rw,_payload:{_status:-1,_result:d},_init:Dw}};jt.memo=function(d,p){return{$$typeof:Mw,type:d,compare:p===void 0?null:p}};jt.startTransition=function(d){var p=Uh.transition;Uh.transition={};try{d()}finally{Uh.transition=p}};jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};jt.useCallback=function(d,p){return ii.current.useCallback(d,p)};jt.useContext=function(d){return ii.current.useContext(d)};jt.useDebugValue=function(){};jt.useDeferredValue=function(d){return ii.current.useDeferredValue(d)};jt.useEffect=function(d,p){return ii.current.useEffect(d,p)};jt.useId=function(){return ii.current.useId()};jt.useImperativeHandle=function(d,p,y){return ii.current.useImperativeHandle(d,p,y)};jt.useInsertionEffect=function(d,p){return ii.current.useInsertionEffect(d,p)};jt.useLayoutEffect=function(d,p){return ii.current.useLayoutEffect(d,p)};jt.useMemo=function(d,p){return ii.current.useMemo(d,p)};jt.useReducer=function(d,p,y){return ii.current.useReducer(d,p,y)};jt.useRef=function(d){return ii.current.useRef(d)};jt.useState=function(d){return ii.current.useState(d)};jt.useSyncExternalStore=function(d,p,y){return ii.current.useSyncExternalStore(d,p,y)};jt.useTransition=function(){return ii.current.useTransition()};jt.version="18.2.0";ny.exports=jt;var Ei=ny.exports;const Wi=na(Ei);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=Ei,Nw=Symbol.for("react.element"),Gw=Symbol.for("react.fragment"),zw=Object.prototype.hasOwnProperty,bw=Iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uw={key:!0,ref:!0,__self:!0,__source:!0};function fy(d,p,y){var E,w={},R=null,c=null;y!==void 0&&(R=""+y),p.key!==void 0&&(R=""+p.key),p.ref!==void 0&&(c=p.ref);for(E in p)zw.call(p,E)&&!Uw.hasOwnProperty(E)&&(w[E]=p[E]);if(d&&d.defaultProps)for(E in p=d.defaultProps,p)w[E]===void 0&&(w[E]=p[E]);return{$$typeof:Nw,type:d,key:R,ref:c,props:w,_owner:bw.current}}Fl.Fragment=Gw;Fl.jsx=fy;Fl.jsxs=fy;iy.exports=Fl;var yn=iy.exports,dy={exports:{}},Ai={},cy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(d){function p(z,W){var Y=z.length;z.push(W);t:for(;0<Y;){var K=Y-1>>>1,Z=z[K];if(0<w(Z,W))z[K]=W,z[Y]=Z,Y=K;else break t}}function y(z){return z.length===0?null:z[0]}function E(z){if(z.length===0)return null;var W=z[0],Y=z.pop();if(Y!==W){z[0]=Y;t:for(var K=0,Z=z.length,V=Z>>>1;K<V;){var H=2*(K+1)-1,N=z[H],b=H+1,X=z[b];if(0>w(N,Y))b<Z&&0>w(X,N)?(z[K]=X,z[b]=Y,K=b):(z[K]=N,z[H]=Y,K=H);else if(b<Z&&0>w(X,Y))z[K]=X,z[b]=Y,K=b;else break t}}return W}function w(z,W){var Y=z.sortIndex-W.sortIndex;return Y!==0?Y:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var R=performance;d.unstable_now=function(){return R.now()}}else{var c=Date,x=c.now();d.unstable_now=function(){return c.now()-x}}var t=[],a=[],g=1,o=null,s=3,r=!1,e=!1,n=!1,l=typeof setTimeout=="function"?setTimeout:null,i=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(z){for(var W=y(a);W!==null;){if(W.callback===null)E(a);else if(W.startTime<=z)E(a),W.sortIndex=W.expirationTime,p(t,W);else break;W=y(a)}}function f(z){if(n=!1,u(z),!e)if(y(t)!==null)e=!0,I(v);else{var W=y(a);W!==null&&G(f,W.startTime-z)}}function v(z,W){e=!1,n&&(n=!1,i(C),C=-1),r=!0;var Y=s;try{for(u(W),o=y(t);o!==null&&(!(o.expirationTime>W)||z&&!A());){var K=o.callback;if(typeof K=="function"){o.callback=null,s=o.priorityLevel;var Z=K(o.expirationTime<=W);W=d.unstable_now(),typeof Z=="function"?o.callback=Z:o===y(t)&&E(t),u(W)}else E(t);o=y(t)}if(o!==null)var V=!0;else{var H=y(a);H!==null&&G(f,H.startTime-W),V=!1}return V}finally{o=null,s=Y,r=!1}}var m=!1,T=null,C=-1,S=5,P=-1;function A(){return!(d.unstable_now()-P<S)}function L(){if(T!==null){var z=d.unstable_now();P=z;var W=!0;try{W=T(!0,z)}finally{W?F():(m=!1,T=null)}}else m=!1}var F;if(typeof h=="function")F=function(){h(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=L,F=function(){D.postMessage(null)}}else F=function(){l(L,0)};function I(z){T=z,m||(m=!0,F())}function G(z,W){C=l(function(){z(d.unstable_now())},W)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(z){z.callback=null},d.unstable_continueExecution=function(){e||r||(e=!0,I(v))},d.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},d.unstable_getCurrentPriorityLevel=function(){return s},d.unstable_getFirstCallbackNode=function(){return y(t)},d.unstable_next=function(z){switch(s){case 1:case 2:case 3:var W=3;break;default:W=s}var Y=s;s=W;try{return z()}finally{s=Y}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=s;s=z;try{return W()}finally{s=Y}},d.unstable_scheduleCallback=function(z,W,Y){var K=d.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,z={id:g++,callback:W,priorityLevel:z,startTime:Y,expirationTime:Z,sortIndex:-1},Y>K?(z.sortIndex=Y,p(a,z),y(t)===null&&z===y(a)&&(n?(i(C),C=-1):n=!0,G(f,Y-K))):(z.sortIndex=Z,p(t,z),e||r||(e=!0,I(v))),z},d.unstable_shouldYield=A,d.unstable_wrapCallback=function(z){var W=s;return function(){var Y=s;s=W;try{return z.apply(this,arguments)}finally{s=Y}}}})(vy);cy.exports=vy;var Vw=cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py=Ei,Pi=Vw;function Tt(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,y=1;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gy=new Set,_a={};function qr(d,p){Ks(d,p),Ks(d+"Capture",p)}function Ks(d,p){for(_a[d]=p,d=0;d<p.length;d++)gy.add(p[d])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=Object.prototype.hasOwnProperty,Ww=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mg={},yg={};function Xw(d){return fd.call(yg,d)?!0:fd.call(mg,d)?!1:Ww.test(d)?yg[d]=!0:(mg[d]=!0,!1)}function Yw(d,p,y,E){if(y!==null&&y.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return E?!1:y!==null?!y.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function Hw(d,p,y,E){if(p===null||typeof p>"u"||Yw(d,p,y,E))return!0;if(E)return!1;if(y!==null)switch(y.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function ni(d,p,y,E,w,R,c){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=E,this.attributeNamespace=w,this.mustUseProperty=y,this.propertyName=d,this.type=p,this.sanitizeURL=R,this.removeEmptyString=c}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){Ye[d]=new ni(d,0,!1,d,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];Ye[p]=new ni(p,1,!1,d[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){Ye[d]=new ni(d,2,!1,d.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){Ye[d]=new ni(d,2,!1,d,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){Ye[d]=new ni(d,3,!1,d.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(d){Ye[d]=new ni(d,3,!0,d,null,!1,!1)});["capture","download"].forEach(function(d){Ye[d]=new ni(d,4,!1,d,null,!1,!1)});["cols","rows","size","span"].forEach(function(d){Ye[d]=new ni(d,6,!1,d,null,!1,!1)});["rowSpan","start"].forEach(function(d){Ye[d]=new ni(d,5,!1,d.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function wc(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(Ac,wc);Ye[p]=new ni(p,1,!1,d,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(Ac,wc);Ye[p]=new ni(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(Ac,wc);Ye[p]=new ni(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(d){Ye[d]=new ni(d,1,!1,d.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(d){Ye[d]=new ni(d,1,!1,d.toLowerCase(),null,!0,!0)});function Mc(d,p,y,E){var w=Ye.hasOwnProperty(p)?Ye[p]:null;(w!==null?w.type!==0:E||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(Hw(p,y,w,E)&&(y=null),E||w===null?Xw(p)&&(y===null?d.removeAttribute(p):d.setAttribute(p,""+y)):w.mustUseProperty?d[w.propertyName]=y===null?w.type===3?!1:"":y:(p=w.attributeName,E=w.attributeNamespace,y===null?d.removeAttribute(p):(w=w.type,y=w===3||w===4&&y===!0?"":""+y,E?d.setAttributeNS(E,p,y):d.setAttribute(p,y))))}var Hn=py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mh=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),dd=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),yy=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),xy=Symbol.for("react.offscreen"),xg=Symbol.iterator;function Ea(d){return d===null||typeof d!="object"?null:(d=xg&&d[xg]||d["@@iterator"],typeof d=="function"?d:null)}var ye=Object.assign,Lf;function Na(d){if(Lf===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);Lf=p&&p[1]||""}return`
`+Lf+d}var Ff=!1;function Of(d,p){if(!d||Ff)return"";Ff=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(a){var E=a}Reflect.construct(d,[],p)}else{try{p.call()}catch(a){E=a}d.call(p.prototype)}else{try{throw Error()}catch(a){E=a}d()}}catch(a){if(a&&E&&typeof a.stack=="string"){for(var w=a.stack.split(`
`),R=E.stack.split(`
`),c=w.length-1,x=R.length-1;1<=c&&0<=x&&w[c]!==R[x];)x--;for(;1<=c&&0<=x;c--,x--)if(w[c]!==R[x]){if(c!==1||x!==1)do if(c--,x--,0>x||w[c]!==R[x]){var t=`
`+w[c].replace(" at new "," at ");return d.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",d.displayName)),t}while(1<=c&&0<=x);break}}}finally{Ff=!1,Error.prepareStackTrace=y}return(d=d?d.displayName||d.name:"")?Na(d):""}function $w(d){switch(d.tag){case 5:return Na(d.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return d=Of(d.type,!1),d;case 11:return d=Of(d.type.render,!1),d;case 1:return d=Of(d.type,!0),d;default:return""}}function pd(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Es:return"Fragment";case Cs:return"Portal";case dd:return"Profiler";case Rc:return"StrictMode";case cd:return"Suspense";case vd:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case yy:return(d.displayName||"Context")+".Consumer";case my:return(d._context.displayName||"Context")+".Provider";case Lc:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Fc:return p=d.displayName||null,p!==null?p:pd(d.type)||"Memo";case ir:p=d._payload,d=d._init;try{return pd(d(p))}catch{}}return null}function Kw(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(p);case 8:return p===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function yr(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Ty(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function jw(d){var p=Ty(d)?"checked":"value",y=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),E=""+d[p];if(!d.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,R=y.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return w.call(this)},set:function(c){E=""+c,R.call(this,c)}}),Object.defineProperty(d,p,{enumerable:y.enumerable}),{getValue:function(){return E},setValue:function(c){E=""+c},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function yh(d){d._valueTracker||(d._valueTracker=jw(d))}function Sy(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var y=p.getValue(),E="";return d&&(E=Ty(d)?d.checked?"true":"false":d.value),d=E,d!==y?(p.setValue(d),!0):!1}function il(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function gd(d,p){var y=p.checked;return ye({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??d._wrapperState.initialChecked})}function Tg(d,p){var y=p.defaultValue==null?"":p.defaultValue,E=p.checked!=null?p.checked:p.defaultChecked;y=yr(p.value!=null?p.value:y),d._wrapperState={initialChecked:E,initialValue:y,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Cy(d,p){p=p.checked,p!=null&&Mc(d,"checked",p,!1)}function md(d,p){Cy(d,p);var y=yr(p.value),E=p.type;if(y!=null)E==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+y):d.value!==""+y&&(d.value=""+y);else if(E==="submit"||E==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?yd(d,p.type,y):p.hasOwnProperty("defaultValue")&&yd(d,p.type,yr(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function Sg(d,p,y){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var E=p.type;if(!(E!=="submit"&&E!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,y||p===d.value||(d.value=p),d.defaultValue=p}y=d.name,y!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,y!==""&&(d.name=y)}function yd(d,p,y){(p!=="number"||il(d.ownerDocument)!==d)&&(y==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+y&&(d.defaultValue=""+y))}var Ga=Array.isArray;function Gs(d,p,y,E){if(d=d.options,p){p={};for(var w=0;w<y.length;w++)p["$"+y[w]]=!0;for(y=0;y<d.length;y++)w=p.hasOwnProperty("$"+d[y].value),d[y].selected!==w&&(d[y].selected=w),w&&E&&(d[y].defaultSelected=!0)}else{for(y=""+yr(y),p=null,w=0;w<d.length;w++){if(d[w].value===y){d[w].selected=!0,E&&(d[w].defaultSelected=!0);return}p!==null||d[w].disabled||(p=d[w])}p!==null&&(p.selected=!0)}}function xd(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(Tt(91));return ye({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Cg(d,p){var y=p.value;if(y==null){if(y=p.children,p=p.defaultValue,y!=null){if(p!=null)throw Error(Tt(92));if(Ga(y)){if(1<y.length)throw Error(Tt(93));y=y[0]}p=y}p==null&&(p=""),y=p}d._wrapperState={initialValue:yr(y)}}function Ey(d,p){var y=yr(p.value),E=yr(p.defaultValue);y!=null&&(y=""+y,y!==d.value&&(d.value=y),p.defaultValue==null&&d.defaultValue!==y&&(d.defaultValue=y)),E!=null&&(d.defaultValue=""+E)}function Eg(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function Py(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Td(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?Py(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var xh,Ay=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,y,E,w){MSApp.execUnsafeLocalFunction(function(){return d(p,y,E,w)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(xh=xh||document.createElement("div"),xh.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=xh.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function to(d,p){if(p){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=p;return}}d.textContent=p}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zw=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(d){Zw.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),Va[p]=Va[d]})});function wy(d,p,y){return p==null||typeof p=="boolean"||p===""?"":y||typeof p!="number"||p===0||Va.hasOwnProperty(d)&&Va[d]?(""+p).trim():p+"px"}function My(d,p){d=d.style;for(var y in p)if(p.hasOwnProperty(y)){var E=y.indexOf("--")===0,w=wy(y,p[y],E);y==="float"&&(y="cssFloat"),E?d.setProperty(y,w):d[y]=w}}var Qw=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sd(d,p){if(p){if(Qw[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(Tt(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(Tt(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(Tt(61))}if(p.style!=null&&typeof p.style!="object")throw Error(Tt(62))}}function Cd(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=null;function Oc(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Pd=null,zs=null,bs=null;function Pg(d){if(d=Eo(d)){if(typeof Pd!="function")throw Error(Tt(280));var p=d.stateNode;p&&(p=Nl(p),Pd(d.stateNode,d.type,p))}}function Ry(d){zs?bs?bs.push(d):bs=[d]:zs=d}function Ly(){if(zs){var d=zs,p=bs;if(bs=zs=null,Pg(d),p)for(d=0;d<p.length;d++)Pg(p[d])}}function Fy(d,p){return d(p)}function Oy(){}var Df=!1;function Dy(d,p,y){if(Df)return d(p,y);Df=!0;try{return Fy(d,p,y)}finally{Df=!1,(zs!==null||bs!==null)&&(Oy(),Ly())}}function eo(d,p){var y=d.stateNode;if(y===null)return null;var E=Nl(y);if(E===null)return null;y=E[p];t:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(d=d.type,E=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!E;break t;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(Tt(231,p,typeof y));return y}var Ad=!1;if(Vn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Ad=!1}function kw(d,p,y,E,w,R,c,x,t){var a=Array.prototype.slice.call(arguments,3);try{p.apply(y,a)}catch(g){this.onError(g)}}var Wa=!1,nl=null,rl=!1,wd=null,Jw={onError:function(d){Wa=!0,nl=d}};function qw(d,p,y,E,w,R,c,x,t){Wa=!1,nl=null,kw.apply(Jw,arguments)}function _w(d,p,y,E,w,R,c,x,t){if(qw.apply(this,arguments),Wa){if(Wa){var a=nl;Wa=!1,nl=null}else throw Error(Tt(198));rl||(rl=!0,wd=a)}}function _r(d){var p=d,y=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(y=p.return),d=p.return;while(d)}return p.tag===3?y:null}function By(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function Ag(d){if(_r(d)!==d)throw Error(Tt(188))}function tM(d){var p=d.alternate;if(!p){if(p=_r(d),p===null)throw Error(Tt(188));return p!==d?null:d}for(var y=d,E=p;;){var w=y.return;if(w===null)break;var R=w.alternate;if(R===null){if(E=w.return,E!==null){y=E;continue}break}if(w.child===R.child){for(R=w.child;R;){if(R===y)return Ag(w),d;if(R===E)return Ag(w),p;R=R.sibling}throw Error(Tt(188))}if(y.return!==E.return)y=w,E=R;else{for(var c=!1,x=w.child;x;){if(x===y){c=!0,y=w,E=R;break}if(x===E){c=!0,E=w,y=R;break}x=x.sibling}if(!c){for(x=R.child;x;){if(x===y){c=!0,y=R,E=w;break}if(x===E){c=!0,E=R,y=w;break}x=x.sibling}if(!c)throw Error(Tt(189))}}if(y.alternate!==E)throw Error(Tt(190))}if(y.tag!==3)throw Error(Tt(188));return y.stateNode.current===y?d:p}function Iy(d){return d=tM(d),d!==null?Ny(d):null}function Ny(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=Ny(d);if(p!==null)return p;d=d.sibling}return null}var Gy=Pi.unstable_scheduleCallback,wg=Pi.unstable_cancelCallback,eM=Pi.unstable_shouldYield,iM=Pi.unstable_requestPaint,we=Pi.unstable_now,nM=Pi.unstable_getCurrentPriorityLevel,Dc=Pi.unstable_ImmediatePriority,zy=Pi.unstable_UserBlockingPriority,sl=Pi.unstable_NormalPriority,rM=Pi.unstable_LowPriority,by=Pi.unstable_IdlePriority,Ol=null,xn=null;function sM(d){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Ol,d,void 0,(d.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hM,aM=Math.log,oM=Math.LN2;function hM(d){return d>>>=0,d===0?32:31-(aM(d)/oM|0)|0}var Th=64,Sh=4194304;function za(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function al(d,p){var y=d.pendingLanes;if(y===0)return 0;var E=0,w=d.suspendedLanes,R=d.pingedLanes,c=y&268435455;if(c!==0){var x=c&~w;x!==0?E=za(x):(R&=c,R!==0&&(E=za(R)))}else c=y&~w,c!==0?E=za(c):R!==0&&(E=za(R));if(E===0)return 0;if(p!==0&&p!==E&&!(p&w)&&(w=E&-E,R=p&-p,w>=R||w===16&&(R&4194240)!==0))return p;if(E&4&&(E|=y&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=E;0<p;)y=31-on(p),w=1<<y,E|=d[y],p&=~w;return E}function lM(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uM(d,p){for(var y=d.suspendedLanes,E=d.pingedLanes,w=d.expirationTimes,R=d.pendingLanes;0<R;){var c=31-on(R),x=1<<c,t=w[c];t===-1?(!(x&y)||x&E)&&(w[c]=lM(x,p)):t<=p&&(d.expiredLanes|=x),R&=~x}}function Md(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Uy(){var d=Th;return Th<<=1,!(Th&4194240)&&(Th=64),d}function Bf(d){for(var p=[],y=0;31>y;y++)p.push(d);return p}function So(d,p,y){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-on(p),d[p]=y}function fM(d,p){var y=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<y;){var w=31-on(y),R=1<<w;p[w]=0,E[w]=-1,d[w]=-1,y&=~R}}function Bc(d,p){var y=d.entangledLanes|=p;for(d=d.entanglements;y;){var E=31-on(y),w=1<<E;w&p|d[E]&p&&(d[E]|=p),y&=~w}}var ee=0;function Vy(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Wy,Ic,Xy,Yy,Hy,Rd=!1,Ch=[],hr=null,lr=null,ur=null,io=new Map,no=new Map,rr=[],dM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(d,p){switch(d){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":io.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(p.pointerId)}}function Aa(d,p,y,E,w,R){return d===null||d.nativeEvent!==R?(d={blockedOn:p,domEventName:y,eventSystemFlags:E,nativeEvent:R,targetContainers:[w]},p!==null&&(p=Eo(p),p!==null&&Ic(p)),d):(d.eventSystemFlags|=E,p=d.targetContainers,w!==null&&p.indexOf(w)===-1&&p.push(w),d)}function cM(d,p,y,E,w){switch(p){case"focusin":return hr=Aa(hr,d,p,y,E,w),!0;case"dragenter":return lr=Aa(lr,d,p,y,E,w),!0;case"mouseover":return ur=Aa(ur,d,p,y,E,w),!0;case"pointerover":var R=w.pointerId;return io.set(R,Aa(io.get(R)||null,d,p,y,E,w)),!0;case"gotpointercapture":return R=w.pointerId,no.set(R,Aa(no.get(R)||null,d,p,y,E,w)),!0}return!1}function $y(d){var p=Vr(d.target);if(p!==null){var y=_r(p);if(y!==null){if(p=y.tag,p===13){if(p=By(y),p!==null){d.blockedOn=p,Hy(d.priority,function(){Xy(y)});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Vh(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var y=Ld(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(y===null){y=d.nativeEvent;var E=new y.constructor(y.type,y);Ed=E,y.target.dispatchEvent(E),Ed=null}else return p=Eo(y),p!==null&&Ic(p),d.blockedOn=y,!1;p.shift()}return!0}function Rg(d,p,y){Vh(d)&&y.delete(p)}function vM(){Rd=!1,hr!==null&&Vh(hr)&&(hr=null),lr!==null&&Vh(lr)&&(lr=null),ur!==null&&Vh(ur)&&(ur=null),io.forEach(Rg),no.forEach(Rg)}function wa(d,p){d.blockedOn===p&&(d.blockedOn=null,Rd||(Rd=!0,Pi.unstable_scheduleCallback(Pi.unstable_NormalPriority,vM)))}function ro(d){function p(w){return wa(w,d)}if(0<Ch.length){wa(Ch[0],d);for(var y=1;y<Ch.length;y++){var E=Ch[y];E.blockedOn===d&&(E.blockedOn=null)}}for(hr!==null&&wa(hr,d),lr!==null&&wa(lr,d),ur!==null&&wa(ur,d),io.forEach(p),no.forEach(p),y=0;y<rr.length;y++)E=rr[y],E.blockedOn===d&&(E.blockedOn=null);for(;0<rr.length&&(y=rr[0],y.blockedOn===null);)$y(y),y.blockedOn===null&&rr.shift()}var Us=Hn.ReactCurrentBatchConfig,ol=!0;function pM(d,p,y,E){var w=ee,R=Us.transition;Us.transition=null;try{ee=1,Nc(d,p,y,E)}finally{ee=w,Us.transition=R}}function gM(d,p,y,E){var w=ee,R=Us.transition;Us.transition=null;try{ee=4,Nc(d,p,y,E)}finally{ee=w,Us.transition=R}}function Nc(d,p,y,E){if(ol){var w=Ld(d,p,y,E);if(w===null)Yf(d,p,E,hl,y),Mg(d,E);else if(cM(w,d,p,y,E))E.stopPropagation();else if(Mg(d,E),p&4&&-1<dM.indexOf(d)){for(;w!==null;){var R=Eo(w);if(R!==null&&Wy(R),R=Ld(d,p,y,E),R===null&&Yf(d,p,E,hl,y),R===w)break;w=R}w!==null&&E.stopPropagation()}else Yf(d,p,E,null,y)}}var hl=null;function Ld(d,p,y,E){if(hl=null,d=Oc(E),d=Vr(d),d!==null)if(p=_r(d),p===null)d=null;else if(y=p.tag,y===13){if(d=By(p),d!==null)return d;d=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return hl=d,null}function Ky(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nM()){case Dc:return 1;case zy:return 4;case sl:case rM:return 16;case by:return 536870912;default:return 16}default:return 16}}var ar=null,Gc=null,Wh=null;function jy(){if(Wh)return Wh;var d,p=Gc,y=p.length,E,w="value"in ar?ar.value:ar.textContent,R=w.length;for(d=0;d<y&&p[d]===w[d];d++);var c=y-d;for(E=1;E<=c&&p[y-E]===w[R-E];E++);return Wh=w.slice(d,1<E?1-E:void 0)}function Xh(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Eh(){return!0}function Lg(){return!1}function wi(d){function p(y,E,w,R,c){this._reactName=y,this._targetInst=w,this.type=E,this.nativeEvent=R,this.target=c,this.currentTarget=null;for(var x in d)d.hasOwnProperty(x)&&(y=d[x],this[x]=y?y(R):R[x]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Eh:Lg,this.isPropagationStopped=Lg,this}return ye(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),p}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=wi(sa),Co=ye({},sa,{view:0,detail:0}),mM=wi(Co),If,Nf,Ma,Dl=ye({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ma&&(Ma&&d.type==="mousemove"?(If=d.screenX-Ma.screenX,Nf=d.screenY-Ma.screenY):Nf=If=0,Ma=d),If)},movementY:function(d){return"movementY"in d?d.movementY:Nf}}),Fg=wi(Dl),yM=ye({},Dl,{dataTransfer:0}),xM=wi(yM),TM=ye({},Co,{relatedTarget:0}),Gf=wi(TM),SM=ye({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),CM=wi(SM),EM=ye({},sa,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),PM=wi(EM),AM=ye({},sa,{data:0}),Og=wi(AM),wM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LM(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=RM[d])?!!p[d]:!1}function bc(){return LM}var FM=ye({},Co,{key:function(d){if(d.key){var p=wM[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Xh(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?MM[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(d){return d.type==="keypress"?Xh(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Xh(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),OM=wi(FM),DM=ye({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=wi(DM),BM=ye({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),IM=wi(BM),NM=ye({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),GM=wi(NM),zM=ye({},Dl,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),bM=wi(zM),UM=[9,13,27,32],Uc=Vn&&"CompositionEvent"in window,Xa=null;Vn&&"documentMode"in document&&(Xa=document.documentMode);var VM=Vn&&"TextEvent"in window&&!Xa,Zy=Vn&&(!Uc||Xa&&8<Xa&&11>=Xa),Bg=String.fromCharCode(32),Ig=!1;function Qy(d,p){switch(d){case"keyup":return UM.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ky(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ps=!1;function WM(d,p){switch(d){case"compositionend":return ky(p);case"keypress":return p.which!==32?null:(Ig=!0,Bg);case"textInput":return d=p.data,d===Bg&&Ig?null:d;default:return null}}function XM(d,p){if(Ps)return d==="compositionend"||!Uc&&Qy(d,p)?(d=jy(),Wh=Gc=ar=null,Ps=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Zy&&p.locale!=="ko"?null:p.data;default:return null}}var YM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!YM[d.type]:p==="textarea"}function Jy(d,p,y,E){Ry(E),p=ll(p,"onChange"),0<p.length&&(y=new zc("onChange","change",null,y,E),d.push({event:y,listeners:p}))}var Ya=null,so=null;function HM(d){h1(d,0)}function Bl(d){var p=Ms(d);if(Sy(p))return d}function $M(d,p){if(d==="change")return p}var qy=!1;if(Vn){var zf;if(Vn){var bf="oninput"in document;if(!bf){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),bf=typeof Gg.oninput=="function"}zf=bf}else zf=!1;qy=zf&&(!document.documentMode||9<document.documentMode)}function zg(){Ya&&(Ya.detachEvent("onpropertychange",_y),so=Ya=null)}function _y(d){if(d.propertyName==="value"&&Bl(so)){var p=[];Jy(p,so,d,Oc(d)),Dy(HM,p)}}function KM(d,p,y){d==="focusin"?(zg(),Ya=p,so=y,Ya.attachEvent("onpropertychange",_y)):d==="focusout"&&zg()}function jM(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Bl(so)}function ZM(d,p){if(d==="click")return Bl(p)}function QM(d,p){if(d==="input"||d==="change")return Bl(p)}function kM(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var ln=typeof Object.is=="function"?Object.is:kM;function ao(d,p){if(ln(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var y=Object.keys(d),E=Object.keys(p);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var w=y[E];if(!fd.call(p,w)||!ln(d[w],p[w]))return!1}return!0}function bg(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Ug(d,p){var y=bg(d);d=0;for(var E;y;){if(y.nodeType===3){if(E=d+y.textContent.length,d<=p&&E>=p)return{node:y,offset:p-d};d=E}t:{for(;y;){if(y.nextSibling){y=y.nextSibling;break t}y=y.parentNode}y=void 0}y=bg(y)}}function t1(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?t1(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function e1(){for(var d=window,p=il();p instanceof d.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)d=p.contentWindow;else break;p=il(d.document)}return p}function Vc(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function JM(d){var p=e1(),y=d.focusedElem,E=d.selectionRange;if(p!==y&&y&&y.ownerDocument&&t1(y.ownerDocument.documentElement,y)){if(E!==null&&Vc(y)){if(p=E.start,d=E.end,d===void 0&&(d=p),"selectionStart"in y)y.selectionStart=p,y.selectionEnd=Math.min(d,y.value.length);else if(d=(p=y.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var w=y.textContent.length,R=Math.min(E.start,w);E=E.end===void 0?R:Math.min(E.end,w),!d.extend&&R>E&&(w=E,E=R,R=w),w=Ug(y,R);var c=Ug(y,E);w&&c&&(d.rangeCount!==1||d.anchorNode!==w.node||d.anchorOffset!==w.offset||d.focusNode!==c.node||d.focusOffset!==c.offset)&&(p=p.createRange(),p.setStart(w.node,w.offset),d.removeAllRanges(),R>E?(d.addRange(p),d.extend(c.node,c.offset)):(p.setEnd(c.node,c.offset),d.addRange(p)))}}for(p=[],d=y;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<p.length;y++)d=p[y],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var qM=Vn&&"documentMode"in document&&11>=document.documentMode,As=null,Fd=null,Ha=null,Od=!1;function Vg(d,p,y){var E=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Od||As==null||As!==il(E)||(E=As,"selectionStart"in E&&Vc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Ha&&ao(Ha,E)||(Ha=E,E=ll(Fd,"onSelect"),0<E.length&&(p=new zc("onSelect","select",null,p,y),d.push({event:p,listeners:E}),p.target=As)))}function Ph(d,p){var y={};return y[d.toLowerCase()]=p.toLowerCase(),y["Webkit"+d]="webkit"+p,y["Moz"+d]="moz"+p,y}var ws={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},Uf={},i1={};Vn&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Il(d){if(Uf[d])return Uf[d];if(!ws[d])return d;var p=ws[d],y;for(y in p)if(p.hasOwnProperty(y)&&y in i1)return Uf[d]=p[y];return d}var n1=Il("animationend"),r1=Il("animationiteration"),s1=Il("animationstart"),a1=Il("transitionend"),o1=new Map,Wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(d,p){o1.set(d,p),qr(p,[d])}for(var Vf=0;Vf<Wg.length;Vf++){var Wf=Wg[Vf],_M=Wf.toLowerCase(),t4=Wf[0].toUpperCase()+Wf.slice(1);Cr(_M,"on"+t4)}Cr(n1,"onAnimationEnd");Cr(r1,"onAnimationIteration");Cr(s1,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(a1,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Xg(d,p,y){var E=d.type||"unknown-event";d.currentTarget=y,_w(E,p,void 0,d),d.currentTarget=null}function h1(d,p){p=(p&4)!==0;for(var y=0;y<d.length;y++){var E=d[y],w=E.event;E=E.listeners;t:{var R=void 0;if(p)for(var c=E.length-1;0<=c;c--){var x=E[c],t=x.instance,a=x.currentTarget;if(x=x.listener,t!==R&&w.isPropagationStopped())break t;Xg(w,x,a),R=t}else for(c=0;c<E.length;c++){if(x=E[c],t=x.instance,a=x.currentTarget,x=x.listener,t!==R&&w.isPropagationStopped())break t;Xg(w,x,a),R=t}}}if(rl)throw d=wd,rl=!1,wd=null,d}function le(d,p){var y=p[Gd];y===void 0&&(y=p[Gd]=new Set);var E=d+"__bubble";y.has(E)||(l1(p,d,2,!1),y.add(E))}function Xf(d,p,y){var E=0;p&&(E|=4),l1(y,d,E,p)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function oo(d){if(!d[Ah]){d[Ah]=!0,gy.forEach(function(y){y!=="selectionchange"&&(e4.has(y)||Xf(y,!1,d),Xf(y,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[Ah]||(p[Ah]=!0,Xf("selectionchange",!1,p))}}function l1(d,p,y,E){switch(Ky(p)){case 1:var w=pM;break;case 4:w=gM;break;default:w=Nc}y=w.bind(null,p,y,d),w=void 0,!Ad||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(w=!0),E?w!==void 0?d.addEventListener(p,y,{capture:!0,passive:w}):d.addEventListener(p,y,!0):w!==void 0?d.addEventListener(p,y,{passive:w}):d.addEventListener(p,y,!1)}function Yf(d,p,y,E,w){var R=E;if(!(p&1)&&!(p&2)&&E!==null)t:for(;;){if(E===null)return;var c=E.tag;if(c===3||c===4){var x=E.stateNode.containerInfo;if(x===w||x.nodeType===8&&x.parentNode===w)break;if(c===4)for(c=E.return;c!==null;){var t=c.tag;if((t===3||t===4)&&(t=c.stateNode.containerInfo,t===w||t.nodeType===8&&t.parentNode===w))return;c=c.return}for(;x!==null;){if(c=Vr(x),c===null)return;if(t=c.tag,t===5||t===6){E=R=c;continue t}x=x.parentNode}}E=E.return}Dy(function(){var a=R,g=Oc(y),o=[];t:{var s=o1.get(d);if(s!==void 0){var r=zc,e=d;switch(d){case"keypress":if(Xh(y)===0)break t;case"keydown":case"keyup":r=OM;break;case"focusin":e="focus",r=Gf;break;case"focusout":e="blur",r=Gf;break;case"beforeblur":case"afterblur":r=Gf;break;case"click":if(y.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=xM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=IM;break;case n1:case r1:case s1:r=CM;break;case a1:r=GM;break;case"scroll":r=mM;break;case"wheel":r=bM;break;case"copy":case"cut":case"paste":r=PM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=Dg}var n=(p&4)!==0,l=!n&&d==="scroll",i=n?s!==null?s+"Capture":null:s;n=[];for(var h=a,u;h!==null;){u=h;var f=u.stateNode;if(u.tag===5&&f!==null&&(u=f,i!==null&&(f=eo(h,i),f!=null&&n.push(ho(h,f,u)))),l)break;h=h.return}0<n.length&&(s=new r(s,e,null,y,g),o.push({event:s,listeners:n}))}}if(!(p&7)){t:{if(s=d==="mouseover"||d==="pointerover",r=d==="mouseout"||d==="pointerout",s&&y!==Ed&&(e=y.relatedTarget||y.fromElement)&&(Vr(e)||e[Wn]))break t;if((r||s)&&(s=g.window===g?g:(s=g.ownerDocument)?s.defaultView||s.parentWindow:window,r?(e=y.relatedTarget||y.toElement,r=a,e=e?Vr(e):null,e!==null&&(l=_r(e),e!==l||e.tag!==5&&e.tag!==6)&&(e=null)):(r=null,e=a),r!==e)){if(n=Fg,f="onMouseLeave",i="onMouseEnter",h="mouse",(d==="pointerout"||d==="pointerover")&&(n=Dg,f="onPointerLeave",i="onPointerEnter",h="pointer"),l=r==null?s:Ms(r),u=e==null?s:Ms(e),s=new n(f,h+"leave",r,y,g),s.target=l,s.relatedTarget=u,f=null,Vr(g)===a&&(n=new n(i,h+"enter",e,y,g),n.target=u,n.relatedTarget=l,f=n),l=f,r&&e)e:{for(n=r,i=e,h=0,u=n;u;u=vs(u))h++;for(u=0,f=i;f;f=vs(f))u++;for(;0<h-u;)n=vs(n),h--;for(;0<u-h;)i=vs(i),u--;for(;h--;){if(n===i||i!==null&&n===i.alternate)break e;n=vs(n),i=vs(i)}n=null}else n=null;r!==null&&Yg(o,s,r,n,!1),e!==null&&l!==null&&Yg(o,l,e,n,!0)}}t:{if(s=a?Ms(a):window,r=s.nodeName&&s.nodeName.toLowerCase(),r==="select"||r==="input"&&s.type==="file")var v=$M;else if(Ng(s))if(qy)v=QM;else{v=jM;var m=KM}else(r=s.nodeName)&&r.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(v=ZM);if(v&&(v=v(d,a))){Jy(o,v,y,g);break t}m&&m(d,s,a),d==="focusout"&&(m=s._wrapperState)&&m.controlled&&s.type==="number"&&yd(s,"number",s.value)}switch(m=a?Ms(a):window,d){case"focusin":(Ng(m)||m.contentEditable==="true")&&(As=m,Fd=a,Ha=null);break;case"focusout":Ha=Fd=As=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Vg(o,y,g);break;case"selectionchange":if(qM)break;case"keydown":case"keyup":Vg(o,y,g)}var T;if(Uc)t:{switch(d){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else Ps?Qy(d,y)&&(C="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(C="onCompositionStart");C&&(Zy&&y.locale!=="ko"&&(Ps||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ps&&(T=jy()):(ar=g,Gc="value"in ar?ar.value:ar.textContent,Ps=!0)),m=ll(a,C),0<m.length&&(C=new Og(C,d,null,y,g),o.push({event:C,listeners:m}),T?C.data=T:(T=ky(y),T!==null&&(C.data=T)))),(T=VM?WM(d,y):XM(d,y))&&(a=ll(a,"onBeforeInput"),0<a.length&&(g=new Og("onBeforeInput","beforeinput",null,y,g),o.push({event:g,listeners:a}),g.data=T))}h1(o,p)})}function ho(d,p,y){return{instance:d,listener:p,currentTarget:y}}function ll(d,p){for(var y=p+"Capture",E=[];d!==null;){var w=d,R=w.stateNode;w.tag===5&&R!==null&&(w=R,R=eo(d,y),R!=null&&E.unshift(ho(d,R,w)),R=eo(d,p),R!=null&&E.push(ho(d,R,w))),d=d.return}return E}function vs(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Yg(d,p,y,E,w){for(var R=p._reactName,c=[];y!==null&&y!==E;){var x=y,t=x.alternate,a=x.stateNode;if(t!==null&&t===E)break;x.tag===5&&a!==null&&(x=a,w?(t=eo(y,R),t!=null&&c.unshift(ho(y,t,x))):w||(t=eo(y,R),t!=null&&c.push(ho(y,t,x)))),y=y.return}c.length!==0&&d.push({event:p,listeners:c})}var i4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function Hg(d){return(typeof d=="string"?d:""+d).replace(i4,`
`).replace(n4,"")}function wh(d,p,y){if(p=Hg(p),Hg(d)!==p&&y)throw Error(Tt(425))}function ul(){}var Dd=null,Bd=null;function Id(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,r4=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(d){return $g.resolve(null).then(d).catch(a4)}:Nd;function a4(d){setTimeout(function(){throw d})}function Hf(d,p){var y=p,E=0;do{var w=y.nextSibling;if(d.removeChild(y),w&&w.nodeType===8)if(y=w.data,y==="/$"){if(E===0){d.removeChild(w),ro(p);return}E--}else y!=="$"&&y!=="$?"&&y!=="$!"||E++;y=w}while(y);ro(p)}function fr(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function Kg(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"){if(p===0)return d;p--}else y==="/$"&&p++}d=d.previousSibling}return null}var aa=Math.random().toString(36).slice(2),mn="__reactFiber$"+aa,lo="__reactProps$"+aa,Wn="__reactContainer$"+aa,Gd="__reactEvents$"+aa,o4="__reactListeners$"+aa,h4="__reactHandles$"+aa;function Vr(d){var p=d[mn];if(p)return p;for(var y=d.parentNode;y;){if(p=y[Wn]||y[mn]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(d=Kg(d);d!==null;){if(y=d[mn])return y;d=Kg(d)}return p}d=y,y=d.parentNode}return null}function Eo(d){return d=d[mn]||d[Wn],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Ms(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(Tt(33))}function Nl(d){return d[lo]||null}var zd=[],Rs=-1;function Er(d){return{current:d}}function ue(d){0>Rs||(d.current=zd[Rs],zd[Rs]=null,Rs--)}function ae(d,p){Rs++,zd[Rs]=d.current,d.current=p}var xr={},ke=Er(xr),ui=Er(!1),$r=xr;function js(d,p){var y=d.type.contextTypes;if(!y)return xr;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===p)return E.__reactInternalMemoizedMaskedChildContext;var w={},R;for(R in y)w[R]=p[R];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=w),w}function fi(d){return d=d.childContextTypes,d!=null}function fl(){ue(ui),ue(ke)}function jg(d,p,y){if(ke.current!==xr)throw Error(Tt(168));ae(ke,p),ae(ui,y)}function u1(d,p,y){var E=d.stateNode;if(p=p.childContextTypes,typeof E.getChildContext!="function")return y;E=E.getChildContext();for(var w in E)if(!(w in p))throw Error(Tt(108,Kw(d)||"Unknown",w));return ye({},y,E)}function dl(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||xr,$r=ke.current,ae(ke,d),ae(ui,ui.current),!0}function Zg(d,p,y){var E=d.stateNode;if(!E)throw Error(Tt(169));y?(d=u1(d,p,$r),E.__reactInternalMemoizedMergedChildContext=d,ue(ui),ue(ke),ae(ke,d)):ue(ui),ae(ui,y)}var Nn=null,Gl=!1,$f=!1;function f1(d){Nn===null?Nn=[d]:Nn.push(d)}function l4(d){Gl=!0,f1(d)}function Pr(){if(!$f&&Nn!==null){$f=!0;var d=0,p=ee;try{var y=Nn;for(ee=1;d<y.length;d++){var E=y[d];do E=E(!0);while(E!==null)}Nn=null,Gl=!1}catch(w){throw Nn!==null&&(Nn=Nn.slice(d+1)),Gy(Dc,Pr),w}finally{ee=p,$f=!1}}return null}var Ls=[],Fs=0,cl=null,vl=0,bi=[],Ui=0,Kr=null,Gn=1,zn="";function Nr(d,p){Ls[Fs++]=vl,Ls[Fs++]=cl,cl=d,vl=p}function d1(d,p,y){bi[Ui++]=Gn,bi[Ui++]=zn,bi[Ui++]=Kr,Kr=d;var E=Gn;d=zn;var w=32-on(E)-1;E&=~(1<<w),y+=1;var R=32-on(p)+w;if(30<R){var c=w-w%5;R=(E&(1<<c)-1).toString(32),E>>=c,w-=c,Gn=1<<32-on(p)+w|y<<w|E,zn=R+d}else Gn=1<<R|y<<w|E,zn=d}function Wc(d){d.return!==null&&(Nr(d,1),d1(d,1,0))}function Xc(d){for(;d===cl;)cl=Ls[--Fs],Ls[Fs]=null,vl=Ls[--Fs],Ls[Fs]=null;for(;d===Kr;)Kr=bi[--Ui],bi[Ui]=null,zn=bi[--Ui],bi[Ui]=null,Gn=bi[--Ui],bi[Ui]=null}var Ci=null,Si=null,ce=!1,sn=null;function c1(d,p){var y=Xi(5,null,null,0);y.elementType="DELETED",y.stateNode=p,y.return=d,p=d.deletions,p===null?(d.deletions=[y],d.flags|=16):p.push(y)}function Qg(d,p){switch(d.tag){case 5:var y=d.type;return p=p.nodeType!==1||y.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,Ci=d,Si=fr(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,Ci=d,Si=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(y=Kr!==null?{id:Gn,overflow:zn}:null,d.memoizedState={dehydrated:p,treeContext:y,retryLane:1073741824},y=Xi(18,null,null,0),y.stateNode=p,y.return=d,d.child=y,Ci=d,Si=null,!0):!1;default:return!1}}function bd(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Ud(d){if(ce){var p=Si;if(p){var y=p;if(!Qg(d,p)){if(bd(d))throw Error(Tt(418));p=fr(y.nextSibling);var E=Ci;p&&Qg(d,p)?c1(E,y):(d.flags=d.flags&-4097|2,ce=!1,Ci=d)}}else{if(bd(d))throw Error(Tt(418));d.flags=d.flags&-4097|2,ce=!1,Ci=d}}}function kg(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ci=d}function Mh(d){if(d!==Ci)return!1;if(!ce)return kg(d),ce=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!Id(d.type,d.memoizedProps)),p&&(p=Si)){if(bd(d))throw v1(),Error(Tt(418));for(;p;)c1(d,p),p=fr(p.nextSibling)}if(kg(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(Tt(317));t:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"){if(p===0){Si=fr(d.nextSibling);break t}p--}else y!=="$"&&y!=="$!"&&y!=="$?"||p++}d=d.nextSibling}Si=null}}else Si=Ci?fr(d.stateNode.nextSibling):null;return!0}function v1(){for(var d=Si;d;)d=fr(d.nextSibling)}function Zs(){Si=Ci=null,ce=!1}function Yc(d){sn===null?sn=[d]:sn.push(d)}var u4=Hn.ReactCurrentBatchConfig;function nn(d,p){if(d&&d.defaultProps){p=ye({},p),d=d.defaultProps;for(var y in d)p[y]===void 0&&(p[y]=d[y]);return p}return p}var pl=Er(null),gl=null,Os=null,Hc=null;function $c(){Hc=Os=gl=null}function Kc(d){var p=pl.current;ue(pl),d._currentValue=p}function Vd(d,p,y){for(;d!==null;){var E=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),d===y)break;d=d.return}}function Vs(d,p){gl=d,Hc=Os=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(li=!0),d.firstContext=null)}function $i(d){var p=d._currentValue;if(Hc!==d)if(d={context:d,memoizedValue:p,next:null},Os===null){if(gl===null)throw Error(Tt(308));Os=d,gl.dependencies={lanes:0,firstContext:d}}else Os=Os.next=d;return p}var Wr=null;function jc(d){Wr===null?Wr=[d]:Wr.push(d)}function p1(d,p,y,E){var w=p.interleaved;return w===null?(y.next=y,jc(p)):(y.next=w.next,w.next=y),p.interleaved=y,Xn(d,E)}function Xn(d,p){d.lanes|=p;var y=d.alternate;for(y!==null&&(y.lanes|=p),y=d,d=d.return;d!==null;)d.childLanes|=p,y=d.alternate,y!==null&&(y.childLanes|=p),y=d,d=d.return;return y.tag===3?y.stateNode:null}var nr=!1;function Zc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g1(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Un(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function dr(d,p,y){var E=d.updateQueue;if(E===null)return null;if(E=E.shared,kt&2){var w=E.pending;return w===null?p.next=p:(p.next=w.next,w.next=p),E.pending=p,Xn(d,y)}return w=E.interleaved,w===null?(p.next=p,jc(E)):(p.next=w.next,w.next=p),E.interleaved=p,Xn(d,y)}function Yh(d,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194240)!==0)){var E=p.lanes;E&=d.pendingLanes,y|=E,p.lanes=y,Bc(d,y)}}function Jg(d,p){var y=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var w=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var c={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?w=R=c:R=R.next=c,y=y.next}while(y!==null);R===null?w=R=p:R=R.next=p}else w=R=p;y={baseState:E.baseState,firstBaseUpdate:w,lastBaseUpdate:R,shared:E.shared,effects:E.effects},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=p:d.next=p,y.lastBaseUpdate=p}function ml(d,p,y,E){var w=d.updateQueue;nr=!1;var R=w.firstBaseUpdate,c=w.lastBaseUpdate,x=w.shared.pending;if(x!==null){w.shared.pending=null;var t=x,a=t.next;t.next=null,c===null?R=a:c.next=a,c=t;var g=d.alternate;g!==null&&(g=g.updateQueue,x=g.lastBaseUpdate,x!==c&&(x===null?g.firstBaseUpdate=a:x.next=a,g.lastBaseUpdate=t))}if(R!==null){var o=w.baseState;c=0,g=a=t=null,x=R;do{var s=x.lane,r=x.eventTime;if((E&s)===s){g!==null&&(g=g.next={eventTime:r,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});t:{var e=d,n=x;switch(s=p,r=y,n.tag){case 1:if(e=n.payload,typeof e=="function"){o=e.call(r,o,s);break t}o=e;break t;case 3:e.flags=e.flags&-65537|128;case 0:if(e=n.payload,s=typeof e=="function"?e.call(r,o,s):e,s==null)break t;o=ye({},o,s);break t;case 2:nr=!0}}x.callback!==null&&x.lane!==0&&(d.flags|=64,s=w.effects,s===null?w.effects=[x]:s.push(x))}else r={eventTime:r,lane:s,tag:x.tag,payload:x.payload,callback:x.callback,next:null},g===null?(a=g=r,t=o):g=g.next=r,c|=s;if(x=x.next,x===null){if(x=w.shared.pending,x===null)break;s=x,x=s.next,s.next=null,w.lastBaseUpdate=s,w.shared.pending=null}}while(1);if(g===null&&(t=o),w.baseState=t,w.firstBaseUpdate=a,w.lastBaseUpdate=g,p=w.shared.interleaved,p!==null){w=p;do c|=w.lane,w=w.next;while(w!==p)}else R===null&&(w.shared.lanes=0);Zr|=c,d.lanes=c,d.memoizedState=o}}function qg(d,p,y){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var E=d[p],w=E.callback;if(w!==null){if(E.callback=null,E=y,typeof w!="function")throw Error(Tt(191,w));w.call(E)}}}var m1=new py.Component().refs;function Wd(d,p,y,E){p=d.memoizedState,y=y(E,p),y=y==null?p:ye({},p,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var zl={isMounted:function(d){return(d=d._reactInternals)?_r(d)===d:!1},enqueueSetState:function(d,p,y){d=d._reactInternals;var E=ei(),w=vr(d),R=Un(E,w);R.payload=p,y!=null&&(R.callback=y),p=dr(d,R,w),p!==null&&(hn(p,d,w,E),Yh(p,d,w))},enqueueReplaceState:function(d,p,y){d=d._reactInternals;var E=ei(),w=vr(d),R=Un(E,w);R.tag=1,R.payload=p,y!=null&&(R.callback=y),p=dr(d,R,w),p!==null&&(hn(p,d,w,E),Yh(p,d,w))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var y=ei(),E=vr(d),w=Un(y,E);w.tag=2,p!=null&&(w.callback=p),p=dr(d,w,E),p!==null&&(hn(p,d,E,y),Yh(p,d,E))}};function _g(d,p,y,E,w,R,c){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,R,c):p.prototype&&p.prototype.isPureReactComponent?!ao(y,E)||!ao(w,R):!0}function y1(d,p,y){var E=!1,w=xr,R=p.contextType;return typeof R=="object"&&R!==null?R=$i(R):(w=fi(p)?$r:ke.current,E=p.contextTypes,R=(E=E!=null)?js(d,w):xr),p=new p(y,R),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zl,d.stateNode=p,p._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=w,d.__reactInternalMemoizedMaskedChildContext=R),p}function tm(d,p,y,E){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,E),p.state!==d&&zl.enqueueReplaceState(p,p.state,null)}function Xd(d,p,y,E){var w=d.stateNode;w.props=y,w.state=d.memoizedState,w.refs=m1,Zc(d);var R=p.contextType;typeof R=="object"&&R!==null?w.context=$i(R):(R=fi(p)?$r:ke.current,w.context=js(d,R)),w.state=d.memoizedState,R=p.getDerivedStateFromProps,typeof R=="function"&&(Wd(d,p,R,y),w.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(p=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),p!==w.state&&zl.enqueueReplaceState(w,w.state,null),ml(d,y,w,E),w.state=d.memoizedState),typeof w.componentDidMount=="function"&&(d.flags|=4194308)}function Ra(d,p,y){if(d=y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(Tt(309));var E=y.stateNode}if(!E)throw Error(Tt(147,d));var w=E,R=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===R?p.ref:(p=function(c){var x=w.refs;x===m1&&(x=w.refs={}),c===null?delete x[R]:x[R]=c},p._stringRef=R,p)}if(typeof d!="string")throw Error(Tt(284));if(!y._owner)throw Error(Tt(290,d))}return d}function Rh(d,p){throw d=Object.prototype.toString.call(p),Error(Tt(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function em(d){var p=d._init;return p(d._payload)}function x1(d){function p(i,h){if(d){var u=i.deletions;u===null?(i.deletions=[h],i.flags|=16):u.push(h)}}function y(i,h){if(!d)return null;for(;h!==null;)p(i,h),h=h.sibling;return null}function E(i,h){for(i=new Map;h!==null;)h.key!==null?i.set(h.key,h):i.set(h.index,h),h=h.sibling;return i}function w(i,h){return i=pr(i,h),i.index=0,i.sibling=null,i}function R(i,h,u){return i.index=u,d?(u=i.alternate,u!==null?(u=u.index,u<h?(i.flags|=2,h):u):(i.flags|=2,h)):(i.flags|=1048576,h)}function c(i){return d&&i.alternate===null&&(i.flags|=2),i}function x(i,h,u,f){return h===null||h.tag!==6?(h=qf(u,i.mode,f),h.return=i,h):(h=w(h,u),h.return=i,h)}function t(i,h,u,f){var v=u.type;return v===Es?g(i,h,u.props.children,f,u.key):h!==null&&(h.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===ir&&em(v)===h.type)?(f=w(h,u.props),f.ref=Ra(i,h,u),f.return=i,f):(f=Qh(u.type,u.key,u.props,null,i.mode,f),f.ref=Ra(i,h,u),f.return=i,f)}function a(i,h,u,f){return h===null||h.tag!==4||h.stateNode.containerInfo!==u.containerInfo||h.stateNode.implementation!==u.implementation?(h=_f(u,i.mode,f),h.return=i,h):(h=w(h,u.children||[]),h.return=i,h)}function g(i,h,u,f,v){return h===null||h.tag!==7?(h=Hr(u,i.mode,f,v),h.return=i,h):(h=w(h,u),h.return=i,h)}function o(i,h,u){if(typeof h=="string"&&h!==""||typeof h=="number")return h=qf(""+h,i.mode,u),h.return=i,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case mh:return u=Qh(h.type,h.key,h.props,null,i.mode,u),u.ref=Ra(i,null,h),u.return=i,u;case Cs:return h=_f(h,i.mode,u),h.return=i,h;case ir:var f=h._init;return o(i,f(h._payload),u)}if(Ga(h)||Ea(h))return h=Hr(h,i.mode,u,null),h.return=i,h;Rh(i,h)}return null}function s(i,h,u,f){var v=h!==null?h.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return v!==null?null:x(i,h,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case mh:return u.key===v?t(i,h,u,f):null;case Cs:return u.key===v?a(i,h,u,f):null;case ir:return v=u._init,s(i,h,v(u._payload),f)}if(Ga(u)||Ea(u))return v!==null?null:g(i,h,u,f,null);Rh(i,u)}return null}function r(i,h,u,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return i=i.get(u)||null,x(h,i,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case mh:return i=i.get(f.key===null?u:f.key)||null,t(h,i,f,v);case Cs:return i=i.get(f.key===null?u:f.key)||null,a(h,i,f,v);case ir:var m=f._init;return r(i,h,u,m(f._payload),v)}if(Ga(f)||Ea(f))return i=i.get(u)||null,g(h,i,f,v,null);Rh(h,f)}return null}function e(i,h,u,f){for(var v=null,m=null,T=h,C=h=0,S=null;T!==null&&C<u.length;C++){T.index>C?(S=T,T=null):S=T.sibling;var P=s(i,T,u[C],f);if(P===null){T===null&&(T=S);break}d&&T&&P.alternate===null&&p(i,T),h=R(P,h,C),m===null?v=P:m.sibling=P,m=P,T=S}if(C===u.length)return y(i,T),ce&&Nr(i,C),v;if(T===null){for(;C<u.length;C++)T=o(i,u[C],f),T!==null&&(h=R(T,h,C),m===null?v=T:m.sibling=T,m=T);return ce&&Nr(i,C),v}for(T=E(i,T);C<u.length;C++)S=r(T,i,C,u[C],f),S!==null&&(d&&S.alternate!==null&&T.delete(S.key===null?C:S.key),h=R(S,h,C),m===null?v=S:m.sibling=S,m=S);return d&&T.forEach(function(A){return p(i,A)}),ce&&Nr(i,C),v}function n(i,h,u,f){var v=Ea(u);if(typeof v!="function")throw Error(Tt(150));if(u=v.call(u),u==null)throw Error(Tt(151));for(var m=v=null,T=h,C=h=0,S=null,P=u.next();T!==null&&!P.done;C++,P=u.next()){T.index>C?(S=T,T=null):S=T.sibling;var A=s(i,T,P.value,f);if(A===null){T===null&&(T=S);break}d&&T&&A.alternate===null&&p(i,T),h=R(A,h,C),m===null?v=A:m.sibling=A,m=A,T=S}if(P.done)return y(i,T),ce&&Nr(i,C),v;if(T===null){for(;!P.done;C++,P=u.next())P=o(i,P.value,f),P!==null&&(h=R(P,h,C),m===null?v=P:m.sibling=P,m=P);return ce&&Nr(i,C),v}for(T=E(i,T);!P.done;C++,P=u.next())P=r(T,i,C,P.value,f),P!==null&&(d&&P.alternate!==null&&T.delete(P.key===null?C:P.key),h=R(P,h,C),m===null?v=P:m.sibling=P,m=P);return d&&T.forEach(function(L){return p(i,L)}),ce&&Nr(i,C),v}function l(i,h,u,f){if(typeof u=="object"&&u!==null&&u.type===Es&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case mh:t:{for(var v=u.key,m=h;m!==null;){if(m.key===v){if(v=u.type,v===Es){if(m.tag===7){y(i,m.sibling),h=w(m,u.props.children),h.return=i,i=h;break t}}else if(m.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===ir&&em(v)===m.type){y(i,m.sibling),h=w(m,u.props),h.ref=Ra(i,m,u),h.return=i,i=h;break t}y(i,m);break}else p(i,m);m=m.sibling}u.type===Es?(h=Hr(u.props.children,i.mode,f,u.key),h.return=i,i=h):(f=Qh(u.type,u.key,u.props,null,i.mode,f),f.ref=Ra(i,h,u),f.return=i,i=f)}return c(i);case Cs:t:{for(m=u.key;h!==null;){if(h.key===m)if(h.tag===4&&h.stateNode.containerInfo===u.containerInfo&&h.stateNode.implementation===u.implementation){y(i,h.sibling),h=w(h,u.children||[]),h.return=i,i=h;break t}else{y(i,h);break}else p(i,h);h=h.sibling}h=_f(u,i.mode,f),h.return=i,i=h}return c(i);case ir:return m=u._init,l(i,h,m(u._payload),f)}if(Ga(u))return e(i,h,u,f);if(Ea(u))return n(i,h,u,f);Rh(i,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,h!==null&&h.tag===6?(y(i,h.sibling),h=w(h,u),h.return=i,i=h):(y(i,h),h=qf(u,i.mode,f),h.return=i,i=h),c(i)):y(i,h)}return l}var Qs=x1(!0),T1=x1(!1),Po={},Tn=Er(Po),uo=Er(Po),fo=Er(Po);function Xr(d){if(d===Po)throw Error(Tt(174));return d}function Qc(d,p){switch(ae(fo,p),ae(uo,d),ae(Tn,Po),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Td(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=Td(p,d)}ue(Tn),ae(Tn,p)}function ks(){ue(Tn),ue(uo),ue(fo)}function S1(d){Xr(fo.current);var p=Xr(Tn.current),y=Td(p,d.type);p!==y&&(ae(uo,d),ae(Tn,y))}function kc(d){uo.current===d&&(ue(Tn),ue(uo))}var pe=Er(0);function yl(d){for(var p=d;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Kf=[];function Jc(){for(var d=0;d<Kf.length;d++)Kf[d]._workInProgressVersionPrimary=null;Kf.length=0}var Hh=Hn.ReactCurrentDispatcher,jf=Hn.ReactCurrentBatchConfig,jr=0,me=null,Oe=null,Ge=null,xl=!1,$a=!1,co=0,f4=0;function je(){throw Error(Tt(321))}function qc(d,p){if(p===null)return!1;for(var y=0;y<p.length&&y<d.length;y++)if(!ln(d[y],p[y]))return!1;return!0}function _c(d,p,y,E,w,R){if(jr=R,me=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Hh.current=d===null||d.memoizedState===null?p4:g4,d=y(E,w),$a){R=0;do{if($a=!1,co=0,25<=R)throw Error(Tt(301));R+=1,Ge=Oe=null,p.updateQueue=null,Hh.current=m4,d=y(E,w)}while($a)}if(Hh.current=Tl,p=Oe!==null&&Oe.next!==null,jr=0,Ge=Oe=me=null,xl=!1,p)throw Error(Tt(300));return d}function tv(){var d=co!==0;return co=0,d}function pn(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?me.memoizedState=Ge=d:Ge=Ge.next=d,Ge}function Ki(){if(Oe===null){var d=me.alternate;d=d!==null?d.memoizedState:null}else d=Oe.next;var p=Ge===null?me.memoizedState:Ge.next;if(p!==null)Ge=p,Oe=d;else{if(d===null)throw Error(Tt(310));Oe=d,d={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ge===null?me.memoizedState=Ge=d:Ge=Ge.next=d}return Ge}function vo(d,p){return typeof p=="function"?p(d):p}function Zf(d){var p=Ki(),y=p.queue;if(y===null)throw Error(Tt(311));y.lastRenderedReducer=d;var E=Oe,w=E.baseQueue,R=y.pending;if(R!==null){if(w!==null){var c=w.next;w.next=R.next,R.next=c}E.baseQueue=w=R,y.pending=null}if(w!==null){R=w.next,E=E.baseState;var x=c=null,t=null,a=R;do{var g=a.lane;if((jr&g)===g)t!==null&&(t=t.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),E=a.hasEagerState?a.eagerState:d(E,a.action);else{var o={lane:g,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};t===null?(x=t=o,c=E):t=t.next=o,me.lanes|=g,Zr|=g}a=a.next}while(a!==null&&a!==R);t===null?c=E:t.next=x,ln(E,p.memoizedState)||(li=!0),p.memoizedState=E,p.baseState=c,p.baseQueue=t,y.lastRenderedState=E}if(d=y.interleaved,d!==null){w=d;do R=w.lane,me.lanes|=R,Zr|=R,w=w.next;while(w!==d)}else w===null&&(y.lanes=0);return[p.memoizedState,y.dispatch]}function Qf(d){var p=Ki(),y=p.queue;if(y===null)throw Error(Tt(311));y.lastRenderedReducer=d;var E=y.dispatch,w=y.pending,R=p.memoizedState;if(w!==null){y.pending=null;var c=w=w.next;do R=d(R,c.action),c=c.next;while(c!==w);ln(R,p.memoizedState)||(li=!0),p.memoizedState=R,p.baseQueue===null&&(p.baseState=R),y.lastRenderedState=R}return[R,E]}function C1(){}function E1(d,p){var y=me,E=Ki(),w=p(),R=!ln(E.memoizedState,w);if(R&&(E.memoizedState=w,li=!0),E=E.queue,ev(w1.bind(null,y,E,d),[d]),E.getSnapshot!==p||R||Ge!==null&&Ge.memoizedState.tag&1){if(y.flags|=2048,po(9,A1.bind(null,y,E,w,p),void 0,null),ze===null)throw Error(Tt(349));jr&30||P1(y,p,w)}return w}function P1(d,p,y){d.flags|=16384,d={getSnapshot:p,value:y},p=me.updateQueue,p===null?(p={lastEffect:null,stores:null},me.updateQueue=p,p.stores=[d]):(y=p.stores,y===null?p.stores=[d]:y.push(d))}function A1(d,p,y,E){p.value=y,p.getSnapshot=E,M1(p)&&R1(d)}function w1(d,p,y){return y(function(){M1(p)&&R1(d)})}function M1(d){var p=d.getSnapshot;d=d.value;try{var y=p();return!ln(d,y)}catch{return!0}}function R1(d){var p=Xn(d,1);p!==null&&hn(p,d,1,-1)}function im(d){var p=pn();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:d},p.queue=d,d=d.dispatch=v4.bind(null,me,d),[p.memoizedState,d]}function po(d,p,y,E){return d={tag:d,create:p,destroy:y,deps:E,next:null},p=me.updateQueue,p===null?(p={lastEffect:null,stores:null},me.updateQueue=p,p.lastEffect=d.next=d):(y=p.lastEffect,y===null?p.lastEffect=d.next=d:(E=y.next,y.next=d,d.next=E,p.lastEffect=d)),d}function L1(){return Ki().memoizedState}function $h(d,p,y,E){var w=pn();me.flags|=d,w.memoizedState=po(1|p,y,void 0,E===void 0?null:E)}function bl(d,p,y,E){var w=Ki();E=E===void 0?null:E;var R=void 0;if(Oe!==null){var c=Oe.memoizedState;if(R=c.destroy,E!==null&&qc(E,c.deps)){w.memoizedState=po(p,y,R,E);return}}me.flags|=d,w.memoizedState=po(1|p,y,R,E)}function nm(d,p){return $h(8390656,8,d,p)}function ev(d,p){return bl(2048,8,d,p)}function F1(d,p){return bl(4,2,d,p)}function O1(d,p){return bl(4,4,d,p)}function D1(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function B1(d,p,y){return y=y!=null?y.concat([d]):null,bl(4,4,D1.bind(null,p,d),y)}function iv(){}function I1(d,p){var y=Ki();p=p===void 0?null:p;var E=y.memoizedState;return E!==null&&p!==null&&qc(p,E[1])?E[0]:(y.memoizedState=[d,p],d)}function N1(d,p){var y=Ki();p=p===void 0?null:p;var E=y.memoizedState;return E!==null&&p!==null&&qc(p,E[1])?E[0]:(d=d(),y.memoizedState=[d,p],d)}function G1(d,p,y){return jr&21?(ln(y,p)||(y=Uy(),me.lanes|=y,Zr|=y,d.baseState=!0),p):(d.baseState&&(d.baseState=!1,li=!0),d.memoizedState=y)}function d4(d,p){var y=ee;ee=y!==0&&4>y?y:4,d(!0);var E=jf.transition;jf.transition={};try{d(!1),p()}finally{ee=y,jf.transition=E}}function z1(){return Ki().memoizedState}function c4(d,p,y){var E=vr(d);if(y={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null},b1(d))U1(p,y);else if(y=p1(d,p,y,E),y!==null){var w=ei();hn(y,d,E,w),V1(y,p,E)}}function v4(d,p,y){var E=vr(d),w={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null};if(b1(d))U1(p,w);else{var R=d.alternate;if(d.lanes===0&&(R===null||R.lanes===0)&&(R=p.lastRenderedReducer,R!==null))try{var c=p.lastRenderedState,x=R(c,y);if(w.hasEagerState=!0,w.eagerState=x,ln(x,c)){var t=p.interleaved;t===null?(w.next=w,jc(p)):(w.next=t.next,t.next=w),p.interleaved=w;return}}catch{}finally{}y=p1(d,p,w,E),y!==null&&(w=ei(),hn(y,d,E,w),V1(y,p,E))}}function b1(d){var p=d.alternate;return d===me||p!==null&&p===me}function U1(d,p){$a=xl=!0;var y=d.pending;y===null?p.next=p:(p.next=y.next,y.next=p),d.pending=p}function V1(d,p,y){if(y&4194240){var E=p.lanes;E&=d.pendingLanes,y|=E,p.lanes=y,Bc(d,y)}}var Tl={readContext:$i,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},p4={readContext:$i,useCallback:function(d,p){return pn().memoizedState=[d,p===void 0?null:p],d},useContext:$i,useEffect:nm,useImperativeHandle:function(d,p,y){return y=y!=null?y.concat([d]):null,$h(4194308,4,D1.bind(null,p,d),y)},useLayoutEffect:function(d,p){return $h(4194308,4,d,p)},useInsertionEffect:function(d,p){return $h(4,2,d,p)},useMemo:function(d,p){var y=pn();return p=p===void 0?null:p,d=d(),y.memoizedState=[d,p],d},useReducer:function(d,p,y){var E=pn();return p=y!==void 0?y(p):p,E.memoizedState=E.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},E.queue=d,d=d.dispatch=c4.bind(null,me,d),[E.memoizedState,d]},useRef:function(d){var p=pn();return d={current:d},p.memoizedState=d},useState:im,useDebugValue:iv,useDeferredValue:function(d){return pn().memoizedState=d},useTransition:function(){var d=im(!1),p=d[0];return d=d4.bind(null,d[1]),pn().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,y){var E=me,w=pn();if(ce){if(y===void 0)throw Error(Tt(407));y=y()}else{if(y=p(),ze===null)throw Error(Tt(349));jr&30||P1(E,p,y)}w.memoizedState=y;var R={value:y,getSnapshot:p};return w.queue=R,nm(w1.bind(null,E,R,d),[d]),E.flags|=2048,po(9,A1.bind(null,E,R,y,p),void 0,null),y},useId:function(){var d=pn(),p=ze.identifierPrefix;if(ce){var y=zn,E=Gn;y=(E&~(1<<32-on(E)-1)).toString(32)+y,p=":"+p+"R"+y,y=co++,0<y&&(p+="H"+y.toString(32)),p+=":"}else y=f4++,p=":"+p+"r"+y.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},g4={readContext:$i,useCallback:I1,useContext:$i,useEffect:ev,useImperativeHandle:B1,useInsertionEffect:F1,useLayoutEffect:O1,useMemo:N1,useReducer:Zf,useRef:L1,useState:function(){return Zf(vo)},useDebugValue:iv,useDeferredValue:function(d){var p=Ki();return G1(p,Oe.memoizedState,d)},useTransition:function(){var d=Zf(vo)[0],p=Ki().memoizedState;return[d,p]},useMutableSource:C1,useSyncExternalStore:E1,useId:z1,unstable_isNewReconciler:!1},m4={readContext:$i,useCallback:I1,useContext:$i,useEffect:ev,useImperativeHandle:B1,useInsertionEffect:F1,useLayoutEffect:O1,useMemo:N1,useReducer:Qf,useRef:L1,useState:function(){return Qf(vo)},useDebugValue:iv,useDeferredValue:function(d){var p=Ki();return Oe===null?p.memoizedState=d:G1(p,Oe.memoizedState,d)},useTransition:function(){var d=Qf(vo)[0],p=Ki().memoizedState;return[d,p]},useMutableSource:C1,useSyncExternalStore:E1,useId:z1,unstable_isNewReconciler:!1};function Js(d,p){try{var y="",E=p;do y+=$w(E),E=E.return;while(E);var w=y}catch(R){w=`
Error generating stack: `+R.message+`
`+R.stack}return{value:d,source:p,stack:w,digest:null}}function kf(d,p,y){return{value:d,source:null,stack:y??null,digest:p??null}}function Yd(d,p){try{console.error(p.value)}catch(y){setTimeout(function(){throw y})}}var y4=typeof WeakMap=="function"?WeakMap:Map;function W1(d,p,y){y=Un(-1,y),y.tag=3,y.payload={element:null};var E=p.value;return y.callback=function(){Cl||(Cl=!0,_d=E),Yd(d,p)},y}function X1(d,p,y){y=Un(-1,y),y.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var w=p.value;y.payload=function(){return E(w)},y.callback=function(){Yd(d,p)}}var R=d.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){Yd(d,p),typeof E!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var c=p.stack;this.componentDidCatch(p.value,{componentStack:c!==null?c:""})}),y}function rm(d,p,y){var E=d.pingCache;if(E===null){E=d.pingCache=new y4;var w=new Set;E.set(p,w)}else w=E.get(p),w===void 0&&(w=new Set,E.set(p,w));w.has(y)||(w.add(y),d=D4.bind(null,d,p,y),p.then(d,d))}function sm(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function am(d,p,y,E,w){return d.mode&1?(d.flags|=65536,d.lanes=w,d):(d===p?d.flags|=65536:(d.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(p=Un(-1,1),p.tag=2,dr(y,p,1))),y.lanes|=1),d)}var x4=Hn.ReactCurrentOwner,li=!1;function ti(d,p,y,E){p.child=d===null?T1(p,null,y,E):Qs(p,d.child,y,E)}function om(d,p,y,E,w){y=y.render;var R=p.ref;return Vs(p,w),E=_c(d,p,y,E,R,w),y=tv(),d!==null&&!li?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~w,Yn(d,p,w)):(ce&&y&&Wc(p),p.flags|=1,ti(d,p,E,w),p.child)}function hm(d,p,y,E,w){if(d===null){var R=y.type;return typeof R=="function"&&!uv(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(p.tag=15,p.type=R,Y1(d,p,R,E,w)):(d=Qh(y.type,null,E,p,p.mode,w),d.ref=p.ref,d.return=p,p.child=d)}if(R=d.child,!(d.lanes&w)){var c=R.memoizedProps;if(y=y.compare,y=y!==null?y:ao,y(c,E)&&d.ref===p.ref)return Yn(d,p,w)}return p.flags|=1,d=pr(R,E),d.ref=p.ref,d.return=p,p.child=d}function Y1(d,p,y,E,w){if(d!==null){var R=d.memoizedProps;if(ao(R,E)&&d.ref===p.ref)if(li=!1,p.pendingProps=E=R,(d.lanes&w)!==0)d.flags&131072&&(li=!0);else return p.lanes=d.lanes,Yn(d,p,w)}return Hd(d,p,y,E,w)}function H1(d,p,y){var E=p.pendingProps,w=E.children,R=d!==null?d.memoizedState:null;if(E.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Bs,Ti),Ti|=y;else{if(!(y&1073741824))return d=R!==null?R.baseLanes|y:y,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,ae(Bs,Ti),Ti|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=R!==null?R.baseLanes:y,ae(Bs,Ti),Ti|=E}else R!==null?(E=R.baseLanes|y,p.memoizedState=null):E=y,ae(Bs,Ti),Ti|=E;return ti(d,p,w,y),p.child}function $1(d,p){var y=p.ref;(d===null&&y!==null||d!==null&&d.ref!==y)&&(p.flags|=512,p.flags|=2097152)}function Hd(d,p,y,E,w){var R=fi(y)?$r:ke.current;return R=js(p,R),Vs(p,w),y=_c(d,p,y,E,R,w),E=tv(),d!==null&&!li?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~w,Yn(d,p,w)):(ce&&E&&Wc(p),p.flags|=1,ti(d,p,y,w),p.child)}function lm(d,p,y,E,w){if(fi(y)){var R=!0;dl(p)}else R=!1;if(Vs(p,w),p.stateNode===null)Kh(d,p),y1(p,y,E),Xd(p,y,E,w),E=!0;else if(d===null){var c=p.stateNode,x=p.memoizedProps;c.props=x;var t=c.context,a=y.contextType;typeof a=="object"&&a!==null?a=$i(a):(a=fi(y)?$r:ke.current,a=js(p,a));var g=y.getDerivedStateFromProps,o=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";o||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(x!==E||t!==a)&&tm(p,c,E,a),nr=!1;var s=p.memoizedState;c.state=s,ml(p,E,c,w),t=p.memoizedState,x!==E||s!==t||ui.current||nr?(typeof g=="function"&&(Wd(p,y,g,E),t=p.memoizedState),(x=nr||_g(p,y,x,E,s,t,a))?(o||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(p.flags|=4194308)):(typeof c.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=t),c.props=E,c.state=t,c.context=a,E=x):(typeof c.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{c=p.stateNode,g1(d,p),x=p.memoizedProps,a=p.type===p.elementType?x:nn(p.type,x),c.props=a,o=p.pendingProps,s=c.context,t=y.contextType,typeof t=="object"&&t!==null?t=$i(t):(t=fi(y)?$r:ke.current,t=js(p,t));var r=y.getDerivedStateFromProps;(g=typeof r=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(x!==o||s!==t)&&tm(p,c,E,t),nr=!1,s=p.memoizedState,c.state=s,ml(p,E,c,w);var e=p.memoizedState;x!==o||s!==e||ui.current||nr?(typeof r=="function"&&(Wd(p,y,r,E),e=p.memoizedState),(a=nr||_g(p,y,a,E,s,e,t)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(E,e,t),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(E,e,t)),typeof c.componentDidUpdate=="function"&&(p.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof c.componentDidUpdate!="function"||x===d.memoizedProps&&s===d.memoizedState||(p.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||x===d.memoizedProps&&s===d.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=e),c.props=E,c.state=e,c.context=t,E=a):(typeof c.componentDidUpdate!="function"||x===d.memoizedProps&&s===d.memoizedState||(p.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||x===d.memoizedProps&&s===d.memoizedState||(p.flags|=1024),E=!1)}return $d(d,p,y,E,R,w)}function $d(d,p,y,E,w,R){$1(d,p);var c=(p.flags&128)!==0;if(!E&&!c)return w&&Zg(p,y,!1),Yn(d,p,R);E=p.stateNode,x4.current=p;var x=c&&typeof y.getDerivedStateFromError!="function"?null:E.render();return p.flags|=1,d!==null&&c?(p.child=Qs(p,d.child,null,R),p.child=Qs(p,null,x,R)):ti(d,p,x,R),p.memoizedState=E.state,w&&Zg(p,y,!0),p.child}function K1(d){var p=d.stateNode;p.pendingContext?jg(d,p.pendingContext,p.pendingContext!==p.context):p.context&&jg(d,p.context,!1),Qc(d,p.containerInfo)}function um(d,p,y,E,w){return Zs(),Yc(w),p.flags|=256,ti(d,p,y,E),p.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function jd(d){return{baseLanes:d,cachePool:null,transitions:null}}function j1(d,p,y){var E=p.pendingProps,w=pe.current,R=!1,c=(p.flags&128)!==0,x;if((x=c)||(x=d!==null&&d.memoizedState===null?!1:(w&2)!==0),x?(R=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(w|=1),ae(pe,w&1),d===null)return Ud(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?d.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(c=E.children,d=E.fallback,R?(E=p.mode,R=p.child,c={mode:"hidden",children:c},!(E&1)&&R!==null?(R.childLanes=0,R.pendingProps=c):R=Wl(c,E,0,null),d=Hr(d,E,y,null),R.return=p,d.return=p,R.sibling=d,p.child=R,p.child.memoizedState=jd(y),p.memoizedState=Kd,d):nv(p,c));if(w=d.memoizedState,w!==null&&(x=w.dehydrated,x!==null))return T4(d,p,c,E,x,w,y);if(R){R=E.fallback,c=p.mode,w=d.child,x=w.sibling;var t={mode:"hidden",children:E.children};return!(c&1)&&p.child!==w?(E=p.child,E.childLanes=0,E.pendingProps=t,p.deletions=null):(E=pr(w,t),E.subtreeFlags=w.subtreeFlags&14680064),x!==null?R=pr(x,R):(R=Hr(R,c,y,null),R.flags|=2),R.return=p,E.return=p,E.sibling=R,p.child=E,E=R,R=p.child,c=d.child.memoizedState,c=c===null?jd(y):{baseLanes:c.baseLanes|y,cachePool:null,transitions:c.transitions},R.memoizedState=c,R.childLanes=d.childLanes&~y,p.memoizedState=Kd,E}return R=d.child,d=R.sibling,E=pr(R,{mode:"visible",children:E.children}),!(p.mode&1)&&(E.lanes=y),E.return=p,E.sibling=null,d!==null&&(y=p.deletions,y===null?(p.deletions=[d],p.flags|=16):y.push(d)),p.child=E,p.memoizedState=null,E}function nv(d,p){return p=Wl({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function Lh(d,p,y,E){return E!==null&&Yc(E),Qs(p,d.child,null,y),d=nv(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function T4(d,p,y,E,w,R,c){if(y)return p.flags&256?(p.flags&=-257,E=kf(Error(Tt(422))),Lh(d,p,c,E)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(R=E.fallback,w=p.mode,E=Wl({mode:"visible",children:E.children},w,0,null),R=Hr(R,w,c,null),R.flags|=2,E.return=p,R.return=p,E.sibling=R,p.child=E,p.mode&1&&Qs(p,d.child,null,c),p.child.memoizedState=jd(c),p.memoizedState=Kd,R);if(!(p.mode&1))return Lh(d,p,c,null);if(w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var x=E.dgst;return E=x,R=Error(Tt(419)),E=kf(R,E,void 0),Lh(d,p,c,E)}if(x=(c&d.childLanes)!==0,li||x){if(E=ze,E!==null){switch(c&-c){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(E.suspendedLanes|c)?0:w,w!==0&&w!==R.retryLane&&(R.retryLane=w,Xn(d,w),hn(E,d,w,-1))}return lv(),E=kf(Error(Tt(421))),Lh(d,p,c,E)}return w.data==="$?"?(p.flags|=128,p.child=d.child,p=B4.bind(null,d),w._reactRetry=p,null):(d=R.treeContext,Si=fr(w.nextSibling),Ci=p,ce=!0,sn=null,d!==null&&(bi[Ui++]=Gn,bi[Ui++]=zn,bi[Ui++]=Kr,Gn=d.id,zn=d.overflow,Kr=p),p=nv(p,E.children),p.flags|=4096,p)}function fm(d,p,y){d.lanes|=p;var E=d.alternate;E!==null&&(E.lanes|=p),Vd(d.return,p,y)}function Jf(d,p,y,E,w){var R=d.memoizedState;R===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:w}:(R.isBackwards=p,R.rendering=null,R.renderingStartTime=0,R.last=E,R.tail=y,R.tailMode=w)}function Z1(d,p,y){var E=p.pendingProps,w=E.revealOrder,R=E.tail;if(ti(d,p,E.children,y),E=pe.current,E&2)E=E&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)t:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&fm(d,y,p);else if(d.tag===19)fm(d,y,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break t;for(;d.sibling===null;){if(d.return===null||d.return===p)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(ae(pe,E),!(p.mode&1))p.memoizedState=null;else switch(w){case"forwards":for(y=p.child,w=null;y!==null;)d=y.alternate,d!==null&&yl(d)===null&&(w=y),y=y.sibling;y=w,y===null?(w=p.child,p.child=null):(w=y.sibling,y.sibling=null),Jf(p,!1,w,y,R);break;case"backwards":for(y=null,w=p.child,p.child=null;w!==null;){if(d=w.alternate,d!==null&&yl(d)===null){p.child=w;break}d=w.sibling,w.sibling=y,y=w,w=d}Jf(p,!0,y,null,R);break;case"together":Jf(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Kh(d,p){!(p.mode&1)&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Yn(d,p,y){if(d!==null&&(p.dependencies=d.dependencies),Zr|=p.lanes,!(y&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(Tt(153));if(p.child!==null){for(d=p.child,y=pr(d,d.pendingProps),p.child=y,y.return=p;d.sibling!==null;)d=d.sibling,y=y.sibling=pr(d,d.pendingProps),y.return=p;y.sibling=null}return p.child}function S4(d,p,y){switch(p.tag){case 3:K1(p),Zs();break;case 5:S1(p);break;case 1:fi(p.type)&&dl(p);break;case 4:Qc(p,p.stateNode.containerInfo);break;case 10:var E=p.type._context,w=p.memoizedProps.value;ae(pl,E._currentValue),E._currentValue=w;break;case 13:if(E=p.memoizedState,E!==null)return E.dehydrated!==null?(ae(pe,pe.current&1),p.flags|=128,null):y&p.child.childLanes?j1(d,p,y):(ae(pe,pe.current&1),d=Yn(d,p,y),d!==null?d.sibling:null);ae(pe,pe.current&1);break;case 19:if(E=(y&p.childLanes)!==0,d.flags&128){if(E)return Z1(d,p,y);p.flags|=128}if(w=p.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ae(pe,pe.current),E)break;return null;case 22:case 23:return p.lanes=0,H1(d,p,y)}return Yn(d,p,y)}var Q1,Zd,k1,J1;Q1=function(d,p){for(var y=p.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Zd=function(){};k1=function(d,p,y,E){var w=d.memoizedProps;if(w!==E){d=p.stateNode,Xr(Tn.current);var R=null;switch(y){case"input":w=gd(d,w),E=gd(d,E),R=[];break;case"select":w=ye({},w,{value:void 0}),E=ye({},E,{value:void 0}),R=[];break;case"textarea":w=xd(d,w),E=xd(d,E),R=[];break;default:typeof w.onClick!="function"&&typeof E.onClick=="function"&&(d.onclick=ul)}Sd(y,E);var c;y=null;for(a in w)if(!E.hasOwnProperty(a)&&w.hasOwnProperty(a)&&w[a]!=null)if(a==="style"){var x=w[a];for(c in x)x.hasOwnProperty(c)&&(y||(y={}),y[c]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_a.hasOwnProperty(a)?R||(R=[]):(R=R||[]).push(a,null));for(a in E){var t=E[a];if(x=w!=null?w[a]:void 0,E.hasOwnProperty(a)&&t!==x&&(t!=null||x!=null))if(a==="style")if(x){for(c in x)!x.hasOwnProperty(c)||t&&t.hasOwnProperty(c)||(y||(y={}),y[c]="");for(c in t)t.hasOwnProperty(c)&&x[c]!==t[c]&&(y||(y={}),y[c]=t[c])}else y||(R||(R=[]),R.push(a,y)),y=t;else a==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,x=x?x.__html:void 0,t!=null&&x!==t&&(R=R||[]).push(a,t)):a==="children"?typeof t!="string"&&typeof t!="number"||(R=R||[]).push(a,""+t):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(_a.hasOwnProperty(a)?(t!=null&&a==="onScroll"&&le("scroll",d),R||x===t||(R=[])):(R=R||[]).push(a,t))}y&&(R=R||[]).push("style",y);var a=R;(p.updateQueue=a)&&(p.flags|=4)}};J1=function(d,p,y,E){y!==E&&(p.flags|=4)};function La(d,p){if(!ce)switch(d.tailMode){case"hidden":p=d.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function Ze(d){var p=d.alternate!==null&&d.alternate.child===d.child,y=0,E=0;if(p)for(var w=d.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags&14680064,E|=w.flags&14680064,w.return=d,w=w.sibling;else for(w=d.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags,E|=w.flags,w.return=d,w=w.sibling;return d.subtreeFlags|=E,d.childLanes=y,p}function C4(d,p,y){var E=p.pendingProps;switch(Xc(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(p),null;case 1:return fi(p.type)&&fl(),Ze(p),null;case 3:return E=p.stateNode,ks(),ue(ui),ue(ke),Jc(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(Mh(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,sn!==null&&(ic(sn),sn=null))),Zd(d,p),Ze(p),null;case 5:kc(p);var w=Xr(fo.current);if(y=p.type,d!==null&&p.stateNode!=null)k1(d,p,y,E,w),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!E){if(p.stateNode===null)throw Error(Tt(166));return Ze(p),null}if(d=Xr(Tn.current),Mh(p)){E=p.stateNode,y=p.type;var R=p.memoizedProps;switch(E[mn]=p,E[lo]=R,d=(p.mode&1)!==0,y){case"dialog":le("cancel",E),le("close",E);break;case"iframe":case"object":case"embed":le("load",E);break;case"video":case"audio":for(w=0;w<ba.length;w++)le(ba[w],E);break;case"source":le("error",E);break;case"img":case"image":case"link":le("error",E),le("load",E);break;case"details":le("toggle",E);break;case"input":Tg(E,R),le("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!R.multiple},le("invalid",E);break;case"textarea":Cg(E,R),le("invalid",E)}Sd(y,R),w=null;for(var c in R)if(R.hasOwnProperty(c)){var x=R[c];c==="children"?typeof x=="string"?E.textContent!==x&&(R.suppressHydrationWarning!==!0&&wh(E.textContent,x,d),w=["children",x]):typeof x=="number"&&E.textContent!==""+x&&(R.suppressHydrationWarning!==!0&&wh(E.textContent,x,d),w=["children",""+x]):_a.hasOwnProperty(c)&&x!=null&&c==="onScroll"&&le("scroll",E)}switch(y){case"input":yh(E),Sg(E,R,!0);break;case"textarea":yh(E),Eg(E);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(E.onclick=ul)}E=w,p.updateQueue=E,E!==null&&(p.flags|=4)}else{c=w.nodeType===9?w:w.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Py(y)),d==="http://www.w3.org/1999/xhtml"?y==="script"?(d=c.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof E.is=="string"?d=c.createElement(y,{is:E.is}):(d=c.createElement(y),y==="select"&&(c=d,E.multiple?c.multiple=!0:E.size&&(c.size=E.size))):d=c.createElementNS(d,y),d[mn]=p,d[lo]=E,Q1(d,p,!1,!1),p.stateNode=d;t:{switch(c=Cd(y,E),y){case"dialog":le("cancel",d),le("close",d),w=E;break;case"iframe":case"object":case"embed":le("load",d),w=E;break;case"video":case"audio":for(w=0;w<ba.length;w++)le(ba[w],d);w=E;break;case"source":le("error",d),w=E;break;case"img":case"image":case"link":le("error",d),le("load",d),w=E;break;case"details":le("toggle",d),w=E;break;case"input":Tg(d,E),w=gd(d,E),le("invalid",d);break;case"option":w=E;break;case"select":d._wrapperState={wasMultiple:!!E.multiple},w=ye({},E,{value:void 0}),le("invalid",d);break;case"textarea":Cg(d,E),w=xd(d,E),le("invalid",d);break;default:w=E}Sd(y,w),x=w;for(R in x)if(x.hasOwnProperty(R)){var t=x[R];R==="style"?My(d,t):R==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&Ay(d,t)):R==="children"?typeof t=="string"?(y!=="textarea"||t!=="")&&to(d,t):typeof t=="number"&&to(d,""+t):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(_a.hasOwnProperty(R)?t!=null&&R==="onScroll"&&le("scroll",d):t!=null&&Mc(d,R,t,c))}switch(y){case"input":yh(d),Sg(d,E,!1);break;case"textarea":yh(d),Eg(d);break;case"option":E.value!=null&&d.setAttribute("value",""+yr(E.value));break;case"select":d.multiple=!!E.multiple,R=E.value,R!=null?Gs(d,!!E.multiple,R,!1):E.defaultValue!=null&&Gs(d,!!E.multiple,E.defaultValue,!0);break;default:typeof w.onClick=="function"&&(d.onclick=ul)}switch(y){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break t;case"img":E=!0;break t;default:E=!1}}E&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ze(p),null;case 6:if(d&&p.stateNode!=null)J1(d,p,d.memoizedProps,E);else{if(typeof E!="string"&&p.stateNode===null)throw Error(Tt(166));if(y=Xr(fo.current),Xr(Tn.current),Mh(p)){if(E=p.stateNode,y=p.memoizedProps,E[mn]=p,(R=E.nodeValue!==y)&&(d=Ci,d!==null))switch(d.tag){case 3:wh(E.nodeValue,y,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&wh(E.nodeValue,y,(d.mode&1)!==0)}R&&(p.flags|=4)}else E=(y.nodeType===9?y:y.ownerDocument).createTextNode(E),E[mn]=p,p.stateNode=E}return Ze(p),null;case 13:if(ue(pe),E=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(ce&&Si!==null&&p.mode&1&&!(p.flags&128))v1(),Zs(),p.flags|=98560,R=!1;else if(R=Mh(p),E!==null&&E.dehydrated!==null){if(d===null){if(!R)throw Error(Tt(318));if(R=p.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(Tt(317));R[mn]=p}else Zs(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Ze(p),R=!1}else sn!==null&&(ic(sn),sn=null),R=!0;if(!R)return p.flags&65536?p:null}return p.flags&128?(p.lanes=y,p):(E=E!==null,E!==(d!==null&&d.memoizedState!==null)&&E&&(p.child.flags|=8192,p.mode&1&&(d===null||pe.current&1?De===0&&(De=3):lv())),p.updateQueue!==null&&(p.flags|=4),Ze(p),null);case 4:return ks(),Zd(d,p),d===null&&oo(p.stateNode.containerInfo),Ze(p),null;case 10:return Kc(p.type._context),Ze(p),null;case 17:return fi(p.type)&&fl(),Ze(p),null;case 19:if(ue(pe),R=p.memoizedState,R===null)return Ze(p),null;if(E=(p.flags&128)!==0,c=R.rendering,c===null)if(E)La(R,!1);else{if(De!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(c=yl(d),c!==null){for(p.flags|=128,La(R,!1),E=c.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),p.subtreeFlags=0,E=y,y=p.child;y!==null;)R=y,d=E,R.flags&=14680066,c=R.alternate,c===null?(R.childLanes=0,R.lanes=d,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=c.childLanes,R.lanes=c.lanes,R.child=c.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=c.memoizedProps,R.memoizedState=c.memoizedState,R.updateQueue=c.updateQueue,R.type=c.type,d=c.dependencies,R.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),y=y.sibling;return ae(pe,pe.current&1|2),p.child}d=d.sibling}R.tail!==null&&we()>qs&&(p.flags|=128,E=!0,La(R,!1),p.lanes=4194304)}else{if(!E)if(d=yl(c),d!==null){if(p.flags|=128,E=!0,y=d.updateQueue,y!==null&&(p.updateQueue=y,p.flags|=4),La(R,!0),R.tail===null&&R.tailMode==="hidden"&&!c.alternate&&!ce)return Ze(p),null}else 2*we()-R.renderingStartTime>qs&&y!==1073741824&&(p.flags|=128,E=!0,La(R,!1),p.lanes=4194304);R.isBackwards?(c.sibling=p.child,p.child=c):(y=R.last,y!==null?y.sibling=c:p.child=c,R.last=c)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=we(),p.sibling=null,y=pe.current,ae(pe,E?y&1|2:y&1),p):(Ze(p),null);case 22:case 23:return hv(),E=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(p.flags|=8192),E&&p.mode&1?Ti&1073741824&&(Ze(p),p.subtreeFlags&6&&(p.flags|=8192)):Ze(p),null;case 24:return null;case 25:return null}throw Error(Tt(156,p.tag))}function E4(d,p){switch(Xc(p),p.tag){case 1:return fi(p.type)&&fl(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return ks(),ue(ui),ue(ke),Jc(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return kc(p),null;case 13:if(ue(pe),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(Tt(340));Zs()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return ue(pe),null;case 4:return ks(),null;case 10:return Kc(p.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var Fh=!1,Qe=!1,P4=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Ds(d,p){var y=d.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(E){Ce(d,p,E)}else y.current=null}function Qd(d,p,y){try{y()}catch(E){Ce(d,p,E)}}var dm=!1;function A4(d,p){if(Dd=ol,d=e1(),Vc(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else t:{y=(y=d.ownerDocument)&&y.defaultView||window;var E=y.getSelection&&y.getSelection();if(E&&E.rangeCount!==0){y=E.anchorNode;var w=E.anchorOffset,R=E.focusNode;E=E.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break t}var c=0,x=-1,t=-1,a=0,g=0,o=d,s=null;e:for(;;){for(var r;o!==y||w!==0&&o.nodeType!==3||(x=c+w),o!==R||E!==0&&o.nodeType!==3||(t=c+E),o.nodeType===3&&(c+=o.nodeValue.length),(r=o.firstChild)!==null;)s=o,o=r;for(;;){if(o===d)break e;if(s===y&&++a===w&&(x=c),s===R&&++g===E&&(t=c),(r=o.nextSibling)!==null)break;o=s,s=o.parentNode}o=r}y=x===-1||t===-1?null:{start:x,end:t}}else y=null}y=y||{start:0,end:0}}else y=null;for(Bd={focusedElem:d,selectionRange:y},ol=!1,Lt=p;Lt!==null;)if(p=Lt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Lt=d;else for(;Lt!==null;){p=Lt;try{var e=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(e!==null){var n=e.memoizedProps,l=e.memoizedState,i=p.stateNode,h=i.getSnapshotBeforeUpdate(p.elementType===p.type?n:nn(p.type,n),l);i.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var u=p.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Tt(163))}}catch(f){Ce(p,p.return,f)}if(d=p.sibling,d!==null){d.return=p.return,Lt=d;break}Lt=p.return}return e=dm,dm=!1,e}function Ka(d,p,y){var E=p.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var w=E=E.next;do{if((w.tag&d)===d){var R=w.destroy;w.destroy=void 0,R!==void 0&&Qd(p,y,R)}w=w.next}while(w!==E)}}function Ul(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&d)===d){var E=y.create;y.destroy=E()}y=y.next}while(y!==p)}}function kd(d){var p=d.ref;if(p!==null){var y=d.stateNode;switch(d.tag){case 5:d=y;break;default:d=y}typeof p=="function"?p(d):p.current=d}}function q1(d){var p=d.alternate;p!==null&&(d.alternate=null,q1(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[mn],delete p[lo],delete p[Gd],delete p[o4],delete p[h4])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function _1(d){return d.tag===5||d.tag===3||d.tag===4}function cm(d){t:for(;;){for(;d.sibling===null;){if(d.return===null||_1(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue t;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Jd(d,p,y){var E=d.tag;if(E===5||E===6)d=d.stateNode,p?y.nodeType===8?y.parentNode.insertBefore(d,p):y.insertBefore(d,p):(y.nodeType===8?(p=y.parentNode,p.insertBefore(d,y)):(p=y,p.appendChild(d)),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=ul));else if(E!==4&&(d=d.child,d!==null))for(Jd(d,p,y),d=d.sibling;d!==null;)Jd(d,p,y),d=d.sibling}function qd(d,p,y){var E=d.tag;if(E===5||E===6)d=d.stateNode,p?y.insertBefore(d,p):y.appendChild(d);else if(E!==4&&(d=d.child,d!==null))for(qd(d,p,y),d=d.sibling;d!==null;)qd(d,p,y),d=d.sibling}var We=null,rn=!1;function er(d,p,y){for(y=y.child;y!==null;)tx(d,p,y),y=y.sibling}function tx(d,p,y){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Ol,y)}catch{}switch(y.tag){case 5:Qe||Ds(y,p);case 6:var E=We,w=rn;We=null,er(d,p,y),We=E,rn=w,We!==null&&(rn?(d=We,y=y.stateNode,d.nodeType===8?d.parentNode.removeChild(y):d.removeChild(y)):We.removeChild(y.stateNode));break;case 18:We!==null&&(rn?(d=We,y=y.stateNode,d.nodeType===8?Hf(d.parentNode,y):d.nodeType===1&&Hf(d,y),ro(d)):Hf(We,y.stateNode));break;case 4:E=We,w=rn,We=y.stateNode.containerInfo,rn=!0,er(d,p,y),We=E,rn=w;break;case 0:case 11:case 14:case 15:if(!Qe&&(E=y.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){w=E=E.next;do{var R=w,c=R.destroy;R=R.tag,c!==void 0&&(R&2||R&4)&&Qd(y,p,c),w=w.next}while(w!==E)}er(d,p,y);break;case 1:if(!Qe&&(Ds(y,p),E=y.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=y.memoizedProps,E.state=y.memoizedState,E.componentWillUnmount()}catch(x){Ce(y,p,x)}er(d,p,y);break;case 21:er(d,p,y);break;case 22:y.mode&1?(Qe=(E=Qe)||y.memoizedState!==null,er(d,p,y),Qe=E):er(d,p,y);break;default:er(d,p,y)}}function vm(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var y=d.stateNode;y===null&&(y=d.stateNode=new P4),p.forEach(function(E){var w=I4.bind(null,d,E);y.has(E)||(y.add(E),E.then(w,w))})}}function en(d,p){var y=p.deletions;if(y!==null)for(var E=0;E<y.length;E++){var w=y[E];try{var R=d,c=p,x=c;t:for(;x!==null;){switch(x.tag){case 5:We=x.stateNode,rn=!1;break t;case 3:We=x.stateNode.containerInfo,rn=!0;break t;case 4:We=x.stateNode.containerInfo,rn=!0;break t}x=x.return}if(We===null)throw Error(Tt(160));tx(R,c,w),We=null,rn=!1;var t=w.alternate;t!==null&&(t.return=null),w.return=null}catch(a){Ce(w,p,a)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)ex(p,d),p=p.sibling}function ex(d,p){var y=d.alternate,E=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(en(p,d),vn(d),E&4){try{Ka(3,d,d.return),Ul(3,d)}catch(n){Ce(d,d.return,n)}try{Ka(5,d,d.return)}catch(n){Ce(d,d.return,n)}}break;case 1:en(p,d),vn(d),E&512&&y!==null&&Ds(y,y.return);break;case 5:if(en(p,d),vn(d),E&512&&y!==null&&Ds(y,y.return),d.flags&32){var w=d.stateNode;try{to(w,"")}catch(n){Ce(d,d.return,n)}}if(E&4&&(w=d.stateNode,w!=null)){var R=d.memoizedProps,c=y!==null?y.memoizedProps:R,x=d.type,t=d.updateQueue;if(d.updateQueue=null,t!==null)try{x==="input"&&R.type==="radio"&&R.name!=null&&Cy(w,R),Cd(x,c);var a=Cd(x,R);for(c=0;c<t.length;c+=2){var g=t[c],o=t[c+1];g==="style"?My(w,o):g==="dangerouslySetInnerHTML"?Ay(w,o):g==="children"?to(w,o):Mc(w,g,o,a)}switch(x){case"input":md(w,R);break;case"textarea":Ey(w,R);break;case"select":var s=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!R.multiple;var r=R.value;r!=null?Gs(w,!!R.multiple,r,!1):s!==!!R.multiple&&(R.defaultValue!=null?Gs(w,!!R.multiple,R.defaultValue,!0):Gs(w,!!R.multiple,R.multiple?[]:"",!1))}w[lo]=R}catch(n){Ce(d,d.return,n)}}break;case 6:if(en(p,d),vn(d),E&4){if(d.stateNode===null)throw Error(Tt(162));w=d.stateNode,R=d.memoizedProps;try{w.nodeValue=R}catch(n){Ce(d,d.return,n)}}break;case 3:if(en(p,d),vn(d),E&4&&y!==null&&y.memoizedState.isDehydrated)try{ro(p.containerInfo)}catch(n){Ce(d,d.return,n)}break;case 4:en(p,d),vn(d);break;case 13:en(p,d),vn(d),w=d.child,w.flags&8192&&(R=w.memoizedState!==null,w.stateNode.isHidden=R,!R||w.alternate!==null&&w.alternate.memoizedState!==null||(av=we())),E&4&&vm(d);break;case 22:if(g=y!==null&&y.memoizedState!==null,d.mode&1?(Qe=(a=Qe)||g,en(p,d),Qe=a):en(p,d),vn(d),E&8192){if(a=d.memoizedState!==null,(d.stateNode.isHidden=a)&&!g&&d.mode&1)for(Lt=d,g=d.child;g!==null;){for(o=Lt=g;Lt!==null;){switch(s=Lt,r=s.child,s.tag){case 0:case 11:case 14:case 15:Ka(4,s,s.return);break;case 1:Ds(s,s.return);var e=s.stateNode;if(typeof e.componentWillUnmount=="function"){E=s,y=s.return;try{p=E,e.props=p.memoizedProps,e.state=p.memoizedState,e.componentWillUnmount()}catch(n){Ce(E,y,n)}}break;case 5:Ds(s,s.return);break;case 22:if(s.memoizedState!==null){gm(o);continue}}r!==null?(r.return=s,Lt=r):gm(o)}g=g.sibling}t:for(g=null,o=d;;){if(o.tag===5){if(g===null){g=o;try{w=o.stateNode,a?(R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(x=o.stateNode,t=o.memoizedProps.style,c=t!=null&&t.hasOwnProperty("display")?t.display:null,x.style.display=wy("display",c))}catch(n){Ce(d,d.return,n)}}}else if(o.tag===6){if(g===null)try{o.stateNode.nodeValue=a?"":o.memoizedProps}catch(n){Ce(d,d.return,n)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===d)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break t;for(;o.sibling===null;){if(o.return===null||o.return===d)break t;g===o&&(g=null),o=o.return}g===o&&(g=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:en(p,d),vn(d),E&4&&vm(d);break;case 21:break;default:en(p,d),vn(d)}}function vn(d){var p=d.flags;if(p&2){try{t:{for(var y=d.return;y!==null;){if(_1(y)){var E=y;break t}y=y.return}throw Error(Tt(160))}switch(E.tag){case 5:var w=E.stateNode;E.flags&32&&(to(w,""),E.flags&=-33);var R=cm(d);qd(d,R,w);break;case 3:case 4:var c=E.stateNode.containerInfo,x=cm(d);Jd(d,x,c);break;default:throw Error(Tt(161))}}catch(t){Ce(d,d.return,t)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function w4(d,p,y){Lt=d,ix(d)}function ix(d,p,y){for(var E=(d.mode&1)!==0;Lt!==null;){var w=Lt,R=w.child;if(w.tag===22&&E){var c=w.memoizedState!==null||Fh;if(!c){var x=w.alternate,t=x!==null&&x.memoizedState!==null||Qe;x=Fh;var a=Qe;if(Fh=c,(Qe=t)&&!a)for(Lt=w;Lt!==null;)c=Lt,t=c.child,c.tag===22&&c.memoizedState!==null?mm(w):t!==null?(t.return=c,Lt=t):mm(w);for(;R!==null;)Lt=R,ix(R),R=R.sibling;Lt=w,Fh=x,Qe=a}pm(d)}else w.subtreeFlags&8772&&R!==null?(R.return=w,Lt=R):pm(d)}}function pm(d){for(;Lt!==null;){var p=Lt;if(p.flags&8772){var y=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Qe||Ul(5,p);break;case 1:var E=p.stateNode;if(p.flags&4&&!Qe)if(y===null)E.componentDidMount();else{var w=p.elementType===p.type?y.memoizedProps:nn(p.type,y.memoizedProps);E.componentDidUpdate(w,y.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var R=p.updateQueue;R!==null&&qg(p,R,E);break;case 3:var c=p.updateQueue;if(c!==null){if(y=null,p.child!==null)switch(p.child.tag){case 5:y=p.child.stateNode;break;case 1:y=p.child.stateNode}qg(p,c,y)}break;case 5:var x=p.stateNode;if(y===null&&p.flags&4){y=x;var t=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&y.focus();break;case"img":t.src&&(y.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var a=p.alternate;if(a!==null){var g=a.memoizedState;if(g!==null){var o=g.dehydrated;o!==null&&ro(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Tt(163))}Qe||p.flags&512&&kd(p)}catch(s){Ce(p,p.return,s)}}if(p===d){Lt=null;break}if(y=p.sibling,y!==null){y.return=p.return,Lt=y;break}Lt=p.return}}function gm(d){for(;Lt!==null;){var p=Lt;if(p===d){Lt=null;break}var y=p.sibling;if(y!==null){y.return=p.return,Lt=y;break}Lt=p.return}}function mm(d){for(;Lt!==null;){var p=Lt;try{switch(p.tag){case 0:case 11:case 15:var y=p.return;try{Ul(4,p)}catch(t){Ce(p,y,t)}break;case 1:var E=p.stateNode;if(typeof E.componentDidMount=="function"){var w=p.return;try{E.componentDidMount()}catch(t){Ce(p,w,t)}}var R=p.return;try{kd(p)}catch(t){Ce(p,R,t)}break;case 5:var c=p.return;try{kd(p)}catch(t){Ce(p,c,t)}}}catch(t){Ce(p,p.return,t)}if(p===d){Lt=null;break}var x=p.sibling;if(x!==null){x.return=p.return,Lt=x;break}Lt=p.return}}var M4=Math.ceil,Sl=Hn.ReactCurrentDispatcher,rv=Hn.ReactCurrentOwner,Hi=Hn.ReactCurrentBatchConfig,kt=0,ze=null,Re=null,Xe=0,Ti=0,Bs=Er(0),De=0,go=null,Zr=0,Vl=0,sv=0,ja=null,hi=null,av=0,qs=1/0,In=null,Cl=!1,_d=null,cr=null,Oh=!1,or=null,El=0,Za=0,tc=null,jh=-1,Zh=0;function ei(){return kt&6?we():jh!==-1?jh:jh=we()}function vr(d){return d.mode&1?kt&2&&Xe!==0?Xe&-Xe:u4.transition!==null?(Zh===0&&(Zh=Uy()),Zh):(d=ee,d!==0||(d=window.event,d=d===void 0?16:Ky(d.type)),d):1}function hn(d,p,y,E){if(50<Za)throw Za=0,tc=null,Error(Tt(185));So(d,y,E),(!(kt&2)||d!==ze)&&(d===ze&&(!(kt&2)&&(Vl|=y),De===4&&sr(d,Xe)),di(d,E),y===1&&kt===0&&!(p.mode&1)&&(qs=we()+500,Gl&&Pr()))}function di(d,p){var y=d.callbackNode;uM(d,p);var E=al(d,d===ze?Xe:0);if(E===0)y!==null&&wg(y),d.callbackNode=null,d.callbackPriority=0;else if(p=E&-E,d.callbackPriority!==p){if(y!=null&&wg(y),p===1)d.tag===0?l4(ym.bind(null,d)):f1(ym.bind(null,d)),s4(function(){!(kt&6)&&Pr()}),y=null;else{switch(Vy(E)){case 1:y=Dc;break;case 4:y=zy;break;case 16:y=sl;break;case 536870912:y=by;break;default:y=sl}y=ux(y,nx.bind(null,d))}d.callbackPriority=p,d.callbackNode=y}}function nx(d,p){if(jh=-1,Zh=0,kt&6)throw Error(Tt(327));var y=d.callbackNode;if(Ws()&&d.callbackNode!==y)return null;var E=al(d,d===ze?Xe:0);if(E===0)return null;if(E&30||E&d.expiredLanes||p)p=Pl(d,E);else{p=E;var w=kt;kt|=2;var R=sx();(ze!==d||Xe!==p)&&(In=null,qs=we()+500,Yr(d,p));do try{F4();break}catch(x){rx(d,x)}while(1);$c(),Sl.current=R,kt=w,Re!==null?p=0:(ze=null,Xe=0,p=De)}if(p!==0){if(p===2&&(w=Md(d),w!==0&&(E=w,p=ec(d,w))),p===1)throw y=go,Yr(d,0),sr(d,E),di(d,we()),y;if(p===6)sr(d,E);else{if(w=d.current.alternate,!(E&30)&&!R4(w)&&(p=Pl(d,E),p===2&&(R=Md(d),R!==0&&(E=R,p=ec(d,R))),p===1))throw y=go,Yr(d,0),sr(d,E),di(d,we()),y;switch(d.finishedWork=w,d.finishedLanes=E,p){case 0:case 1:throw Error(Tt(345));case 2:Gr(d,hi,In);break;case 3:if(sr(d,E),(E&130023424)===E&&(p=av+500-we(),10<p)){if(al(d,0)!==0)break;if(w=d.suspendedLanes,(w&E)!==E){ei(),d.pingedLanes|=d.suspendedLanes&w;break}d.timeoutHandle=Nd(Gr.bind(null,d,hi,In),p);break}Gr(d,hi,In);break;case 4:if(sr(d,E),(E&4194240)===E)break;for(p=d.eventTimes,w=-1;0<E;){var c=31-on(E);R=1<<c,c=p[c],c>w&&(w=c),E&=~R}if(E=w,E=we()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*M4(E/1960))-E,10<E){d.timeoutHandle=Nd(Gr.bind(null,d,hi,In),E);break}Gr(d,hi,In);break;case 5:Gr(d,hi,In);break;default:throw Error(Tt(329))}}}return di(d,we()),d.callbackNode===y?nx.bind(null,d):null}function ec(d,p){var y=ja;return d.current.memoizedState.isDehydrated&&(Yr(d,p).flags|=256),d=Pl(d,p),d!==2&&(p=hi,hi=y,p!==null&&ic(p)),d}function ic(d){hi===null?hi=d:hi.push.apply(hi,d)}function R4(d){for(var p=d;;){if(p.flags&16384){var y=p.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var E=0;E<y.length;E++){var w=y[E],R=w.getSnapshot;w=w.value;try{if(!ln(R(),w))return!1}catch{return!1}}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function sr(d,p){for(p&=~sv,p&=~Vl,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var y=31-on(p),E=1<<y;d[y]=-1,p&=~E}}function ym(d){if(kt&6)throw Error(Tt(327));Ws();var p=al(d,0);if(!(p&1))return di(d,we()),null;var y=Pl(d,p);if(d.tag!==0&&y===2){var E=Md(d);E!==0&&(p=E,y=ec(d,E))}if(y===1)throw y=go,Yr(d,0),sr(d,p),di(d,we()),y;if(y===6)throw Error(Tt(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Gr(d,hi,In),di(d,we()),null}function ov(d,p){var y=kt;kt|=1;try{return d(p)}finally{kt=y,kt===0&&(qs=we()+500,Gl&&Pr())}}function Qr(d){or!==null&&or.tag===0&&!(kt&6)&&Ws();var p=kt;kt|=1;var y=Hi.transition,E=ee;try{if(Hi.transition=null,ee=1,d)return d()}finally{ee=E,Hi.transition=y,kt=p,!(kt&6)&&Pr()}}function hv(){Ti=Bs.current,ue(Bs)}function Yr(d,p){d.finishedWork=null,d.finishedLanes=0;var y=d.timeoutHandle;if(y!==-1&&(d.timeoutHandle=-1,r4(y)),Re!==null)for(y=Re.return;y!==null;){var E=y;switch(Xc(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&fl();break;case 3:ks(),ue(ui),ue(ke),Jc();break;case 5:kc(E);break;case 4:ks();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Kc(E.type._context);break;case 22:case 23:hv()}y=y.return}if(ze=d,Re=d=pr(d.current,null),Xe=Ti=p,De=0,go=null,sv=Vl=Zr=0,hi=ja=null,Wr!==null){for(p=0;p<Wr.length;p++)if(y=Wr[p],E=y.interleaved,E!==null){y.interleaved=null;var w=E.next,R=y.pending;if(R!==null){var c=R.next;R.next=w,E.next=c}y.pending=E}Wr=null}return d}function rx(d,p){do{var y=Re;try{if($c(),Hh.current=Tl,xl){for(var E=me.memoizedState;E!==null;){var w=E.queue;w!==null&&(w.pending=null),E=E.next}xl=!1}if(jr=0,Ge=Oe=me=null,$a=!1,co=0,rv.current=null,y===null||y.return===null){De=1,go=p,Re=null;break}t:{var R=d,c=y.return,x=y,t=p;if(p=Xe,x.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var a=t,g=x,o=g.tag;if(!(g.mode&1)&&(o===0||o===11||o===15)){var s=g.alternate;s?(g.updateQueue=s.updateQueue,g.memoizedState=s.memoizedState,g.lanes=s.lanes):(g.updateQueue=null,g.memoizedState=null)}var r=sm(c);if(r!==null){r.flags&=-257,am(r,c,x,R,p),r.mode&1&&rm(R,a,p),p=r,t=a;var e=p.updateQueue;if(e===null){var n=new Set;n.add(t),p.updateQueue=n}else e.add(t);break t}else{if(!(p&1)){rm(R,a,p),lv();break t}t=Error(Tt(426))}}else if(ce&&x.mode&1){var l=sm(c);if(l!==null){!(l.flags&65536)&&(l.flags|=256),am(l,c,x,R,p),Yc(Js(t,x));break t}}R=t=Js(t,x),De!==4&&(De=2),ja===null?ja=[R]:ja.push(R),R=c;do{switch(R.tag){case 3:R.flags|=65536,p&=-p,R.lanes|=p;var i=W1(R,t,p);Jg(R,i);break t;case 1:x=t;var h=R.type,u=R.stateNode;if(!(R.flags&128)&&(typeof h.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u)))){R.flags|=65536,p&=-p,R.lanes|=p;var f=X1(R,x,p);Jg(R,f);break t}}R=R.return}while(R!==null)}ox(y)}catch(v){p=v,Re===y&&y!==null&&(Re=y=y.return);continue}break}while(1)}function sx(){var d=Sl.current;return Sl.current=Tl,d===null?Tl:d}function lv(){(De===0||De===3||De===2)&&(De=4),ze===null||!(Zr&268435455)&&!(Vl&268435455)||sr(ze,Xe)}function Pl(d,p){var y=kt;kt|=2;var E=sx();(ze!==d||Xe!==p)&&(In=null,Yr(d,p));do try{L4();break}catch(w){rx(d,w)}while(1);if($c(),kt=y,Sl.current=E,Re!==null)throw Error(Tt(261));return ze=null,Xe=0,De}function L4(){for(;Re!==null;)ax(Re)}function F4(){for(;Re!==null&&!eM();)ax(Re)}function ax(d){var p=lx(d.alternate,d,Ti);d.memoizedProps=d.pendingProps,p===null?ox(d):Re=p,rv.current=null}function ox(d){var p=d;do{var y=p.alternate;if(d=p.return,p.flags&32768){if(y=E4(y,p),y!==null){y.flags&=32767,Re=y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{De=6,Re=null;return}}else if(y=C4(y,p,Ti),y!==null){Re=y;return}if(p=p.sibling,p!==null){Re=p;return}Re=p=d}while(p!==null);De===0&&(De=5)}function Gr(d,p,y){var E=ee,w=Hi.transition;try{Hi.transition=null,ee=1,O4(d,p,y,E)}finally{Hi.transition=w,ee=E}return null}function O4(d,p,y,E){do Ws();while(or!==null);if(kt&6)throw Error(Tt(327));y=d.finishedWork;var w=d.finishedLanes;if(y===null)return null;if(d.finishedWork=null,d.finishedLanes=0,y===d.current)throw Error(Tt(177));d.callbackNode=null,d.callbackPriority=0;var R=y.lanes|y.childLanes;if(fM(d,R),d===ze&&(Re=ze=null,Xe=0),!(y.subtreeFlags&2064)&&!(y.flags&2064)||Oh||(Oh=!0,ux(sl,function(){return Ws(),null})),R=(y.flags&15990)!==0,y.subtreeFlags&15990||R){R=Hi.transition,Hi.transition=null;var c=ee;ee=1;var x=kt;kt|=4,rv.current=null,A4(d,y),ex(y,d),JM(Bd),ol=!!Dd,Bd=Dd=null,d.current=y,w4(y),iM(),kt=x,ee=c,Hi.transition=R}else d.current=y;if(Oh&&(Oh=!1,or=d,El=w),R=d.pendingLanes,R===0&&(cr=null),sM(y.stateNode),di(d,we()),p!==null)for(E=d.onRecoverableError,y=0;y<p.length;y++)w=p[y],E(w.value,{componentStack:w.stack,digest:w.digest});if(Cl)throw Cl=!1,d=_d,_d=null,d;return El&1&&d.tag!==0&&Ws(),R=d.pendingLanes,R&1?d===tc?Za++:(Za=0,tc=d):Za=0,Pr(),null}function Ws(){if(or!==null){var d=Vy(El),p=Hi.transition,y=ee;try{if(Hi.transition=null,ee=16>d?16:d,or===null)var E=!1;else{if(d=or,or=null,El=0,kt&6)throw Error(Tt(331));var w=kt;for(kt|=4,Lt=d.current;Lt!==null;){var R=Lt,c=R.child;if(Lt.flags&16){var x=R.deletions;if(x!==null){for(var t=0;t<x.length;t++){var a=x[t];for(Lt=a;Lt!==null;){var g=Lt;switch(g.tag){case 0:case 11:case 15:Ka(8,g,R)}var o=g.child;if(o!==null)o.return=g,Lt=o;else for(;Lt!==null;){g=Lt;var s=g.sibling,r=g.return;if(q1(g),g===a){Lt=null;break}if(s!==null){s.return=r,Lt=s;break}Lt=r}}}var e=R.alternate;if(e!==null){var n=e.child;if(n!==null){e.child=null;do{var l=n.sibling;n.sibling=null,n=l}while(n!==null)}}Lt=R}}if(R.subtreeFlags&2064&&c!==null)c.return=R,Lt=c;else t:for(;Lt!==null;){if(R=Lt,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Ka(9,R,R.return)}var i=R.sibling;if(i!==null){i.return=R.return,Lt=i;break t}Lt=R.return}}var h=d.current;for(Lt=h;Lt!==null;){c=Lt;var u=c.child;if(c.subtreeFlags&2064&&u!==null)u.return=c,Lt=u;else t:for(c=h;Lt!==null;){if(x=Lt,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Ul(9,x)}}catch(v){Ce(x,x.return,v)}if(x===c){Lt=null;break t}var f=x.sibling;if(f!==null){f.return=x.return,Lt=f;break t}Lt=x.return}}if(kt=w,Pr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Ol,d)}catch{}E=!0}return E}finally{ee=y,Hi.transition=p}}return!1}function xm(d,p,y){p=Js(y,p),p=W1(d,p,1),d=dr(d,p,1),p=ei(),d!==null&&(So(d,1,p),di(d,p))}function Ce(d,p,y){if(d.tag===3)xm(d,d,y);else for(;p!==null;){if(p.tag===3){xm(p,d,y);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(cr===null||!cr.has(E))){d=Js(y,d),d=X1(p,d,1),p=dr(p,d,1),d=ei(),p!==null&&(So(p,1,d),di(p,d));break}}p=p.return}}function D4(d,p,y){var E=d.pingCache;E!==null&&E.delete(p),p=ei(),d.pingedLanes|=d.suspendedLanes&y,ze===d&&(Xe&y)===y&&(De===4||De===3&&(Xe&130023424)===Xe&&500>we()-av?Yr(d,0):sv|=y),di(d,p)}function hx(d,p){p===0&&(d.mode&1?(p=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):p=1);var y=ei();d=Xn(d,p),d!==null&&(So(d,p,y),di(d,y))}function B4(d){var p=d.memoizedState,y=0;p!==null&&(y=p.retryLane),hx(d,y)}function I4(d,p){var y=0;switch(d.tag){case 13:var E=d.stateNode,w=d.memoizedState;w!==null&&(y=w.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(Tt(314))}E!==null&&E.delete(p),hx(d,y)}var lx;lx=function(d,p,y){if(d!==null)if(d.memoizedProps!==p.pendingProps||ui.current)li=!0;else{if(!(d.lanes&y)&&!(p.flags&128))return li=!1,S4(d,p,y);li=!!(d.flags&131072)}else li=!1,ce&&p.flags&1048576&&d1(p,vl,p.index);switch(p.lanes=0,p.tag){case 2:var E=p.type;Kh(d,p),d=p.pendingProps;var w=js(p,ke.current);Vs(p,y),w=_c(null,p,E,d,w,y);var R=tv();return p.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,fi(E)?(R=!0,dl(p)):R=!1,p.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Zc(p),w.updater=zl,p.stateNode=w,w._reactInternals=p,Xd(p,E,d,y),p=$d(null,p,E,!0,R,y)):(p.tag=0,ce&&R&&Wc(p),ti(null,p,w,y),p=p.child),p;case 16:E=p.elementType;t:{switch(Kh(d,p),d=p.pendingProps,w=E._init,E=w(E._payload),p.type=E,w=p.tag=G4(E),d=nn(E,d),w){case 0:p=Hd(null,p,E,d,y);break t;case 1:p=lm(null,p,E,d,y);break t;case 11:p=om(null,p,E,d,y);break t;case 14:p=hm(null,p,E,nn(E.type,d),y);break t}throw Error(Tt(306,E,""))}return p;case 0:return E=p.type,w=p.pendingProps,w=p.elementType===E?w:nn(E,w),Hd(d,p,E,w,y);case 1:return E=p.type,w=p.pendingProps,w=p.elementType===E?w:nn(E,w),lm(d,p,E,w,y);case 3:t:{if(K1(p),d===null)throw Error(Tt(387));E=p.pendingProps,R=p.memoizedState,w=R.element,g1(d,p),ml(p,E,null,y);var c=p.memoizedState;if(E=c.element,R.isDehydrated)if(R={element:E,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},p.updateQueue.baseState=R,p.memoizedState=R,p.flags&256){w=Js(Error(Tt(423)),p),p=um(d,p,E,y,w);break t}else if(E!==w){w=Js(Error(Tt(424)),p),p=um(d,p,E,y,w);break t}else for(Si=fr(p.stateNode.containerInfo.firstChild),Ci=p,ce=!0,sn=null,y=T1(p,null,E,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Zs(),E===w){p=Yn(d,p,y);break t}ti(d,p,E,y)}p=p.child}return p;case 5:return S1(p),d===null&&Ud(p),E=p.type,w=p.pendingProps,R=d!==null?d.memoizedProps:null,c=w.children,Id(E,w)?c=null:R!==null&&Id(E,R)&&(p.flags|=32),$1(d,p),ti(d,p,c,y),p.child;case 6:return d===null&&Ud(p),null;case 13:return j1(d,p,y);case 4:return Qc(p,p.stateNode.containerInfo),E=p.pendingProps,d===null?p.child=Qs(p,null,E,y):ti(d,p,E,y),p.child;case 11:return E=p.type,w=p.pendingProps,w=p.elementType===E?w:nn(E,w),om(d,p,E,w,y);case 7:return ti(d,p,p.pendingProps,y),p.child;case 8:return ti(d,p,p.pendingProps.children,y),p.child;case 12:return ti(d,p,p.pendingProps.children,y),p.child;case 10:t:{if(E=p.type._context,w=p.pendingProps,R=p.memoizedProps,c=w.value,ae(pl,E._currentValue),E._currentValue=c,R!==null)if(ln(R.value,c)){if(R.children===w.children&&!ui.current){p=Yn(d,p,y);break t}}else for(R=p.child,R!==null&&(R.return=p);R!==null;){var x=R.dependencies;if(x!==null){c=R.child;for(var t=x.firstContext;t!==null;){if(t.context===E){if(R.tag===1){t=Un(-1,y&-y),t.tag=2;var a=R.updateQueue;if(a!==null){a=a.shared;var g=a.pending;g===null?t.next=t:(t.next=g.next,g.next=t),a.pending=t}}R.lanes|=y,t=R.alternate,t!==null&&(t.lanes|=y),Vd(R.return,y,p),x.lanes|=y;break}t=t.next}}else if(R.tag===10)c=R.type===p.type?null:R.child;else if(R.tag===18){if(c=R.return,c===null)throw Error(Tt(341));c.lanes|=y,x=c.alternate,x!==null&&(x.lanes|=y),Vd(c,y,p),c=R.sibling}else c=R.child;if(c!==null)c.return=R;else for(c=R;c!==null;){if(c===p){c=null;break}if(R=c.sibling,R!==null){R.return=c.return,c=R;break}c=c.return}R=c}ti(d,p,w.children,y),p=p.child}return p;case 9:return w=p.type,E=p.pendingProps.children,Vs(p,y),w=$i(w),E=E(w),p.flags|=1,ti(d,p,E,y),p.child;case 14:return E=p.type,w=nn(E,p.pendingProps),w=nn(E.type,w),hm(d,p,E,w,y);case 15:return Y1(d,p,p.type,p.pendingProps,y);case 17:return E=p.type,w=p.pendingProps,w=p.elementType===E?w:nn(E,w),Kh(d,p),p.tag=1,fi(E)?(d=!0,dl(p)):d=!1,Vs(p,y),y1(p,E,w),Xd(p,E,w,y),$d(null,p,E,!0,d,y);case 19:return Z1(d,p,y);case 22:return H1(d,p,y)}throw Error(Tt(156,p.tag))};function ux(d,p){return Gy(d,p)}function N4(d,p,y,E){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(d,p,y,E){return new N4(d,p,y,E)}function uv(d){return d=d.prototype,!(!d||!d.isReactComponent)}function G4(d){if(typeof d=="function")return uv(d)?1:0;if(d!=null){if(d=d.$$typeof,d===Lc)return 11;if(d===Fc)return 14}return 2}function pr(d,p){var y=d.alternate;return y===null?(y=Xi(d.tag,p,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=p,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&14680064,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,p=d.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y}function Qh(d,p,y,E,w,R){var c=2;if(E=d,typeof d=="function")uv(d)&&(c=1);else if(typeof d=="string")c=5;else t:switch(d){case Es:return Hr(y.children,w,R,p);case Rc:c=8,w|=8;break;case dd:return d=Xi(12,y,p,w|2),d.elementType=dd,d.lanes=R,d;case cd:return d=Xi(13,y,p,w),d.elementType=cd,d.lanes=R,d;case vd:return d=Xi(19,y,p,w),d.elementType=vd,d.lanes=R,d;case xy:return Wl(y,w,R,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case my:c=10;break t;case yy:c=9;break t;case Lc:c=11;break t;case Fc:c=14;break t;case ir:c=16,E=null;break t}throw Error(Tt(130,d==null?d:typeof d,""))}return p=Xi(c,y,p,w),p.elementType=d,p.type=E,p.lanes=R,p}function Hr(d,p,y,E){return d=Xi(7,d,E,p),d.lanes=y,d}function Wl(d,p,y,E){return d=Xi(22,d,E,p),d.elementType=xy,d.lanes=y,d.stateNode={isHidden:!1},d}function qf(d,p,y){return d=Xi(6,d,null,p),d.lanes=y,d}function _f(d,p,y){return p=Xi(4,d.children!==null?d.children:[],d.key,p),p.lanes=y,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function z4(d,p,y,E,w){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=E,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function fv(d,p,y,E,w,R,c,x,t){return d=new z4(d,p,y,x,t),p===1?(p=1,R===!0&&(p|=8)):p=0,R=Xi(3,null,null,p),d.current=R,R.stateNode=d,R.memoizedState={element:E,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(R),d}function b4(d,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:E==null?null:""+E,children:d,containerInfo:p,implementation:y}}function fx(d){if(!d)return xr;d=d._reactInternals;t:{if(_r(d)!==d||d.tag!==1)throw Error(Tt(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break t;case 1:if(fi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break t}}p=p.return}while(p!==null);throw Error(Tt(171))}if(d.tag===1){var y=d.type;if(fi(y))return u1(d,y,p)}return p}function dx(d,p,y,E,w,R,c,x,t){return d=fv(y,E,!0,d,w,R,c,x,t),d.context=fx(null),y=d.current,E=ei(),w=vr(y),R=Un(E,w),R.callback=p??null,dr(y,R,w),d.current.lanes=w,So(d,w,E),di(d,E),d}function Xl(d,p,y,E){var w=p.current,R=ei(),c=vr(w);return y=fx(y),p.context===null?p.context=y:p.pendingContext=y,p=Un(R,c),p.payload={element:d},E=E===void 0?null:E,E!==null&&(p.callback=E),d=dr(w,p,c),d!==null&&(hn(d,w,c,R),Yh(d,w,c)),c}function Al(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function Tm(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<p?y:p}}function dv(d,p){Tm(d,p),(d=d.alternate)&&Tm(d,p)}function U4(){return null}var cx=typeof reportError=="function"?reportError:function(d){console.error(d)};function cv(d){this._internalRoot=d}Yl.prototype.render=cv.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(Tt(409));Xl(d,p,null,null)};Yl.prototype.unmount=cv.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;Qr(function(){Xl(null,d,null,null)}),p[Wn]=null}};function Yl(d){this._internalRoot=d}Yl.prototype.unstable_scheduleHydration=function(d){if(d){var p=Yy();d={blockedOn:null,target:d,priority:p};for(var y=0;y<rr.length&&p!==0&&p<rr[y].priority;y++);rr.splice(y,0,d),y===0&&$y(d)}};function vv(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Hl(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function V4(d,p,y,E,w){if(w){if(typeof E=="function"){var R=E;E=function(){var a=Al(c);R.call(a)}}var c=dx(p,E,d,0,null,!1,!1,"",Sm);return d._reactRootContainer=c,d[Wn]=c.current,oo(d.nodeType===8?d.parentNode:d),Qr(),c}for(;w=d.lastChild;)d.removeChild(w);if(typeof E=="function"){var x=E;E=function(){var a=Al(t);x.call(a)}}var t=fv(d,0,!1,null,null,!1,!1,"",Sm);return d._reactRootContainer=t,d[Wn]=t.current,oo(d.nodeType===8?d.parentNode:d),Qr(function(){Xl(p,t,y,E)}),t}function $l(d,p,y,E,w){var R=y._reactRootContainer;if(R){var c=R;if(typeof w=="function"){var x=w;w=function(){var t=Al(c);x.call(t)}}Xl(p,c,d,w)}else c=V4(y,p,d,w,E);return Al(c)}Wy=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var y=za(p.pendingLanes);y!==0&&(Bc(p,y|1),di(p,we()),!(kt&6)&&(qs=we()+500,Pr()))}break;case 13:Qr(function(){var E=Xn(d,1);if(E!==null){var w=ei();hn(E,d,1,w)}}),dv(d,1)}};Ic=function(d){if(d.tag===13){var p=Xn(d,134217728);if(p!==null){var y=ei();hn(p,d,134217728,y)}dv(d,134217728)}};Xy=function(d){if(d.tag===13){var p=vr(d),y=Xn(d,p);if(y!==null){var E=ei();hn(y,d,p,E)}dv(d,p)}};Yy=function(){return ee};Hy=function(d,p){var y=ee;try{return ee=d,p()}finally{ee=y}};Pd=function(d,p,y){switch(p){case"input":if(md(d,y),p=y.name,y.type==="radio"&&p!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<y.length;p++){var E=y[p];if(E!==d&&E.form===d.form){var w=Nl(E);if(!w)throw Error(Tt(90));Sy(E),md(E,w)}}}break;case"textarea":Ey(d,y);break;case"select":p=y.value,p!=null&&Gs(d,!!y.multiple,p,!1)}};Fy=ov;Oy=Qr;var W4={usingClientEntryPoint:!1,Events:[Eo,Ms,Nl,Ry,Ly,ov]},Fa={findFiberByHostInstance:Vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},X4={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Iy(d),d===null?null:d.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||U4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Ol=Dh.inject(X4),xn=Dh}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;Ai.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(p))throw Error(Tt(200));return b4(d,p,null,y)};Ai.createRoot=function(d,p){if(!vv(d))throw Error(Tt(299));var y=!1,E="",w=cx;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(w=p.onRecoverableError)),p=fv(d,1,!1,null,null,y,!1,E,w),d[Wn]=p.current,oo(d.nodeType===8?d.parentNode:d),new cv(p)};Ai.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(Tt(188)):(d=Object.keys(d).join(","),Error(Tt(268,d)));return d=Iy(p),d=d===null?null:d.stateNode,d};Ai.flushSync=function(d){return Qr(d)};Ai.hydrate=function(d,p,y){if(!Hl(p))throw Error(Tt(200));return $l(null,d,p,!0,y)};Ai.hydrateRoot=function(d,p,y){if(!vv(d))throw Error(Tt(405));var E=y!=null&&y.hydratedSources||null,w=!1,R="",c=cx;if(y!=null&&(y.unstable_strictMode===!0&&(w=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(c=y.onRecoverableError)),p=dx(p,null,d,1,y??null,w,!1,R,c),d[Wn]=p.current,oo(d),E)for(d=0;d<E.length;d++)y=E[d],w=y._getVersion,w=w(y._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[y,w]:p.mutableSourceEagerHydrationData.push(y,w);return new Yl(p)};Ai.render=function(d,p,y){if(!Hl(p))throw Error(Tt(200));return $l(null,d,p,!1,y)};Ai.unmountComponentAtNode=function(d){if(!Hl(d))throw Error(Tt(40));return d._reactRootContainer?(Qr(function(){$l(null,null,d,!1,function(){d._reactRootContainer=null,d[Wn]=null})}),!0):!1};Ai.unstable_batchedUpdates=ov;Ai.unstable_renderSubtreeIntoContainer=function(d,p,y,E){if(!Hl(y))throw Error(Tt(200));if(d==null||d._reactInternals===void 0)throw Error(Tt(38));return $l(d,p,y,!1,E)};Ai.version="18.2.0-next-9e3b772b8-20220608";function vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vx)}catch(d){console.error(d)}}vx(),dy.exports=Ai;var Y4=dy.exports,px,Cm=Y4;px=Cm.createRoot,Cm.hydrateRoot;var H4=typeof Element<"u",$4=typeof Map=="function",K4=typeof Set=="function",j4=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function kh(d,p){if(d===p)return!0;if(d&&p&&typeof d=="object"&&typeof p=="object"){if(d.constructor!==p.constructor)return!1;var y,E,w;if(Array.isArray(d)){if(y=d.length,y!=p.length)return!1;for(E=y;E--!==0;)if(!kh(d[E],p[E]))return!1;return!0}var R;if($4&&d instanceof Map&&p instanceof Map){if(d.size!==p.size)return!1;for(R=d.entries();!(E=R.next()).done;)if(!p.has(E.value[0]))return!1;for(R=d.entries();!(E=R.next()).done;)if(!kh(E.value[1],p.get(E.value[0])))return!1;return!0}if(K4&&d instanceof Set&&p instanceof Set){if(d.size!==p.size)return!1;for(R=d.entries();!(E=R.next()).done;)if(!p.has(E.value[0]))return!1;return!0}if(j4&&ArrayBuffer.isView(d)&&ArrayBuffer.isView(p)){if(y=d.length,y!=p.length)return!1;for(E=y;E--!==0;)if(d[E]!==p[E])return!1;return!0}if(d.constructor===RegExp)return d.source===p.source&&d.flags===p.flags;if(d.valueOf!==Object.prototype.valueOf&&typeof d.valueOf=="function"&&typeof p.valueOf=="function")return d.valueOf()===p.valueOf();if(d.toString!==Object.prototype.toString&&typeof d.toString=="function"&&typeof p.toString=="function")return d.toString()===p.toString();if(w=Object.keys(d),y=w.length,y!==Object.keys(p).length)return!1;for(E=y;E--!==0;)if(!Object.prototype.hasOwnProperty.call(p,w[E]))return!1;if(H4&&d instanceof Element)return!1;for(E=y;E--!==0;)if(!((w[E]==="_owner"||w[E]==="__v"||w[E]==="__o")&&d.$$typeof)&&!kh(d[w[E]],p[w[E]]))return!1;return!0}return d!==d&&p!==p}var Z4=function(p,y){try{return kh(p,y)}catch(E){if((E.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw E}};const Q4=na(Z4);var k4=function(d,p,y,E,w,R,c,x){if(!d){var t;if(p===void 0)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[y,E,w,R,c,x],g=0;t=new Error(p.replace(/%s/g,function(){return a[g++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}},J4=k4;const Em=na(J4);var q4=function(p,y,E,w){var R=E?E.call(w,p,y):void 0;if(R!==void 0)return!!R;if(p===y)return!0;if(typeof p!="object"||!p||typeof y!="object"||!y)return!1;var c=Object.keys(p),x=Object.keys(y);if(c.length!==x.length)return!1;for(var t=Object.prototype.hasOwnProperty.bind(y),a=0;a<c.length;a++){var g=c[a];if(!t(g))return!1;var o=p[g],s=y[g];if(R=E?E.call(w,o,s,g):void 0,R===!1||R===void 0&&o!==s)return!1}return!0};const _4=na(q4);var gx=(d=>(d.BASE="base",d.BODY="body",d.HEAD="head",d.HTML="html",d.LINK="link",d.META="meta",d.NOSCRIPT="noscript",d.SCRIPT="script",d.STYLE="style",d.TITLE="title",d.FRAGMENT="Symbol(react.fragment)",d))(gx||{}),td={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Pm=Object.values(gx),pv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},t5=Object.entries(pv).reduce((d,[p,y])=>(d[y]=p,d),{}),an="data-rh",Xs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ys=(d,p)=>{for(let y=d.length-1;y>=0;y-=1){const E=d[y];if(Object.prototype.hasOwnProperty.call(E,p))return E[p]}return null},e5=d=>{let p=Ys(d,"title");const y=Ys(d,Xs.TITLE_TEMPLATE);if(Array.isArray(p)&&(p=p.join("")),y&&p)return y.replace(/%s/g,()=>p);const E=Ys(d,Xs.DEFAULT_TITLE);return p||E||void 0},i5=d=>Ys(d,Xs.ON_CHANGE_CLIENT_STATE)||(()=>{}),ed=(d,p)=>p.filter(y=>typeof y[d]<"u").map(y=>y[d]).reduce((y,E)=>({...y,...E}),{}),n5=(d,p)=>p.filter(y=>typeof y.base<"u").map(y=>y.base).reverse().reduce((y,E)=>{if(!y.length){const w=Object.keys(E);for(let R=0;R<w.length;R+=1){const x=w[R].toLowerCase();if(d.indexOf(x)!==-1&&E[x])return y.concat(E)}}return y},[]),r5=d=>console&&typeof console.warn=="function"&&console.warn(d),Oa=(d,p,y)=>{const E={};return y.filter(w=>Array.isArray(w[d])?!0:(typeof w[d]<"u"&&r5(`Helmet: ${d} should be of type "Array". Instead found type "${typeof w[d]}"`),!1)).map(w=>w[d]).reverse().reduce((w,R)=>{const c={};R.filter(t=>{let a;const g=Object.keys(t);for(let s=0;s<g.length;s+=1){const r=g[s],e=r.toLowerCase();p.indexOf(e)!==-1&&!(a==="rel"&&t[a].toLowerCase()==="canonical")&&!(e==="rel"&&t[e].toLowerCase()==="stylesheet")&&(a=e),p.indexOf(r)!==-1&&(r==="innerHTML"||r==="cssText"||r==="itemprop")&&(a=r)}if(!a||!t[a])return!1;const o=t[a].toLowerCase();return E[a]||(E[a]={}),c[a]||(c[a]={}),E[a][o]?!1:(c[a][o]=!0,!0)}).reverse().forEach(t=>w.push(t));const x=Object.keys(c);for(let t=0;t<x.length;t+=1){const a=x[t],g={...E[a],...c[a]};E[a]=g}return w},[]).reverse()},s5=(d,p)=>{if(Array.isArray(d)&&d.length){for(let y=0;y<d.length;y+=1)if(d[y][p])return!0}return!1},a5=d=>({baseTag:n5(["href"],d),bodyAttributes:ed("bodyAttributes",d),defer:Ys(d,Xs.DEFER),encode:Ys(d,Xs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ed("htmlAttributes",d),linkTags:Oa("link",["rel","href"],d),metaTags:Oa("meta",["name","charset","http-equiv","property","itemprop"],d),noscriptTags:Oa("noscript",["innerHTML"],d),onChangeClientState:i5(d),scriptTags:Oa("script",["src","innerHTML"],d),styleTags:Oa("style",["cssText"],d),title:e5(d),titleAttributes:ed("titleAttributes",d),prioritizeSeoTags:s5(d,Xs.PRIORITIZE_SEO_TAGS)}),mx=d=>Array.isArray(d)?d.join(""):d,o5=(d,p)=>{const y=Object.keys(d);for(let E=0;E<y.length;E+=1)if(p[y[E]]&&p[y[E]].includes(d[y[E]]))return!0;return!1},id=(d,p)=>Array.isArray(d)?d.reduce((y,E)=>(o5(E,p)?y.priority.push(E):y.default.push(E),y),{priority:[],default:[]}):{default:d,priority:[]},Am=(d,p)=>({...d,[p]:void 0}),h5=["noscript","script","style"],nc=(d,p=!0)=>p===!1?String(d):String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),yx=d=>Object.keys(d).reduce((p,y)=>{const E=typeof d[y]<"u"?`${y}="${d[y]}"`:`${y}`;return p?`${p} ${E}`:E},""),l5=(d,p,y,E)=>{const w=yx(y),R=mx(p);return w?`<${d} ${an}="true" ${w}>${nc(R,E)}</${d}>`:`<${d} ${an}="true">${nc(R,E)}</${d}>`},u5=(d,p,y=!0)=>p.reduce((E,w)=>{const R=w,c=Object.keys(R).filter(a=>!(a==="innerHTML"||a==="cssText")).reduce((a,g)=>{const o=typeof R[g]>"u"?g:`${g}="${nc(R[g],y)}"`;return a?`${a} ${o}`:o},""),x=R.innerHTML||R.cssText||"",t=h5.indexOf(d)===-1;return`${E}<${d} ${an}="true" ${c}${t?"/>":`>${x}</${d}>`}`},""),xx=(d,p={})=>Object.keys(d).reduce((y,E)=>{const w=pv[E];return y[w||E]=d[E],y},p),f5=(d,p,y)=>{const E={key:p,[an]:!0},w=xx(y,E);return[Wi.createElement("title",w,p)]},Jh=(d,p)=>p.map((y,E)=>{const w={key:E,[an]:!0};return Object.keys(y).forEach(R=>{const x=pv[R]||R;if(x==="innerHTML"||x==="cssText"){const t=y.innerHTML||y.cssText;w.dangerouslySetInnerHTML={__html:t}}else w[x]=y[R]}),Wi.createElement(d,w)}),zi=(d,p,y=!0)=>{switch(d){case"title":return{toComponent:()=>f5(d,p.title,p.titleAttributes),toString:()=>l5(d,p.title,p.titleAttributes,y)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>xx(p),toString:()=>yx(p)};default:return{toComponent:()=>Jh(d,p),toString:()=>u5(d,p,y)}}},d5=({metaTags:d,linkTags:p,scriptTags:y,encode:E})=>{const w=id(d,td.meta),R=id(p,td.link),c=id(y,td.script);return{priorityMethods:{toComponent:()=>[...Jh("meta",w.priority),...Jh("link",R.priority),...Jh("script",c.priority)],toString:()=>`${zi("meta",w.priority,E)} ${zi("link",R.priority,E)} ${zi("script",c.priority,E)}`},metaTags:w.default,linkTags:R.default,scriptTags:c.default}},c5=d=>{const{baseTag:p,bodyAttributes:y,encode:E=!0,htmlAttributes:w,noscriptTags:R,styleTags:c,title:x="",titleAttributes:t,prioritizeSeoTags:a}=d;let{linkTags:g,metaTags:o,scriptTags:s}=d,r={toComponent:()=>{},toString:()=>""};return a&&({priorityMethods:r,linkTags:g,metaTags:o,scriptTags:s}=d5(d)),{priority:r,base:zi("base",p,E),bodyAttributes:zi("bodyAttributes",y,E),htmlAttributes:zi("htmlAttributes",w,E),link:zi("link",g,E),meta:zi("meta",o,E),noscript:zi("noscript",R,E),script:zi("script",s,E),style:zi("style",c,E),title:zi("title",{title:x,titleAttributes:t},E)}},rc=c5,Bh=[],Tx=!!(typeof window<"u"&&window.document&&window.document.createElement),sc=class{constructor(d,p){Bn(this,"instances",[]);Bn(this,"canUseDOM",Tx);Bn(this,"context");Bn(this,"value",{setHelmet:d=>{this.context.helmet=d},helmetInstances:{get:()=>this.canUseDOM?Bh:this.instances,add:d=>{(this.canUseDOM?Bh:this.instances).push(d)},remove:d=>{const p=(this.canUseDOM?Bh:this.instances).indexOf(d);(this.canUseDOM?Bh:this.instances).splice(p,1)}}});this.context=d,this.canUseDOM=p||!1,p||(d.helmet=rc({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},v5={},Sx=Wi.createContext(v5),$s,Cx=($s=class extends Ei.Component{constructor(y){super(y);Bn(this,"helmetData");this.helmetData=new sc(this.props.context||{},$s.canUseDOM)}render(){return Wi.createElement(Sx.Provider,{value:this.helmetData.value},this.props.children)}},Bn($s,"canUseDOM",Tx),$s),ps=(d,p)=>{const y=document.head||document.querySelector("head"),E=y.querySelectorAll(`${d}[${an}]`),w=[].slice.call(E),R=[];let c;return p&&p.length&&p.forEach(x=>{const t=document.createElement(d);for(const a in x)if(Object.prototype.hasOwnProperty.call(x,a))if(a==="innerHTML")t.innerHTML=x.innerHTML;else if(a==="cssText")t.styleSheet?t.styleSheet.cssText=x.cssText:t.appendChild(document.createTextNode(x.cssText));else{const g=a,o=typeof x[g]>"u"?"":x[g];t.setAttribute(a,o)}t.setAttribute(an,"true"),w.some((a,g)=>(c=g,t.isEqualNode(a)))?w.splice(c,1):R.push(t)}),w.forEach(x=>{var t;return(t=x.parentNode)==null?void 0:t.removeChild(x)}),R.forEach(x=>y.appendChild(x)),{oldTags:w,newTags:R}},ac=(d,p)=>{const y=document.getElementsByTagName(d)[0];if(!y)return;const E=y.getAttribute(an),w=E?E.split(","):[],R=[...w],c=Object.keys(p);for(const x of c){const t=p[x]||"";y.getAttribute(x)!==t&&y.setAttribute(x,t),w.indexOf(x)===-1&&w.push(x);const a=R.indexOf(x);a!==-1&&R.splice(a,1)}for(let x=R.length-1;x>=0;x-=1)y.removeAttribute(R[x]);w.length===R.length?y.removeAttribute(an):y.getAttribute(an)!==c.join(",")&&y.setAttribute(an,c.join(","))},p5=(d,p)=>{typeof d<"u"&&document.title!==d&&(document.title=mx(d)),ac("title",p)},wm=(d,p)=>{const{baseTag:y,bodyAttributes:E,htmlAttributes:w,linkTags:R,metaTags:c,noscriptTags:x,onChangeClientState:t,scriptTags:a,styleTags:g,title:o,titleAttributes:s}=d;ac("body",E),ac("html",w),p5(o,s);const r={baseTag:ps("base",y),linkTags:ps("link",R),metaTags:ps("meta",c),noscriptTags:ps("noscript",x),scriptTags:ps("script",a),styleTags:ps("style",g)},e={},n={};Object.keys(r).forEach(l=>{const{newTags:i,oldTags:h}=r[l];i.length&&(e[l]=i),h.length&&(n[l]=r[l].oldTags)}),p&&p(),t(d,e,n)},Da=null,g5=d=>{Da&&cancelAnimationFrame(Da),d.defer?Da=requestAnimationFrame(()=>{wm(d,()=>{Da=null})}):(wm(d),Da=null)},m5=g5,Mm=class extends Ei.Component{constructor(){super(...arguments);Bn(this,"rendered",!1)}shouldComponentUpdate(p){return!_4(p,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:p}=this.props.context;p.remove(this),this.emitChange()}emitChange(){const{helmetInstances:p,setHelmet:y}=this.props.context;let E=null;const w=a5(p.get().map(R=>{const c={...R.props};return delete c.context,c}));Cx.canUseDOM?m5(w):rc&&(E=rc(w)),y(E)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:p}=this.props.context;p.add(this),this.emitChange()}render(){return this.init(),null}},ud,y5=(ud=class extends Ei.Component{shouldComponentUpdate(d){return!Q4(Am(this.props,"helmetData"),Am(d,"helmetData"))}mapNestedChildrenToProps(d,p){if(!p)return null;switch(d.type){case"script":case"noscript":return{innerHTML:p};case"style":return{cssText:p};default:throw new Error(`<${d.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(d,p,y,E){return{...p,[d.type]:[...p[d.type]||[],{...y,...this.mapNestedChildrenToProps(d,E)}]}}mapObjectTypeChildren(d,p,y,E){switch(d.type){case"title":return{...p,[d.type]:E,titleAttributes:{...y}};case"body":return{...p,bodyAttributes:{...y}};case"html":return{...p,htmlAttributes:{...y}};default:return{...p,[d.type]:{...y}}}}mapArrayTypeChildrenToProps(d,p){let y={...p};return Object.keys(d).forEach(E=>{y={...y,[E]:d[E]}}),y}warnOnInvalidChildren(d,p){return Em(Pm.some(y=>d.type===y),typeof d.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Pm.join(", ")} are allowed. Helmet does not support rendering <${d.type}> elements. Refer to our API for more information.`),Em(!p||typeof p=="string"||Array.isArray(p)&&!p.some(y=>typeof y!="string"),`Helmet expects a string as a child of <${d.type}>. Did you forget to wrap your children in braces? ( <${d.type}>{\`\`}</${d.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(d,p){let y={};return Wi.Children.forEach(d,E=>{if(!E||!E.props)return;const{children:w,...R}=E.props,c=Object.keys(R).reduce((t,a)=>(t[t5[a]||a]=R[a],t),{});let{type:x}=E;switch(typeof x=="symbol"?x=x.toString():this.warnOnInvalidChildren(E,w),x){case"Symbol(react.fragment)":p=this.mapChildrenToProps(w,p);break;case"link":case"meta":case"noscript":case"script":case"style":y=this.flattenArrayTypeChildren(E,y,c,w);break;default:p=this.mapObjectTypeChildren(E,p,c,w);break}}),this.mapArrayTypeChildrenToProps(y,p)}render(){const{children:d,...p}=this.props;let y={...p},{helmetData:E}=p;if(d&&(y=this.mapChildrenToProps(d,y)),E&&!(E instanceof sc)){const w=E;E=new sc(w.context,!0),delete y.helmetData}return E?Wi.createElement(Mm,{...y,context:E.value}):Wi.createElement(Sx.Consumer,null,w=>Wi.createElement(Mm,{...y,context:w}))}},Bn(ud,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ud),Ex={exports:{}},ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.element"),mv=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),jl=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),Ql=Symbol.for("react.provider"),kl=Symbol.for("react.context"),x5=Symbol.for("react.server_context"),Jl=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),_l=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),T5=Symbol.for("react.offscreen"),Px;Px=Symbol.for("react.module.reference");function Zi(d){if(typeof d=="object"&&d!==null){var p=d.$$typeof;switch(p){case gv:switch(d=d.type,d){case Kl:case Zl:case jl:case ql:case _l:return d;default:switch(d=d&&d.$$typeof,d){case x5:case kl:case Jl:case eu:case tu:case Ql:return d;default:return p}}case mv:return p}}}ie.ContextConsumer=kl;ie.ContextProvider=Ql;ie.Element=gv;ie.ForwardRef=Jl;ie.Fragment=Kl;ie.Lazy=eu;ie.Memo=tu;ie.Portal=mv;ie.Profiler=Zl;ie.StrictMode=jl;ie.Suspense=ql;ie.SuspenseList=_l;ie.isAsyncMode=function(){return!1};ie.isConcurrentMode=function(){return!1};ie.isContextConsumer=function(d){return Zi(d)===kl};ie.isContextProvider=function(d){return Zi(d)===Ql};ie.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===gv};ie.isForwardRef=function(d){return Zi(d)===Jl};ie.isFragment=function(d){return Zi(d)===Kl};ie.isLazy=function(d){return Zi(d)===eu};ie.isMemo=function(d){return Zi(d)===tu};ie.isPortal=function(d){return Zi(d)===mv};ie.isProfiler=function(d){return Zi(d)===Zl};ie.isStrictMode=function(d){return Zi(d)===jl};ie.isSuspense=function(d){return Zi(d)===ql};ie.isSuspenseList=function(d){return Zi(d)===_l};ie.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===Kl||d===Zl||d===jl||d===ql||d===_l||d===T5||typeof d=="object"&&d!==null&&(d.$$typeof===eu||d.$$typeof===tu||d.$$typeof===Ql||d.$$typeof===kl||d.$$typeof===Jl||d.$$typeof===Px||d.getModuleId!==void 0)};ie.typeOf=Zi;Ex.exports=ie;var Ax=Ex.exports;function S5(d){function p(Z,V,H,N,b){for(var X=0,$=0,Q=0,k=0,J,et,nt=0,st=0,ot,ut=ot=J=0,at=0,ct=0,Pt=0,Ct=0,Et=H.length,dt=Et-1,St,vt="",Mt="",Nt="",Zt="",Ut;at<Et;){if(et=H.charCodeAt(at),at===dt&&$+k+Q+X!==0&&($!==0&&(et=$===47?10:47),k=Q=X=0,Et++,dt++),$+k+Q+X===0){if(at===dt&&(0<ct&&(vt=vt.replace(s,"")),0<vt.trim().length)){switch(et){case 32:case 9:case 59:case 13:case 10:break;default:vt+=H.charAt(at)}et=59}switch(et){case 123:for(vt=vt.trim(),J=vt.charCodeAt(0),ot=1,Ct=++at;at<Et;){switch(et=H.charCodeAt(at)){case 123:ot++;break;case 125:ot--;break;case 47:switch(et=H.charCodeAt(at+1)){case 42:case 47:t:{for(ut=at+1;ut<dt;++ut)switch(H.charCodeAt(ut)){case 47:if(et===42&&H.charCodeAt(ut-1)===42&&at+2!==ut){at=ut+1;break t}break;case 10:if(et===47){at=ut+1;break t}}at=ut}}break;case 91:et++;case 40:et++;case 34:case 39:for(;at++<dt&&H.charCodeAt(at)!==et;);}if(ot===0)break;at++}switch(ot=H.substring(Ct,at),J===0&&(J=(vt=vt.replace(o,"").trim()).charCodeAt(0)),J){case 64:switch(0<ct&&(vt=vt.replace(s,"")),et=vt.charCodeAt(1),et){case 100:case 109:case 115:case 45:ct=V;break;default:ct=I}if(ot=p(V,ct,ot,et,b+1),Ct=ot.length,0<z&&(ct=y(I,vt,Pt),Ut=x(3,ot,ct,V,F,L,Ct,et,b,N),vt=ct.join(""),Ut!==void 0&&(Ct=(ot=Ut.trim()).length)===0&&(et=0,ot="")),0<Ct)switch(et){case 115:vt=vt.replace(m,c);case 100:case 109:case 45:ot=vt+"{"+ot+"}";break;case 107:vt=vt.replace(h,"$1 $2"),ot=vt+"{"+ot+"}",ot=D===1||D===2&&R("@"+ot,3)?"@-webkit-"+ot+"@"+ot:"@"+ot;break;default:ot=vt+ot,N===112&&(ot=(Mt+=ot,""))}else ot="";break;default:ot=p(V,y(V,vt,Pt),ot,N,b+1)}Nt+=ot,ot=Pt=ct=ut=J=0,vt="",et=H.charCodeAt(++at);break;case 125:case 59:if(vt=(0<ct?vt.replace(s,""):vt).trim(),1<(Ct=vt.length))switch(ut===0&&(J=vt.charCodeAt(0),J===45||96<J&&123>J)&&(Ct=(vt=vt.replace(" ",":")).length),0<z&&(Ut=x(1,vt,V,Z,F,L,Mt.length,N,b,N))!==void 0&&(Ct=(vt=Ut.trim()).length)===0&&(vt="\0\0"),J=vt.charCodeAt(0),et=vt.charCodeAt(1),J){case 0:break;case 64:if(et===105||et===99){Zt+=vt+H.charAt(at);break}default:vt.charCodeAt(Ct-1)!==58&&(Mt+=w(vt,J,et,vt.charCodeAt(2)))}Pt=ct=ut=J=0,vt="",et=H.charCodeAt(++at)}}switch(et){case 13:case 10:$===47?$=0:1+J===0&&N!==107&&0<vt.length&&(ct=1,vt+="\0"),0<z*Y&&x(0,vt,V,Z,F,L,Mt.length,N,b,N),L=1,F++;break;case 59:case 125:if($+k+Q+X===0){L++;break}default:switch(L++,St=H.charAt(at),et){case 9:case 32:if(k+X+$===0)switch(nt){case 44:case 58:case 9:case 32:St="";break;default:et!==32&&(St=" ")}break;case 0:St="\\0";break;case 12:St="\\f";break;case 11:St="\\v";break;case 38:k+$+X===0&&(ct=Pt=1,St="\f"+St);break;case 108:if(k+$+X+B===0&&0<ut)switch(at-ut){case 2:nt===112&&H.charCodeAt(at-3)===58&&(B=nt);case 8:st===111&&(B=st)}break;case 58:k+$+X===0&&(ut=at);break;case 44:$+Q+k+X===0&&(ct=1,St+="\r");break;case 34:case 39:$===0&&(k=k===et?0:k===0?et:k);break;case 91:k+$+Q===0&&X++;break;case 93:k+$+Q===0&&X--;break;case 41:k+$+X===0&&Q--;break;case 40:if(k+$+X===0){if(J===0)switch(2*nt+3*st){case 533:break;default:J=1}Q++}break;case 64:$+Q+k+X+ut+ot===0&&(ot=1);break;case 42:case 47:if(!(0<k+X+Q))switch($){case 0:switch(2*et+3*H.charCodeAt(at+1)){case 235:$=47;break;case 220:Ct=at,$=42}break;case 42:et===47&&nt===42&&Ct+2!==at&&(H.charCodeAt(Ct+2)===33&&(Mt+=H.substring(Ct,at+1)),St="",$=0)}}$===0&&(vt+=St)}st=nt,nt=et,at++}if(Ct=Mt.length,0<Ct){if(ct=V,0<z&&(Ut=x(2,Mt,ct,Z,F,L,Ct,N,b,N),Ut!==void 0&&(Mt=Ut).length===0))return Zt+Mt+Nt;if(Mt=ct.join(",")+"{"+Mt+"}",D*B!==0){switch(D!==2||R(Mt,2)||(B=0),B){case 111:Mt=Mt.replace(f,":-moz-$1")+Mt;break;case 112:Mt=Mt.replace(u,"::-webkit-input-$1")+Mt.replace(u,"::-moz-$1")+Mt.replace(u,":-ms-input-$1")+Mt}B=0}}return Zt+Mt+Nt}function y(Z,V,H){var N=V.trim().split(l);V=N;var b=N.length,X=Z.length;switch(X){case 0:case 1:var $=0;for(Z=X===0?"":Z[0]+" ";$<b;++$)V[$]=E(Z,V[$],H).trim();break;default:var Q=$=0;for(V=[];$<b;++$)for(var k=0;k<X;++k)V[Q++]=E(Z[k]+" ",N[$],H).trim()}return V}function E(Z,V,H){var N=V.charCodeAt(0);switch(33>N&&(N=(V=V.trim()).charCodeAt(0)),N){case 38:return V.replace(i,"$1"+Z.trim());case 58:return Z.trim()+V.replace(i,"$1"+Z.trim());default:if(0<1*H&&0<V.indexOf("\f"))return V.replace(i,(Z.charCodeAt(0)===58?"":"$1")+Z.trim())}return Z+V}function w(Z,V,H,N){var b=Z+";",X=2*V+3*H+4*N;if(X===944){Z=b.indexOf(":",9)+1;var $=b.substring(Z,b.length-1).trim();return $=b.substring(0,Z).trim()+$+";",D===1||D===2&&R($,1)?"-webkit-"+$+$:$}if(D===0||D===2&&!R(b,1))return b;switch(X){case 1015:return b.charCodeAt(10)===97?"-webkit-"+b+b:b;case 951:return b.charCodeAt(3)===116?"-webkit-"+b+b:b;case 963:return b.charCodeAt(5)===110?"-webkit-"+b+b:b;case 1009:if(b.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+b+b;case 978:return"-webkit-"+b+"-moz-"+b+b;case 1019:case 983:return"-webkit-"+b+"-moz-"+b+"-ms-"+b+b;case 883:if(b.charCodeAt(8)===45)return"-webkit-"+b+b;if(0<b.indexOf("image-set(",11))return b.replace(A,"$1-webkit-$2")+b;break;case 932:if(b.charCodeAt(4)===45)switch(b.charCodeAt(5)){case 103:return"-webkit-box-"+b.replace("-grow","")+"-webkit-"+b+"-ms-"+b.replace("grow","positive")+b;case 115:return"-webkit-"+b+"-ms-"+b.replace("shrink","negative")+b;case 98:return"-webkit-"+b+"-ms-"+b.replace("basis","preferred-size")+b}return"-webkit-"+b+"-ms-"+b+b;case 964:return"-webkit-"+b+"-ms-flex-"+b+b;case 1023:if(b.charCodeAt(8)!==99)break;return $=b.substring(b.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+$+"-webkit-"+b+"-ms-flex-pack"+$+b;case 1005:return e.test(b)?b.replace(r,":-webkit-")+b.replace(r,":-moz-")+b:b;case 1e3:switch($=b.substring(13).trim(),V=$.indexOf("-")+1,$.charCodeAt(0)+$.charCodeAt(V)){case 226:$=b.replace(v,"tb");break;case 232:$=b.replace(v,"tb-rl");break;case 220:$=b.replace(v,"lr");break;default:return b}return"-webkit-"+b+"-ms-"+$+b;case 1017:if(b.indexOf("sticky",9)===-1)break;case 975:switch(V=(b=Z).length-10,$=(b.charCodeAt(V)===33?b.substring(0,V):b).substring(Z.indexOf(":",7)+1).trim(),X=$.charCodeAt(0)+($.charCodeAt(7)|0)){case 203:if(111>$.charCodeAt(8))break;case 115:b=b.replace($,"-webkit-"+$)+";"+b;break;case 207:case 102:b=b.replace($,"-webkit-"+(102<X?"inline-":"")+"box")+";"+b.replace($,"-webkit-"+$)+";"+b.replace($,"-ms-"+$+"box")+";"+b}return b+";";case 938:if(b.charCodeAt(5)===45)switch(b.charCodeAt(6)){case 105:return $=b.replace("-items",""),"-webkit-"+b+"-webkit-box-"+$+"-ms-flex-"+$+b;case 115:return"-webkit-"+b+"-ms-flex-item-"+b.replace(C,"")+b;default:return"-webkit-"+b+"-ms-flex-line-pack"+b.replace("align-content","").replace(C,"")+b}break;case 973:case 989:if(b.charCodeAt(3)!==45||b.charCodeAt(4)===122)break;case 931:case 953:if(P.test(Z)===!0)return($=Z.substring(Z.indexOf(":")+1)).charCodeAt(0)===115?w(Z.replace("stretch","fill-available"),V,H,N).replace(":fill-available",":stretch"):b.replace($,"-webkit-"+$)+b.replace($,"-moz-"+$.replace("fill-",""))+b;break;case 962:if(b="-webkit-"+b+(b.charCodeAt(5)===102?"-ms-"+b:"")+b,H+N===211&&b.charCodeAt(13)===105&&0<b.indexOf("transform",10))return b.substring(0,b.indexOf(";",27)+1).replace(n,"$1-webkit-$2")+b}return b}function R(Z,V){var H=Z.indexOf(V===1?":":"{"),N=Z.substring(0,V!==3?H:10);return H=Z.substring(H+1,Z.length-1),W(V!==2?N:N.replace(S,"$1"),H,V)}function c(Z,V){var H=w(V,V.charCodeAt(0),V.charCodeAt(1),V.charCodeAt(2));return H!==V+";"?H.replace(T," or ($1)").substring(4):"("+V+")"}function x(Z,V,H,N,b,X,$,Q,k,J){for(var et=0,nt=V,st;et<z;++et)switch(st=G[et].call(g,Z,nt,H,N,b,X,$,Q,k,J)){case void 0:case!1:case!0:case null:break;default:nt=st}if(nt!==V)return nt}function t(Z){switch(Z){case void 0:case null:z=G.length=0;break;default:if(typeof Z=="function")G[z++]=Z;else if(typeof Z=="object")for(var V=0,H=Z.length;V<H;++V)t(Z[V]);else Y=!!Z|0}return t}function a(Z){return Z=Z.prefix,Z!==void 0&&(W=null,Z?typeof Z!="function"?D=1:(D=2,W=Z):D=0),a}function g(Z,V){var H=Z;if(33>H.charCodeAt(0)&&(H=H.trim()),K=H,H=[K],0<z){var N=x(-1,V,H,H,F,L,0,0,0,0);N!==void 0&&typeof N=="string"&&(V=N)}var b=p(I,H,V,0,0);return 0<z&&(N=x(-2,b,H,H,F,L,b.length,0,0,0),N!==void 0&&(b=N)),K="",B=0,L=F=1,b}var o=/^\0+/g,s=/[\0\r\f]/g,r=/: */g,e=/zoo|gra/,n=/([,: ])(transform)/g,l=/,\r+?/g,i=/([\t\r\n ])*\f?&/g,h=/@(k\w+)\s*(\S*)\s*/,u=/::(place)/g,f=/:(read-only)/g,v=/[svh]\w+-[tblr]{2}/,m=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,P=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,L=1,F=1,B=0,D=1,I=[],G=[],z=0,W=null,Y=0,K="";return g.use=t,g.set=a,d!==void 0&&a(d),g}var C5={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function E5(d){var p=Object.create(null);return function(y){return p[y]===void 0&&(p[y]=d(y)),p[y]}}var P5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rm=E5(function(d){return P5.test(d)||d.charCodeAt(0)===111&&d.charCodeAt(1)===110&&d.charCodeAt(2)<91}),wx={exports:{}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=typeof Symbol=="function"&&Symbol.for,yv=be?Symbol.for("react.element"):60103,xv=be?Symbol.for("react.portal"):60106,iu=be?Symbol.for("react.fragment"):60107,nu=be?Symbol.for("react.strict_mode"):60108,ru=be?Symbol.for("react.profiler"):60114,su=be?Symbol.for("react.provider"):60109,au=be?Symbol.for("react.context"):60110,Tv=be?Symbol.for("react.async_mode"):60111,ou=be?Symbol.for("react.concurrent_mode"):60111,hu=be?Symbol.for("react.forward_ref"):60112,lu=be?Symbol.for("react.suspense"):60113,A5=be?Symbol.for("react.suspense_list"):60120,uu=be?Symbol.for("react.memo"):60115,fu=be?Symbol.for("react.lazy"):60116,w5=be?Symbol.for("react.block"):60121,M5=be?Symbol.for("react.fundamental"):60117,R5=be?Symbol.for("react.responder"):60118,L5=be?Symbol.for("react.scope"):60119;function Mi(d){if(typeof d=="object"&&d!==null){var p=d.$$typeof;switch(p){case yv:switch(d=d.type,d){case Tv:case ou:case iu:case ru:case nu:case lu:return d;default:switch(d=d&&d.$$typeof,d){case au:case hu:case fu:case uu:case su:return d;default:return p}}case xv:return p}}}function Mx(d){return Mi(d)===ou}ne.AsyncMode=Tv;ne.ConcurrentMode=ou;ne.ContextConsumer=au;ne.ContextProvider=su;ne.Element=yv;ne.ForwardRef=hu;ne.Fragment=iu;ne.Lazy=fu;ne.Memo=uu;ne.Portal=xv;ne.Profiler=ru;ne.StrictMode=nu;ne.Suspense=lu;ne.isAsyncMode=function(d){return Mx(d)||Mi(d)===Tv};ne.isConcurrentMode=Mx;ne.isContextConsumer=function(d){return Mi(d)===au};ne.isContextProvider=function(d){return Mi(d)===su};ne.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===yv};ne.isForwardRef=function(d){return Mi(d)===hu};ne.isFragment=function(d){return Mi(d)===iu};ne.isLazy=function(d){return Mi(d)===fu};ne.isMemo=function(d){return Mi(d)===uu};ne.isPortal=function(d){return Mi(d)===xv};ne.isProfiler=function(d){return Mi(d)===ru};ne.isStrictMode=function(d){return Mi(d)===nu};ne.isSuspense=function(d){return Mi(d)===lu};ne.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===iu||d===ou||d===ru||d===nu||d===lu||d===A5||typeof d=="object"&&d!==null&&(d.$$typeof===fu||d.$$typeof===uu||d.$$typeof===su||d.$$typeof===au||d.$$typeof===hu||d.$$typeof===M5||d.$$typeof===R5||d.$$typeof===L5||d.$$typeof===w5)};ne.typeOf=Mi;wx.exports=ne;var F5=wx.exports,Sv=F5,O5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Rx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Cv={};Cv[Sv.ForwardRef]=B5;Cv[Sv.Memo]=Rx;function Lm(d){return Sv.isMemo(d)?Rx:Cv[d.$$typeof]||O5}var I5=Object.defineProperty,N5=Object.getOwnPropertyNames,Fm=Object.getOwnPropertySymbols,G5=Object.getOwnPropertyDescriptor,z5=Object.getPrototypeOf,Om=Object.prototype;function Lx(d,p,y){if(typeof p!="string"){if(Om){var E=z5(p);E&&E!==Om&&Lx(d,E,y)}var w=N5(p);Fm&&(w=w.concat(Fm(p)));for(var R=Lm(d),c=Lm(p),x=0;x<w.length;++x){var t=w[x];if(!D5[t]&&!(y&&y[t])&&!(c&&c[t])&&!(R&&R[t])){var a=G5(p,t);try{I5(d,t,a)}catch{}}}}return d}var b5=Lx;const U5=na(b5);var gn={};function bn(){return(bn=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var y=arguments[p];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(d[E]=y[E])}return d}).apply(this,arguments)}var Dm=function(d,p){for(var y=[d[0]],E=0,w=p.length;E<w;E+=1)y.push(p[E],d[E+1]);return y},oc=function(d){return d!==null&&typeof d=="object"&&(d.toString?d.toString():Object.prototype.toString.call(d))==="[object Object]"&&!Ax.typeOf(d)},wl=Object.freeze([]),gr=Object.freeze({});function mo(d){return typeof d=="function"}function Bm(d){return d.displayName||d.name||"Component"}function Ev(d){return d&&typeof d.styledComponentId=="string"}var _s=typeof process<"u"&&(gn.REACT_APP_SC_ATTR||gn.SC_ATTR)||"data-styled",Pv=typeof window<"u"&&"HTMLElement"in window,V5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&gn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&gn.REACT_APP_SC_DISABLE_SPEEDY!==""?gn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&gn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&gn.SC_DISABLE_SPEEDY!==void 0&&gn.SC_DISABLE_SPEEDY!==""&&gn.SC_DISABLE_SPEEDY!=="false"&&gn.SC_DISABLE_SPEEDY);function Ao(d){for(var p=arguments.length,y=new Array(p>1?p-1:0),E=1;E<p;E++)y[E-1]=arguments[E];throw new Error("An error occurred. See https://git.io/JUIaE#"+d+" for more information."+(y.length>0?" Args: "+y.join(", "):""))}var W5=function(){function d(y){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=y}var p=d.prototype;return p.indexOfGroup=function(y){for(var E=0,w=0;w<y;w++)E+=this.groupSizes[w];return E},p.insertRules=function(y,E){if(y>=this.groupSizes.length){for(var w=this.groupSizes,R=w.length,c=R;y>=c;)(c<<=1)<0&&Ao(16,""+y);this.groupSizes=new Uint32Array(c),this.groupSizes.set(w),this.length=c;for(var x=R;x<c;x++)this.groupSizes[x]=0}for(var t=this.indexOfGroup(y+1),a=0,g=E.length;a<g;a++)this.tag.insertRule(t,E[a])&&(this.groupSizes[y]++,t++)},p.clearGroup=function(y){if(y<this.length){var E=this.groupSizes[y],w=this.indexOfGroup(y),R=w+E;this.groupSizes[y]=0;for(var c=w;c<R;c++)this.tag.deleteRule(w)}},p.getGroup=function(y){var E="";if(y>=this.length||this.groupSizes[y]===0)return E;for(var w=this.groupSizes[y],R=this.indexOfGroup(y),c=R+w,x=R;x<c;x++)E+=this.tag.getRule(x)+`/*!sc*/
`;return E},d}(),qh=new Map,Ml=new Map,Qa=1,Ih=function(d){if(qh.has(d))return qh.get(d);for(;Ml.has(Qa);)Qa++;var p=Qa++;return qh.set(d,p),Ml.set(p,d),p},X5=function(d){return Ml.get(d)},Y5=function(d,p){p>=Qa&&(Qa=p+1),qh.set(d,p),Ml.set(p,d)},H5="style["+_s+'][data-styled-version="5.3.6"]',$5=new RegExp("^"+_s+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),K5=function(d,p,y){for(var E,w=y.split(","),R=0,c=w.length;R<c;R++)(E=w[R])&&d.registerName(p,E)},j5=function(d,p){for(var y=(p.textContent||"").split(`/*!sc*/
`),E=[],w=0,R=y.length;w<R;w++){var c=y[w].trim();if(c){var x=c.match($5);if(x){var t=0|parseInt(x[1],10),a=x[2];t!==0&&(Y5(a,t),K5(d,a,x[3]),d.getTag().insertRules(t,E)),E.length=0}else E.push(c)}}},Z5=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Fx=function(d){var p=document.head,y=d||p,E=document.createElement("style"),w=function(x){for(var t=x.childNodes,a=t.length;a>=0;a--){var g=t[a];if(g&&g.nodeType===1&&g.hasAttribute(_s))return g}}(y),R=w!==void 0?w.nextSibling:null;E.setAttribute(_s,"active"),E.setAttribute("data-styled-version","5.3.6");var c=Z5();return c&&E.setAttribute("nonce",c),y.insertBefore(E,R),E},Q5=function(){function d(y){var E=this.element=Fx(y);E.appendChild(document.createTextNode("")),this.sheet=function(w){if(w.sheet)return w.sheet;for(var R=document.styleSheets,c=0,x=R.length;c<x;c++){var t=R[c];if(t.ownerNode===w)return t}Ao(17)}(E),this.length=0}var p=d.prototype;return p.insertRule=function(y,E){try{return this.sheet.insertRule(E,y),this.length++,!0}catch{return!1}},p.deleteRule=function(y){this.sheet.deleteRule(y),this.length--},p.getRule=function(y){var E=this.sheet.cssRules[y];return E!==void 0&&typeof E.cssText=="string"?E.cssText:""},d}(),k5=function(){function d(y){var E=this.element=Fx(y);this.nodes=E.childNodes,this.length=0}var p=d.prototype;return p.insertRule=function(y,E){if(y<=this.length&&y>=0){var w=document.createTextNode(E),R=this.nodes[y];return this.element.insertBefore(w,R||null),this.length++,!0}return!1},p.deleteRule=function(y){this.element.removeChild(this.nodes[y]),this.length--},p.getRule=function(y){return y<this.length?this.nodes[y].textContent:""},d}(),J5=function(){function d(y){this.rules=[],this.length=0}var p=d.prototype;return p.insertRule=function(y,E){return y<=this.length&&(this.rules.splice(y,0,E),this.length++,!0)},p.deleteRule=function(y){this.rules.splice(y,1),this.length--},p.getRule=function(y){return y<this.length?this.rules[y]:""},d}(),Im=Pv,q5={isServer:!Pv,useCSSOMInjection:!V5},Ox=function(){function d(y,E,w){y===void 0&&(y=gr),E===void 0&&(E={}),this.options=bn({},q5,{},y),this.gs=E,this.names=new Map(w),this.server=!!y.isServer,!this.server&&Pv&&Im&&(Im=!1,function(R){for(var c=document.querySelectorAll(H5),x=0,t=c.length;x<t;x++){var a=c[x];a&&a.getAttribute(_s)!=="active"&&(j5(R,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}d.registerId=function(y){return Ih(y)};var p=d.prototype;return p.reconstructWithOptions=function(y,E){return E===void 0&&(E=!0),new d(bn({},this.options,{},y),this.gs,E&&this.names||void 0)},p.allocateGSInstance=function(y){return this.gs[y]=(this.gs[y]||0)+1},p.getTag=function(){return this.tag||(this.tag=(w=(E=this.options).isServer,R=E.useCSSOMInjection,c=E.target,y=w?new J5(c):R?new Q5(c):new k5(c),new W5(y)));var y,E,w,R,c},p.hasNameForId=function(y,E){return this.names.has(y)&&this.names.get(y).has(E)},p.registerName=function(y,E){if(Ih(y),this.names.has(y))this.names.get(y).add(E);else{var w=new Set;w.add(E),this.names.set(y,w)}},p.insertRules=function(y,E,w){this.registerName(y,E),this.getTag().insertRules(Ih(y),w)},p.clearNames=function(y){this.names.has(y)&&this.names.get(y).clear()},p.clearRules=function(y){this.getTag().clearGroup(Ih(y)),this.clearNames(y)},p.clearTag=function(){this.tag=void 0},p.toString=function(){return function(y){for(var E=y.getTag(),w=E.length,R="",c=0;c<w;c++){var x=X5(c);if(x!==void 0){var t=y.names.get(x),a=E.getGroup(c);if(t&&a&&t.size){var g=_s+".g"+c+'[id="'+x+'"]',o="";t!==void 0&&t.forEach(function(s){s.length>0&&(o+=s+",")}),R+=""+a+g+'{content:"'+o+`"}/*!sc*/
`}}}return R}(this)},d}(),_5=/(a)(d)/gi,Nm=function(d){return String.fromCharCode(d+(d>25?39:97))};function hc(d){var p,y="";for(p=Math.abs(d);p>52;p=p/52|0)y=Nm(p%52)+y;return(Nm(p%52)+y).replace(_5,"$1-$2")}var Is=function(d,p){for(var y=p.length;y;)d=33*d^p.charCodeAt(--y);return d},Dx=function(d){return Is(5381,d)};function t9(d){for(var p=0;p<d.length;p+=1){var y=d[p];if(mo(y)&&!Ev(y))return!1}return!0}var e9=Dx("5.3.6"),i9=function(){function d(p,y,E){this.rules=p,this.staticRulesId="",this.isStatic=(E===void 0||E.isStatic)&&t9(p),this.componentId=y,this.baseHash=Is(e9,y),this.baseStyle=E,Ox.registerId(y)}return d.prototype.generateAndInjectStyles=function(p,y,E){var w=this.componentId,R=[];if(this.baseStyle&&R.push(this.baseStyle.generateAndInjectStyles(p,y,E)),this.isStatic&&!E.hash)if(this.staticRulesId&&y.hasNameForId(w,this.staticRulesId))R.push(this.staticRulesId);else{var c=ta(this.rules,p,y,E).join(""),x=hc(Is(this.baseHash,c)>>>0);if(!y.hasNameForId(w,x)){var t=E(c,"."+x,void 0,w);y.insertRules(w,x,t)}R.push(x),this.staticRulesId=x}else{for(var a=this.rules.length,g=Is(this.baseHash,E.hash),o="",s=0;s<a;s++){var r=this.rules[s];if(typeof r=="string")o+=r;else if(r){var e=ta(r,p,y,E),n=Array.isArray(e)?e.join(""):e;g=Is(g,n+s),o+=n}}if(o){var l=hc(g>>>0);if(!y.hasNameForId(w,l)){var i=E(o,"."+l,void 0,w);y.insertRules(w,l,i)}R.push(l)}}return R.join(" ")},d}(),n9=/^\s*\/\/.*$/gm,r9=[":","[",".","#"];function s9(d){var p,y,E,w,R=d===void 0?gr:d,c=R.options,x=c===void 0?gr:c,t=R.plugins,a=t===void 0?wl:t,g=new S5(x),o=[],s=function(n){function l(i){if(i)try{n(i+"}")}catch{}}return function(i,h,u,f,v,m,T,C,S,P){switch(i){case 1:if(S===0&&h.charCodeAt(0)===64)return n(h+";"),"";break;case 2:if(C===0)return h+"/*|*/";break;case 3:switch(C){case 102:case 112:return n(u[0]+h),"";default:return h+(P===0?"/*|*/":"")}case-2:h.split("/*|*/}").forEach(l)}}}(function(n){o.push(n)}),r=function(n,l,i){return l===0&&r9.indexOf(i[y.length])!==-1||i.match(w)?n:"."+p};function e(n,l,i,h){h===void 0&&(h="&");var u=n.replace(n9,""),f=l&&i?i+" "+l+" { "+u+" }":u;return p=h,y=l,E=new RegExp("\\"+y+"\\b","g"),w=new RegExp("(\\"+y+"\\b){2,}"),g(i||!l?"":l,f)}return g.use([].concat(a,[function(n,l,i){n===2&&i.length&&i[0].lastIndexOf(y)>0&&(i[0]=i[0].replace(E,r))},s,function(n){if(n===-2){var l=o;return o=[],l}}])),e.hash=a.length?a.reduce(function(n,l){return l.name||Ao(15),Is(n,l.name)},5381).toString():"",e}var Bx=Wi.createContext();Bx.Consumer;var Ix=Wi.createContext(),a9=(Ix.Consumer,new Ox),lc=s9();function o9(){return Ei.useContext(Bx)||a9}function h9(){return Ei.useContext(Ix)||lc}var l9=function(){function d(p,y){var E=this;this.inject=function(w,R){R===void 0&&(R=lc);var c=E.name+R.hash;w.hasNameForId(E.id,c)||w.insertRules(E.id,c,R(E.rules,c,"@keyframes"))},this.toString=function(){return Ao(12,String(E.name))},this.name=p,this.id="sc-keyframes-"+p,this.rules=y}return d.prototype.getName=function(p){return p===void 0&&(p=lc),this.name+p.hash},d}(),u9=/([A-Z])/,f9=/([A-Z])/g,d9=/^ms-/,c9=function(d){return"-"+d.toLowerCase()};function Gm(d){return u9.test(d)?d.replace(f9,c9).replace(d9,"-ms-"):d}var zm=function(d){return d==null||d===!1||d===""};function ta(d,p,y,E){if(Array.isArray(d)){for(var w,R=[],c=0,x=d.length;c<x;c+=1)(w=ta(d[c],p,y,E))!==""&&(Array.isArray(w)?R.push.apply(R,w):R.push(w));return R}if(zm(d))return"";if(Ev(d))return"."+d.styledComponentId;if(mo(d)){if(typeof(a=d)!="function"||a.prototype&&a.prototype.isReactComponent||!p)return d;var t=d(p);return ta(t,p,y,E)}var a;return d instanceof l9?y?(d.inject(y,E),d.getName(E)):d:oc(d)?function g(o,s){var r,e,n=[];for(var l in o)o.hasOwnProperty(l)&&!zm(o[l])&&(Array.isArray(o[l])&&o[l].isCss||mo(o[l])?n.push(Gm(l)+":",o[l],";"):oc(o[l])?n.push.apply(n,g(o[l],l)):n.push(Gm(l)+": "+(r=l,(e=o[l])==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||r in C5?String(e).trim():e+"px")+";"));return s?[s+" {"].concat(n,["}"]):n}(d):d.toString()}var bm=function(d){return Array.isArray(d)&&(d.isCss=!0),d};function v9(d){for(var p=arguments.length,y=new Array(p>1?p-1:0),E=1;E<p;E++)y[E-1]=arguments[E];return mo(d)||oc(d)?bm(ta(Dm(wl,[d].concat(y)))):y.length===0&&d.length===1&&typeof d[0]=="string"?d:bm(ta(Dm(d,y)))}var p9=function(d,p,y){return y===void 0&&(y=gr),d.theme!==y.theme&&d.theme||p||y.theme},g9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,m9=/(^-|-$)/g;function nd(d){return d.replace(g9,"-").replace(m9,"")}var y9=function(d){return hc(Dx(d)>>>0)};function Nh(d){return typeof d=="string"&&!0}var uc=function(d){return typeof d=="function"||typeof d=="object"&&d!==null&&!Array.isArray(d)},x9=function(d){return d!=="__proto__"&&d!=="constructor"&&d!=="prototype"};function T9(d,p,y){var E=d[y];uc(p)&&uc(E)?Nx(E,p):d[y]=p}function Nx(d){for(var p=arguments.length,y=new Array(p>1?p-1:0),E=1;E<p;E++)y[E-1]=arguments[E];for(var w=0,R=y;w<R.length;w++){var c=R[w];if(uc(c))for(var x in c)x9(x)&&T9(d,c[x],x)}return d}var Gx=Wi.createContext();Gx.Consumer;var rd={};function zx(d,p,y){var E=Ev(d),w=!Nh(d),R=p.attrs,c=R===void 0?wl:R,x=p.componentId,t=x===void 0?function(h,u){var f=typeof h!="string"?"sc":nd(h);rd[f]=(rd[f]||0)+1;var v=f+"-"+y9("5.3.6"+f+rd[f]);return u?u+"-"+v:v}(p.displayName,p.parentComponentId):x,a=p.displayName,g=a===void 0?function(h){return Nh(h)?"styled."+h:"Styled("+Bm(h)+")"}(d):a,o=p.displayName&&p.componentId?nd(p.displayName)+"-"+p.componentId:p.componentId||t,s=E&&d.attrs?Array.prototype.concat(d.attrs,c).filter(Boolean):c,r=p.shouldForwardProp;E&&d.shouldForwardProp&&(r=p.shouldForwardProp?function(h,u,f){return d.shouldForwardProp(h,u,f)&&p.shouldForwardProp(h,u,f)}:d.shouldForwardProp);var e,n=new i9(y,o,E?d.componentStyle:void 0),l=n.isStatic&&c.length===0,i=function(h,u){return function(f,v,m,T){var C=f.attrs,S=f.componentStyle,P=f.defaultProps,A=f.foldedComponentIds,L=f.shouldForwardProp,F=f.styledComponentId,B=f.target,D=function(N,b,X){N===void 0&&(N=gr);var $=bn({},b,{theme:N}),Q={};return X.forEach(function(k){var J,et,nt,st=k;for(J in mo(st)&&(st=st($)),st)$[J]=Q[J]=J==="className"?(et=Q[J],nt=st[J],et&&nt?et+" "+nt:et||nt):st[J]}),[$,Q]}(p9(v,Ei.useContext(Gx),P)||gr,v,C),I=D[0],G=D[1],z=function(N,b,X,$){var Q=o9(),k=h9(),J=b?N.generateAndInjectStyles(gr,Q,k):N.generateAndInjectStyles(X,Q,k);return J}(S,T,I),W=m,Y=G.$as||v.$as||G.as||v.as||B,K=Nh(Y),Z=G!==v?bn({},v,{},G):v,V={};for(var H in Z)H[0]!=="$"&&H!=="as"&&(H==="forwardedAs"?V.as=Z[H]:(L?L(H,Rm,Y):!K||Rm(H))&&(V[H]=Z[H]));return v.style&&G.style!==v.style&&(V.style=bn({},v.style,{},G.style)),V.className=Array.prototype.concat(A,F,z!==F?z:null,v.className,G.className).filter(Boolean).join(" "),V.ref=W,Ei.createElement(Y,V)}(e,h,u,l)};return i.displayName=g,(e=Wi.forwardRef(i)).attrs=s,e.componentStyle=n,e.displayName=g,e.shouldForwardProp=r,e.foldedComponentIds=E?Array.prototype.concat(d.foldedComponentIds,d.styledComponentId):wl,e.styledComponentId=o,e.target=E?d.target:d,e.withComponent=function(h){var u=p.componentId,f=function(m,T){if(m==null)return{};var C,S,P={},A=Object.keys(m);for(S=0;S<A.length;S++)C=A[S],T.indexOf(C)>=0||(P[C]=m[C]);return P}(p,["componentId"]),v=u&&u+"-"+(Nh(h)?h:nd(Bm(h)));return zx(h,bn({},f,{attrs:s,componentId:v}),y)},Object.defineProperty(e,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(h){this._foldedDefaultProps=E?Nx({},d.defaultProps,h):h}}),e.toString=function(){return"."+e.styledComponentId},w&&U5(e,d,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),e}var fc=function(d){return function p(y,E,w){if(w===void 0&&(w=gr),!Ax.isValidElementType(E))return Ao(1,String(E));var R=function(){return y(E,w,v9.apply(void 0,arguments))};return R.withConfig=function(c){return p(y,E,bn({},w,{},c))},R.attrs=function(c){return p(y,E,bn({},w,{attrs:Array.prototype.concat(w.attrs,c).filter(Boolean)}))},R}(zx,d)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(d){fc[d]=fc(d)});const bx=fc;var Ux={exports:{}};(function(d,p){(function(E,w){d.exports=w()})(yw,()=>(()=>{var y={50792:c=>{var x=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function g(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function o(e,n,l,i,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var u=new g(l,i||e,h),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],u]:e._events[f].push(u):(e._events[f]=u,e._eventsCount++),e}function s(e,n){--e._eventsCount===0?e._events=new a:delete e._events[n]}function r(){this._events=new a,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,i;if(this._eventsCount===0)return n;for(i in l=this._events)x.call(l,i)&&n.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,i=this._events[l];if(!i)return[];if(i.fn)return[i.fn];for(var h=0,u=i.length,f=new Array(u);h<u;h++)f[h]=i[h].fn;return f},r.prototype.listenerCount=function(n){var l=t?t+n:n,i=this._events[l];return i?i.fn?1:i.length:0},r.prototype.emit=function(n,l,i,h,u,f){var v=t?t+n:n;if(!this._events[v])return!1;var m=this._events[v],T=arguments.length,C,S;if(m.fn){switch(m.once&&this.removeListener(n,m.fn,void 0,!0),T){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,i),!0;case 4:return m.fn.call(m.context,l,i,h),!0;case 5:return m.fn.call(m.context,l,i,h,u),!0;case 6:return m.fn.call(m.context,l,i,h,u,f),!0}for(S=1,C=new Array(T-1);S<T;S++)C[S-1]=arguments[S];m.fn.apply(m.context,C)}else{var P=m.length,A;for(S=0;S<P;S++)switch(m[S].once&&this.removeListener(n,m[S].fn,void 0,!0),T){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,l);break;case 3:m[S].fn.call(m[S].context,l,i);break;case 4:m[S].fn.call(m[S].context,l,i,h);break;default:if(!C)for(A=1,C=new Array(T-1);A<T;A++)C[A-1]=arguments[A];m[S].fn.apply(m[S].context,C)}}return!0},r.prototype.on=function(n,l,i){return o(this,n,l,i,!1)},r.prototype.once=function(n,l,i){return o(this,n,l,i,!0)},r.prototype.removeListener=function(n,l,i,h){var u=t?t+n:n;if(!this._events[u])return this;if(!l)return s(this,u),this;var f=this._events[u];if(f.fn)f.fn===l&&(!h||f.once)&&(!i||f.context===i)&&s(this,u);else{for(var v=0,m=[],T=f.length;v<T;v++)(f[v].fn!==l||h&&!f[v].once||i&&f[v].context!==i)&&m.push(f[v]);m.length?this._events[u]=m.length===1?m[0]:m:s(this,u)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&s(this,l)):(this._events=new a,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,c.exports=r},11517:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38829),g=function(o,s,r,e){for(var n=o[0],l=1;l<o.length;l++){var i=o[l];a(i,n,s,r,e),n=i}return o};c.exports=g},80318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"angle",s,r,e,n)};c.exports=g},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){for(var o=0;o<t.length;o++){var s=t[o];a.call(g,s)}return t};c.exports=x},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){g===void 0&&(g=0);for(var o=g;o<t.length;o++){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};c.exports=x},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){g===void 0&&(g=0);for(var o=t.length-1;o>=g;o--){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};c.exports=x},94420:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(11879),g=t(60461),o=t(95540),s=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),n=function(l,i){i===void 0&&(i={});var h=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),f=o(i,"width",-1),v=o(i,"height",-1),m=o(i,"cellWidth",1),T=o(i,"cellHeight",m),C=o(i,"position",g.TOP_LEFT),S=o(i,"x",0),P=o(i,"y",0),A=0,L=0,F=f*m,B=v*T;e.setPosition(S,P),e.setSize(m,T);for(var D=0;D<l.length;D++)if(a(l[D],e,C),h&&f===-1)e.x+=m;else if(u&&v===-1)e.y+=T;else if(u&&!h){if(L+=T,e.y+=T,L===B&&(L=0,A+=m,e.y=P,e.x+=m,A===F))break}else if(A+=m,e.x+=m,A===F&&(A=0,L+=T,e.x=S,e.y+=T,L===B))break;return l};c.exports=n},41721:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};c.exports=g},67285:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};c.exports=g},9074:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};c.exports=g},75222:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};c.exports=g},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g===void 0&&(g=0),o===void 0&&(o=6.28);for(var s=g,r=(o-g)/t.length,e=a.x,n=a.y,l=a.radius,i=0;i<t.length;i++)t[i].x=e+l*Math.cos(s),t[i].y=n+l*Math.sin(s),s+=r;return t};c.exports=x},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g===void 0&&(g=0),o===void 0&&(o=6.28);for(var s=g,r=(o-g)/t.length,e=a.width/2,n=a.height/2,l=0;l<t.length;l++)t[l].x=a.x+e*Math.cos(s),t[l].y=a.y+n*Math.sin(s),s+=r;return t};c.exports=x},88505:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15258),g=t(26708),o=function(s,r,e){var n;e?n=g(r,e,s.length):n=a(r,s.length);for(var l=0;l<s.length;l++){var i=s[l],h=n[l];i.x=h.x,i.y=h.y}return s};c.exports=o},41346:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14649),g=t(86003),o=t(49498),s=function(r,e,n){n===void 0&&(n=0);var l=a(e,!1,r.length);n>0?g(l,n):n<0&&o(l,Math.abs(n));for(var i=0;i<r.length;i++)r[i].x=l[i].x,r[i].y=l[i].y;return r};c.exports=s},11575:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84993),g=function(o,s,r){var e=a({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),n=a({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),l=a({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);e.pop(),n.pop(),l.pop(),e=e.concat(n,l);for(var i=e.length/o.length,h=0,u=0;u<o.length;u++){var f=o[u],v=e[Math.floor(h)];f.x=v.x,f.y=v.y,h+=i}return o};c.exports=g},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){for(var o=0;o<t.length;o++){var s=t[o];s.anims&&s.anims.play(a,g)}return t};c.exports=x},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]+=g+n*o,n++;else for(e=s;e>=0;e--)t[e][a]+=g+n*o,n++;return t};c.exports=x},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]=g+n*o,n++;else for(e=s;e>=0;e--)t[e][a]=g+n*o,n++;return t};c.exports=x},88926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28176),g=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=g},33286:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(24820),g=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=g},96e3:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65822),g=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=g},28789:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26597),g=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=g},97154:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90260),g=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=g},20510:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};c.exports=g},91051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1163),g=t(20339),o=function(s,r,e){for(var n=r.x,l=r.y,i=0;i<s.length;i++){var h=s[i];a(h,n,l,e,Math.max(1,g(h.x,h.y,n,l)))}return s};c.exports=o},76332:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1163),g=function(o,s,r,e){var n=s.x,l=s.y;if(e===0)return o;for(var i=0;i<o.length;i++)a(o[i],n,l,r,e);return o};c.exports=g},61619:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};c.exports=g},94868:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};c.exports=g},95532:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),g=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};c.exports=g},8689:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};c.exports=g},2645:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e){return a(o,"blendMode",s,0,r,e)};c.exports=g},32372:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"depth",s,r,e,n)};c.exports=g},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){for(var o=0;o<t.length;o++)t[o].setInteractive(a,g);return t};c.exports=x},81583:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"originX",s,e,l,i),a(o,"originY",r,n,l,i),o.forEach(function(h){h.updateDisplayOrigin()}),o};c.exports=g},79939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};c.exports=g},2699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};c.exports=g},98739:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};c.exports=g},98476:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};c.exports=g},6207:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scrollFactorX",s,e,l,i),a(o,"scrollFactorY",r,n,l,i)};c.exports=g},6607:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"scrollFactorX",s,r,e,n)};c.exports=g},72248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"scrollFactorY",s,r,e,n)};c.exports=g},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){for(var r=0;r<t.length;r++)t[r].setTint(a,g,o,s);return t};c.exports=x},50159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e){return a(o,"visible",s,0,r,e)};c.exports=g},77597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};c.exports=g},83194:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};c.exports=g},67678:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),g=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};c.exports=g},35850:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=new a);var l,i,h=o.length;if(h===1)l=o[0].x,i=o[0].y,o[0].x=s,o[0].y=r;else{var u=1,f=0;e===0&&(f=h-1,u=h-2),l=o[f].x,i=o[f].y,o[f].x=s,o[f].y=r;for(var v=0;v<h;v++)if(!(u>=h||u===-1)){var m=o[u],T=m.x,C=m.y;m.x=l,m.y=i,l=T,i=C,e===0?u--:u++}}return n.x=l,n.y=i,n};c.exports=g},8628:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33680),g=function(o){return a(o)};c.exports=g},21837:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7602),g=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};c.exports=g},21910:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54261),g=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};c.exports=g},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][a]+=(o+g)/2:t[0][a]=(o+g)/2,t;var r=Math.abs(o-g)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][a]+=e*r+g;else for(e=0;e<t.length;e++)t[e][a]=e*r+g;return t};c.exports=x},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};c.exports=x},39665:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),g=function(o,s,r){r===void 0&&(r=0);for(var e=0;e<o.length;e++){var n=o[e];n.x=a(n.x,s.left-r,s.right+r),n.y=a(n.y,s.top-r,s.bottom+r)}return o};c.exports=g},61061:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(74943),s=t(81957),r=t(41138),e=t(35154),n=t(90126),l=new g({initialize:function(h,u,f){this.manager=h,this.key=u,this.type="frame",this.frames=this.getFrames(h.textureManager,e(f,"frames",[]),e(f,"defaultTextureKey",null),e(f,"sortFrames",!0)),this.frameRate=e(f,"frameRate",null),this.duration=e(f,"duration",null),this.msPerFrame,this.skipMissedFrames=e(f,"skipMissedFrames",!0),this.delay=e(f,"delay",0),this.repeat=e(f,"repeat",0),this.repeatDelay=e(f,"repeatDelay",0),this.yoyo=e(f,"yoyo",!1),this.showBeforeDelay=e(f,"showBeforeDelay",!1),this.showOnStart=e(f,"showOnStart",!1),this.hideOnComplete=e(f,"hideOnComplete",!1),this.randomFrame=e(f,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,h,u,f){u===null&&f===null?(i.frameRate=24,i.duration=24/h*1e3):u&&f===null?(i.duration=u,i.frameRate=h/(u/1e3)):(i.frameRate=f,i.duration=h/f*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,h){var u=this.getFrames(this.manager.textureManager,h);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var f=this.frames.slice(0,i),v=this.frames.slice(i);this.frames=f.concat(u,v)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,h,u,f){f===void 0&&(f=!0);var v=[],m,T,C=1,S,P;if(typeof h=="string"){if(P=h,!i.exists(P))return console.warn('Texture "%s" not found',P),v;var A=i.get(P),L=A.getFrameNames();f&&n(L),h=[],L.forEach(function(z){h.push({key:P,frame:z})})}if(!Array.isArray(h)||h.length===0)return v;for(S=0;S<h.length;S++){var F=h[S],B=e(F,"key",u);if(B){var D=e(F,"frame",0),I=i.getFrame(B,D);if(!I){console.warn('Texture "%s" not found',B);continue}T=new r(B,D,C,I),T.duration=e(F,"duration",0),T.isFirst=!m,m&&(m.nextFrame=T,T.prevFrame=m),v.push(T),m=T,C++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var G=1/(v.length-1);for(S=0;S<v.length;S++)v[S].progress=S*G}return v},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameByProgress:function(i){return i=a(i,0,1),s(i,this.frames,"progress")},nextFrame:function(i){var h=i.currentFrame;h.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,h.nextFrame)},handleYoyoFrame:function(i,h){if(h||(h=!1),i.inReverse===!h&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=h),this.repeatAnimation(i);return}if(i.inReverse!==h&&i.repeatCounter===0){i.complete();return}i.forward=h;var u=h?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var h=i.currentFrame;h.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,h.prevFrame)},updateAndGetNextTick:function(i,h){i.setCurrentFrame(h),this.getNextTick(i)},removeFrame:function(i){var h=this.frames.indexOf(i);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){i.frames.push(h.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,h=1/(i-1),u,f=0;f<i;f++)u=this.frames[f],u.index=f+1,u.isFirst=!1,u.isLast=!1,u.progress=f*h,f===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[f+1])):f===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[f-1],u.nextFrame=this.frames[f+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n,l){l===void 0&&(l=!1),this.textureKey=s,this.textureFrame=r,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=g},60848:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42099),g=t(83419),o=t(90330),s=t(50792),r=t(74943),e=t(8443),n=t(95540),l=t(35154),i=t(36383),h=t(20283),u=t(41836),f=new g({Extends:s,initialize:function(m){s.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",m.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(v,m,T){var C=this.anims,S=this.mixes,P=typeof v=="string"?v:v.key,A=typeof m=="string"?m:m.key;if(C.has(P)&&C.has(A)){var L=S.get(P);L||(L={}),L[A]=T,S.set(P,L)}return this},removeMix:function(v,m){var T=this.mixes,C=typeof v=="string"?v:v.key,S=T.get(C);if(S)if(m){var P=typeof m=="string"?m:m.key;S.hasOwnProperty(P)&&delete S[P]}else m||T.delete(C);return this},getMix:function(v,m){var T=this.mixes,C=typeof v=="string"?v:v.key,S=typeof m=="string"?m:m.key,P=T.get(C);return P&&P.hasOwnProperty(S)?P[S]:0},add:function(v,m){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(m.key=v,this.anims.set(v,m),this.emit(r.ADD_ANIMATION,v,m),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,m,T){var C=[],S=this.game.cache.json.get(v);if(!S)return console.warn("No Aseprite data found for: "+v),C;var P=this,A=l(S,"meta",null),L=l(S,"frames",null);if(A&&L){var F=l(A,"frameTags",[]);F.forEach(function(B){var D=[],I=n(B,"name",null),G=n(B,"from",0),z=n(B,"to",0),W=n(B,"direction","forward");if(I&&(!m||m&&m.indexOf(I)>-1)){for(var Y=0,K=G;K<=z;K++){var Z=K.toString(),V=L[Z];if(V){var H=n(V,"duration",i.MAX_SAFE_INTEGER);D.push({key:v,frame:Z,duration:H}),Y+=H}}W==="reverse"&&(D=D.reverse());var N={key:I,frames:D,duration:Y,yoyo:W==="pingpong"},b;T?T.anims&&(b=T.anims.create(N)):b=P.create(N),b&&C.push(b)}})}return C},create:function(v){var m=v.key,T=!1;return m&&(T=this.get(m),T?console.warn("AnimationManager key already exists: "+m):(T=new a(this,m,v),this.anims.set(m,T),this.emit(r.ADD_ANIMATION,m,T))),T},fromJSON:function(v,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var T=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var C=0;C<v.anims.length;C++)T.push(this.create(v.anims[C]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&T.push(this.create(v));return T},generateFrameNames:function(v,m){var T=l(m,"prefix",""),C=l(m,"start",0),S=l(m,"end",0),P=l(m,"suffix",""),A=l(m,"zeroPad",0),L=l(m,"outputArray",[]),F=l(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),L;var B=this.textureManager.get(v);if(!B)return L;var D;if(m)for(F||(F=h(C,S)),D=0;D<F.length;D++){var I=T+u(F[D],A,"0",1)+P;B.has(I)?L.push({key:v,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,v)}else for(F=B.getFrameNames(),D=0;D<F.length;D++)L.push({key:v,frame:F[D]});return L},generateFrameNumbers:function(v,m){var T=l(m,"start",0),C=l(m,"end",-1),S=l(m,"first",!1),P=l(m,"outputArray",[]),A=l(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),P;var L=this.textureManager.get(v);if(!L)return P;S&&L.has(S)&&P.push({key:v,frame:S}),A||(C===-1&&(C=L.frameTotal-2),A=h(T,C));for(var F=0;F<A.length;F++){var B=A[F];L.has(B)?P.push({key:v,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,v)}return P},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var m=this.textureManager.get(v),T=m.key,C=this.anims.getArray(),S=[],P=0;P<C.length;P++)for(var A=C[P],L=A.frames,F=0;F<L.length;F++)if(L[F].textureKey===T){S.push(A.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(v,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].anims.play(v);return this},staggerPlay:function(v,m,T,C){T===void 0&&(T=0),C===void 0&&(C=!0),Array.isArray(m)||(m=[m]);var S=m.length;C||S--;for(var P=0;P<m.length;P++){var A=T<0?Math.abs(T)*(S-P):T*P;m[P].anims.playAfterDelay(v,A)}return this},remove:function(v){var m=this.get(v);return m&&(this.emit(r.REMOVE_ANIMATION,v,m),this.anims.delete(v),this.removeMix(v)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(v){var m={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?m.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(T,C){m.anims.push(C.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=f},9674:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42099),g=t(30976),o=t(83419),s=t(90330),r=t(74943),e=t(95540),n=new o({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var i=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var u=l[h];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var i=this.animationManager,h=typeof l=="string"?l:e(l,"key",null),u=this.exists(h)?this.get(h):i.get(h);if(!u)console.warn("Missing animation: "+h);else{this.currentAnim=u;var f=u.getTotalFrames(),v=e(l,"frameRate",u.frameRate),m=e(l,"duration",u.duration);u.calculateDuration(this,f,m,v),this.delay=e(l,"delay",u.delay),this.repeat=e(l,"repeat",u.repeat),this.repeatDelay=e(l,"repeatDelay",u.repeatDelay),this.yoyo=e(l,"yoyo",u.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(l,"showOnStart",u.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(l,"randomFrame",u.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var T=e(l,"startFrame",0);T>f&&(T=0),this.randomFrame&&(T=g(0,f-1));var C=u.frames[T];T===0&&!this.forward&&(C=u.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,i){if(!this.isPlaying)this.delayCounter=i,this.play(l,!0);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(l,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(l);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(l,i){i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent,f=typeof l=="string"?l:l.key;if(i&&this.isPlaying&&h.key===f)return u;if(h&&this.isPlaying){var v=this.animationManager.getMix(h.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,i){i===void 0&&(i=!1);var h=typeof l=="string"?l:l.key;return i&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var i=this.currentAnim,h=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,i){var h=this.currentAnim;if(h){var u=this.currentFrame,f=this.parent,v=u.textureFrame;f.emit(l,h,u,f,v),i&&f.emit(i+h.key,h,u,f,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var i=l.progress;return this.inReverse&&(i*=-1),i},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,i){l===void 0&&(l=!1),i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent;return h?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,i){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?h.nextFrame(this):h.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(l){var i=this.parent;return this.currentFrame=l,i.texture=l.frame.texture,i.frame=l.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),l.setAlpha&&(i.alpha=l.alpha),i.setSizeToFrame(),i._originComponent&&(l.frame.customPivot?i.setOrigin(l.frame.pivotX,l.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var i=l.key,h=!1;return i&&(h=this.get(i),h?console.warn("Animation key already exists: "+i):(h=new a(this,i,l),this.anims||(this.anims=new s),this.anims.set(i,h))),h},createFromAseprite:function(l,i){return this.animationManager.createFromAseprite(l,i,this.parent)},generateFrameNames:function(l,i){return this.animationManager.generateFrameNames(l,i)},generateFrameNumbers:function(l,i){return this.animationManager.generateFrameNumbers(l,i)},remove:function(l){var i=this.get(l);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(l)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=n},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(90330),o=t(50792),s=t(24736),r=new a({initialize:function(){this.entries=new g,this.events=new o},add:function(e,n){return this.entries.set(e,n),this.events.emit(s.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=r},24047:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2161),g=t(83419),o=t(8443),s=new g({initialize:function(e){this.game=e,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new a),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});c.exports=s},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(39506),s=t(50792),r=t(19715),e=t(87841),n=t(61340),l=t(80333),i=t(26099),h=new a({Extends:s,Mixins:[g.AlphaSingle,g.Visible],initialize:function(f,v,m,T){f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=f,this._y=v,this._width=m,this._height=T,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(m/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,f){return u===void 0&&(u=.5),f===void 0&&(f=u),this.originX=u,this.originY=f,this},getScroll:function(u,f,v){v===void 0&&(v=new i);var m=this.width*.5,T=this.height*.5;return v.x=u-m,v.y=f-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(u){var f=this.width*.5;return this.midPoint.x=u,this.scrollX=u-f,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var f=this.height*.5;return this.midPoint.y=u,this.scrollY=u-f,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,f){return this.centerOnX(u),this.centerOnY(f),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,f=this.width*.5,v=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-f,this.scrollY=u.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var f=this.matrix.matrix,v=f[0],m=f[1],T=f[2],C=f[3],S=v*C-m*T;if(!S)return u;var P=f[4],A=f[5],L=this.scrollX,F=this.scrollY,B=this.width,D=this.height,I=this.y,G=I+D,z=this.x,W=z+B,Y=this.culledObjects,K=u.length;S=1/S,Y.length=0;for(var Z=0;Z<K;++Z){var V=u[Z];if(!V.hasOwnProperty("width")||V.parentContainer){Y.push(V);continue}var H=V.width,N=V.height,b=V.x-L*V.scrollFactorX-H*V.originX,X=V.y-F*V.scrollFactorY-N*V.originY,$=b*v+X*T+P,Q=b*m+X*C+A,k=(b+H)*v+(X+N)*T+P,J=(b+H)*m+(X+N)*C+A;k>z&&$<W&&J>I&&Q<G&&Y.push(V)}return Y},getWorldPoint:function(u,f,v){v===void 0&&(v=new i);var m=this.matrix.matrix,T=m[0],C=m[1],S=m[2],P=m[3],A=m[4],L=m[5],F=T*P-C*S;if(!F)return v.x=u,v.y=f,v;F=1/F;var B=P*F,D=-C*F,I=-S*F,G=T*F,z=(S*L-P*A)*F,W=(C*A-T*L)*F,Y=Math.cos(this.rotation),K=Math.sin(this.rotation),Z=this.zoomX,V=this.zoomY,H=this.scrollX,N=this.scrollY,b=u+(H*Y-N*K)*Z,X=f+(H*K+N*Y)*V;return v.x=b*B+X*I+z,v.y=b*D+X*G+W,v},ignore:function(u){var f=this.id;Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var m=u[v];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=f}return this},preRender:function(){this.renderList.length=0;var u=this.width,f=this.height,v=u*.5,m=f*.5,T=this.zoomX,C=this.zoomY,S=this.matrix,P=u*this.originX,A=f*this.originY,L=this.scrollX,F=this.scrollY;this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.scrollX=L,this.scrollY=F;var B=L+v,D=F+m;this.midPoint.set(B,D);var I=u/T,G=f/C;this.worldView.setTo(B-I/2,D-G/2,I,G),S.applyITRS(this.x+P,this.y+A,this.rotation,T,C),S.translate(-P,-A)},clampX:function(u){var f=this._bounds,v=this.displayWidth,m=f.x+(v-this.width)/2,T=Math.max(m,m+f.width-v);return u<m?u=m:u>T&&(u=T),u},clampY:function(u){var f=this._bounds,v=this.displayHeight,m=f.y+(v-this.height)/2,T=Math.max(m,m+f.height-v);return u<m?u=m:u>T&&(u=T),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=o(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=l(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,f,v,m,T){return T===void 0&&(T=!1),this._bounds.setTo(u,f,v,m),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var f=this._bounds;return u.setTo(f.x,f.y,f.width,f.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,f){return f===void 0&&(f=u),this.x=u,this.y=f,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,f){f===void 0&&(f=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=f;var v=u.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(u,f){return f===void 0&&(f=u),this.scrollX=u,this.scrollY=f,this},setSize:function(u,f){return f===void 0&&(f=u),this.width=u,this.height=f,this},setViewport:function(u,f,v,m){return this.x=u,this.y=f,this.width=v,this.height=m,this},setZoom:function(u,f){return u===void 0&&(u=1),f===void 0&&(f=u),u===0&&(u=.001),f===0&&(f=.001),this.zoomX=u,this.zoomY=f,this},setMask:function(u,f){return f===void 0&&(f=!0),this.mask=u,this._maskCamera=f?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,f=this.sceneManager;u&&!this._customViewport?f.customViewports++:!u&&this._customViewport&&f.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=h},38058:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71911),g=t(67502),o=t(45319),s=t(83419),r=t(31401),e=t(20052),n=t(19715),l=t(28915),i=t(87841),h=t(26099),u=new s({Extends:a,Mixins:[r.PostPipeline],initialize:function(v,m,T,C){a.call(this,v,m,T,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(f,v){if(f===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=f,this.deadzone.height=v):this.deadzone=new i(0,0,f,v),this._follow){var m=this.width/2,T=this.height/2,C=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(C,S),this.scrollX=C-m,this.scrollY=S-T}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(f,v,m,T,C,S){return this.fadeEffect.start(!1,f,v,m,T,!0,C,S)},fadeOut:function(f,v,m,T,C,S){return this.fadeEffect.start(!0,f,v,m,T,!0,C,S)},fadeFrom:function(f,v,m,T,C,S,P){return this.fadeEffect.start(!1,f,v,m,T,C,S,P)},fade:function(f,v,m,T,C,S,P){return this.fadeEffect.start(!0,f,v,m,T,C,S,P)},flash:function(f,v,m,T,C,S,P){return this.flashEffect.start(f,v,m,T,C,S,P)},shake:function(f,v,m,T,C){return this.shakeEffect.start(f,v,m,T,C)},pan:function(f,v,m,T,C,S,P){return this.panEffect.start(f,v,m,T,C,S,P)},rotateTo:function(f,v,m,T,C,S,P){return this.rotateToEffect.start(f,v,m,T,C,S,P)},zoomTo:function(f,v,m,T,C,S){return this.zoomEffect.start(f,v,m,T,C,S)},preRender:function(){this.renderList.length=0;var f=this.width,v=this.height,m=f*.5,T=v*.5,C=this.zoom,S=this.matrix,P=f*this.originX,A=v*this.originY,L=this._follow,F=this.deadzone,B=this.scrollX,D=this.scrollY;F&&g(F,this.midPoint.x,this.midPoint.y);var I=!1;if(L&&!this.panEffect.isRunning){var G=this.lerp,z=L.x-this.followOffset.x,W=L.y-this.followOffset.y;F?(z<F.x?B=l(B,B-(F.x-z),G.x):z>F.right&&(B=l(B,B+(z-F.right),G.x)),W<F.y?D=l(D,D-(F.y-W),G.y):W>F.bottom&&(D=l(D,D+(W-F.bottom),G.y))):(B=l(B,z-P,G.x),D=l(D,W-A,G.y)),I=!0}this.useBounds&&(B=this.clampX(B),D=this.clampY(D)),this.scrollX=B,this.scrollY=D;var Y=B+m,K=D+T;this.midPoint.set(Y,K);var Z=f/C,V=v/C,H=Math.floor(Y-Z/2),N=Math.floor(K-V/2);this.worldView.setTo(H,N,Z,V),S.applyITRS(Math.floor(this.x+P),Math.floor(this.y+A),this.rotation,C,C),S.translate(-P,-A),this.shakeEffect.preRender(),I&&this.emit(n.FOLLOW_UPDATE,this,L)},setLerp:function(f,v){return f===void 0&&(f=1),v===void 0&&(v=f),this.lerp.set(f,v),this},setFollowOffset:function(f,v){return f===void 0&&(f=0),v===void 0&&(v=0),this.followOffset.set(f,v),this},startFollow:function(f,v,m,T,C,S){v===void 0&&(v=!1),m===void 0&&(m=1),T===void 0&&(T=m),C===void 0&&(C=0),S===void 0&&(S=C),this._follow=f,this.roundPixels=v,m=o(m,0,1),T=o(T,0,1),this.lerp.set(m,T),this.followOffset.set(C,S);var P=this.width/2,A=this.height/2,L=f.x-C,F=f.y-S;return this.midPoint.set(L,F),this.scrollX=L-P,this.scrollY=F-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(f,v){this.visible&&(this.rotateToEffect.update(f,v),this.panEffect.update(f,v),this.zoomEffect.update(f,v),this.shakeEffect.update(f,v),this.flashEffect.update(f,v),this.fadeEffect.update(f,v))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=u},32743:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38058),g=t(83419),o=t(95540),s=t(37277),r=t(37303),e=t(97480),n=t(44594),l=new g({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(n.BOOT,this.boot,this),h.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(n.UPDATE,this.update,this),h.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,h,u,f,v,m){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),v===void 0&&(v=!1),m===void 0&&(m="");var T=new a(i,h,u,f);return T.setName(m),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(i,h){h===void 0&&(h=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),h&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,h=1,u=0;u<32;u++){for(var f=!1,v=0;v<i.length;v++){var m=i[v];if(m&&m.id===h){f=!0;continue}}if(f)h=h<<1;else return h}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var h=0,u=this.cameras,f=0;f<u.length;f++){var v=u[f];(!i||i&&v.visible)&&h++}return h},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var h=this.scene.sys.scale.width,u=this.scene.sys.scale.height,f=0;f<i.length;f++){var v=i[f],m=o(v,"x",0),T=o(v,"y",0),C=o(v,"width",h),S=o(v,"height",u),P=this.add(m,T,C,S);P.name=o(v,"name",""),P.zoom=o(v,"zoom",1),P.rotation=o(v,"rotation",0),P.scrollX=o(v,"scrollX",0),P.scrollY=o(v,"scrollY",0),P.roundPixels=o(v,"roundPixels",!1),P.visible=o(v,"visible",!0);var A=o(v,"backgroundColor",!1);A&&P.setBackgroundColor(A);var L=o(v,"bounds",null);if(L){var F=o(L,"x",0),B=o(L,"y",0),D=o(L,"width",h),I=o(L,"height",u);P.setBounds(F,B,D,I)}}return this},getCamera:function(i){for(var h=this.cameras,u=0;u<h.length;u++)if(h[u].name===i)return h[u];return null},getCamerasBelowPointer:function(i){for(var h=this.cameras,u=i.x,f=i.y,v=[],m=0;m<h.length;m++){var T=h[m];T.visible&&T.inputEnabled&&r(T,u,f)&&v.unshift(T)}return v},remove:function(i,h){h===void 0&&(h=!0),Array.isArray(i)||(i=[i]);for(var u=0,f=this.cameras,v=0;v<i.length;v++){var m=f.indexOf(i[v]);m!==-1&&(h?f[m].destroy():f[m].renderList=[],f.splice(m,1),u++)}return!this.main&&f[0]&&(this.main=f[0]),u},render:function(i,h){for(var u=this.scene,f=this.cameras,v=0;v<f.length;v++){var m=f[v];if(m.visible&&m.alpha>0){m.preRender();var T=this.getVisibleChildren(h.getChildren(),m);i.render(u,T,m)}}},getVisibleChildren:function(i,h){return i.filter(function(u){return u.willRender(h)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,h)},onResize:function(i,h,u,f,v){for(var m=0;m<this.cameras.length;m++){var T=this.cameras[m];T._x===0&&T._y===0&&T._width===f&&T._height===v&&T.setSize(h.width,h.height)}},resize:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,h)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var h=this.systems.events;h.off(n.UPDATE,this.update,this),h.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(19715),s=new g({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,u,f){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f;var v=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,e,n,l,i),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},10662:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(19715),s=new g({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,u){return r===void 0&&(r=250),e===void 0&&(e=255),n===void 0&&(n=255),l===void 0&&(l=255),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(o.FLASH_START,this.camera,this,r,e,n,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},20359:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(62640),s=t(19715),r=t(26099),e=new g({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,i,h,u,f,v){i===void 0&&(i=1e3),h===void 0&&(h=o.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(n,l),m.getScroll(n,l,this.current),typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=v,this.camera.emit(s.PAN_START,this.camera,this,i,n,l)),m},update:function(n,l){if(this.isRunning){this._elapsed+=l;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var h=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);h.getScroll(this.destination.x,this.destination.y,this.current);var f=this.source.x+(this.current.x-this.source.x)*u,v=this.source.y+(this.current.y-this.source.y)*u;h.setScroll(f,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,f,v)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,x,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=t(45319),g=t(83419),o=t(19715),s=t(62640),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,l,i,h,u,f){l===void 0&&(l=1e3),i===void 0&&(i=s.Linear),h===void 0&&(h=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=e;e<0?(v=-1*e,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;v=v-Math.floor(v/m)*m;var T=this.camera;if(!h&&this.isRunning)return T;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=T.rotation,this.destination=v,typeof i=="string"&&s.hasOwnProperty(i)?this.ease=s[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.shortestPath){var C=0,S=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+m)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+m)-this.destination,C<S?this.clockwise=!0:C>S&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),T},update:function(e,n){if(this.isRunning){this._elapsed+=n;var l=a(this._elapsed/this.duration,0,1);this.progress=l;var i=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=i.rotation;var u=0,f=360*Math.PI/180,v=this.destination,m=this.current;this.clockwise===!1&&(v=this.current,m=this.destination),v>=m?u=Math.abs(v-m):u=Math.abs(v+f)-m;var T=0;this.clockwise?T=i.rotation+u*h:T=i.rotation-u*h,i.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,T)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=r},30330:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(19715),s=t(26099),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h){return e===void 0&&(e=100),n===void 0&&(n=.05),l===void 0&&(l=!1),i===void 0&&(i=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=h,this.camera.emit(o.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,i=this.camera.width,h=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*l.x*i*2-l.x*i)*u,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=r},45641:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(62640),s=t(19715),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h,u){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene);var f=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=f.zoom,this.destination=e,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(s.ZOOM_START,this.camera,this,n,e)),f},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},20052:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(35154),o=new a({initialize:function(r){this.camera=g(r,"camera",null),this.left=g(r,"left",null),this.right=g(r,"right",null),this.up=g(r,"up",null),this.down=g(r,"down",null),this.zoomIn=g(r,"zoomIn",null),this.zoomOut=g(r,"zoomOut",null),this.zoomSpeed=g(r,"zoomSpeed",.01),this.minZoom=g(r,"minZoom",.001),this.maxZoom=g(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=g(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=g(r,"speed.x",0),this.speedY=g(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},58818:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(35154),o=new a({initialize:function(r){this.camera=g(r,"camera",null),this.left=g(r,"left",null),this.right=g(r,"right",null),this.up=g(r,"up",null),this.down=g(r,"down",null),this.zoomIn=g(r,"zoomIn",null),this.zoomOut=g(r,"zoomOut",null),this.zoomSpeed=g(r,"zoomSpeed",.01),this.minZoom=g(r,"minZoom",.001),this.maxZoom=g(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=g(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=g(r,"acceleration.x",0),this.accelY=g(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=g(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=g(r,"drag.x",0),this.dragY=g(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=g(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=g(r,"maxSpeed.x",0),this.maxSpeedY=g(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},38865:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=a},69547:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(8054),o=t(42363),s=t(82264),r=t(95540),e=t(35154),n=t(41212),l=t(29747),i=t(75508),h=t(36060),u=t(80333),f=new a({initialize:function(m){m===void 0&&(m={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",S=e(m,"scale",null);this.width=e(S,"width",1024,m),this.height=e(S,"height",768,m),this.zoom=e(S,"zoom",1,m),this.parent=e(S,"parent",void 0,m),this.scaleMode=e(S,S?"mode":"scaleMode",0,m),this.expandParent=e(S,"expandParent",!0,m),this.autoRound=e(S,"autoRound",!1,m),this.autoCenter=e(S,"autoCenter",0,m),this.resizeInterval=e(S,"resizeInterval",500,m),this.fullscreenTarget=e(S,"fullscreenTarget",null,m),this.minWidth=e(S,"min.width",0,m),this.maxWidth=e(S,"max.width",0,m),this.minHeight=e(S,"min.height",0,m),this.maxHeight=e(S,"max.height",0,m),this.snapWidth=e(S,"snap.width",0,m),this.snapHeight=e(S,"snap.height",0,m),this.renderType=e(m,"type",g.AUTO),this.canvas=e(m,"canvas",null),this.context=e(m,"context",null),this.canvasStyle=e(m,"canvasStyle",null),this.customEnvironment=e(m,"customEnvironment",!1),this.sceneConfig=e(m,"scene",null),this.seed=e(m,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(m,"title",""),this.gameURL=e(m,"url","https://phaser.io"),this.gameVersion=e(m,"version",""),this.autoFocus=e(m,"autoFocus",!0),this.stableSort=e(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(m,"dom.createContainer",!1),this.domPointerEvents=e(m,"dom.pointerEvents","none"),this.inputKeyboard=e(m,"input.keyboard",!0),this.inputKeyboardEventTarget=e(m,"input.keyboard.target",window),this.inputKeyboardCapture=e(m,"input.keyboard.capture",[]),this.inputMouse=e(m,"input.mouse",!0),this.inputMouseEventTarget=e(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(m,"input.touch",s.input.touch),this.inputTouchEventTarget=e(m,"input.touch.target",null),this.inputTouchCapture=e(m,"input.touch.capture",!0),this.inputActivePointers=e(m,"input.activePointers",1),this.inputSmoothFactor=e(m,"input.smoothFactor",0),this.inputWindowEvents=e(m,"input.windowEvents",!0),this.inputGamepad=e(m,"input.gamepad",!1),this.inputGamepadEventTarget=e(m,"input.gamepad.target",window),this.disableContextMenu=e(m,"disableContextMenu",!1),this.audio=e(m,"audio",{}),this.hideBanner=e(m,"banner",null)===!1,this.hidePhaser=e(m,"banner.hidePhaser",!1),this.bannerTextColor=e(m,"banner.text",C),this.bannerBackgroundColor=e(m,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(m,"fps",null),this.disablePreFX=e(m,"disablePreFX",!1),this.disablePostFX=e(m,"disablePostFX",!1);var P=e(m,"render",null);this.pipeline=e(P,"pipeline",null,m),this.autoMobilePipeline=e(P,"autoMobilePipeline",!0,m),this.defaultPipeline=e(P,"defaultPipeline",h.MULTI_PIPELINE,m),this.antialias=e(P,"antialias",!0,m),this.antialiasGL=e(P,"antialiasGL",!0,m),this.mipmapFilter=e(P,"mipmapFilter","",m),this.desynchronized=e(P,"desynchronized",!1,m),this.roundPixels=e(P,"roundPixels",!0,m),this.pixelArt=e(P,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(P,"transparent",!1,m),this.clearBeforeRender=e(P,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=e(P,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=e(P,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=e(P,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=e(P,"powerPreference","default",m),this.batchSize=e(P,"batchSize",4096,m),this.maxTextures=e(P,"maxTextures",-1,m),this.maxLights=e(P,"maxLights",10,m);var A=e(m,"backgroundColor",0);this.backgroundColor=u(A),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(m,"callbacks.preBoot",l),this.postBoot=e(m,"callbacks.postBoot",l),this.physics=e(m,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(m,"loader.baseURL",""),this.loaderPath=e(m,"loader.path",""),this.loaderMaxParallelDownloads=e(m,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(m,"loader.crossOrigin",void 0),this.loaderResponseType=e(m,"loader.responseType",""),this.loaderAsync=e(m,"loader.async",!0),this.loaderUser=e(m,"loader.user",""),this.loaderPassword=e(m,"loader.password",""),this.loaderTimeout=e(m,"loader.timeout",0),this.loaderWithCredentials=e(m,"loader.withCredentials",!1),this.loaderImageLoadType=e(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(m,"fx.glow.quality",.1),this.glowFXDistance=e(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=e(m,"plugins",null),F=o.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:n(L)&&(this.installGlobalPlugins=r(L,"global",[]),this.installScenePlugins=r(L,"scene",[]),Array.isArray(L.default)?F=L.default:Array.isArray(L.defaultMerge)&&(F=F.concat(L.defaultMerge)))),this.defaultPlugins=F;var B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(m,"images.default",B+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(m,"images.missing",B+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});c.exports=f},86054:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20623),g=t(27919),o=t(8054),s=t(89357),r=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=s.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||g.disableSmoothing();var l=e.scale.baseSize,i=l.width,h=l.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=i,e.canvas.height=h):e.canvas=g.create(e,i,h,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||a.setCrisp(e.canvas),n.renderType!==o.HEADLESS){var u,f;u=t(68627),f=t(74797),n.renderType===o.WEBGL?e.renderer=new f(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};c.exports=r},96391:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8054),g=function(o){var s=o.config;if(!s.hideBanner){var r="WebGL";s.renderType===a.CANVAS?r="Canvas":s.renderType===a.HEADLESS&&(r="Headless");var e=s.audio,n=o.device.audio,l;if(n.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var i="",h=[i];if(Array.isArray(s.bannerBackgroundColor)){var u;s.bannerBackgroundColor.forEach(function(v){i=i.concat("%c "),h.push("background: "+v),u=v}),h[h.length-1]="color: "+s.bannerTextColor+"; background: "+u}else i=i.concat("%c "),h.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);h.push("background: transparent"),s.gameTitle&&(i=i.concat(s.gameTitle),s.gameVersion&&(i=i.concat(" v"+s.gameVersion)),s.hidePhaser||(i=i.concat(" / ")));var f="";s.hidePhaser||(i=i.concat("Phaser v"+a.VERSION+f+" ("+r+" | "+l+")")),i=i.concat(" %c "+s.gameURL),h[0]=i,console.log.apply(console,h)}}};c.exports=g},50127:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),g=t(60848),o=t(24047),s=t(27919),r=t(83419),e=t(69547),n=t(83719),l=t(86054),i=t(45893),h=t(96391),u=t(82264),f=t(57264),v=t(50792),m=t(8443),T=t(7003),C=t(37277),S=t(77332),P=t(76531),A=t(60903),L=t(69442),F=t(17130),B=t(65898),D=t(51085),I=t(14747),G=new r({initialize:function(W){this.config=new e(W),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new g(this),this.textures=new F(this),this.cache=new o(this),this.registry=new i(this,new v),this.input=new T(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=u,this.scale=new P(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new B(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,f(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),h(this),a(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var z=this.events;z.on(m.HIDDEN,this.onHidden,this),z.on(m.VISIBLE,this.onVisible,this),z.on(m.BLUR,this.onBlur,this),z.on(m.FOCUS,this.onFocus,this)},step:function(z,W){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(m.PRE_STEP,z,W),Y.emit(m.STEP,z,W),this.scene.update(z,W),Y.emit(m.POST_STEP,z,W);var K=this.renderer;K.preRender(),Y.emit(m.PRE_RENDER,K,z,W),this.scene.render(K),K.postRender(),Y.emit(m.POST_RENDER,K,z,W)}},headlessStep:function(z,W){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(m.PRE_STEP,z,W),Y.emit(m.STEP,z,W),this.scene.update(z,W),Y.emit(m.POST_STEP,z,W),this.scene.isProcessing=!1,Y.emit(m.PRE_RENDER,null,z,W),Y.emit(m.POST_RENDER,null,z,W)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var z=this.isPaused;this.isPaused=!0,z||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var z=this.isPaused;this.isPaused=!1,z&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(z,W){W===void 0&&(W=!1),this.pendingDestroy=!0,this.removeCanvas=z,this.noReturn=W},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=G},65898:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(35154),o=t(29747),s=t(43092),r=new a({initialize:function(n,l){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=g(l,"min",5),this.targetFps=g(l,"target",60),this.fpsLimit=g(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=g(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(l,"deltaHistory",10),this.panicMax=g(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,l=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[n],e=Math.min(e,this._min)),l[n]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var h=0,u=0;u<i;u++)h+=l[u];return h/=i,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=r},51085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8443),g=function(o){var s,r=o.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},s=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(a.HIDDEN):r.emit(a.VISIBLE)};s&&document.addEventListener(s,n,!1),window.onblur=function(){r.emit(a.BLUR)},window.onfocus=function(){r.emit(a.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};c.exports=g},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(5290),g=t(27919),o=t(35154),s=function(r){var e=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",a),i=o(r,"pixelWidth",1),h=o(r,"pixelHeight",i),u=o(r,"resizeCanvas",!0),f=o(r,"clearCanvas",!0),v=o(r,"preRender",null),m=o(r,"postRender",null),T=Math.floor(Math.abs(e[0].length*i)),C=Math.floor(Math.abs(e.length*h));n||(n=g.create2D(this,T,C),u=!1,f=!1),u&&(n.width=T,n.height=C);var S=n.getContext("2d",{willReadFrequently:!0});f&&S.clearRect(0,0,T,C),v&&v(n,S);for(var P=0;P<e.length;P++)for(var A=e[P],L=0;L<A.length;L++){var F=A[L];F!=="."&&F!==" "&&(S.fillStyle=l[F],S.fillRect(L*i,P*h,i,h))}return m&&m(n,S),n};c.exports=s},15822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(36316),o=t(80021),s=t(26099),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(h=new s(n[6],n[7]),i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2,u=this.p3;return n.set(g(e,l.x,i.x,h.x,u.x),g(e,l.y,i.y,h.y,u.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]),u=new s(n[6],n[7]);return new r(l,i,h,u)},c.exports=r},80021:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(19217),o=t(87841),s=t(26099),r=new a({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var i=Math.max(1,Math.round(l/n));return g(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var n=this.getLength(),l=Math.max(1,n/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,i=this.getPoint(0,this._tmpVec2A),h=0;n.push(0);for(var u=1;u<=e;u++)l=this.getPoint(u/e,this._tmpVec2B),h+=l.distance(i),n.push(h),i.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var l=this.getUtoTmapping(e);return this.getPoint(l,n)},getPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++)l.push(this.getPoint(i/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++){var h=this.getUtoTmapping(i/e,null,e);l.push(this.getPoint(h))}return l},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new s);var l=1e-4,i=e-l,h=e+l;return i<0&&(i=0),h>1&&(h=1),this.getPoint(i,this._tmpVec2A),this.getPoint(h,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var l=this.getUtoTmapping(e);return this.getTangent(l,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,l){var i=this.getLengths(l),h=0,u=i.length,f;n?f=Math.min(n,i[u-1]):f=e*i[u-1];for(var v=0,m=u-1,T;v<=m;)if(h=Math.floor(v+(m-v)/2),T=i[h]-f,T<0)v=h+1;else if(T>0)m=h-1;else{m=h;break}if(h=m,i[h]===f)return h/(u-1);var C=i[h],S=i[h+1],P=S-C,A=(f-C)/P;return(h+A)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=r},73825:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(80021),o=t(39506),s=t(35154),r=t(43396),e=t(26099),n=new a({Extends:g,initialize:function(i,h,u,f,v,m,T,C){if(typeof i=="object"){var S=i;i=s(S,"x",0),h=s(S,"y",0),u=s(S,"xRadius",0),f=s(S,"yRadius",u),v=s(S,"startAngle",0),m=s(S,"endAngle",360),T=s(S,"clockwise",!1),C=s(S,"rotation",0)}else f===void 0&&(f=u),v===void 0&&(v=0),m===void 0&&(m=360),T===void 0&&(T=!1),C===void 0&&(C=0);g.call(this,"EllipseCurve"),this.p0=new e(i,h),this._xRadius=u,this._yRadius=f,this._startAngle=o(v),this._endAngle=o(m),this._clockwise=T,this._rotation=o(C)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,i){i===void 0&&(i=new e);for(var h=Math.PI*2,u=this._endAngle-this._startAngle,f=Math.abs(u)<Number.EPSILON;u<0;)u+=h;for(;u>h;)u-=h;u<Number.EPSILON&&(f?u=0:u=h),this._clockwise&&!f&&(u===h?u=-h:u=u-h);var v=this._startAngle+l*u,m=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var C=Math.cos(this._rotation),S=Math.sin(this._rotation),P=m-this.p0.x,A=T-this.p0.y;m=P*C-A*S+this.p0.x,T=P*S+A*C+this.p0.y}return i.set(m,T)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},c.exports=n},33951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(80021),o=t(19217),s=t(87841),r=t(26099),e=new a({Extends:g,initialize:function(l,i){g.call(this,"LineCurve"),Array.isArray(l)&&(i=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new s),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,i){var h;if(l){var u=this.getLengths(i),f=u[u.length-1],v=Math.min(l,f);h=v/f}else h=n;return h},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var l=n.points,i=new r(l[0],l[1]),h=new r(l[2],l[3]);return new e(i,h)},c.exports=e},14744:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(80021),o=t(32112),s=t(26099),r=new a({Extends:g,initialize:function(n,l,i){g.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2;return n.set(o(e,l.x,i.x,h.x),o(e,l.y,i.y,h.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]);return new r(l,i,h)},c.exports=r},42534:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87842),g=t(83419),o=t(80021),s=t(26099),r=new g({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var l=new s;typeof e[n]=="number"?(l.x=e[n],l.y=e[n+1],n++):Array.isArray(e[n])?(l.x=e[n][0],l.y=e[n][1]):(l.x=e[n].x,l.y=e[n].y),this.points.push(l)}return this},addPoint:function(e,n){var l=new s(e,n);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.points,i=(l.length-1)*e,h=Math.floor(i),u=i-h,f=l[h===0?h:h-1],v=l[h],m=l[h>l.length-2?l.length-1:h+1],T=l[h>l.length-3?l.length-1:h+2];return n.set(a(u,f.x,v.x,m.x,T.x),a(u,f.y,v.y,m.y,T.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},c.exports=r},25410:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(26099),o=new a({initialize:function(r,e){this.active=!1,this.p0=new g(r,e)},getPoint:function(s,r){return r===void 0&&(r=new g),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=o},46669:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(46728),o=t(73825),s=t(39429),r=t(33951),e=t(68618),n=t(14744),l=t(87841),i=t(42534),h=t(26099),u=t(36383),f=new a({initialize:function(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,m,T){return m===void 0&&(m=!1),this.ellipseTo(v,v,0,360,m,T)},closePath:function(){var v=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return v.equals(m)||this.curves.push(new r(m,v)),this},cubicBezierTo:function(v,m,T,C,S,P){var A=this.getEndPoint(),L,F,B;return v instanceof h?(L=v,F=m,B=T):(L=new h(T,C),F=new h(S,P),B=new h(v,m)),this.add(new g(A,L,F,B))},quadraticBezierTo:function(v,m,T,C){var S=this.getEndPoint(),P,A;return v instanceof h?(P=v,A=m):(P=new h(T,C),A=new h(v,m)),this.add(new n(S,P,A))},draw:function(v,m){for(var T=0;T<this.curves.length;T++){var C=this.curves[T];C.active&&C.draw(v,m)}return v},ellipseTo:function(v,m,T,C,S,P){var A=new o(0,0,v,m,T,C,S,P),L=this.getEndPoint(this._tmpVec2A),F=A.getStartPoint(this._tmpVec2B);return L.subtract(F),A.x=L.x,A.y=L.y,this.add(A)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var m=0;m<v.curves.length;m++){var T=v.curves[m];switch(T.type){case"LineCurve":this.add(r.fromJSON(T));break;case"EllipseCurve":this.add(o.fromJSON(T));break;case"SplineCurve":this.add(i.fromJSON(T));break;case"CubicBezierCurve":this.add(g.fromJSON(T));break;case"QuadraticBezierCurve":this.add(n.fromJSON(T));break}}return this},getBounds:function(v,m){v===void 0&&(v=new l),m===void 0&&(m=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new l,C=u.MIN_SAFE_INTEGER,S=u.MIN_SAFE_INTEGER,P=0;P<this.curves.length;P++){var A=this.curves[P];A.active&&(A.getBounds(T,m),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),C=Math.max(C,T.right),S=Math.max(S,T.bottom))}return v.right=C,v.bottom=S,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],m=0,T=0;T<this.curves.length;T++)m+=this.curves[T].getLength(),v.push(m);return this.cacheLengths=v,v},getCurveAt:function(v){for(var m=v*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=m)return this.curves[C];C++}return null},getEndPoint:function(v){return v===void 0&&(v=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,m){m===void 0&&(m=new h);for(var T=v*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=T){var P=C[S]-T,A=this.curves[S],L=A.getLength(),F=L===0?0:1-P/L;return A.getPointAt(F,m)}S++}return null},getPoints:function(v,m){!v&&!m&&(v=this.defaultDivisions);for(var T=[],C,S=0;S<this.curves.length;S++){var P=this.curves[S];if(P.active)for(var A=P.getResolution(v),L=P.getPoints(A,m),F=0;F<L.length;F++){var B=L[F];C&&C.equals(B)||(T.push(B),C=B)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(v){return v===void 0&&(v=new h),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var m=[],T=0;T<=v;T++)m.push(this.getPoint(T/v));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(v){return v===void 0&&(v=new h),v.copy(this.startPoint)},getTangent:function(v,m){m===void 0&&(m=new h);for(var T=v*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=T){var P=C[S]-T,A=this.curves[S],L=A.getLength(),F=L===0?0:1-P/L;return A.getTangentAt(F,m)}S++}return null},lineTo:function(v,m){v instanceof h?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,m);var T=this.getEndPoint(this._tmpVec2A);return this.add(new r([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new i(v))},moveTo:function(v,m){return v instanceof h?this.add(new e(v.x,v.y)):this.add(new e(v,m))},toJSON:function(){for(var v=[],m=0;m<this.curves.length;m++)v.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(v,m){return new f(v,m)}),c.exports=f},45893:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(24882),o=new a({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var e=[],n=0;n<s.length;n++)e.push(r[s[n]]);return e}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(r[e]=this.list[e]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var e=this,n=this.list,l=this.events,i=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return n[s]},set:function(h){if(!e._frozen){var u=n[s];n[s]=h,l.emit(g.CHANGE_DATA,i,s,h,u),l.emit(g.CHANGE_DATA_KEY+s,i,h,u)}}}),n[s]=r,l.emit(g.SET_DATA,i,s,r)}return this},each:function(s,r){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var l in this.list)e[1]=l,e[2]=this.list[l],s.apply(r,e);return this},merge:function(s,r){r===void 0&&(r=!0);for(var e in s)s.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(g.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(g.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});c.exports=o},63646:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(45893),o=t(37277),s=t(44594),r=new a({Extends:g,initialize:function(n){g.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),c.exports=r},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var e=function(i,h){var u=s.canPlayType("audio/"+i).replace(/^no$/,"");return h?!!(u||s.canPlayType("audio/"+h).replace(/^no$/,"")):!!u};if(g.ogg=e('ogg; codecs="vorbis"'),g.opus=e('ogg; codecs="opus"',"opus"),g.mp3=e("mpeg"),g.wav=e("wav"),g.m4a=e("x-m4a"),g.aac=e("aac"),g.flac=e("flac","x-flac"),g.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)g.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(g.dolby=!0)}}}}catch{}return g}c.exports=o()},84148:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(g.edge=!0,g.es2019=!0):/OPR/.test(s)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(s)&&!a.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&a.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!a.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(g.silk=!0),g}c.exports=o()},89289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var i=new Image;i.onload=function(){var h=a.create2D(i,6),u=h.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(l,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var f=u.getImageData(2,0,1,1).data;a.remove(i),g.supportNewBlendModes=f[0]===255&&f[1]===0&&f[2]===0},i.src=e+"/wCKxvRF"+n},l.src=e+"AP804Oa6"+n,!1}function s(){var e=a.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var i=n.getImageData(1,0,1,1),h=i.data[0]===l.data[0]&&i.data[1]===l.data[1]&&i.data[2]===l.data[2]&&i.data[3]===l.data[3];return a.remove(this),h}function r(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=o(),g.supportInverseAlpha=s()),g}c.exports=r()},89357:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),g=t(84148),o=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),i=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var i=o.createWebGL(this),h=i.getContext("webgl")||i.getContext("experimental-webgl"),u=o.create2D(this),f=u.getContext("2d",{willReadFrequently:!0}),v=f.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(i),o.remove(u),!!h}catch{return!1}return!1};return s.webGL=l(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(g.ie||g.firefox||g.chrome)&&(s.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&n,s}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return x;var a,g="Fullscreen",o="FullScreen",s=["request"+g,"request"+o,"webkitRequest"+g,"webkitRequest"+o,"msRequest"+g,"msRequest"+o,"mozRequest"+o,"mozRequest"+g];for(a=0;a<s.length;a++)if(document.documentElement[s[a]]){x.available=!0,x.request=s[a];break}var r=["cancel"+o,"exit"+g,"webkitCancel"+o,"webkitExit"+g,"msCancel"+o,"msExit"+g,"mozCancel"+o,"mozExit"+g];if(x.available){for(a=0;a<r.length;a++)if(document[r[a]]){x.cancel=r[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}c.exports=t()},31784:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}c.exports=o()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var g=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!g||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}c.exports=t()},43267:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return g;var s=document.createElement("video"),r=!!s.canPlayType,e=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(g.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(g.h264=!0,g.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(g.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(g.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(g.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(g.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),g.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=a(n[l],"url",n[l]);if(i.indexOf("blob:")===0)return{url:i,type:""};var h;if(i.indexOf("data:")===0?h=i.split(",")[0].match(/\/(.*?);/):h=i.match(/\.([a-zA-Z0-9]+)($|\?)/),h=a(n[l],"type",h?h[1]:"").toLowerCase(),g[h])return{url:i,type:h}}return null},g}c.exports=o()},82264:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new Float32Array(20),o=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var e=Math.cos(s),n=Math.sin(s),l=.213,i=.715,h=.072;return this.multiply([l+e*(1-l)+n*-l,i+e*-i+n*-i,h+e*-h+n*(1-h),0,0,l+e*-l+n*.143,i+e*(1-i)+n*.14,h+e*-h+n*-.283,0,0,l+e*-l+n*-(1-l),i+e*-i+n*i,h+e*(1-h)+n*h,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(o.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(o.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(o.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(o.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(o.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(o.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(o.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(o.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(o.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(o.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(o.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,n=g;return n.set(e),e.set([n[0]*s[0]+n[1]*s[5]+n[2]*s[10]+n[3]*s[15],n[0]*s[1]+n[1]*s[6]+n[2]*s[11]+n[3]*s[16],n[0]*s[2]+n[1]*s[7]+n[2]*s[12]+n[3]*s[17],n[0]*s[3]+n[1]*s[8]+n[2]*s[13]+n[3]*s[18],n[0]*s[4]+n[1]*s[9]+n[2]*s[14]+n[3]*s[19]+n[4],n[5]*s[0]+n[6]*s[5]+n[7]*s[10]+n[8]*s[15],n[5]*s[1]+n[6]*s[6]+n[7]*s[11]+n[8]*s[16],n[5]*s[2]+n[6]*s[7]+n[7]*s[12]+n[8]*s[17],n[5]*s[3]+n[6]*s[8]+n[7]*s[13]+n[8]*s[18],n[5]*s[4]+n[6]*s[9]+n[7]*s[14]+n[8]*s[19]+n[9],n[10]*s[0]+n[11]*s[5]+n[12]*s[10]+n[13]*s[15],n[10]*s[1]+n[11]*s[6]+n[12]*s[11]+n[13]*s[16],n[10]*s[2]+n[11]*s[7]+n[12]*s[12]+n[13]*s[17],n[10]*s[3]+n[11]*s[8]+n[12]*s[13]+n[13]*s[18],n[10]*s[4]+n[11]*s[9]+n[12]*s[14]+n[13]*s[19]+n[14],n[15]*s[0]+n[16]*s[5]+n[17]*s[10]+n[18]*s[15],n[15]*s[1]+n[16]*s[6]+n[17]*s[11]+n[18]*s[16],n[15]*s[2]+n[16]*s[7]+n[17]*s[12]+n[18]*s[17],n[15]*s[3]+n[16]*s[8]+n[17]*s[13]+n[18]*s[18],n[15]*s[4]+n[16]*s[9]+n[17]*s[14]+n[18]*s[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=o},51767:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(29747),o=new a({initialize:function(r,e,n){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(r,e,n)},set:function(s,r,e){return s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[s,r,e],this.onChange(),this},equals:function(s,r,e){var n=this._rgb;return n[0]===s&&n[1]===r&&n[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=o},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=x},54312:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(35893),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)+l),o(e,a(n)+i),e};c.exports=r},46768:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(26541),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)-l),o(e,a(n)+i),e};c.exports=r},35827:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(54380),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)+l),o(e,a(n)+i),e};c.exports=r},46871:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66786),g=t(35893),o=t(7702),s=function(r,e,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),a(r,g(e)+n,o(e)+l),r};c.exports=s},5198:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),g=t(26541),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)-l),o(e,a(n)+i),e};c.exports=r},11879:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),g=[];g[a.BOTTOM_CENTER]=t(54312),g[a.BOTTOM_LEFT]=t(46768),g[a.BOTTOM_RIGHT]=t(35827),g[a.CENTER]=t(46871),g[a.LEFT_CENTER]=t(5198),g[a.RIGHT_CENTER]=t(80503),g[a.TOP_CENTER]=t(89698),g[a.TOP_LEFT]=t(922),g[a.TOP_RIGHT]=t(21373),g[a.LEFT_BOTTOM]=g[a.BOTTOM_LEFT],g[a.LEFT_TOP]=g[a.TOP_LEFT],g[a.RIGHT_BOTTOM]=g[a.BOTTOM_RIGHT],g[a.RIGHT_TOP]=g[a.TOP_RIGHT];var o=function(s,r,e,n,l){return g[e](s,r,n,l)};c.exports=o},80503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),g=t(54380),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)+l),o(e,a(n)+i),e};c.exports=r},89698:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35893),g=t(17717),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,g(n)-i),e};c.exports=r},922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),g=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,g(n)-i),e};c.exports=r},21373:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),g=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,g(n)-i),e};c.exports=r},91660:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),g=t(79291),o={In:t(91660),To:t(16694)};o=g(!1,o,a),c.exports=o},21578:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(35893),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,g(n)+l),s(e,a(n)+i),e};c.exports=r},10210:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(26541),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,g(n)-l),s(e,a(n)+i),e};c.exports=r},82341:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(54380),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,g(n)+l),s(e,a(n)+i),e};c.exports=r},87958:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(26541),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)-l),o(e,a(n)+i),e};c.exports=r},40080:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),g=t(26541),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)-l),o(e,a(n)+i),e};c.exports=r},88466:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),g=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,g(n)-i),e};c.exports=r},38829:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),g=[];g[a.BOTTOM_CENTER]=t(21578),g[a.BOTTOM_LEFT]=t(10210),g[a.BOTTOM_RIGHT]=t(82341),g[a.LEFT_BOTTOM]=t(87958),g[a.LEFT_CENTER]=t(40080),g[a.LEFT_TOP]=t(88466),g[a.RIGHT_BOTTOM]=t(19211),g[a.RIGHT_CENTER]=t(34609),g[a.RIGHT_TOP]=t(48741),g[a.TOP_CENTER]=t(49440),g[a.TOP_LEFT]=t(81288),g[a.TOP_RIGHT]=t(61323);var o=function(s,r,e,n,l){return g[e](s,r,n,l)};c.exports=o},19211:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(54380),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)+l),o(e,a(n)+i),e};c.exports=r},34609:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),g=t(54380),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,g(n)+l),o(e,a(n)+i),e};c.exports=r},48741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),g=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,g(n)-i),e};c.exports=r},49440:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35893),g=t(17717),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,g(n)-i),e};c.exports=r},81288:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),g=t(17717),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)-l),o(e,g(n)-i),e};c.exports=r},61323:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),g=t(17717),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,g(n)-i),e};c.exports=r},16694:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(88417),g=t(20786),o=function(s,r,e){return a(s,r),g(s,e)};c.exports=o},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y+t.height-t.height*t.originY};c.exports=x},72873:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),g=t(26541),o=t(54380),s=t(17717),r=t(87841),e=function(n,l){l===void 0&&(l=new r);var i=g(n),h=s(n);return l.x=i,l.y=h,l.width=o(n)-i,l.height=a(n)-h,l};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=x},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=x},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX};c.exports=x},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.originX};c.exports=x},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height*t.originY};c.exports=x},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x+t.width-t.width*t.originX};c.exports=x},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY};c.exports=x},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.y=a-t.height+t.height*t.originY,t};c.exports=x},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.width*t.originX;return t.x=a+g-t.width*.5,t};c.exports=x},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.height*t.originY;return t.y=a+g-t.height*.5,t};c.exports=x},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x=a+t.width*t.originX,t};c.exports=x},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x=a-t.width+t.width*t.originX,t};c.exports=x},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.y=a+t.height*t.originY,t};c.exports=x},58724:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(g){t.style["image-rendering"]=g}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=x},27919:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8054),g=t(68703),o=[],s=!1,r=function(){var e=function(T,C,S,P,A){C===void 0&&(C=1),S===void 0&&(S=1),P===void 0&&(P=a.CANVAS),A===void 0&&(A=!1);var L,F=i(P);return F===null?(F={parent:T,canvas:document.createElement("canvas"),type:P},P===a.CANVAS&&o.push(F),L=F.canvas):(F.parent=T,L=F.canvas),A&&(F.parent=L),L.width=C,L.height=S,s&&P===a.CANVAS&&g.disable(L.getContext("2d",{willReadFrequently:!1})),L},n=function(T,C,S){return e(T,C,S,a.CANVAS)},l=function(T,C,S){return e(T,C,S,a.WEBGL)},i=function(T){if(T===void 0&&(T=a.CANVAS),T===a.WEBGL)return null;for(var C=0;C<o.length;C++){var S=o[C];if(!S.parent&&S.type===T)return S}return null},h=function(T){var C=T instanceof HTMLCanvasElement;o.forEach(function(S){(C&&S.canvas===T||!C&&S.parent===T)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},u=function(){var T=0;return o.forEach(function(C){C.parent&&T++}),T},f=function(){return o.length-u()},v=function(){s=!0},m=function(){s=!1};return{create2D:n,create:e,createWebGL:l,disableSmoothing:v,enableSmoothing:m,first:i,free:f,pool:o,remove:h,total:u}};c.exports=r()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",t=function(){var a=function(r){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var l=e[n]+"mageSmoothingEnabled";if(l in r)return l}return null},g=function(r){return x===""&&(x=a(r)),x&&(r[x]=!0),r},o=function(r){return x===""&&(x=a(r)),x&&(r[x]=!1),r},s=function(r){return x!==null?r[x]:null};return{disable:o,enable:g,getPrefix:a,isEnabled:s}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};c.exports=x},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(o){t.style[o+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=x},26253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(37589),o=t(1e3),s=t(7537),r=t(87837),e=new a({initialize:function(l,i,h,u){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,i,h,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,i,h,u){return h===void 0&&(h=255),u===void 0&&(u=!0),this._locked=!0,this.red=n,this.green=l,this.blue=i,this.alpha=h,this._locked=!1,this.update(u)},setGLTo:function(n,l,i,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=i,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,i){return s(n,l,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,i=this.g,h=this.b,u=this.a;return this._color=g(l,i,h),this._color32=o(l,i,h,u),this._rgba="rgba("+l+","+i+","+h+","+u/255+")",n&&r(l,i,h,this),this},updateHSV:function(){var n=this.r,l=this.g,i=this.b;return r(n,l,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n)),h=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n));return this.setTo(i,h,u)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,i=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),this.setTo(l,i,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,s(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,s(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,s(this._h,this._s,n,this)}}});c.exports=e},92728:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589),g=function(o){o===void 0&&(o=1024);var s=[],r=255,e,n=255,l=0,i=0;for(e=0;e<=r;e++)s.push({r:n,g:e,b:i,color:a(n,e,i)});for(l=255,e=r;e>=0;e--)s.push({r:e,g:l,b:i,color:a(e,l,i)});for(n=0,e=0;e<=r;e++,l--)s.push({r:n,g:l,b:e,color:a(n,l,e)});for(l=0,i=255,e=0;e<=r;e++,i--,n++)s.push({r:n,g:l,b:i,color:a(n,l,i)});if(o===1024)return s;var h=[],u=0,f=1024/o;for(e=0;e<o;e++)h.push(s[Math.floor(u)]),u+=f;return h};c.exports=g},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};c.exports=x},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};c.exports=x},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t<<16|a<<8|g};c.exports=x},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return o<<24|t<<16|a<<8|g};c.exports=x},62183:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),g=t(89528),o=function(s,r,e){var n=e,l=e,i=e;if(r!==0){var h=e<.5?e*(1+r):e+r-e*r,u=2*e-h;n=g(u,h,s+1/3),l=g(u,h,s),i=g(u,h,s-1/3)}var f=new a;return f.setGLTo(n,l,i,1)};c.exports=o},27939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7537),g=function(o,s){o===void 0&&(o=1),s===void 0&&(s=1);for(var r=[],e=0;e<=359;e++)r.push(a(e/359,o,s));return r};c.exports=g},7537:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589);function g(s,r,e,n){var l=(s+r*6)%6,i=Math.min(l,4-l,1);return Math.round(255*(n-n*e*Math.max(0,i)))}var o=function(s,r,e,n){r===void 0&&(r=1),e===void 0&&(e=1);var l=g(5,s,r,e),i=g(3,s,r,e),h=g(1,s,r,e);return n?n.setTo?n.setTo(l,i,h,n.alpha,!0):(n.r=l,n.g=i,n.b=h,n.color=a(l,i,h),n):{r:l,g:i,b:h,color:a(l,i,h)}};c.exports=o},70238:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),g=function(o){var s=new a;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,h,u,f){return h+h+u+u+f+f});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var e=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);s.setTo(e,n,l)}return s};c.exports=g},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?t+(a-t)*6*g:g<.5?a:g<.6666666666666666?t+(a-t)*(.6666666666666666-g)*6:t};c.exports=x},30100:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),g=t(90664),o=function(s){var r=g(s);return new a(r.r,r.g,r.b,r.a)};c.exports=o},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=x},13699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28915),g=function(r,e,n,l,i,h,u,f){u===void 0&&(u=100),f===void 0&&(f=0);var v=f/u;return{r:a(r,l,v),g:a(e,i,v),b:a(n,h,v)}},o=function(r,e,n,l){return n===void 0&&(n=100),l===void 0&&(l=0),g(r.r,r.g,r.b,e.r,e.g,e.b,n,l)},s=function(r,e,n,l,i,h){return i===void 0&&(i=100),h===void 0&&(h=0),g(r.r,r.g,r.b,e,n,l,i,h)};c.exports={RGBWithRGB:g,ColorWithRGB:s,ColorWithColor:o}},68957:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),g=function(o){return new a(o.r,o.g,o.b,o.a)};c.exports=g},87388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),g=function(o){var s=new a,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var e=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(e,n,l,i*255)}return s};c.exports=g},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,a/=255,g/=255;var s=Math.min(t,a,g),r=Math.max(t,a,g),e=r-s,n=0,l=r===0?0:e/r,i=r;return r!==s&&(r===t?n=(a-g)/e+(a<g?6:0):r===a?n=(g-t)/e+2:r===g&&(n=(t-a)/e+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=i):(o.h=n,o.s=l,o.v=i),o};c.exports=x},75723:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62957),g=function(o,s,r,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+a(e)+a(o)+a(s)+a(r)};c.exports=g},85386:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),g=t(40987),o=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new g(a(s,r),a(s,r),a(s,r))};c.exports=o},80333:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70238),g=t(30100),o=t(68957),s=t(87388),r=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):a(e);case"number":return g(e);case"object":return o(e)}};c.exports=r},3956:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),c.exports=a},27460:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(39429),o=new a({initialize:function(r,e,n,l,i,h){e||(e=r.sys.make.image({x:n,y:l,key:i,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(s,r,e,n,l){return new o(this.scene,s,r,e,n,l)}),c.exports=o},80661:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,s,r){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,s,r){var e=o.gl,n=this.geometryMask,l=o.maskCount,i=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,n.renderWebGL(o,n,s),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,i):e.stencilFunc(e.EQUAL,l,i)},postRenderWebGL:function(o){var s=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(o,s,r){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=g},69781:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=n}});c.exports=g},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g;if(a)typeof a=="string"?g=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(g=a);else if(t.parentElement||a===null)return t;return g||(g=document.body),g.appendChild(t),t};c.exports=x},83719:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),g=function(o){var s=o.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,a(r,s.parent)}};c.exports=g},57264:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),g=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),o()};document.body?a.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};c.exports=g},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),g={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),g.w=a===90?o.offsetHeight:window.innerWidth,g.h=a===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?g.h:g.w};c.exports=x},45818:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13560),g=function(o,s){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return s>o?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};c.exports=g},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};c.exports=x},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a="";try{if(window.DOMParser){var g=new DOMParser;a=g.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};c.exports=x},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=x},43092:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(29747),o=new a({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(s,r,e){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});c.exports=o},84902:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=a},47565:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(37277),s=new a({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",s,"events"),c.exports=s},93055:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n){n===void 0&&(n=1),g.call(this,o.BARREL,e),this.amount=n}});c.exports=s},32251:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h,u,f){l===void 0&&(l=1),i===void 0&&(i=1),h===void 0&&(h=1),u===void 0&&(u=1),f===void 0&&(f=4),g.call(this,o.BLOOM,e),this.steps=f,this.offsetX=l,this.offsetY=i,this.blurStrength=h,this.strength=u,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},9047:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h,u,f){n===void 0&&(n=0),l===void 0&&(l=2),i===void 0&&(i=2),h===void 0&&(h=1),f===void 0&&(f=4),g.call(this,o.BLUR,e),this.quality=n,this.x=l,this.y=i,this.steps=f,this.strength=h,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},27885:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h,u,f,v){n===void 0&&(n=.5),l===void 0&&(l=1),i===void 0&&(i=.2),h===void 0&&(h=!1),u===void 0&&(u=1),f===void 0&&(f=1),v===void 0&&(v=1),g.call(this,o.BOKEH,e),this.radius=n,this.amount=l,this.contrast=i,this.isTiltShift=h,this.strength=v,this.blurX=u,this.blurY=f}});c.exports=s},12578:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h,u){n===void 0&&(n=8),h===void 0&&(h=1),u===void 0&&(u=.005),g.call(this,o.CIRCLE,e),this.scale=h,this.feather=u,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});c.exports=s},15802:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(89422),o=t(14811),s=new a({Extends:g,initialize:function(e){g.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=s},72898:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=g},44553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),i===void 0&&(i=.005),g.call(this,o.DISPLACEMENT,e),this.x=l,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});c.exports=s},68531:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h){l===void 0&&(l=4),i===void 0&&(i=0),h===void 0&&(h=!1),g.call(this,o.GLOW,e),this.outerStrength=l,this.innerStrength=i,this.knockout=h,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},37102:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h,u,f,v,m){i===void 0&&(i=.2),h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=1),m===void 0&&(m=0),g.call(this,o.GRADIENT,e),this.alpha=i,this.size=m,this.fromX=h,this.fromY=u,this.toX=f,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});c.exports=s},86886:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n){n===void 0&&(n=1),g.call(this,o.PIXELATE,e),this.amount=n}});c.exports=s},92322:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h,u,f,v){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=.1),h===void 0&&(h=1),f===void 0&&(f=6),v===void 0&&(v=1),g.call(this,o.SHADOW,e),this.x=n,this.y=l,this.decay=i,this.power=h,this.glcolor=[0,0,0,1],this.samples=f,this.intensity=v,u!==void 0&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},39563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=3),h===void 0&&(h=!1),g.call(this,o.SHINE,e),this.speed=n,this.lineWidth=l,this.gradient=i,this.reveal=h}});c.exports=s},56448:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=.5),h===void 0&&(h=.5),g.call(this,o.VIGNETTE,e),this.x=n,this.y=l,this.radius=i,this.strength=h}});c.exports=s},38433:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72898),o=t(14811),s=new a({Extends:g,initialize:function(e,n,l,i,h){n===void 0&&(n=.1),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),g.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=i,this.reveal=h}});c.exports=s},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=x},66064:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),g=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=a(!1,o,g),c.exports=o},25305:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g=t(23568),o=function(s,r,e){r.x=g(e,"x",0),r.y=g(e,"y",0),r.depth=g(e,"depth",0),r.flipX=g(e,"flipX",!1),r.flipY=g(e,"flipY",!1);var n=g(e,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=g(n,"x",1),r.scaleY=g(n,"y",1));var l=g(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=g(l,"x",1),r.scrollFactorY=g(l,"y",1)),r.rotation=g(e,"rotation",0);var i=g(e,"angle",null);i!==null&&(r.angle=i),r.alpha=g(e,"alpha",1);var h=g(e,"origin",null);if(typeof h=="number")r.setOrigin(h);else if(h!==null){var u=g(h,"x",.5),f=g(h,"y",.5);r.setOrigin(u,f)}r.blendMode=g(e,"blendMode",a.NORMAL),r.visible=g(e,"visible",!0);var v=g(e,"add",!0);return v&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};c.exports=o},13059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23568),g=function(o,s){var r=a(s,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var e=o.anims,n=a(r,"key",void 0);if(n){var l=a(r,"startFrame",void 0),i=a(r,"delay",0),h=a(r,"repeat",0),u=a(r,"repeatDelay",0),f=a(r,"yoyo",!1),v=a(r,"play",!1),m=a(r,"delayedPlay",0),T={key:n,delay:i,repeat:h,repeatDelay:u,yoyo:f,startFrame:l};v?e.play(T):m>0?e.playAfterDelay(T,m):e.load(T)}}return o};c.exports=g},8050:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(73162),o=t(37277),s=t(51708),r=t(44594),e=t(19186),n=new a({Extends:g,initialize:function(i){g.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,i){return l._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),c.exports=n},95643:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(53774),o=t(45893),s=t(50792),r=t(51708),e=t(44594),n=new a({Extends:s,initialize:function(i,h){s.call(this),this.scene=i,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,i){return this.data||(this.data=new o(this)),this.data.set(l,i),this},incData:function(l,i){return this.data||(this.data=new o(this)),this.data.inc(l,i),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,i,h){return this.scene.sys.input.enable(this,l,i,h),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(l){var i=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,i=this.parentContainer,h=[];i&&(h.unshift(i.getIndex(l)),l=i,i.parentContainer);)i=i.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,c.exports=n},44603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},g.register("GameObjectCreator",s,"make"),c.exports=s},39429:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},g.register("GameObjectFactory",s,"add"),c.exports=s},91296:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),g=new a,o=new a,s=new a,r={camera:g,sprite:o,calc:s},e=function(n,l,i){var h=g,u=o,f=s;return u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(l.matrix),i?(h.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=l.scrollX*n.scrollFactorX,u.f-=l.scrollY*n.scrollFactorY),h.multiply(u,f),r};c.exports=e},45027:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(25774),o=t(37277),s=t(44594),r=new a({Extends:g,initialize:function(n){g.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var l=this._active,i=l.length,h=0;h<i;h++){var u=l[h];u.active&&u.preUpdate.call(u,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(s.PRE_UPDATE,this.update,this),n.off(s.UPDATE,this.sceneUpdate,this),n.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),c.exports=r},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s,r,e,n,l,i,h,u,f,v,m){var T=g.x-a.displayOriginX+s,C=g.y-a.displayOriginY+r,S=T+g.w,P=C+g.h,A=e.getXRound(T,C,n),L=e.getYRound(T,C,n),F=e.getXRound(T,P,n),B=e.getYRound(T,P,n),D=e.getXRound(S,P,n),I=e.getYRound(S,P,n),G=e.getXRound(S,C,n),z=e.getYRound(S,C,n);t.batchQuad(a,A,L,F,B,D,I,G,z,o.u0,o.v0,o.u1,o.v1,l,i,h,u,f,v,m)};c.exports=x},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){if(g===void 0&&(g=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var s=t.text,r=s.length,e=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,i=Number.MAX_VALUE,h=0,u=0,f=t.fontData.chars,v=t.fontData.lineHeight,m=t.letterSpacing,T=t.lineSpacing,C=0,S=0,P=0,A=null,L=t._align,F=0,B=0,D=t.fontSize/t.fontData.size,I=D*t.scaleX,G=D*t.scaleY,z=null,W=0,Y=[],K=Number.MAX_VALUE,Z=0,V=0,H=0,N,b=[],X=[],$=null;if(e>0){for(N=0;N<r;N++){if(P=s.charCodeAt(N),P===10){$!==null&&(b.push({word:$.word,i:$.i,x:$.x*I,y:$.y*G,w:$.w*I,h:$.h*G,cr:!0}),$=null),C=0,S+=v+T,z=null;continue}if(A=f[P],!!A){if(z!==null)var Q=A.kerning[W];P===n?$!==null&&(b.push({word:$.word,i:$.i,x:$.x*I,y:$.y*G,w:$.w*I,h:$.h*G,cr:!1}),$=null):($===null&&($={word:"",i:N,x:C,y:S,w:0,h:v,cr:!1}),$.word=$.word.concat(s[N]),$.w+=A.xOffset+A.xAdvance+(Q!==void 0?Q:0)),C+=A.xAdvance+m,z=A,W=P}}$!==null&&b.push({word:$.word,i:$.i,x:$.x*I,y:$.y*G,w:$.w*I,h:$.h*G,cr:!1}),C=0,S=0,z=null,W=0;var k,J=0,et=[];for(N=0;N<b.length;N++){var nt=b[N],st=nt.x,ot=nt.x+nt.w;if(k){var ut=st-(k.x+k.w);J=st-(ut+k.w),k=null}var at=st-J,ct=ot-J;at>e||ct>e?(et.push(nt.i-1),nt.cr?(et.push(nt.i+nt.word.length),J=0,k=null):k=nt):nt.cr&&(et.push(nt.i+nt.word.length),J=0,k=null)}var Pt=function(Jt,Te,Ee){return Jt.substr(0,Te)+Ee+Jt.substr(Te+1)};for(N=et.length-1;N>=0;N--)s=Pt(s,et[N],`
`);o.wrappedText=s,r=s.length,b=[],$=null}var Ct=0;for(N=0;N<r;N++){if(P=s.charCodeAt(N),P===10){$!==null&&(b.push({word:$.word,i:$.i,x:$.x*I,y:$.y*G,w:$.w*I,h:$.h*G}),$=null),C=0,S+=v+T,z=null,Y[V]=H,H>Z&&(Z=H),H<K&&(K=H),V++,H=0;continue}if(A=f[P],!!A){if(F=C,B=S,z!==null){var Et=A.kerning[W];F+=Et!==void 0?Et:0}l>F&&(l=F),i>B&&(i=B);var dt=F+A.xAdvance,St=B+v;h<dt&&(h=dt),u<St&&(u=St);var vt=A.xOffset+A.xAdvance+(Et!==void 0?Et:0);P===n?$!==null&&(b.push({word:$.word,i:$.i,x:$.x*I,y:$.y*G,w:$.w*I,h:$.h*G}),$=null):($===null&&($={word:"",i:Ct,x:C,y:S,w:0,h:v}),$.word=$.word.concat(s[N]),$.w+=vt),X.push({i:Ct,idx:N,char:s[N],code:P,x:(A.xOffset+F)*D,y:(A.yOffset+S)*D,w:A.width*D,h:A.height*D,t:S*D,r:dt*D,b:v*D,line:V,glyph:A}),C+=A.xAdvance+m+(Et!==void 0?Et:0),z=A,W=P,H=dt*D,Ct++}}if($!==null&&b.push({word:$.word,i:$.i,x:$.x*I,y:$.y*G,w:$.w*I,h:$.h*G}),Y[V]=H,H>Z&&(Z=H),H<K&&(K=H),L>0)for(var Mt=0;Mt<X.length;Mt++){var Nt=X[Mt];if(L===1){var Zt=(Z-Y[Nt.line])/2;Nt.x+=Zt,Nt.r+=Zt}else if(L===2){var Ut=Z-Y[Nt.line];Nt.x+=Ut,Nt.r+=Ut}}var Ht=o.local,Gt=o.global,oe=o.lines;return Ht.x=l*D,Ht.y=i*D,Ht.width=h*D,Ht.height=u*D,Gt.x=t.x-t._displayOriginX+l*I,Gt.y=t.y-t._displayOriginY+i*G,Gt.width=h*I,Gt.height=u*G,oe.shortest=K,oe.longest=Z,oe.lengths=Y,a&&(Ht.x=Math.ceil(Ht.x),Ht.y=Math.ceil(Ht.y),Ht.width=Math.ceil(Ht.width),Ht.height=Math.ceil(Ht.height),Gt.x=Math.ceil(Gt.x),Gt.y=Math.ceil(Gt.y),Gt.width=Math.ceil(Gt.width),Gt.height=Math.ceil(Gt.height),oe.shortest=Math.ceil(K),oe.longest=Math.ceil(Z)),g&&(t._displayOriginX=t.originX*Ht.width,t._displayOriginY=t.originY*Ht.height,Gt.x=t.x-t._displayOriginX*t.scaleX,Gt.y=t.y-t._displayOriginY*t.scaleY,a&&(Gt.x=Math.ceil(Gt.x),Gt.y=Math.ceil(Gt.y))),o.words=b,o.characters=X,o.lines.height=v,o.scale=D,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};c.exports=x},61327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21859),g=function(o,s,r,e,n,l,i){var h=o.sys.textures.get(r),u=h.get(e),f=o.sys.cache.xml.get(n);if(u&&f){var v=a(f,u,l,i,h);return o.sys.cache.bitmapFont.add(s,{data:v,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=g},6925:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),g=function(o,s){var r=s.width,e=s.height,n=Math.floor(r/2),l=Math.floor(e/2),i=a(s,"chars","");if(i!==""){var h=a(s,"image",""),u=o.sys.textures.getFrame(h),f=u.cutX,v=u.cutY,m=u.source.width,T=u.source.height,C=a(s,"offset.x",0),S=a(s,"offset.y",0),P=a(s,"spacing.x",0),A=a(s,"spacing.y",0),L=a(s,"lineSpacing",0),F=a(s,"charsPerRow",null);F===null&&(F=m/r,F>i.length&&(F=i.length));for(var B=C,D=S,I={retroFont:!0,font:h,size:r,lineHeight:e+L,chars:{}},G=0,z=0;z<i.length;z++){var W=i.charCodeAt(z),Y=(f+B)/m,K=(v+D)/T,Z=(f+B+r)/m,V=(v+D+e)/T;I.chars[W]={x:B,y:D,width:r,height:e,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:Y,v0:K,u1:Z,v1:V},G++,G===F?(G=0,B=C,D+=e+A):B+=r+P}var H={data:I,frame:null,texture:h};return H}};c.exports=g},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,g){return parseInt(a.getAttribute(g),10)}var t=function(a,g,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0);var e=g.cutX,n=g.cutY,l=g.source.width,i=g.source.height,h=g.sourceIndex,u={},f=a.getElementsByTagName("info")[0],v=a.getElementsByTagName("common")[0];u.font=f.getAttribute("face"),u.size=x(f,"size"),u.lineHeight=x(v,"lineHeight")+s,u.chars={};var m=a.getElementsByTagName("char"),T=g!==void 0&&g.trimmed;if(T)var C=g.height,S=g.width;for(var P=0;P<m.length;P++){var A=m[P],L=x(A,"id"),F=String.fromCharCode(L),B=x(A,"x"),D=x(A,"y"),I=x(A,"width"),G=x(A,"height");T&&(B<S&&(S=B),D<C&&(C=D)),T&&C!==0&&S!==0&&(B-=g.x,D-=g.y);var z=(e+B)/l,W=(n+D)/i,Y=(e+B+I)/l,K=(n+D+G)/i;if(u.chars[L]={x:B,y:D,width:I,height:G,centerX:Math.floor(I/2),centerY:Math.floor(G/2),xOffset:x(A,"xoffset"),yOffset:x(A,"yoffset"),xAdvance:x(A,"xadvance")+o,data:{},kerning:{},u0:z,v0:W,u1:Y,v1:K},r&&I!==0&&G!==0){var Z=r.add(F,h,B,D,I,G);Z&&Z.setUVs(I,G,z,W,Y,K)}}var V=a.getElementsByTagName("kerning");for(P=0;P<V.length;P++){var H=V[P],N=x(H,"first"),b=x(H,"second"),X=x(H,"amount");u.chars[b].kerning[N]=X}return u};c.exports=t},196:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87662),g=t(79291),o={Parse:t(6925)};o=g(!1,o,a),c.exports=o},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=x},2638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),g=t(83419),o=t(12310),s=new g({Extends:a,Mixins:[o],initialize:function(e,n,l,i,h,u,f){a.call(this,e,n,l,i,h,u,f),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});c.exports=s},86741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20926),g=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,u=s.displayCallback,f=s.callbackData,v=s.fontData.chars,m=s.fontData.lineHeight,T=s._letterSpacing,C=0,S=0,P=0,A=null,L=0,F=0,B=0,D=0,I=0,G=0,z=null,W=0,Y=s.frame.source.image,K=h.cutX,Z=h.cutY,V=0,H=0,N=s._fontSize/s.fontData.size,b=s._align,X=0,$=0;s.getTextBounds(!1);var Q=s._bounds.lines;b===1?$=(Q.longest-Q.lengths[0])/2:b===2&&($=Q.longest-Q.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);var k=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(i.beginPath(),i.rect(0,0,s.cropWidth,s.cropHeight),i.clip());for(var J=0;J<l;J++){if(H=N,V=0,P=n.charCodeAt(J),P===10){X++,b===1?$=(Q.longest-Q.lengths[X])/2:b===2&&($=Q.longest-Q.lengths[X]),C=0,S+=m,z=null;continue}if(A=v[P],!!A){if(L=K+A.x,F=Z+A.y,B=A.width,D=A.height,I=A.xOffset+C-s.scrollX,G=A.yOffset+S-s.scrollY,z!==null){var et=A.kerning[W];I+=et!==void 0?et:0}if(u){f.index=J,f.charCode=P,f.x=I,f.y=G,f.scale=H,f.rotation=V,f.data=A.data;var nt=u(f);I=nt.x,G=nt.y,H=nt.scale,V=nt.rotation}I*=H,G*=H,I+=$,C+=A.xAdvance+T+(et!==void 0?et:0),z=A,W=P,!(B===0||D===0||P===32)&&(k&&(I=Math.round(I),G=Math.round(G)),i.save(),i.translate(I,G),i.rotate(V),i.scale(H,H),i.drawImage(Y,L,F,B,D,0,0,B,D),i.restore())}}i.restore()}};c.exports=g},11164:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2638),g=t(25305),o=t(44603),s=t(23568);o.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var n=s(r,"font",""),l=s(r,"text",""),i=s(r,"size",!1),h=new a(this.scene,0,0,n,l,i);return e!==void 0&&(r.add=e),g(this.scene,h,r),h})},72566:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2638),g=t(39429);g.register("dynamicBitmapText",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,e,n))})},12310:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(73482),o=t(86741),c.exports={renderWebGL:g,renderCanvas:o}},73482:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(61340),o=t(70554),s=new g,r=function(e,n,l,i){var h=n.text,u=h.length;if(u!==0){l.addToRenderList(n);var f=e.pipelines.set(n.pipeline,n),v=a(n,l,i);e.pipelines.preBatch(n);var m=v.sprite,T=v.calc,C=s,S=n.cropWidth>0||n.cropHeight>0;S&&(f.flush(),e.pushScissor(T.tx,T.ty,n.cropWidth*T.scaleX,n.cropHeight*T.scaleY));var P=n.frame,A=P.glTexture,L=n.tintFill,F=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),B=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),D=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),I=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),G=f.setGameObject(n),z=0,W=0,Y=0,K=0,Z=n.letterSpacing,V,H=0,N=0,b,X=n.scrollX,$=n.scrollY,Q=n.fontData,k=Q.chars,J=Q.lineHeight,et=n.fontSize/Q.size,nt=0,st=n._align,ot=0,ut=0,at=n.getTextBounds(!1);n.maxWidth>0&&(h=at.wrappedText,u=h.length);var ct=n._bounds.lines;st===1?ut=(ct.longest-ct.lengths[0])/2:st===2&&(ut=ct.longest-ct.lengths[0]);for(var Pt=l.roundPixels,Ct=n.displayCallback,Et=n.callbackData,dt=0;dt<u;dt++){if(Y=h.charCodeAt(dt),Y===10){ot++,st===1?ut=(ct.longest-ct.lengths[ot])/2:st===2&&(ut=ct.longest-ct.lengths[ot]),z=0,W+=J,b=null;continue}if(V=k[Y],!!V){H=V.width,N=V.height;var St=V.xOffset+z-X,vt=V.yOffset+W-$;if(b!==null){var Mt=V.kerning[K];St+=Mt!==void 0?Mt:0}if(z+=V.xAdvance+Z,b=V,K=Y,!(H===0||N===0||Y===32)){if(et=n.fontSize/n.fontData.size,nt=0,Ct){Et.color=0,Et.tint.topLeft=F,Et.tint.topRight=B,Et.tint.bottomLeft=D,Et.tint.bottomRight=I,Et.index=dt,Et.charCode=Y,Et.x=St,Et.y=vt,Et.scale=et,Et.rotation=nt,Et.data=V.data;var Nt=Ct(Et);St=Nt.x,vt=Nt.y,et=Nt.scale,nt=Nt.rotation,Nt.color?(F=Nt.color,B=Nt.color,D=Nt.color,I=Nt.color):(F=Nt.tint.topLeft,B=Nt.tint.topRight,D=Nt.tint.bottomLeft,I=Nt.tint.bottomRight),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaTL),B=o.getTintAppendFloatAlpha(B,l.alpha*n._alphaTR),D=o.getTintAppendFloatAlpha(D,l.alpha*n._alphaBL),I=o.getTintAppendFloatAlpha(I,l.alpha*n._alphaBR)}St*=et,vt*=et,St-=n.displayOriginX,vt-=n.displayOriginY,St+=ut,C.applyITRS(St,vt,nt,et,et),T.multiply(C,m);var Zt=V.u0,Ut=V.v0,Ht=V.u1,Gt=V.v1,oe=H,Jt=N,Te=m.e,Ee=m.f,Ue=Jt*m.c+m.e,Qi=Jt*m.d+m.f,ki=oe*m.a+Jt*m.c+m.e,Sn=oe*m.b+Jt*m.d+m.f,Cn=oe*m.a+m.e,En=oe*m.b+m.f;Pt&&(Te=Math.round(Te),Ee=Math.round(Ee),Ue=Math.round(Ue),Qi=Math.round(Qi),ki=Math.round(ki),Sn=Math.round(Sn),Cn=Math.round(Cn),En=Math.round(En)),f.shouldFlush(6)&&(f.flush(),G=f.setGameObject(n)),f.batchQuad(n,Te,Ee,Ue,Qi,ki,Sn,Cn,En,Zt,Ut,Ht,Gt,F,B,D,I,L,A,G)}}}S&&(f.flush(),e.popScissor()),e.pipelines.postBatch(n)}};c.exports=r},22186:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(45319),o=t(31401),s=t(95643),r=t(53048),e=t(61327),n=t(21859),l=t(87841),i=t(18658),h=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,i],initialize:function(f,v,m,T,C,S,P){C===void 0&&(C=""),P===void 0&&(P=0),s.call(this,f,"BitmapText"),this.font=T;var A=this.scene.sys.cache.bitmapFont.get(T);A||console.warn("Invalid BitmapText key: "+T),this.fontData=A.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=P,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,f,v,m){return u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=.5),this.dropShadowX=u,this.dropShadowY=f,this.dropShadowColor=v,this.dropShadowAlpha=m,this},setCharacterTint:function(u,f,v,m,T,C,S){u===void 0&&(u=0),f===void 0&&(f=1),v===void 0&&(v=!1),m===void 0&&(m=-1),T===void 0&&(T=m,C=m,S=m);var P=this.text.length;f===-1&&(f=P),u<0&&(u=P+u),u=g(u,0,P-1);for(var A=g(u+f,u,P),L=this.charColors,F=u;F<A;F++){var B=L[F];if(m===-1)L[F]=null;else{var D=v?1:0;B?(B.tintEffect=D,B.tintTL=m,B.tintTR=T,B.tintBL=C,B.tintBR=S):L[F]={tintEffect:D,tintTL:m,tintTR:T,tintBL:C,tintBR:S}}}return this},setWordTint:function(u,f,v,m,T,C,S){f===void 0&&(f=1);for(var P=this.getTextBounds(),A=P.words,L=typeof u=="number",F=0,B=0;B<A.length;B++){var D=A[B];if((L&&B===u||!L&&D.word===u)&&(this.setCharacterTint(D.i,D.word.length,v,m,T,C,S),F++,F===f))return this}return this},getTextBounds:function(u){var f=this._bounds;return(this._dirty||u||this.scaleX!==f.scaleX||this.scaleY!==f.scaleY)&&(r(this,u,!0,f),this._dirty=!1),f},getCharacterAt:function(u,f,v){for(var m=this.getLocalPoint(u,f,null,v),T=this.getTextBounds(),C=T.characters,S=new l,P=0;P<C.length;P++){var A=C[P];if(S.setTo(A.x,A.t,A.r-A.x,A.b),S.contains(m.x,m.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,f,v){f===void 0&&(f=this._fontSize),v===void 0&&(v=this._align);var m=this.scene.sys.cache.bitmapFont.get(u);return m&&(this.font=u,this.fontData=m.data,this._fontSize=f,this._align=v,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,f){return this._maxWidth=u,this._dirty=!0,f!==void 0&&(this.wordWrapCharCode=f),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=o.ToJSON(this),f={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=f,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=n,c.exports=h},37289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20926),g=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,u=s.fontData.chars,f=s.fontData.lineHeight,v=s._letterSpacing,m=s._lineSpacing,T=0,C=0,S=0,P=null,A=0,L=0,F=0,B=0,D=0,I=0,G=null,z=0,W=h.source.image,Y=h.cutX,K=h.cutY,Z=s._fontSize/s.fontData.size,V=s._align,H=0,N=0,b=s.getTextBounds(!1);s.maxWidth>0&&(n=b.wrappedText,l=n.length);var X=s._bounds.lines;V===1?N=(X.longest-X.lengths[0])/2:V===2&&(N=X.longest-X.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);for(var $=r.roundPixels,Q=0;Q<l;Q++){if(S=n.charCodeAt(Q),S===10){H++,V===1?N=(X.longest-X.lengths[H])/2:V===2&&(N=X.longest-X.lengths[H]),T=0,C+=f+m,G=null;continue}if(P=u[S],!!P){if(A=Y+P.x,L=K+P.y,F=P.width,B=P.height,D=P.xOffset+T,I=P.yOffset+C,G!==null){var k=P.kerning[z];D+=k!==void 0?k:0}D*=Z,I*=Z,D+=N,T+=P.xAdvance+v+(k!==void 0?k:0),G=P,z=S,!(F===0||B===0||S===32)&&($&&(D=Math.round(D),I=Math.round(I)),i.save(),i.translate(D,I),i.scale(Z,Z),i.drawImage(W,A,L,F,B,0,0,F,B),i.restore())}}i.restore()}};c.exports=g},57336:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),g=t(25305),o=t(44603),s=t(23568),r=t(35154);o.register("bitmapText",function(e,n){e===void 0&&(e={});var l=r(e,"font",""),i=s(e,"text",""),h=s(e,"size",!1),u=r(e,"align",0),f=new a(this.scene,0,0,l,i,h,u);return n!==void 0&&(e.add=n),g(this.scene,f,e),f})},34914:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),g=t(39429);g.register("bitmapText",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},18658:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(33590),o=t(37289),c.exports={renderWebGL:g,renderCanvas:o}},33590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3217),g=t(91296),o=t(70554),s=function(r,e,n,l){var i=e._text,h=i.length;if(h!==0){n.addToRenderList(e);var u=r.pipelines.set(e.pipeline,e),f=g(e,n,l).calc;r.pipelines.preBatch(e);var v=n.roundPixels,m=n.alpha,T=e.charColors,C=e.tintFill,S=o.getTintAppendFloatAlpha,P=S(e.tintTopLeft,m*e._alphaTL),A=S(e.tintTopRight,m*e._alphaTR),L=S(e.tintBottomLeft,m*e._alphaBL),F=S(e.tintBottomRight,m*e._alphaBR),B=e.frame.glTexture,D=u.setGameObject(e),I=e.getTextBounds(!1),G,z,W,Y=I.characters,K=e.dropShadowX,Z=e.dropShadowY,V=K!==0||Z!==0;if(V){var H=e.dropShadowColor,N=e.dropShadowAlpha,b=S(H,m*N*e._alphaTL),X=S(H,m*N*e._alphaTR),$=S(H,m*N*e._alphaBL),Q=S(H,m*N*e._alphaBR);for(G=0;G<Y.length;G++)z=Y[G],W=z.glyph,!(z.code===32||W.width===0||W.height===0)&&a(u,e,z,W,K,Z,f,v,b,X,$,Q,1,B,D)}for(G=0;G<Y.length;G++)if(z=Y[G],W=z.glyph,!(z.code===32||W.width===0||W.height===0))if(u.shouldFlush(6)&&(u.flush(),D=u.setGameObject(e)),T[z.i]){var k=T[z.i],J=k.tintEffect,et=S(k.tintTL,m*e._alphaTL),nt=S(k.tintTR,m*e._alphaTR),st=S(k.tintBL,m*e._alphaBL),ot=S(k.tintBR,m*e._alphaBR);a(u,e,z,W,0,0,f,v,et,nt,st,ot,J,B,D)}else a(u,e,z,W,0,0,f,v,P,A,L,F,C,B,D);r.pipelines.postBatch(e)}};c.exports=s},6107:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(48011),g=t(46590),o=t(83419),s=t(31401),r=t(4327),e=t(95643),n=t(73162),l=new o({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(h,u,f,v,m){e.call(this,h,"Blitter"),this.setTexture(v,m),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,h,u,f,v){f===void 0&&(f=!0),v===void 0&&(v=this.children.length),u===void 0?u=this.frame:u instanceof r||(u=this.texture.get(u));var m=new g(this,i,h,u,f);return this.children.addAt(m,v,!1),this.dirty=!0,m},createFromCallback:function(i,h,u,f){for(var v=this.createMultiple(h,u,f),m=0;m<v.length;m++){var T=v[m];i.call(this,T,m)}return v},createMultiple:function(i,h,u){h===void 0&&(h=this.frame.name),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);var f=[],v=this;return h.forEach(function(m){for(var T=0;T<i;T++)f.push(v.create(0,0,m,u))}),f},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=a.getRenderList();if(s.length!==0){var r=t.currentContext,e=g.alpha*a.alpha;if(e!==0){g.addToRenderList(a),r.globalCompositeOperation=t.blendModes[a.blendMode],r.imageSmoothingEnabled=!a.frame.source.scaleMode;var n=a.x-g.scrollX*a.scrollFactorX,l=a.y-g.scrollY*a.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var i=g.roundPixels,h=0;h<s.length;h++){var u=s[h],f=u.flipX||u.flipY,v=u.frame,m=v.canvasData,T=v.x,C=v.y,S=1,P=1,A=u.alpha*e;A!==0&&(r.globalAlpha=A,f?(u.flipX&&(S=-1,T-=m.width),u.flipY&&(P=-1,C-=m.height),m.width>0&&m.height>0&&(r.save(),r.translate(u.x+n,u.y+l),r.scale(S,P),r.drawImage(v.source.image,m.x,m.y,m.width,m.height,T,C,m.width,m.height),r.restore())):(i&&(T=Math.round(T),C=Math.round(C)),m.width>0&&m.height>0&&r.drawImage(v.source.image,m.x,m.y,m.width,m.height,T+u.x+n,C+u.y+l,m.width,m.height)))}r.restore()}}};c.exports=x},9403:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6107),g=t(25305),o=t(44603),s=t(23568);o.register("blitter",function(r,e){r===void 0&&(r={});var n=s(r,"key",null),l=s(r,"frame",null),i=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),g(this.scene,i,r),i})},12709:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6107),g=t(39429);g.register("blitter",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},48011:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(99485),o=t(72396),c.exports={renderWebGL:g,renderCanvas:o}},99485:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),g=t(70554),o=new a,s=function(r,e,n,l){var i=e.getRenderList(),h=n.alpha*e.alpha;if(!(i.length===0||h===0)){n.addToRenderList(e);var u=r.pipelines.set(this.pipeline,e),f=n.scrollX*e.scrollFactorX,v=n.scrollY*e.scrollFactorY,m=o.copyFrom(n.matrix);l&&(m.multiplyWithOffset(l,-f,-v),f=0,v=0);var T=e.x-f,C=e.y-v,S=-1,P=!1;r.pipelines.preBatch(e);for(var A=0;A<i.length;A++){var L=i[A],F=L.frame,B=L.alpha*h;if(B!==0){var D=F.width,I=F.height,G=T+L.x+F.x,z=C+L.y+F.y;L.flipX&&(D*=-1,G+=F.width),L.flipY&&(I*=-1,z+=F.height);var W=m.setQuad(G,z,G+D,z+I),Y=g.getTintAppendFloatAlpha(L.tint,B);if(F.sourceIndex!==S){var K=u.setGameObject(e,F);S=F.sourceIndex}u.batchQuad(e,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],F.u0,F.v0,F.u1,F.v1,Y,Y,Y,Y,P,F.glTexture,K)&&(S=-1)}}r.pipelines.postBatch(e)}};c.exports=s},46590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(4327),o=new a({initialize:function(r,e,n,l,i){this.parent=r,this.x=e,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof g&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,e){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});c.exports=o},16005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,e,n){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=a(s,0,1),this._alphaTR=a(r,0,1),this._alphaBL=a(e,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~g:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=a(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=a(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=a(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=a(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=g)}}};c.exports=o},88509:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,r===0?this.renderFlags&=~g:this.renderFlags|=g}}};c.exports=o},90065:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=a[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};c.exports=g},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};c.exports=x},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,g,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,g,o,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=x},89272:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};c.exports=x},47059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(66064),o=t(19133),s=new a({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var l=n[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===r&&(o(i,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,e);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=r,r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,n,l,i,h){return this.add(new g.Glow(this.gameObject,r,e,n,l),{quality:i,distance:h})},addShadow:function(r,e,n,l,i,h,u){return this.add(new g.Shadow(this.gameObject,r,e,n,l,i,h,u))},addPixelate:function(r){return this.add(new g.Pixelate(this.gameObject,r))},addVignette:function(r,e,n,l){return this.add(new g.Vignette(this.gameObject,r,e,n,l))},addShine:function(r,e,n,l){return this.add(new g.Shine(this.gameObject,r,e,n,l))},addBlur:function(r,e,n,l,i,h){return this.add(new g.Blur(this.gameObject,r,e,n,l,i,h))},addGradient:function(r,e,n,l,i,h,u,f){return this.add(new g.Gradient(this.gameObject,r,e,n,l,i,h,u,f))},addBloom:function(r,e,n,l,i,h){return this.add(new g.Bloom(this.gameObject,r,e,n,l,i,h))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(r,e,n,l,i){return this.add(new g.Circle(this.gameObject,r,e,n,l,i))},addBarrel:function(r){return this.add(new g.Barrel(this.gameObject,r))},addDisplacement:function(r,e,n){return this.add(new g.Displacement(this.gameObject,r,e,n))},addWipe:function(r,e,n){return this.add(new g.Wipe(this.gameObject,r,e,n))},addReveal:function(r,e,n){return this.add(new g.Wipe(this.gameObject,r,e,n,!0))},addBokeh:function(r,e,n){return this.add(new g.Bokeh(this.gameObject,r,e,n))},addTiltShift:function(r,e,n,l,i,h){return this.add(new g.Bokeh(this.gameObject,r,e,n,!0,l,i,h))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=s},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=x},8004:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=t(11520),o=t(26099),s={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&g(r,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new a);var e,n,l,i,h,u,f,v;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),m.transformPoint(r.x,r.y,r),e=r.x,n=r.y,this.getTopRight(r),m.transformPoint(r.x,r.y,r),l=r.x,i=r.y,this.getBottomLeft(r),m.transformPoint(r.x,r.y,r),h=r.x,u=r.y,this.getBottomRight(r),m.transformPoint(r.x,r.y,r),f=r.x,v=r.y}else this.getTopLeft(r),e=r.x,n=r.y,this.getTopRight(r),l=r.x,i=r.y,this.getBottomLeft(r),h=r.x,u=r.y,this.getBottomRight(r),f=r.x,v=r.y;return r.x=Math.min(e,l,h,f),r.y=Math.min(n,i,u,v),r.width=Math.max(e,l,h,f)-r.x,r.height=Math.max(n,i,u,v)-r.y,r}};c.exports=s},8573:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6858),g=t(80661),o={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,e,n,l){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new a(this.scene,s,r,e,n,l)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new g(this.scene,s)}};c.exports=o},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=x},37640:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39506),g=t(57355),o=t(35154),s=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var h=g(n,"positionOnPath",!1);this.rotateToPath=g(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var u=o(n,"startAt",l);if(u&&(n.onStart=function(v){var m=v.data[0];m.progress=u,m.elapsed=m.duration*u;var T=m.ease(m.progress);m.current=m.start+(m.end-m.start)*T,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var f=this.path.getPoint(.1);this.rotation=Math.atan2(f.y-this.y,f.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],i=this.pathDelta,h=this.pathVector;if(i.copy(h).negate(),l.state===s.COMPLETE){this.path.getPoint(l.end,h),i.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),h),i.add(h),h.add(this.pathOffset);var u=this.x,f=this.y;this.setPosition(h.x,h.y);var v=this.x-u,m=this.y-f;if(v===0&&m===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,v)+a(this.pathRotationOffset))}}};c.exports=e},72699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){o===void 0&&(o=r.default);var e=r.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,s,r){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),s&&(this.pipelineData=r?a(s):s)}return this},setPipelineData:function(o,s){var r=this.pipelineData;return s===void 0?delete r[o]:r[o]=s,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};c.exports=g},17581:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),g=t(47059),o=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),r&&(this.preFX=new g(this,!1))},setPostPipeline:function(r,e,n){var l=this.scene.sys.renderer;if(!l)return this;var i=l.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var u=i.getPostPipeline(r[h],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=n?a(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var n=this.postPipelineData;return e===void 0?delete n[r]:n[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=[],i=0;i<n.length;i++){var h=n[i];(e&&h.name===r||!e&&h instanceof r)&&l.push(h)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var i=n[l];(e&&i.name===r||!e&&i===r)&&(i.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=s},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};c.exports=x},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};c.exports=x},37726:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4327),g=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(s,r,e,n){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r,e,n)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=o},79812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4327),g=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,e,n){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,e,n,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=o},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,g,o){return t===void 0&&(t=16777215),a===void 0&&(a=t,g=t,o=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=g,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,a,g,o){return this.setTint(t,a,g,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=x},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};c.exports=x},16901:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=t(61340),o=t(85955),s=t(86554),r=t(30954),e=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=s(i)}},setPosition:function(i,h,u,f){return i===void 0&&(i=0),h===void 0&&(h=i),u===void 0&&(u=0),f===void 0&&(f=0),this.x=i,this.y=h,this.z=u,this.w=f,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,h,u,f){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=h+Math.random()*f,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=i),this.scaleX=i,this.scaleY=h,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new g),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,h){i===void 0&&(i=new g);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);for(h||(h=new g),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)h.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),h.multiply(i,i),u=u.parentContainer;return i},getLocalPoint:function(i,h,u,f){u||(u=new e),f||(f=this.scene.sys.cameras.main);var v=f.scrollX,m=f.scrollY,T=i+v*this.scrollFactorX-v,C=h+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,C,u):o(T,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var i=0,h=this.parentContainer;h;)i+=h.rotation,h=h.parentContainer;return i}};c.exports=l},61340:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(36383),o=t(26099),s=new a({initialize:function(e,n,l,i,h,u){e===void 0&&(e=1),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=1),h===void 0&&(h=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,n,l,i,h,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||i?g.TAU-(i>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var n=this.matrix;return n[4]=n[0]*r+n[2]*e+n[4],n[5]=n[1]*r+n[3]*e+n[5],this},scale:function(r,e){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=e,n[3]*=e,this},rotate:function(r){var e=Math.sin(r),n=Math.cos(r),l=this.matrix,i=l[0],h=l[1],u=l[2],f=l[3];return l[0]=i*n+u*e,l[1]=h*n+f*e,l[2]=i*-e+u*n,l[3]=h*-e+f*n,this},multiply:function(r,e){var n=this.matrix,l=r.matrix,i=n[0],h=n[1],u=n[2],f=n[3],v=n[4],m=n[5],T=l[0],C=l[1],S=l[2],P=l[3],A=l[4],L=l[5],F=e===void 0?n:e.matrix;return F[0]=T*i+C*u,F[1]=T*h+C*f,F[2]=S*i+P*u,F[3]=S*h+P*f,F[4]=A*i+L*u+v,F[5]=A*h+L*f+m,F},multiplyWithOffset:function(r,e,n){var l=this.matrix,i=r.matrix,h=l[0],u=l[1],f=l[2],v=l[3],m=l[4],T=l[5],C=e*h+n*f+m,S=e*u+n*v+T,P=i[0],A=i[1],L=i[2],F=i[3],B=i[4],D=i[5];return l[0]=P*h+A*f,l[1]=P*u+A*v,l[2]=L*h+F*f,l[3]=L*u+F*v,l[4]=B*h+D*f+C,l[5]=B*u+D*v+S,this},transform:function(r,e,n,l,i,h){var u=this.matrix,f=u[0],v=u[1],m=u[2],T=u[3],C=u[4],S=u[5];return u[0]=r*f+e*m,u[1]=r*v+e*T,u[2]=n*f+l*m,u[3]=n*v+l*T,u[4]=i*f+h*m+C,u[5]=i*v+h*T+S,this},transformPoint:function(r,e,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,i=l[0],h=l[1],u=l[2],f=l[3],v=l[4],m=l[5];return n.x=r*i+e*u+v,n.y=r*h+e*f+m,n},invert:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3],h=r[4],u=r[5],f=e*i-n*l;return r[0]=i/f,r[1]=-n/f,r[2]=-l/f,r[3]=e/f,r[4]=(l*u-i*h)/f,r[5]=-(e*u-n*h)/f,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,n,l,i,h){var u=this.matrix;return u[0]=r,u[1]=e,u[2]=n,u[3]=l,u[4]=i,u[5]=h,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,n=e[0],l=e[1],i=e[2],h=e[3],u=n*h-l*i;if(r.translateX=e[4],r.translateY=e[5],n||l){var f=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/f):-Math.acos(n/f),r.scaleX=f,r.scaleY=u/f}else if(i||h){var v=Math.sqrt(i*i+h*h);r.rotation=Math.PI*.5-(h>0?Math.acos(-i/v):-Math.acos(i/v)),r.scaleX=u/v,r.scaleY=v}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,n,l,i){var h=this.matrix,u=Math.sin(n),f=Math.cos(n);return h[4]=r,h[5]=e,h[0]=f*l,h[1]=u*l,h[2]=-u*i,h[3]=f*i,this},applyInverse:function(r,e,n){n===void 0&&(n=new o);var l=this.matrix,i=l[0],h=l[1],u=l[2],f=l[3],v=l[4],m=l[5],T=1/(i*f+u*-h);return n.x=f*T*r+-u*T*e+(m*u-v*f)*T,n.y=i*T*e+-h*T*r+(-m*i+v*h)*T,n},setQuad:function(r,e,n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=this.quad);var u=this.matrix,f=u[0],v=u[1],m=u[2],T=u[3],C=u[4],S=u[5];return i?(h[0]=Math.round(r*f+e*m+C),h[1]=Math.round(r*v+e*T+S),h[2]=Math.round(r*f+l*m+C),h[3]=Math.round(r*v+l*T+S),h[4]=Math.round(n*f+l*m+C),h[5]=Math.round(n*v+l*T+S),h[6]=Math.round(n*f+e*m+C),h[7]=Math.round(n*v+e*T+S)):(h[0]=r*f+e*m+C,h[1]=r*v+e*T+S,h[2]=r*f+l*m+C,h[3]=r*v+l*T+S,h[4]=n*f+l*m+C,h[5]=n*v+l*T+S,h[6]=n*f+e*m+C,h[7]=n*v+e*T+S),h},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,n){var l=this.getX(r,e);return n&&(l=Math.round(l)),l},getYRound:function(r,e,n){var l=this.getY(r,e);return n&&(l=Math.round(l)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=s},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(a){return this.visible=a,this}};c.exports=t},31401:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),g=t(10312),o=t(83419),s=t(31401),r=t(51708),e=t(95643),n=t(87841),l=t(29959),i=t(36899),h=t(26099),u=new o({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,l],initialize:function(v,m,T,C){e.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,T),this.setBlendMode(g.SKIP_CHECK),C&&this.add(C)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new n),f.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),m=v.transformPoint(this.x,this.y);f.setTo(m.x,m.y,0,0)}if(this.list.length>0){var T=this.list,C=new n,S=!1;f.setEmpty();for(var P=0;P<T.length;P++){var A=T[P];A.getBounds&&(A.getBounds(C),S?i(C,f,f):(f.setTo(C.x,C.y,C.width,C.height),S=!0))}}return f},addHandler:function(f){f.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(r.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,v){v===void 0&&(v=new h),this.parentContainer?this.parentContainer.pointToContainer(f,v):(v.x=f.x,v.y=f.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(f.x,f.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(f){return a.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,v){return a.AddAt(this.list,f,v,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,v){return f?(v===void 0&&(v=function(m,T){return m[f]-T[f]}),a.StableSort(this.list,v),this):this},getByName:function(f){return a.GetFirst(this.list,"name",f)},getRandom:function(f,v){return a.GetRandom(this.list,f,v)},getFirst:function(f,v,m,T){return a.GetFirst(this.list,f,v,m,T)},getAll:function(f,v,m,T){return a.GetAll(this.list,f,v,m,T)},count:function(f,v,m,T){return a.CountAllMatching(this.list,f,v,m,T)},swap:function(f,v){return a.Swap(this.list,f,v),this},moveTo:function(f,v){return a.MoveTo(this.list,f,v),this},moveAbove:function(f,v){return a.MoveAbove(this.list,f,v),this},moveBelow:function(f,v){return a.MoveBelow(this.list,f,v),this},remove:function(f,v){var m=a.Remove(this.list,f,this.removeHandler,this);if(v&&m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].destroy()}return this},removeAt:function(f,v){var m=a.RemoveAt(this.list,f,this.removeHandler,this);return v&&m&&m.destroy(),this},removeBetween:function(f,v,m){var T=a.RemoveBetween(this.list,f,v,this.removeHandler,this);if(m)for(var C=0;C<T.length;C++)T[C].destroy();return this},removeAll:function(f){var v=this.list;if(f){for(var m=0;m<v.length;m++)v[m]&&v[m].scene&&(v[m].off(r.DESTROY,this.onChildDestroyed,this),v[m].destroy());this.list=[]}else a.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(f){return a.BringToTop(this.list,f),this},sendToBack:function(f){return a.SendToBack(this.list,f),this},moveUp:function(f){return a.MoveUp(this.list,f),this},moveDown:function(f){return a.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(f,v,m){var T=a.Replace(this.list,f,v);return T&&(this.addHandler(v),this.removeHandler(f),m&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,v,m,T){return a.SetAll(this.list,f,v,m,T),this},each:function(f,v){var m=[null],T,C=this.list.slice(),S=C.length;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<S;T++)m[0]=C[T],f.apply(v,m);return this},iterate:function(f,v){var m=[null],T;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<this.list.length;T++)m[0]=this.list[T],f.apply(v,m);return this},setScrollFactor:function(f,v,m){return v===void 0&&(v=f),m===void 0&&(m=!1),this.scrollFactorX=f,this.scrollFactorY=v,m&&(a.SetAll(this.list,"scrollFactorX",f),a.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(f){a.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});c.exports=u},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g.addToRenderList(a);var s=a.list;if(s.length!==0){var r=a.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(a.x,a.y),r.rotate(a.rotation),r.scale(a.scaleX,a.scaleY)):r.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var e=a.blendMode!==-1;e||t.setBlendMode(0);var n=a._alpha,l=a.scrollFactorX,i=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,g);for(var h=0;h<s.length;h++){var u=s[h];if(u.willRender(g)){var f=u.alpha,v=u.scrollFactorX,m=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(v*l,m*i),u.setAlpha(f*n),u.renderCanvas(t,u,g,r),u.setAlpha(f),u.setScrollFactor(v,m)}}a.mask&&a.mask.postRenderCanvas(t)}};c.exports=x},77143:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(31559),o=t(44603),s=t(23568),r=t(95540);o.register("container",function(e,n){e===void 0&&(e={});var l=s(e,"x",0),i=s(e,"y",0),h=r(e,"children",null),u=new g(this.scene,l,i,h);return n!==void 0&&(e.add=n),a(this.scene,u,e),u})},24961:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31559),g=t(39429);g.register("container",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},29959:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(72249),o=t(53584),c.exports={renderWebGL:g,renderCanvas:o}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g.addToRenderList(a);var s=a.list,r=s.length;if(r!==0){var e=a.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(a.x,a.y),e.rotate(a.rotation),e.scale(a.scaleX,a.scaleY)):e.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var n=a.blendMode!==-1;n||t.setBlendMode(0);for(var l=a.alpha,i=a.scrollFactorX,h=a.scrollFactorY,u=0;u<r;u++){var f=s[u];if(f.willRender(g)){var v,m,T,C;if(f.alphaTopLeft!==void 0)v=f.alphaTopLeft,m=f.alphaTopRight,T=f.alphaBottomLeft,C=f.alphaBottomRight;else{var S=f.alpha;v=S,m=S,T=S,C=S}var P=f.scrollFactorX,A=f.scrollFactorY;!n&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode);var L=f.mask;L&&L.preRenderWebGL(t,f,g);var F=f.type;F!==t.currentType&&(t.newType=!0,t.currentType=F),t.nextTypeMatch=u<r-1?s[u+1].type===t.currentType:!1,f.setScrollFactor(P*i,A*h),f.setAlpha(v*l,m*l,T*l,C*l),f.renderWebGL(t,f,g,e,a),f.setAlpha(v,m,T,C),f.setScrollFactor(P,A),L&&L.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(a)}};c.exports=x},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(441),s=t(95643),r=t(41212),e=t(35846),n=t(44594),l=t(61369),i=new a({Extends:s,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,o],initialize:function(u,f,v,m,T,C){s.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(f,v),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),T,C):this.createElement(m,T,C):m&&this.setElement(m,T,C),u.sys.events.on(n.SLEEP,this.handleSceneEvent,this),u.sys.events.on(n.WAKE,this.handleSceneEvent,this),u.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var u=this.node,f=u.style;u&&(f.display=h.settings.visible?"block":"none")},setSkew:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.skewX=h,this.skewY=u,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.addEventListener(h[u],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.removeEventListener(h[u],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,u,f){return this.setElement(document.createElement(h),u,f)},setElement:function(h,u,f){this.removeElement();var v;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),v=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(v=h),!v)return this;if(this.node=v,u&&r(u))for(var m in u)v.style[m]=u[m];else typeof u=="string"&&(v.style=u);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),f&&(v.innerText=f),this.updateSize()},createFromCache:function(h,u){var f=this.cache.get(h);return f&&this.createFromHTML(f,u),this},createFromHTML:function(h,u){u===void 0&&(u="div"),this.removeElement();var f=document.createElement(u);return this.node=f,f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),f.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node,u=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(h,u){if(this.node){for(var f=this.node.querySelectorAll("*"),v=0;v<f.length;v++)if(f[v][h]===u)return f[v]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,u=this.node;u&&h&&!h.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});c.exports=i},49381:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(47407),g=t(95643),o=t(61340),s=new o,r=new o,e=new o,n=function(l,i,h,u){if(i.node){var f=i.node.style,v=i.scene.sys.settings;if(!f||!v.visible||g.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&h.id||i.parentContainer&&!i.parentContainer.willRender()){f.display="none";return}var m=i.parentContainer,T=h.alpha*i.alpha;m&&(T*=m.alpha);var C=s,S=r,P=e,A=0,L=0,F="0%",B="0%";u?(A=i.width*i.scaleX*i.originX,L=i.height*i.scaleY*i.originY,S.applyITRS(i.x-A,i.y-L,i.rotation,i.scaleX,i.scaleY),C.copyFrom(h.matrix),C.multiplyWithOffset(u,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),S.e=i.x-A,S.f=i.y-L,C.multiply(S,P)):(A=i.width*i.originX,L=i.height*i.originY,S.applyITRS(i.x-A,i.y-L,i.rotation,i.scaleX,i.scaleY),C.copyFrom(h.matrix),F=100*i.originX+"%",B=100*i.originY+"%",S.e-=h.scrollX*i.scrollFactorX,S.f-=h.scrollY*i.scrollFactorY,C.multiply(S,P)),i.transformOnly||(f.display="block",f.opacity=T,f.zIndex=i._depth,f.pointerEvents=i.pointerEvents,f.mixBlendMode=a[i._blendMode]),f.transform=P.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",f.transformOrigin=F+" "+B}};c.exports=n},2611:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3069),g=t(39429);g.register("dom",function(o,s,r,e,n){var l=new a(this.scene,o,s,r,e,n);return this.displayList.add(l),l})},441:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(49381),o=t(49381),c.exports={renderWebGL:g,renderCanvas:o}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(95643),s=t(64993),r=new a({Extends:o,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,s],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=r},70217:()=>{},56315:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42421),g=t(39429);g.register("extern",function(){var o=new a(this.scene);return this.displayList.add(o),o})},64993:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(80287),o=t(70217),c.exports={renderWebGL:g,renderCanvas:o}},80287:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=function(o,s,r,e){o.pipelines.clear();var n=a(s,r,e).calc;s.render.call(s,o,r,n),o.pipelines.rebind()};c.exports=g},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71911),g=t(83419),o=t(85592),s=t(31401),r=t(8497),e=t(95643),n=t(95540),l=t(35154),i=t(36383),h=t(84503),u=new g({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,h],initialize:function(v,m){var T=l(m,"x",0),C=l(m,"y",0);e.call(this,v,"Graphics"),this.setPosition(T,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(f){return l(f,"lineStyle",null)&&(this.defaultStrokeWidth=l(f,"lineStyle.width",1),this.defaultStrokeColor=l(f,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(f,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(f,"fillStyle",null)&&(this.defaultFillColor=l(f,"fillStyle.color",16777215),this.defaultFillAlpha=l(f,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(f,v,m){return m===void 0&&(m=1),this.commandBuffer.push(o.LINE_STYLE,f,v,m),this._lineWidth=f,this},fillStyle:function(f,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,f,v),this},fillGradientStyle:function(f,v,m,T,C,S,P,A){return C===void 0&&(C=1),S===void 0&&(S=C),P===void 0&&(P=C),A===void 0&&(A=C),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,C,S,P,A,f,v,m,T),this},lineGradientStyle:function(f,v,m,T,C,S){return S===void 0&&(S=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,f,S,v,m,T,C),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(f){return this.fillCircle(f.x,f.y,f.radius)},strokeCircleShape:function(f){return this.strokeCircle(f.x,f.y,f.radius)},fillCircle:function(f,v,m){return this.beginPath(),this.arc(f,v,m,0,i.PI2),this.fillPath(),this},strokeCircle:function(f,v,m){return this.beginPath(),this.arc(f,v,m,0,i.PI2),this.strokePath(),this},fillRectShape:function(f){return this.fillRect(f.x,f.y,f.width,f.height)},strokeRectShape:function(f){return this.strokeRect(f.x,f.y,f.width,f.height)},fillRect:function(f,v,m,T){return this.commandBuffer.push(o.FILL_RECT,f,v,m,T),this},strokeRect:function(f,v,m,T){var C=this._lineWidth/2,S=f-C,P=f+C;return this.beginPath(),this.moveTo(f,v),this.lineTo(f,v+T),this.strokePath(),this.beginPath(),this.moveTo(f+m,v),this.lineTo(f+m,v+T),this.strokePath(),this.beginPath(),this.moveTo(S,v),this.lineTo(P+m,v),this.strokePath(),this.beginPath(),this.moveTo(S,v+T),this.lineTo(P+m,v+T),this.strokePath(),this},fillRoundedRect:function(f,v,m,T,C){C===void 0&&(C=20);var S=C,P=C,A=C,L=C;typeof C!="number"&&(S=n(C,"tl",20),P=n(C,"tr",20),A=n(C,"bl",20),L=n(C,"br",20));var F=S>=0,B=P>=0,D=A>=0,I=L>=0;return S=Math.abs(S),P=Math.abs(P),A=Math.abs(A),L=Math.abs(L),this.beginPath(),this.moveTo(f+S,v),this.lineTo(f+m-P,v),B?this.arc(f+m-P,v+P,P,-i.TAU,0):this.arc(f+m,v,P,Math.PI,i.TAU,!0),this.lineTo(f+m,v+T-L),I?this.arc(f+m-L,v+T-L,L,0,i.TAU):this.arc(f+m,v+T,L,-i.TAU,Math.PI,!0),this.lineTo(f+A,v+T),D?this.arc(f+A,v+T-A,A,i.TAU,Math.PI):this.arc(f,v+T,A,0,-i.TAU,!0),this.lineTo(f,v+S),F?this.arc(f+S,v+S,S,-Math.PI,-i.TAU):this.arc(f,v,S,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(f,v,m,T,C){C===void 0&&(C=20);var S=C,P=C,A=C,L=C,F=Math.min(m,T)/2;typeof C!="number"&&(S=n(C,"tl",20),P=n(C,"tr",20),A=n(C,"bl",20),L=n(C,"br",20));var B=S>=0,D=P>=0,I=A>=0,G=L>=0;return S=Math.min(Math.abs(S),F),P=Math.min(Math.abs(P),F),A=Math.min(Math.abs(A),F),L=Math.min(Math.abs(L),F),this.beginPath(),this.moveTo(f+S,v),this.lineTo(f+m-P,v),this.moveTo(f+m-P,v),D?this.arc(f+m-P,v+P,P,-i.TAU,0):this.arc(f+m,v,P,Math.PI,i.TAU,!0),this.lineTo(f+m,v+T-L),this.moveTo(f+m,v+T-L),G?this.arc(f+m-L,v+T-L,L,0,i.TAU):this.arc(f+m,v+T,L,-i.TAU,Math.PI,!0),this.lineTo(f+A,v+T),this.moveTo(f+A,v+T),I?this.arc(f+A,v+T-A,A,i.TAU,Math.PI):this.arc(f,v+T,A,0,-i.TAU,!0),this.lineTo(f,v+S),this.moveTo(f,v+S),B?this.arc(f+S,v+S,S,-Math.PI,-i.TAU):this.arc(f,v,S,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(f,v){return this.fillPoint(f.x,f.y,v)},fillPoint:function(f,v,m){return!m||m<1?m=1:(f-=m/2,v-=m/2),this.commandBuffer.push(o.FILL_RECT,f,v,m,m),this},fillTriangleShape:function(f){return this.fillTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},strokeTriangleShape:function(f){return this.strokeTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},fillTriangle:function(f,v,m,T,C,S){return this.commandBuffer.push(o.FILL_TRIANGLE,f,v,m,T,C,S),this},strokeTriangle:function(f,v,m,T,C,S){return this.commandBuffer.push(o.STROKE_TRIANGLE,f,v,m,T,C,S),this},strokeLineShape:function(f){return this.lineBetween(f.x1,f.y1,f.x2,f.y2)},lineBetween:function(f,v,m,T){return this.beginPath(),this.moveTo(f,v),this.lineTo(m,T),this.strokePath(),this},lineTo:function(f,v){return this.commandBuffer.push(o.LINE_TO,f,v),this},moveTo:function(f,v){return this.commandBuffer.push(o.MOVE_TO,f,v),this},strokePoints:function(f,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var C=1;C<T;C++)this.lineTo(f[C].x,f[C].y);return v&&this.lineTo(f[0].x,f[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(f,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var C=1;C<T;C++)this.lineTo(f[C].x,f[C].y);return v&&this.lineTo(f[0].x,f[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(f,v){v===void 0&&(v=32);var m=f.getPoints(v);return this.strokePoints(m,!0)},strokeEllipse:function(f,v,m,T,C){C===void 0&&(C=32);var S=new r(f,v,m,T),P=S.getPoints(C);return this.strokePoints(P,!0)},fillEllipseShape:function(f,v){v===void 0&&(v=32);var m=f.getPoints(v);return this.fillPoints(m,!0)},fillEllipse:function(f,v,m,T,C){C===void 0&&(C=32);var S=new r(f,v,m,T),P=S.getPoints(C);return this.fillPoints(P,!0)},arc:function(f,v,m,T,C,S,P){return S===void 0&&(S=!1),P===void 0&&(P=0),this.commandBuffer.push(o.ARC,f,v,m,T,C,S,P),this},slice:function(f,v,m,T,C,S,P){return S===void 0&&(S=!1),P===void 0&&(P=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,f,v),this.commandBuffer.push(o.ARC,f,v,m,T,C,S,P),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(f,v){return this.commandBuffer.push(o.TRANSLATE,f,v),this},scaleCanvas:function(f,v){return this.commandBuffer.push(o.SCALE,f,v),this},rotateCanvas:function(f){return this.commandBuffer.push(o.ROTATE,f),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(f,v,m){var T=this.scene.sys,C=T.game.renderer;v===void 0&&(v=T.scale.width),m===void 0&&(m=T.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,v,m),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var S,P,A={willReadFrequently:!0};if(typeof f=="string")if(T.textures.exists(f)){S=T.textures.get(f);var L=S.getSourceImage();L instanceof HTMLCanvasElement&&(P=L.getContext("2d",A))}else S=T.textures.createCanvas(f,v,m),P=S.getSourceImage().getContext("2d",A);else f instanceof HTMLCanvasElement&&(P=f.getContext("2d",A));return P&&(this.renderCanvas(C,this,u.TargetCamera,null,P,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new a,c.exports=u},32768:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85592),g=t(20926),o=function(s,r,e,n,l,i){var h=r.commandBuffer,u=h.length,f=l||s.currentContext;if(!(u===0||!g(s,f,r,e,n))){e.addToRenderList(r);var v=1,m=1,T=0,C=0,S=1,P=0,A=0,L=0;f.beginPath();for(var F=0;F<u;++F){var B=h[F];switch(B){case a.ARC:f.arc(h[F+1],h[F+2],h[F+3],h[F+4],h[F+5],h[F+6]),F+=7;break;case a.LINE_STYLE:S=h[F+1],T=h[F+2],v=h[F+3],P=(T&16711680)>>>16,A=(T&65280)>>>8,L=T&255,f.strokeStyle="rgba("+P+","+A+","+L+","+v+")",f.lineWidth=S,F+=3;break;case a.FILL_STYLE:C=h[F+1],m=h[F+2],P=(C&16711680)>>>16,A=(C&65280)>>>8,L=C&255,f.fillStyle="rgba("+P+","+A+","+L+","+m+")",F+=2;break;case a.BEGIN_PATH:f.beginPath();break;case a.CLOSE_PATH:f.closePath();break;case a.FILL_PATH:i||f.fill();break;case a.STROKE_PATH:i||f.stroke();break;case a.FILL_RECT:i?f.rect(h[F+1],h[F+2],h[F+3],h[F+4]):f.fillRect(h[F+1],h[F+2],h[F+3],h[F+4]),F+=4;break;case a.FILL_TRIANGLE:f.beginPath(),f.moveTo(h[F+1],h[F+2]),f.lineTo(h[F+3],h[F+4]),f.lineTo(h[F+5],h[F+6]),f.closePath(),i||f.fill(),F+=6;break;case a.STROKE_TRIANGLE:f.beginPath(),f.moveTo(h[F+1],h[F+2]),f.lineTo(h[F+3],h[F+4]),f.lineTo(h[F+5],h[F+6]),f.closePath(),i||f.stroke(),F+=6;break;case a.LINE_TO:f.lineTo(h[F+1],h[F+2]),F+=2;break;case a.MOVE_TO:f.moveTo(h[F+1],h[F+2]),F+=2;break;case a.LINE_FX_TO:f.lineTo(h[F+1],h[F+2]),F+=5;break;case a.MOVE_FX_TO:f.moveTo(h[F+1],h[F+2]),F+=5;break;case a.SAVE:f.save();break;case a.RESTORE:f.restore();break;case a.TRANSLATE:f.translate(h[F+1],h[F+2]),F+=2;break;case a.SCALE:f.scale(h[F+1],h[F+2]),F+=2;break;case a.ROTATE:f.rotate(h[F+1]),F+=1;break;case a.GRADIENT_FILL_STYLE:F+=5;break;case a.GRADIENT_LINE_STYLE:F+=6;break}}f.restore()}};c.exports=o},87079:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),g=t(43831);a.register("graphics",function(o,s){o===void 0&&(o={}),s!==void 0&&(o.add=s);var r=new g(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43831),g=t(39429);g.register("graphics",function(o){return this.displayList.add(new a(this.scene,o))})},84503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(77545),o=t(32768),o=t(32768),c.exports={renderWebGL:g,renderCanvas:o}},77545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85592),g=t(91296),o=t(61340),s=t(70554),r=function(h,u,f){this.x=h,this.y=u,this.width=f},e=function(h,u,f){this.points=[],this.pointsLength=1,this.points[0]=new r(h,u,f)},n=[],l=new o,i=function(h,u,f,v){if(u.commandBuffer.length!==0){f.addToRenderList(u);var m=h.pipelines.set(u.pipeline,u);h.pipelines.preBatch(u);for(var T=g(u,f,v).calc,C=l.loadIdentity(),S=u.commandBuffer,P=f.alpha*u.alpha,A=1,L=m.fillTint,F=m.strokeTint,B=0,D=0,I=0,G=.01,z=Math.PI*2,W,Y=[],K=0,Z=!0,V=null,H=s.getTintAppendFloatAlpha,N=0;N<S.length;N++)switch(W=S[N],W){case a.BEGIN_PATH:{Y.length=0,V=null,Z=!0;break}case a.CLOSE_PATH:{Z=!1,V&&V.points.length&&V.points.push(V.points[0]);break}case a.FILL_PATH:{for(K=0;K<Y.length;K++)m.batchFillPath(Y[K].points,C,T);break}case a.STROKE_PATH:{for(K=0;K<Y.length;K++)m.batchStrokePath(Y[K].points,A,Z,C,T);break}case a.LINE_STYLE:{A=S[++N];var b=S[++N],X=S[++N]*P,$=H(b,X);F.TL=$,F.TR=$,F.BL=$,F.BR=$;break}case a.FILL_STYLE:{var Q=S[++N],k=S[++N]*P,J=H(Q,k);L.TL=J,L.TR=J,L.BL=J,L.BR=J;break}case a.GRADIENT_FILL_STYLE:{var et=S[++N]*P,nt=S[++N]*P,st=S[++N]*P,ot=S[++N]*P;L.TL=H(S[++N],et),L.TR=H(S[++N],nt),L.BL=H(S[++N],st),L.BR=H(S[++N],ot);break}case a.GRADIENT_LINE_STYLE:{A=S[++N];var ut=S[++N]*P;F.TL=H(S[++N],ut),F.TR=H(S[++N],ut),F.BL=H(S[++N],ut),F.BR=H(S[++N],ut);break}case a.ARC:{var at=0,ct=S[++N],Pt=S[++N],Ct=S[++N],Et=S[++N],dt=S[++N],St=S[++N],vt=S[++N];for(dt-=Et,St?dt<-z?dt=-z:dt>0&&(dt=-z+dt%z):dt>z?dt=z:dt<0&&(dt=z+dt%z),V===null&&(V=new e(ct+Math.cos(Et)*Ct,Pt+Math.sin(Et)*Ct,A),Y.push(V),at+=G);at<1+vt;)I=dt*at+Et,B=ct+Math.cos(I)*Ct,D=Pt+Math.sin(I)*Ct,V.points.push(new r(B,D,A)),at+=G;I=dt+Et,B=ct+Math.cos(I)*Ct,D=Pt+Math.sin(I)*Ct,V.points.push(new r(B,D,A));break}case a.FILL_RECT:{m.batchFillRect(S[++N],S[++N],S[++N],S[++N],C,T);break}case a.FILL_TRIANGLE:{m.batchFillTriangle(S[++N],S[++N],S[++N],S[++N],S[++N],S[++N],C,T);break}case a.STROKE_TRIANGLE:{m.batchStrokeTriangle(S[++N],S[++N],S[++N],S[++N],S[++N],S[++N],A,C,T);break}case a.LINE_TO:{V!==null?V.points.push(new r(S[++N],S[++N],A)):(V=new e(S[++N],S[++N],A),Y.push(V));break}case a.MOVE_TO:{V=new e(S[++N],S[++N],A),Y.push(V);break}case a.SAVE:{n.push(C.copyToArray());break}case a.RESTORE:{C.copyFromArray(n.pop());break}case a.TRANSLATE:{ct=S[++N],Pt=S[++N],C.translate(ct,Pt);break}case a.SCALE:{ct=S[++N],Pt=S[++N],C.scale(ct,Pt);break}case a.ROTATE:{C.rotate(S[++N]);break}}h.pipelines.postBatch(u)}};c.exports=i},26479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61061),g=t(83419),o=t(51708),s=t(50792),r=t(46710),e=t(95540),n=t(35154),l=t(97022),i=t(41212),h=t(88492),u=t(35072),f=t(68287),v=new g({Extends:s,initialize:function(T,C,S){s.call(this),S?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?i(C[0])&&(S=C,C=null):i(C)&&(S=C,C=null),this.scene=T,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(S,"classType",f),this.name=e(S,"name",""),this.active=e(S,"active",!0),this.maxSize=e(S,"maxSize",-1),this.defaultKey=e(S,"defaultKey",null),this.defaultFrame=e(S,"defaultFrame",null),this.runChildUpdate=e(S,"runChildUpdate",!1),this.createCallback=e(S,"createCallback",null),this.removeCallback=e(S,"removeCallback",null),this.createMultipleCallback=e(S,"createMultipleCallback",null),this.internalCreateCallback=e(S,"internalCreateCallback",null),this.internalRemoveCallback=e(S,"internalRemoveCallback",null),C&&this.addMultiple(C),S&&this.createMultiple(S),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,T,C,S,P,A){if(m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=this.defaultKey),S===void 0&&(S=this.defaultFrame),P===void 0&&(P=!0),A===void 0&&(A=!0),this.isFull())return null;var L=new this.classType(this.scene,m,T,C,S);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=P,L.setActive(A),this.add(L),L},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var T=[];if(m[0].key)for(var C=0;C<m.length;C++){var S=this.createFromConfig(m[C]);T=T.concat(S)}return T},createFromConfig:function(m){if(this.isFull())return[];this.classType=e(m,"classType",this.classType);var T=e(m,"key",void 0),C=e(m,"frame",null),S=e(m,"visible",!0),P=e(m,"active",!0),A=[];if(T===void 0)return A;Array.isArray(T)||(T=[T]),Array.isArray(C)||(C=[C]);var L=e(m,"repeat",0),F=e(m,"randomKey",!1),B=e(m,"randomFrame",!1),D=e(m,"yoyo",!1),I=e(m,"quantity",!1),G=e(m,"frameQuantity",1),z=e(m,"max",0),W=h(T,C,{max:z,qty:I||G,random:F,randomB:B,repeat:L,yoyo:D});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var Y=0;Y<W.length;Y++){var K=this.create(0,0,W[Y].a,W[Y].b,S,P);if(!K)break;A.push(K)}if(l(m,"setXY")){var Z=n(m,"setXY.x",0),V=n(m,"setXY.y",0),H=n(m,"setXY.stepX",0),N=n(m,"setXY.stepY",0);a.SetXY(A,Z,V,H,N)}if(l(m,"setRotation")){var b=n(m,"setRotation.value",0),X=n(m,"setRotation.step",0);a.SetRotation(A,b,X)}if(l(m,"setScale")){var $=n(m,"setScale.x",1),Q=n(m,"setScale.y",$),k=n(m,"setScale.stepX",0),J=n(m,"setScale.stepY",0);a.SetScale(A,$,Q,k,J)}if(l(m,"setOrigin")){var et=n(m,"setOrigin.x",.5),nt=n(m,"setOrigin.y",et),st=n(m,"setOrigin.stepX",0),ot=n(m,"setOrigin.stepY",0);a.SetOrigin(A,et,nt,st,ot)}if(l(m,"setAlpha")){var ut=n(m,"setAlpha.value",1),at=n(m,"setAlpha.step",0);a.SetAlpha(A,ut,at)}if(l(m,"setDepth")){var ct=n(m,"setDepth.value",0),Pt=n(m,"setDepth.step",0);a.SetDepth(A,ct,Pt)}if(l(m,"setScrollFactor")){var Ct=n(m,"setScrollFactor.x",1),Et=n(m,"setScrollFactor.y",Ct),dt=n(m,"setScrollFactor.stepX",0),St=n(m,"setScrollFactor.stepY",0);a.SetScrollFactor(A,Ct,Et,dt,St)}var vt=e(m,"hitArea",null),Mt=e(m,"hitAreaCallback",null);vt&&a.SetHitArea(A,vt,Mt);var Nt=e(m,"gridAlign",!1);return Nt&&a.GridAlign(A,Nt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(m,T){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),S=0;S<C.length;S++){var P=C[S];P.active&&P.update(m,T)}},add:function(m,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),T&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(o.DESTROY,this.remove,this),this)},addMultiple:function(m,T){if(T===void 0&&(T=!1),Array.isArray(m))for(var C=0;C<m.length;C++)this.add(m[C],T);return this},remove:function(m,T,C){return T===void 0&&(T=!1),C===void 0&&(C=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(o.DESTROY,this.remove,this),C?m.destroy():T&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);for(var C=this.children,S=0;S<C.size;S++){var P=C.entries[S];P.off(o.DESTROY,this.remove,this),T?P.destroy():m&&(P.removeFromDisplayList(),P.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,T,C,S){return r(this.children.entries,m,T,C,S)},getFirst:function(m,T,C,S,P,A,L){return this.getHandler(!0,1,m,T,C,S,P,A,L)},getFirstNth:function(m,T,C,S,P,A,L,F){return this.getHandler(!0,m,T,C,S,P,A,L,F)},getLast:function(m,T,C,S,P,A,L){return this.getHandler(!1,1,m,T,C,S,P,A,L)},getLastNth:function(m,T,C,S,P,A,L,F){return this.getHandler(!1,m,T,C,S,P,A,L,F)},getHandler:function(m,T,C,S,P,A,L,F,B){C===void 0&&(C=!1),S===void 0&&(S=!1);var D,I,G=0,z=this.children.entries;if(m)for(I=0;I<z.length;I++)if(D=z[I],D.active===C){if(G++,G===T)break}else D=null;else for(I=z.length-1;I>=0;I--)if(D=z[I],D.active===C){if(G++,G===T)break}else D=null;return D?(typeof P=="number"&&(D.x=P),typeof A=="number"&&(D.y=A),D):S?this.create(P,A,L,F,B):null},get:function(m,T,C,S,P){return this.getFirst(!1,!0,m,T,C,S,P)},getFirstAlive:function(m,T,C,S,P,A){return this.getFirst(!0,m,T,C,S,P,A)},getFirstDead:function(m,T,C,S,P,A){return this.getFirst(!1,m,T,C,S,P,A)},playAnimation:function(m,T){return a.PlayAnimation(this.children.entries,m,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var T=0,C=0;C<this.children.size;C++)this.children.entries[C].active===m&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,T,C,S,P){return a.PropertyValueSet(this.children.entries,m,T,C,S,P),this},propertyValueInc:function(m,T,C,S,P){return a.PropertyValueInc(this.children.entries,m,T,C,S,P),this},setX:function(m,T){return a.SetX(this.children.entries,m,T),this},setY:function(m,T){return a.SetY(this.children.entries,m,T),this},setXY:function(m,T,C,S){return a.SetXY(this.children.entries,m,T,C,S),this},incX:function(m,T){return a.IncX(this.children.entries,m,T),this},incY:function(m,T){return a.IncY(this.children.entries,m,T),this},incXY:function(m,T,C,S){return a.IncXY(this.children.entries,m,T,C,S),this},shiftPosition:function(m,T,C){return a.ShiftPosition(this.children.entries,m,T,C),this},angle:function(m,T){return a.Angle(this.children.entries,m,T),this},rotate:function(m,T){return a.Rotate(this.children.entries,m,T),this},rotateAround:function(m,T){return a.RotateAround(this.children.entries,m,T),this},rotateAroundDistance:function(m,T,C){return a.RotateAroundDistance(this.children.entries,m,T,C),this},setAlpha:function(m,T){return a.SetAlpha(this.children.entries,m,T),this},setTint:function(m,T,C,S){return a.SetTint(this.children.entries,m,T,C,S),this},setOrigin:function(m,T,C,S){return a.SetOrigin(this.children.entries,m,T,C,S),this},scaleX:function(m,T){return a.ScaleX(this.children.entries,m,T),this},scaleY:function(m,T){return a.ScaleY(this.children.entries,m,T),this},scaleXY:function(m,T,C,S){return a.ScaleXY(this.children.entries,m,T,C,S),this},setDepth:function(m,T){return a.SetDepth(this.children.entries,m,T),this},setBlendMode:function(m){return a.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,T){return a.SetHitArea(this.children.entries,m,T),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,T,C){return a.SetVisible(this.children.entries,m,T,C),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,m),this.scene=void 0,this.children=void 0)}});c.exports=v},94975:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),g=t(26479);a.register("group",function(o){return new g(this.scene,null,o)})},3385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26479),g=t(39429);g.register("group",function(o,s){return this.updateList.add(new a(this.scene,o,s))})},88571:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(95643),s=t(59819),r=new a({Extends:o,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,s],initialize:function(n,l,i,h,u){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,u),this.setPosition(l,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=r},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g.addToRenderList(a),t.batchSprite(a,a.frame,g,o)};c.exports=x},82459:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(88571);g.register("image",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),i=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,i,r),i})},2117:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(88571),g=t(39429);g.register("image",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},59819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(99517),o=t(40652),c.exports={renderWebGL:g,renderCanvas:o}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g.addToRenderList(a),this.pipeline.batchSprite(a,g,o)};c.exports=x},77856:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),c.exports=a},93595:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g=t(83419),o=t(31401),s=t(53774),r=t(45893),e=t(50792),n=t(51708),l=t(73162),i=t(33963),h=t(44594),u=t(19186),f=new g({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,i],initialize:function(m,T){l.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),T&&this.add(T),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,m){return this.data||(this.data=new r(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new r(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,T=[];m&&(T.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return T.unshift(this.displayList.getIndex(v)),T},addChildCallback:function(v){var m=v.displayList;m&&m!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=f},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=a.list;if(o.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var r=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,g);for(var e=0;e<o.length;e++){var n=o[e];if(n.willRender(g)){var l=n.alpha;!s&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,g),n.setAlpha(l)}}a.mask&&a.mask.postRenderCanvas(t)}};c.exports=x},25179:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(93595),o=t(44603),s=t(23568);o.register("layer",function(r,e){r===void 0&&(r={});var n=s(r,"children",null),l=new g(this.scene,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},20005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(93595),g=t(39429);g.register("layer",function(o){return this.displayList.add(new a(this.scene,o))})},33963:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(15869),o=t(2956),c.exports={renderWebGL:g,renderCanvas:o}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=a.list,s=o.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var r=a.blendMode!==-1;r||t.setBlendMode(0);for(var e=a.alpha,n=0;n<s;n++){var l=o[n];if(l.willRender(g)){var i,h,u,f;if(l.alphaTopLeft!==void 0)i=l.alphaTopLeft,h=l.alphaTopRight,u=l.alphaBottomLeft,f=l.alphaBottomRight;else{var v=l.alpha;i=v,h=v,u=v,f=v}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var m=l.mask;m&&m.preRenderWebGL(t,l,g);var T=l.type;T!==t.currentType&&(t.newType=!0,t.currentType=T),t.nextTypeMatch=n<s-1?o[n+1].type===t.currentType:!1,l.setAlpha(i*e,h*e,u*e,f*e),l.renderWebGL(t,l,g),l.setAlpha(i,h,u,f),m&&m.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(a)}};c.exports=x},41432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),g=t(83419),o=t(31401),s=t(51767),r=t(70554),e=new g({Extends:a,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,i,h,u,f,v,m){a.call(this,l,i,h),this.color=new s(u,f,v),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81491),g=t(83419),o=t(20339),s=t(41432),r=t(80321),e=t(51767),n=t(19133),l=t(19186),i=t(70554),h=new g({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,f,v,m,T,C){return this.systems.displayList.add(new r(this.scene,u,f,v,m,T,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var f=this.lights,v=u.worldView,m=[],T=0;T<f.length;T++){var C=f[T];C.willRender(u)&&a(C,v)&&m.push({light:C,distance:o(C.x,C.y,v.centerX,v.centerY)})}return m.length>this.maxLights&&(l(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(u,f){return u.distance>=f.distance},setAmbientColor:function(u){var f=i.getFloatsFromUintRGB(u);return this.ambientColor.set(f[0],f[1],f[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,f,v,m,T){u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=128),m===void 0&&(m=16777215),T===void 0&&(T=1);var C=i.getFloatsFromUintRGB(m),S=new s(u,f,v,C[0],C[1],C[2],T);return this.lights.push(S),S},removeLight:function(u){var f=this.lights.indexOf(u);return f>=0&&n(this.lights,f),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=h},88992:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(61356),o=t(37277),s=t(44594),r=new a({Extends:g,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),g.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),c.exports=r},4703:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(39506),s=t(83997),r=t(95643),e=t(34684),n=t(92515),l=t(91296),i=t(37867),h=t(29807),u=t(43396),f=t(19186),v=t(25836),m=t(39318),T=new a({Extends:r,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,h],initialize:function(S,P,A,L,F,B,D,I,G,z,W,Y){P===void 0&&(P=0),A===void 0&&(A=0),L===void 0&&(L="__WHITE"),r.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new v,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var K=S.sys.renderer;this.setPosition(P,A),this.setTexture(L,F),this.setSize(K.width,K.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(K.width,K.height),B&&this.addVertices(B,D,I,G,z,W,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(v.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=v.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,S,P,A,L){return P===void 0&&(P=45),A===void 0&&(A=.01),L===void 0&&(L=1e3),this.fov=P,this.projectionMatrix.perspective(o(P),C/S,A,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,S,P,A){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),P===void 0&&(P=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-S,S,P,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,S,P,A,L,F,B,D,I){var G=this.scene.sys.cache.obj.get(C),z;return G&&(z=e(G,this,S,P,A,L,F,B,D,I)),(!z||z.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,S){return C.depth-S.depth},depthSort:function(){return f(this.faces,this.sortByDepth),this},addVertex:function(C,S,P,A,L,F,B){var D=new m(C,S,P,A,L,F,B);return this.vertices.push(D),D},addFace:function(C,S,P){var A=new s(C,S,P);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(C,S,P,A,L,F,B){var D=n(C,S,P,A,L,F,B);return D?(this.faces=this.faces.concat(D.faces),this.vertices=this.vertices.concat(D.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,S,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var A=l(this,P).calc,L=this.faces,F=0;F<L.length;F++){var B=L[F];if(B.contains(C,S,A))return!0}return!1},getFaceAt:function(C,S,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var A=l(this,P).calc,L=this.faces,F=[],B=0;B<L.length;B++){var D=L[B];D.contains(C,S,A)&&F.push(D)}return f(F,this.sortByDepth)},setDebug:function(C,S){return this.debugGraphic=C,!C&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,S=this.modelRotation,P=this.modelScale,A=this.dirtyCache,L=C.x,F=C.y,B=C.z,D=S.x,I=S.y,G=S.z,z=P.x,W=P.y,Y=P.z,K=this.getFaceCount(),Z=A[0],V=A[1],H=A[2],N=A[3],b=A[4],X=A[5],$=A[6],Q=A[7],k=A[8],J=A[9];return A[0]=L,A[1]=F,A[2]=B,A[3]=D,A[4]=I,A[5]=G,A[6]=z,A[7]=W,A[8]=Y,A[9]=K,Z!==L||V!==F||H!==B||N!==D||b!==I||X!==G||$!==z||Q!==W||k!==Y||J!==K},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var S=this.width,P=this.height,A=this.viewMatrix,L=this.viewPosition;C[10]&&(A.identity(),A.translate(L),A.invert(),C[10]=0);var F=this.transformMatrix;F.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var B=L.z,D=this.faces,I=0;I<D.length;I++)D[I].transformCoordinatesLocal(F,S,P,B);this.depthSort()}},renderDebug:function(C,S){for(var P=C.debugGraphic,A=0;A<S.length;A++){var L=S[A],F=L.vertex1.tx,B=L.vertex1.ty,D=L.vertex2.tx,I=L.vertex2.ty,G=L.vertex3.tx,z=L.vertex3.ty;P.strokeTriangle(F,B,D,I,G,z)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var S=(function(P,A,L){for(var F=this.faces,B=0;B<F.length;B++){var D=F[B];if(D.contains(A,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,C,S),this},setTint:function(C){C===void 0&&(C=16777215);for(var S=this.vertices,P=0;P<S.length;P++)S[P].color=C;return this},uvScroll:function(C,S){for(var P=this.faces,A=0;A<P.length;A++)P[A].scrollUV(C,S);return this},uvScale:function(C,S){for(var P=this.faces,A=0;A<P.length;A++)P[A].scaleUV(C,S);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(C){this.modelRotation.x=o(C)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(C){this.modelRotation.y=o(C)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(C){this.modelRotation.z=o(C)}}});c.exports=T},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},20527:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(35154),r=t(4703);g.register("mesh",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"vertices",[]),u=s(e,"uvs",[]),f=s(e,"indicies",[]),v=s(e,"containsZ",!1),m=s(e,"normals",[]),T=s(e,"colors",16777215),C=s(e,"alphas",1),S=new r(this.scene,0,0,l,i,h,u,f,v,m,T,C);return n!==void 0&&(e.add=n),a(this.scene,S,e),S})},9225:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4703),g=t(39429);g.register("mesh",function(o,s,r,e,n,l,i,h,u,f,v){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,u,f,v))})},29807:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(48833),o=t(36488),c.exports={renderWebGL:g,renderCanvas:o}},48833:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=function(o,s,r,e){var n=s.faces,l=n.length;if(l!==0){r.addToRenderList(s);var i=o.pipelines.set(s.pipeline,s),h=a(s,r,e).calc;o.pipelines.preBatch(s);for(var u=i.setGameObject(s),f=i.vertexViewF32,v=i.vertexViewU32,m=i.vertexCount*i.currentShader.vertexComponentCount-1,T=s.tintFill,C=[],S=s.debugCallback,P=h.a,A=h.b,L=h.c,F=h.d,B=h.e,D=h.f,I=s.viewPosition.z,G=s.hideCCW,z=r.roundPixels,W=r.alpha*s.alpha,Y=0,K=0;K<l;K++){var Z=n[K];Z.isInView(r,G,I,W,P,A,L,F,B,D,z)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(s),m=0),m=Z.load(f,v,m,u,T),Y++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,S&&C.push(Z))}s.totalFrame+=Y,S&&S.call(s,s,C),o.pipelines.postBatch(s)}};c.exports=g},28103:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(95643),s=t(78023),r=t(39318),e=new a({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,s],initialize:function(l,i,h,u,f,v,m,T,C,S,P){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=l.textures.getFrame(u,f);this.is3Slice=!S&&!P,A.scale9&&(this.is3Slice=A.is3Slice);for(var L=this.is3Slice?18:54,F=0;F<L;F++)this.vertices.push(new r);this.setPosition(i,h),this.setTexture(u,f),this.setSlices(v,m,T,C,S,P,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,i,h,u,f,v){i===void 0&&(i=10),h===void 0&&(h=10),u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=!1);var m=this.frame,T=!1;if(this.is3Slice&&v&&u!==0&&f!==0&&(T=!0),T)console.warn("Cannot change 9 slice to 3 slice");else{if(m.scale9&&!v){var C=m.data.scale9Borders,S=C.x,P=C.y;i=S,h=m.width-C.w-S,u=P,f=m.height-C.h-P,n===void 0&&(n=m.width),l===void 0&&(l=m.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=i,this.rightWidth=h,this.topHeight=u,this.bottomHeight=f,this.is3Slice&&(l=m.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.frame.width,f=this.frame.height;this.updateQuadUVs(0,0,0,n/u,i/f),this.updateQuadUVs(6,n/u,0,1-l/u,i/f),this.updateQuadUVs(12,1-l/u,0,1,i/f),this.is3Slice||(this.updateQuadUVs(18,0,i/f,n/u,1-h/f),this.updateQuadUVs(24,n/u,i/f,1-l/u,1-h/f),this.updateQuadUVs(30,1-l/u,i/f,1,1-h/f),this.updateQuadUVs(36,0,1-h/f,n/u,1),this.updateQuadUVs(42,n/u,1-h/f,1-l/u,1),this.updateQuadUVs(48,1-l/u,1-h/f,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.width,f=this.height;this.updateQuad(0,-.5,.5,-.5+n/u,.5-i/f),this.updateQuad(6,-.5+n/u,.5,.5-l/u,.5-i/f),this.updateQuad(12,.5-l/u,.5,.5,.5-i/f),this.is3Slice||(this.updateQuad(18,-.5,.5-i/f,-.5+n/u,-.5+h/f),this.updateQuad(24,-.5+n/u,.5-i/f,.5-l/u,-.5+h/f),this.updateQuad(30,.5-l/u,.5-i/f,.5,-.5+h/f),this.updateQuad(36,-.5,-.5+h/f,-.5+n/u,-.5),this.updateQuad(42,-.5+n/u,-.5+h/f,.5-l/u,-.5),this.updateQuad(48,.5-l/u,-.5+h/f,.5,-.5))},updateQuad:function(n,l,i,h,u){var f=this.width,v=this.height,m=this.originX,T=this.originY,C=this.vertices;C[n+0].resize(l,i,f,v,m,T),C[n+1].resize(l,u,f,v,m,T),C[n+2].resize(h,i,f,v,m,T),C[n+3].resize(l,u,f,v,m,T),C[n+4].resize(h,u,f,v,m,T),C[n+5].resize(h,i,f,v,m,T)},updateQuadUVs:function(n,l,i,h,u){var f=this.vertices,v=this.frame,m=v.u0,T=v.v0,C=v.u1,S=v.v1;if(m!==0||C!==1){var P=C-m;l=m+l*P,h=m+h*P}if(T!==0||S!==1){var A=S-T;i=T+i*A,u=T+u*A}f[n+0].setUVs(l,i),f[n+1].setUVs(l,u),f[n+2].setUVs(h,i),f[n+3].setUVs(l,u),f[n+4].setUVs(h,u),f[n+5].setUVs(h,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(35154),r=t(28103);g.register("nineslice",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"width",256),u=s(e,"height",256),f=s(e,"leftWidth",10),v=s(e,"rightWidth",10),m=s(e,"topHeight",0),T=s(e,"bottomHeight",0),C=new r(this.scene,0,0,l,i,h,u,f,v,m,T);return n!==void 0&&(e.add=n),a(this.scene,C,e),C})},47521:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28103),g=t(39429);g.register("nineslice",function(o,s,r,e,n,l,i,h,u,f){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,u,f))})},78023:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(52230),c.exports={renderWebGL:g,renderCanvas:o}},52230:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(70554),o=function(s,r,e,n){var l=r.vertices,i=l.length;if(i!==0){e.addToRenderList(r);var h=s.pipelines.set(r.pipeline,r),u=a(r,e,n,!1).calc;s.pipelines.preBatch(r);var f=h.setGameObject(r),v=h.vertexViewF32,m=h.vertexViewU32,T=h.vertexCount*h.currentShader.vertexComponentCount-1,C=e.roundPixels,S=r.tintFill,P=e.alpha*r.alpha,A=g.getTintAppendFloatAlpha(r.tint,P),L=h.vertexAvailable(),F=-1;L<i&&(F=L);for(var B=0;B<i;B++){var D=l[B];B===F&&(h.flush(),f=h.setGameObject(r),T=0),v[++T]=u.getXRound(D.vx,D.vy,C),v[++T]=u.getYRound(D.vx,D.vy,C),v[++T]=D.u,v[++T]=D.v,v[++T]=f,v[++T]=S,m[++T]=A,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}s.pipelines.postBatch(r)}};c.exports=o},76472:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(44777),o=t(37589),s=t(6113),r=t(91389),e=t(90664),n=new a({Extends:g,initialize:function(i){g.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,i=l,h=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=s("Linear"),this.interpolation=r("linear"),h=this.easedValueEmit,u=this.easeValueUpdate,i=l[0],this.active=!0;for(var f=0;f<l.length;f++){var v=e(l[f]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=h,this.onUpdate=u,this.current=i,this},setEase:function(l){this.easeName=l,this.ease=s(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,i,h){var u=this.ease(h),f=this.interpolation(this.r,u),v=this.interpolation(this.g,u),m=this.interpolation(this.b,u),T=o(f,v,m);return this.current=T,T}});c.exports=n},44777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),g=t(45319),o=t(83419),s=t(99472),r=t(6113),e=t(95540),n=t(91389),l=t(77720),i=t(15994),h=new o({initialize:function(f,v,m){m===void 0&&(m=!1),this.propertyKey=f,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,f){u===void 0&&(u={}),f&&(this.propertyKey=f),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var f;switch(this.method){case 1:case 3:case 8:f=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(f=u);break;case 4:var v=(this.end-this.start)/this.steps;f=l(u,v),this.counter=f;break;case 5:case 6:case 7:f=g(u,this.start,this.end);break;case 9:f=this.start[0];break}return this.current=f,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var f=typeof u;if(f==="number")return 1;if(Array.isArray(u))return 2;if(f==="function")return 3;if(f==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,f=u,v=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,f=u[0];break;case 3:this._onEmit=u,v=this.proxyEmit;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,v=this.steppedEmit,f=this.start;break;case 5:this.start=u.start,this.end=u.end;var T=this.has(u,"ease")?u.ease:"Linear";this.ease=r(T,u.easeParams),v=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,f=this.start;break;case 6:this.start=u.min,this.end=u.max,v=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,f=this.start;break;case 7:var C=u.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),v=this.randomRangedIntEmit,f=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,v=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=u.values;var S=this.has(u,"ease")?u.ease:"Linear";this.ease=r(S,u.easeParams),this.interpolation=n(u.interpolation),v=this.easedValueEmit,m=this.easeValueUpdate,f=this.start[0];break}return this.onEmit=v,this.onUpdate=m,this.current=f,this},has:function(u,f){return u.hasOwnProperty(f)},hasBoth:function(u,f,v){return u.hasOwnProperty(f)&&u.hasOwnProperty(v)},hasEither:function(u,f,v){return u.hasOwnProperty(f)||u.hasOwnProperty(v)},defaultEmit:function(u,f,v){return v},defaultUpdate:function(u,f,v,m){return m},proxyEmit:function(u,f,v){var m=this._onEmit(u,f,v);return this.current=m,m},proxyUpdate:function(u,f,v,m){var T=this._onUpdate(u,f,v,m);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,f){var v=s(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=v,u.data[f].max=this.end),this.current=v,v},randomRangedIntEmit:function(u,f){var v=a(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=v,u.data[f].max=this.end),this.current=v,v},steppedEmit:function(){var u=this.counter,f=u,v=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(f+=v,f>=this.end&&(m=f-this.end,f=this.end-m,this.direction=1)):(f-=v,f<=this.start&&(m=this.start-f,f=this.start+m,this.direction=0)),this.counter=f}else this.counter=i(f+v,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,f){if(u&&u.data[f]){var v=u.data[f];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,f,v){var m=u.data[f],T,C=this.ease(v);return this.interpolation?T=this.interpolation(this.start,C):T=(m.max-m.min)*C+m.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=h},24502:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(20286),s=new a({Extends:o,initialize:function(e,n,l,i,h){if(typeof e=="object"){var u=e;e=g(u,"x",0),n=g(u,"y",0),l=g(u,"power",0),i=g(u,"epsilon",100),h=g(u,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=100),h===void 0&&(h=50);o.call(this,e,n,!0),this._gravity=h,this._power=l*h,this._epsilon=i*i},update:function(r,e){var n=this.x-r.x,l=this.y-r.y,i=n*n+l*l;if(i!==0){var h=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*h)*100;r.velocityX+=n*u,r.velocityY+=l*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});c.exports=s},56480:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),g=t(45319),o=t(83419),s=t(39506),r=t(87841),e=t(11520),n=t(26099),l=new o({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=new a(this),this.bounds=new r},emit:function(i,h,u,f,v,m){return this.emitter.emit(i,h,u,f,v,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.x=i,this.y=h},fire:function(i,h){var u=this.emitter,f=u.ops,v=u.getAnim();if(v?this.anims.play(v):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=f.x.onEmit(this,"x"):f.x.steps>0?this.x+=i+f.x.onEmit(this,"x"):this.x+=i,h===void 0?this.y+=f.y.onEmit(this,"y"):f.y.steps>0?this.y+=h+f.y.onEmit(this,"y"):this.y+=h,this.life=f.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=f.delay.onEmit(this,"delay"),this.holdCurrent=f.hold.onEmit(this,"hold"),this.scaleX=f.scaleX.onEmit(this,"scaleX"),this.scaleY=f.scaleY.active?f.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=f.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var m=f.speedX.onEmit(this,"speedX"),T=f.speedY.active?f.speedY.onEmit(this,"speedY"):m;if(u.radial){var C=s(f.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(m),this.velocityY=Math.sin(C)*Math.abs(T)}else if(u.moveTo){var S=f.moveToX.onEmit(this,"moveToX"),P=f.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(S-this.x)/A,this.velocityY=(P-this.y)/A}else this.velocityX=m,this.velocityY=T;return u.acceleration&&(this.accelerationX=f.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=f.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=f.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=f.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=f.bounce.onEmit(this,"bounce"),this.alpha=f.alpha.onEmit(this,"alpha"),f.color.active?this.tint=f.color.onEmit(this,"tint"):this.tint=f.tint.onEmit(this,"tint"),!0},update:function(i,h,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var f=this.emitter,v=f.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=v.x.onUpdate(this,"x",m,this.x),this.y=v.y.onUpdate(this,"y",m,this.y),f.moveTo){var T=v.moveToX.onUpdate(this,"moveToX",m,f.moveToX),C=v.moveToY.onUpdate(this,"moveToY",m,f.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/S,this.velocityY=(C-this.y)/S}return this.computeVelocity(f,i,h,u,m),this.scaleX=v.scaleX.onUpdate(this,"scaleX",m,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=s(this.angle),f.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g(v.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",m,this.tint):this.tint=v.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,h,u,f,v){var m=i.ops,T=this.velocityX,C=this.velocityY,S=m.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),P=m.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),A=m.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),L=m.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",v,this.bounce),T+=i.gravityX*u+S*u,C+=i.gravityY*u+P*u,T=g(T,-A,A),C=g(C,-L,L),this.velocityX=T,this.velocityY=C,this.x+=T*u,this.y+=C*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var F=0;F<f.length;F++){var B=f[F];B.active&&B.update(this,h,u,v)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var h=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,f=this.x,v=this.y,m=this.rotation,T=this.frame.width*h/2,C=this.frame.height*u/2,S=this.bounds,P=new n(f-T,v-C),A=new n(f+T,v-C),L=new n(f-T,v+C),F=new n(f+T,v+C);return m!==0&&(e(P,f,v,m),e(A,f,v,m),e(L,f,v,m),e(F,f,v,m)),i.transformPoint(P.x,P.y,P),i.transformPoint(A.x,A.y,A),i.transformPoint(L.x,L.y,L),i.transformPoint(F.x,F.y,F),S.x=Math.min(P.x,A.x,L.x,F.x),S.y=Math.min(P.y,A.y,L.y,F.y),S.width=Math.max(P.x,A.x,L.x,F.x)-S.x,S.height=Math.max(P.y,A.y,L.y,F.y)-S.y,S},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(20286),o=t(87841),s=new a({Extends:g,initialize:function(e,n,l,i,h,u,f,v){h===void 0&&(h=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),v===void 0&&(v=!0),g.call(this,e,n,!0),this.bounds=new o(e,n,l,i),this.collideLeft=h,this.collideRight=u,this.collideTop=f,this.collideBottom=v},update:function(r){var e=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=n):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=n),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=n):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=n)}});c.exports=s},31600:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(53774),s=t(43459),r=t(26388),e=t(19909),n=t(76472),l=t(44777),i=t(20696),h=t(95643),u=t(95540),f=t(26546),v=t(24502),m=t(1985),T=t(97022),C=t(86091),S=t(73162),P=t(20074),A=t(56480),L=t(68875),F=t(87841),B=t(59996),D=t(72905),I=t(90668),G=t(19186),z=t(61340),W=t(26099),Y=t(15994),K=t(69601),Z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],H=new a({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,I],initialize:function(b,X,$,Q,k){h.call(this,b,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new z,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new S(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(X,$),this.setTexture(Q),k&&this.setConfig(k)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;var b=0,X="",$=this.ops;for(b=0;b<V.length;b++)X=V[b],$[X].loadConfig(N);for(b=0;b<Z.length;b++)X=Z[b],T(N,X)&&(this[X]=u(N,X));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,T(N,"speed")&&($.speedX.loadConfig(N,"speed"),$.speedY.active=!1),(m(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(N,"scale")&&($.scaleX.loadConfig(N,"scale"),$.scaleY.active=!1),T(N,"callbackScope")){var Q=u(N,"callbackScope",null);this.emitCallbackScope=Q,this.deathCallbackScope=Q}if(T(N,"emitZone")&&this.addEmitZone(N.emitZone),T(N,"deathZone")&&this.addDeathZone(N.deathZone),T(N,"bounds")){var k=this.addParticleBounds(N.bounds);k.collideLeft=u(N,"collideLeft",!0),k.collideRight=u(N,"collideRight",!0),k.collideTop=u(N,"collideTop",!0),k.collideBottom=u(N,"collideBottom",!0)}return T(N,"followOffset")&&this.followOffset.setFromObject(u(N,"followOffset",0)),T(N,"texture")&&this.setTexture(N.texture),T(N,"frame")?this.setEmitterFrame(N.frame):T(N,"anim")&&this.setAnim(N.anim),T(N,"reserve")&&this.reserve(N.reserve),T(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},toJSON:function(){var N=o(this),b=0,X="";for(b=0;b<Z.length;b++)X=Z[b],N[X]=this[X];var $=this.ops;for(b=0;b<V.length;b++)X=V[b],$[X]&&(N[X]=$[X].toJSON());return $.speedY.active||(delete N.speedX,N.speed=$.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=$.scaleX.toJSON()),N},resetCounters:function(N,b){var X=this.counters;X.fill(0),X[0]=N,b&&(X[5]=1)},startFollow:function(N,b,X,$){return b===void 0&&(b=0),X===void 0&&(X=0),$===void 0&&($=!1),this.follow=N,this.followOffset.set(b,X),this.trackVisible=$,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,b=N.length,X;return b===1?X=N[0]:this.randomFrame?X=f(N):(X=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===b&&(this.currentFrame=0))),this.texture.get(X)},setEmitterFrame:function(N,b,X){b===void 0&&(b=!0),X===void 0&&(X=1),this.randomFrame=b,this.frameQuantity=X,this.currentFrame=0;var $=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if($==="string"||$==="number")this.frames.push(N);else if($==="object"){var Q=N;N=u(Q,"frames",null),N&&(this.frames=this.frames.concat(N));var k=u(Q,"cycle",!1);this.randomFrame=!k,this.frameQuantity=u(Q,"quantity",X)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,b=N.length;if(b===0)return null;if(b===1)return N[0];if(this.randomAnim)return f(N);var X=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,b)),X},setAnim:function(N,b,X){b===void 0&&(b=!0),X===void 0&&(X=1),this.randomAnim=b,this.animQuantity=X,this.currentAnim=0;var $=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if($==="string")this.anims.push(N);else if($==="object"){var Q=N;N=u(Q,"anims",null),N&&(this.anims=this.anims.concat(N));var k=u(Q,"cycle",!1);this.randomAnim=!k,this.animQuantity=u(Q,"quantity",X)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,b,X,$,Q,k,J,et){if(typeof N=="object"){var nt=N;N=nt.x,b=nt.y,X=T(nt,"w")?nt.w:nt.width,$=T(nt,"h")?nt.h:nt.height}return this.addParticleProcessor(new K(N,b,X,$,Q,k,J,et))},setParticleSpeed:function(N,b){return b===void 0&&(b=N),this.ops.speedX.onChange(N),N===b?this.ops.speedY.active=!1:this.ops.speedY.onChange(b),this.radial=!0,this},setParticleScale:function(N,b){return N===void 0&&(N=1),b===void 0&&(b=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(b),this},setParticleGravity:function(N,b){return this.gravityX=N,this.gravityY=b,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,b){return this.frequency=N,this.flowCounter=N>0?N:0,b&&(this.quantity=b),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var b,X=[],$=0;$<N.length;$++)if(b=N[$],b instanceof r)X.push(b);else if(typeof b.contains=="function")b=new r(b,!0),X.push(b);else{var Q=u(b,"type","onEnter"),k=u(b,"source",null);if(k&&typeof k.contains=="function"){var J=Q==="onEnter";b=new r(k,J),X.push(b)}}return this.deathZones=this.deathZones.concat(X),X},removeDeathZone:function(N){return D(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var b,X=[],$=0;$<N.length;$++)if(b=N[$],b instanceof L||b instanceof e)X.push(b);else{var Q=u(b,"source",null);if(Q){var k=u(b,"type","random");if(k==="random"&&typeof Q.getRandomPoint=="function")b=new L(Q),X.push(b);else if(k==="edge"&&typeof Q.getPoints=="function"){var J=u(b,"quantity",1),et=u(b,"stepRate",0),nt=u(b,"yoyo",!1),st=u(b,"seamless",!0),ot=u(b,"total",-1);b=new e(Q,J,et,nt,st,ot),X.push(b)}}}return this.emitZones=this.emitZones.concat(X),X},removeEmitZone:function(N){return D(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var b=this.emitZones,X=b.length;if(X!==0){var $=b[this.zoneIndex];$.getPoint(N),$.total>-1&&(this.zoneTotal++,this.zoneTotal===$.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===X&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var b=this.deathZones,X=0;X<b.length;X++){var $=b[X];if($.willKill(N))return this.emit(i.DEATH_ZONE,this,N,$),!0}return!1},setEmitZone:function(N){var b;return isFinite(N)?b=N:b=this.emitZones.indexOf(N),b>=0&&(this.zoneIndex=b),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new v(N))},reserve:function(N){var b=this.dead;if(this.maxParticles>0){var X=this.getParticleCount();X+N>this.maxParticles&&(N=this.maxParticles-(X+N))}for(var $=0;$<N;$++)b.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,b){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,b&&(this.emitCallbackScope=b)),this},onParticleDeath:function(N,b){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,b&&(this.deathCallbackScope=b)),this},killAll:function(){for(var N=this.dead,b=this.alive;b.length>0;)N.push(b.pop());return this},forEachAlive:function(N,b){for(var X=this.alive,$=X.length,Q=0;Q<$;Q++)N.call(b,X[Q],this);return this},forEachDead:function(N,b){for(var X=this.dead,$=X.length,Q=0;Q<$;Q++)N.call(b,X[Q],this);return this},start:function(N,b){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),b!==void 0&&(this.duration=Math.abs(b)),this.emit(i.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,b){return N===void 0&&(N=""),b===void 0&&(b=this.true),this.sortProperty=N,this.sortOrderAsc=b,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return G(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,b){var X=this.sortProperty;return this.sortOrderAsc?N[X]-b[X]:b[X]-N[X]},flow:function(N,b,X){return b===void 0&&(b=1),this.emitting=!1,this.frequency=N,this.quantity=b,X!==void 0&&(this.stopAfter=X),this.start()},explode:function(N,b,X){this.frequency=-1,this.resetCounters(-1,!0);var $=this.emitParticle(N,b,X);return this.emit(i.EXPLODE,this,$),$},emitParticleAt:function(N,b,X){return this.emitParticle(X,N,b)},emitParticle:function(N,b,X){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var $=this.dead,Q=this.stopAfter,k=this.follow?this.follow.x+this.followOffset.x:b,J=this.follow?this.follow.y+this.followOffset.y:X,et=0;et<N;et++){var nt=$.pop();if(nt||(nt=new this.particleClass(this)),nt.fire(k,J)?(this.particleBringToTop?this.alive.push(nt):this.alive.unshift(nt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,nt,this)):this.dead.push(nt),Q>0&&(this.stopCounter++,this.stopCounter>=Q)||this.atLimit())break}return nt}},fastForward:function(N,b){b===void 0&&(b=1e3/60);var X=0;for(this.skipping=!0;X<Math.abs(N);)this.preUpdate(0,b),X+=b;return this.skipping=!1,this},preUpdate:function(N,b){b*=this.timeScale;var X=b/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var $=this.getProcessors(),Q=this.alive,k=this.dead,J=0,et=[],nt=Q.length;for(J=0;J<nt;J++){var st=Q[J];st.update(b,X,$)&&et.push({index:J,particle:st})}if(nt=et.length,nt>0){var ot=this.deathCallback,ut=this.deathCallbackScope;for(J=nt-1;J>=0;J--){var at=et[J];Q.splice(at.index,1),k.push(at.particle),ot&&ot.call(ut,at.particle),at.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Q.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=b;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=b,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var b=this.getWorldTransformMatrix(),X=this.alive,$=X.length,Q=[],k=0;k<$;k++){var J=X[k];B(N,J.getBounds(b))&&Q.push(J)}return Q},getBounds:function(N,b,X,$){N===void 0&&(N=0),b===void 0&&(b=0),X===void 0&&(X=1e3/60),$===void 0&&($=new F);var Q=this.getWorldTransformMatrix(),k,J,et=this.alive,nt=!1;if($.setTo(0,0,0,0),b>0){var st=0;for(this.skipping=!0;st<Math.abs(b);){for(this.preUpdate(0,X),k=0;k<et.length;k++)J=et[k].getBounds(Q),nt?P($,J):(nt=!0,s(J,$));st+=X}this.skipping=!1}else for(k=0;k<et.length;k++)J=et[k].getBounds(Q),nt?P($,J):(nt=!0,s(J,$));return N>0&&C($,N,N),$},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,b=this.ops;for(N=0;N<V.length;N++){var X=V[N];b[X].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=H},9871:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(59996),g=t(61340),o=new g,s=new g,r=new g,e=new g,n=function(l,i,h,u){var f=o,v=s,m=r,T=e;u?(T.loadIdentity(),T.multiply(u),T.translate(i.x,i.y),T.rotate(i.rotation),T.scale(i.scaleX,i.scaleY)):T.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var C=l.currentContext,S=h.roundPixels,P=h.alpha,A=i.alpha,L=i.alive,F=L.length,B=i.viewBounds;if(!(!i.visible||F===0||B&&!a(B,h.worldView))){i.sortCallback&&i.depthSort(),h.addToRenderList(i);var D=i.scrollFactorX,I=i.scrollFactorY;C.save(),C.globalCompositeOperation=l.blendModes[i.blendMode];for(var G=0;G<F;G++){var z=L[G],W=z.alpha*A*P;if(!(W<=0||z.scaleX===0||z.scaleY===0)){m.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),f.copyFrom(h.matrix),f.multiplyWithOffset(T,-h.scrollX*D,-h.scrollY*I),m.e=z.x,m.f=z.y,f.multiply(m,v);var Y=z.frame,K=Y.canvasData;if(K.width>0&&K.height>0){var Z=-Y.halfWidth,V=-Y.halfHeight;C.globalAlpha=W,C.save(),v.setToContext(C),S&&(Z=Math.round(Z),V=Math.round(V)),C.imageSmoothingEnabled=!Y.source.scaleMode,C.drawImage(Y.source.image,K.x,K.y,K.width,K.height,Z,V,K.width,K.height),C.restore()}}}C.restore()}};c.exports=n},92730:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(95540),r=t(31600);g.register("particles",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=s(e,"config",null),h=new r(this.scene,0,0,l);return n!==void 0&&(e.add=n),a(this.scene,h,e),i&&h.setConfig(i),h})},676:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(31600);a.register("particles",function(o,s,r,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,o,s,r,e))})},90668:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(21188),o=t(9871),c.exports={renderWebGL:g,renderCanvas:o}},21188:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(59996),g=t(61340),o=t(70554),s=new g,r=new g,e=new g,n=new g,l=function(i,h,u,f){var v=i.pipelines.set(h.pipeline),m=s,T=r,C=e,S=n;f?(S.loadIdentity(),S.multiply(f),S.translate(h.x,h.y),S.rotate(h.rotation),S.scale(h.scaleX,h.scaleY)):S.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var P=o.getTintAppendFloatAlpha,A=u.alpha,L=h.alpha;i.pipelines.preBatch(h);var F=h.alive,B=F.length,D=h.viewBounds;if(!(B===0||D&&!a(D,u.worldView))){h.sortCallback&&h.depthSort(),u.addToRenderList(h),m.copyFrom(u.matrix),m.multiplyWithOffset(S,-u.scrollX*h.scrollFactorX,-u.scrollY*h.scrollFactorY),i.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(i,h,u),i.pipelines.set(h.pipeline));for(var I=h.tintFill,G,z,W=0;W<B;W++){var Y=F[W],K=Y.alpha*L*A;if(!(K<=0||Y.scaleX===0||Y.scaleY===0)){C.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),C.e=Y.x,C.f=Y.y,m.multiply(C,T);var Z=Y.frame;Z.glTexture!==z&&(z=Z.glTexture,G=v.setGameObject(h,Z));var V=-Z.halfWidth,H=-Z.halfHeight,N=T.setQuad(V,H,V+Z.width,H+Z.height),b=P(Y.tint,K);v.shouldFlush(6)&&(v.flush(),G=v.setGameObject(h,Z)),v.batchQuad(h,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],Z.u0,Z.v0,Z.u1,Z.v1,b,b,b,b,I,z,G)}}h.mask&&h.mask.postRenderWebGL(i,u),i.pipelines.postBatch(h)}};c.exports=l},20286:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e){s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=g},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(o){var s=o.worldPosition,r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});c.exports=g},19909:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n,l,i){n===void 0&&(n=!1),l===void 0&&(l=!0),i===void 0&&(i=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],s=this.points[this.points.length-1];o.x===s.x&&o.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(o.x=s.x,o.y=s.y)}});c.exports=g},68875:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(26099),o=new a({initialize:function(r){this.source=r,this._tempVec=new g,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});c.exports=o},21024:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(68287),s=new a({Extends:o,Mixins:[g.PathFollower],initialize:function(e,n,l,i,h,u){o.call(this,e,l,i,h,u),this.path=n},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});c.exports=s},90145:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(1159);a.register("follower",function(o,s,r,e,n){var l=new g(this.scene,o,s,r,e,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),g=t(83419),o=t(48803),s=t(90664),r=t(4703),e=t(45650),n=new g({Extends:r,initialize:function(i,h,u,f,v,m,T,C){f||(f="__DEFAULT"),r.call(this,i,h,u,f,v),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,T,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,i,h){l===void 0&&(l=8),i===void 0&&(i=8),h===void 0&&(h=!1);var u=!1;return h&&(u=!0),this.gridWidth=l,this.gridHeight=i,this.isTiled=h,this.clear(),o({mesh:this,widthSegments:l,heightSegments:i,isOrtho:!1,tile:h,flipY:u}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var h=this.gridWidth,u=this.gridHeight,f=this.vertices,v=i.u0,m=i.u1,T=i.v0,C=i.v1,S,P,A=0;if(this.isTiled)for(T=i.v1,C=i.v0,P=0;P<u;P++)for(S=0;S<h;S++)f[A++].setUVs(v,C),f[A++].setUVs(v,T),f[A++].setUVs(m,C),f[A++].setUVs(v,T),f[A++].setUVs(m,T),f[A++].setUVs(m,C);else{var L=h+1,F=u+1,B=m-v,D=C-T,I=[];for(P=0;P<F;P++)for(S=0;S<L;S++){var G=v+B*(S/h),z=T+D*(P/u);I.push(G,z)}for(P=0;P<u;P++)for(S=0;S<h;S++){var W=(S+L*P)*2,Y=(S+L*(P+1))*2,K=(S+1+L*(P+1))*2,Z=(S+1+L*P)*2;f[A++].setUVs(I[W],I[W+1]),f[A++].setUVs(I[Y],I[Y+1]),f[A++].setUVs(I[Z],I[Z+1]),f[A++].setUVs(I[Y],I[Y+1]),f[A++].setUVs(I[K],I[K+1]),f[A++].setUVs(I[Z],I[Z+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(l,i,h,u,f){l===void 0&&(l=16777215),i===void 0&&(i=255),h===void 0&&(h=255),u===void 0&&(u=255),f===void 0&&(f=128);for(var v=s(l),m=s(i),T=[],C=0;C<16;C++)for(var S=0;S<16;S++)C<8&&S<8||C>7&&S>7?T.push(v.r,v.g,v.b,h):T.push(m.r,m.g,m.b,u);var P=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(T),16,16);return this.removeCheckerboard(),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(f),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,i){return this.anims.play(l,i)},playReverse:function(l,i){return this.anims.playReverse(l,i)},playAfterDelay:function(l,i){return this.anims.playAfterDelay(l,i)},playAfterRepeat:function(l,i){return this.anims.playAfterRepeat(l,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,i){r.prototype.preUpdate.call(this,l,i),this.anims.update(l,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=n},56015:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(13059),o=t(44603),s=t(23568),r=t(35154),e=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var i=s(n,"key",null),h=s(n,"frame",null),u=r(n,"width",8),f=r(n,"height",8),v=r(n,"tile",!1),m=new e(this.scene,0,0,i,h,u,f,v);l!==void 0&&(n.add=l);var T=r(n,"checkerboard",null);if(T){var C=r(T,"color1",16777215),S=r(T,"color2",255),P=r(T,"alpha1",255),A=r(T,"alpha2",255),L=r(T,"height",128);m.createCheckerboard(C,S,P,A,L)}return a(this.scene,m,n),g(m,n),m})},30985:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33663),g=t(39429);g.register("plane",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},80321:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(95643),s=t(30100),r=t(36060),e=t(67277),n=new a({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,e],initialize:function(i,h,u,f,v,m,T){f===void 0&&(f=16777215),v===void 0&&(v=128),m===void 0&&(m=1),T===void 0&&(T=.1),o.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,u),this.color=s(f),this.intensity=m,this.attenuation=T,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=n},39829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(80321);g.register("pointlight",function(r,e){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),i=o(r,"intensity",1),h=o(r,"attenuation",.1),u=new s(this.scene,0,0,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,u,r),u})},71255:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(80321);a.register("pointlight",function(o,s,r,e,n,l){return this.displayList.add(new g(this.scene,o,s,r,e,n,l))})},67277:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(57787),c.exports={renderWebGL:g,renderCanvas:o}},57787:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=function(o,s,r,e){r.addToRenderList(s);var n=o.pipelines.set(s.pipeline),l=a(s,r,e).calc,i=s.width,h=s.height,u=-s._radius,f=-s._radius,v=u+i,m=f+h,T=l.getX(0,0),C=l.getY(0,0),S=l.getX(u,f),P=l.getY(u,f),A=l.getX(u,m),L=l.getY(u,m),F=l.getX(v,m),B=l.getY(v,m),D=l.getX(v,f),I=l.getY(v,f);o.pipelines.preBatch(s),n.batchPointLight(s,r,S,P,A,L,F,B,D,I,T,C),o.pipelines.postBatch(s)};c.exports=g},591:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(81320),o=t(88571),s=new a({Extends:o,initialize:function(e,n,l,i,h){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=32),h===void 0&&(h=32);var u=new g(e.sys.textures,"",i,h);o.call(this,e,n,l,u),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.texture.setSize(r,e),this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=e),this},resize:function(r,e){return this.setSize(r,e),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,n,l,i,h){return this.texture.fill(r,e,n,l,i,h),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,n,l,i){return this.texture.stamp(r,e,n,l,i),this},erase:function(r,e,n){return this.texture.erase(r,e,n),this},draw:function(r,e,n,l,i){return this.texture.draw(r,e,n,l,i),this},drawFrame:function(r,e,n,l,i,h){return this.texture.drawFrame(r,e,n,l,i,h),this},repeat:function(r,e,n,l,i,h,u,f,v){return this.texture.repeat(r,e,n,l,i,h,u,f,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,n,l,i){return this.texture.batchDraw(r,e,n,l,i),this},batchDrawFrame:function(r,e,n,l,i,h){return this.texture.batchDrawFrame(r,e,n,l,i,h),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,n,l,i,h,u){return this.texture.snapshotArea(r,e,n,l,i,h,u),this},snapshot:function(r,e,n){return this.snapshotArea(0,0,this.width,this.height,r,e,n)},snapshotPixel:function(r,e,n){return this.snapshotArea(r,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=s},34495:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(591);g.register("renderTexture",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",32),h=o(r,"height",32),u=new s(this.scene,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,u,r),u})},60505:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(591);a.register("renderTexture",function(o,s,r,e){return this.displayList.add(new g(this.scene,o,s,r,e))})},77757:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),g=t(83419),o=t(31401),s=t(95643),r=t(36060),e=t(38745),n=t(26099),l=new g({Extends:s,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(h,u,f,v,m,T,C,S,P){v===void 0&&(v="__DEFAULT"),T===void 0&&(T=2),C===void 0&&(C=!0),s.call(this,h,"Rope"),this.anims=new a(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,m),this.setPosition(u,f),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,S,P),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){var u=this.anims.currentFrame;this.anims.update(i,h),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,h,u){return this.anims.play(i,h,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,h,u))},setVertical:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,h,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,h){var u=this.points.length;if(u<1)return this;var f=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&h===void 0&&(i=[i]);var v,m=0;if(h!==void 0)for(v=0;v<u;v++)m=v*2,f[m]=i,f[m+1]=h;else if(i.length===u)for(v=0;v<u;v++)m=v*2,f[m]=i[v],f[m+1]=i[v];else{var T=i[0];for(v=0;v<u;v++)m=v*2,i.length>m&&(T=i[m]),f[m]=T,i.length>m+1&&(T=i[m+1]),f[m+1]=T}return this},setColors:function(i){var h=this.points.length;if(h<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var f,v=0;if(i.length===h)for(f=0;f<h;f++)v=f*2,u[v]=i[f],u[v+1]=i[f];else{var m=i[0];for(f=0;f<h;f++)v=f*2,i.length>v&&(m=i[v]),u[v]=m,i.length>v+1&&(m=i[v+1]),u[v+1]=m}return this},setPoints:function(i,h,u){if(i===void 0&&(i=2),typeof i=="number"){var f=i;f<2&&(f=2),i=[];var v,m,T;if(this.horizontal)for(T=-this.frame.halfWidth,m=this.frame.width/(f-1),v=0;v<f;v++)i.push({x:T+v*m,y:0});else for(T=-this.frame.halfHeight,m=this.frame.height/(f-1),v=0;v<f;v++)i.push({x:0,y:T+v*m})}var C=i.length,S=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(i.unshift({x:0,y:0}),C++),S!==C&&this.resizeArrays(C),this.dirty=!0,this.points=i,this.updateUVs(),h!=null&&this.setColors(h),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,h=this.points.length,u=this.frame.u0,f=this.frame.v0,v=this.frame.u1,m=this.frame.v1,T=(v-u)/(h-1),C=(m-f)/(h-1),S=0;S<h;S++){var P=S*4,A,L,F,B;this.horizontal?(this._flipX?(A=v-S*T,F=v-S*T):(A=u+S*T,F=u+S*T),this._flipY?(L=m,B=f):(L=f,B=m)):(this._flipX?(A=u,F=v):(A=v,F=u),this._flipY?(L=m-S*C,B=m-S*C):(L=f+S*C,B=f+S*C)),i[P+0]=A,i[P+1]=L,i[P+2]=F,i[P+3]=B}return this},resizeArrays:function(i){var h=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),h=new Uint32Array(i*2),u=new Float32Array(i*2);for(var f=0;f<i*2;f++)h[f]=16777215,u[f]=1;return this.colors=h,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,h=this.points,u=this.vertices,f=h.length;if(this.dirty=!1,!(f<1)){for(var v,m=h[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<f;C++){var S=h[C],P=C*4;C<f-1?v=h[C+1]:v=S,i.x=v.y-m.y,i.y=-(v.x-m.x);var A=i.length();i.x/=A,i.y/=A,i.x*=T,i.y*=T,u[P]=S.x+i.x,u[P+1]=S.y+i.y,u[P+2]=S.x-i.x,u[P+3]=S.y-i.y,m=S}return this}},setDebug:function(i,h){return this.debugGraphic=i,!i&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,h,u){var f=i.debugGraphic,v=u[0],m=u[1],T=u[2],C=u[3];f.lineBetween(v,m,T,C);for(var S=4;S<h;S+=4){var P=u[S+0],A=u[S+1],L=u[S+2],F=u[S+3];f.lineBetween(v,m,P,A),f.lineBetween(T,C,L,F),f.lineBetween(T,C,P,A),f.lineBetween(P,A,L,F),v=P,m=A,T=L,C=F}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},26209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(35154),r=t(77757);g.register("rope",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=o(e,"horizontal",!0),u=s(e,"points",void 0),f=s(e,"colors",void 0),v=s(e,"alphas",void 0),m=new r(this.scene,0,0,l,i,u,h,f,v);return n!==void 0&&(e.add=n),a(this.scene,m,e),m})},96819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(77757),g=t(39429);g.register("rope",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))})},38745:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(20439),o=t(95262),c.exports={renderWebGL:g,renderCanvas:o}},20439:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline,r),i=a(r,e,n).calc,h=r.vertices,u=r.uv,f=r.colors,v=r.alphas,m=r.alpha,T=g.getTintAppendFloatAlpha,C=e.roundPixels,S=h.length,P=Math.floor(S*.5);l.flush(),s.pipelines.preBatch(r);var A=l.setGameObject(r),L=l.vertexViewF32,F=l.vertexViewU32,B=l.vertexCount*l.currentShader.vertexComponentCount-1,D=0,I=r.tintFill;r.dirty&&r.updateVertices();for(var G=r.debugCallback,z=[],W=0;W<S;W+=2){var Y=h[W+0],K=h[W+1],Z=Y*i.a+K*i.c+i.e,V=Y*i.b+K*i.d+i.f;C&&(Z=Math.round(Z),V=Math.round(V)),L[++B]=Z,L[++B]=V,L[++B]=u[W+0],L[++B]=u[W+1],L[++B]=A,L[++B]=I,F[++B]=T(f[D],e.alpha*(v[D]*m)),D++,G&&(z[W+0]=Z,z[W+1]=V)}G&&G.call(r,r,S,z),l.vertexCount+=P,l.currentBatch.count=l.vertexCount-l.currentBatch.start,s.pipelines.postBatch(r)};c.exports=o},20071:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(95643),s=t(95540),r=t(79291),e=t(61622),n=t(25479),l=t(61340),i=t(95428),h=t(92503),u=new a({Extends:o,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,n],initialize:function(v,m,T,C,S,P,A,L){T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=128),P===void 0&&(P=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var F=v.sys.renderer;this.renderer=F,this.gl=F.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=F.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=F.width,this._rendererHeight=F.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(T,C),this.setSize(S,P),this.setOrigin(.5,.5),this.setShader(m,A,L),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(f){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setRenderToTexture:function(f,v){if(!this.renderToTexture){var m=this.width,T=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,m,T,0),this.framebuffer=C.createFramebuffer(m,T,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=T,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),f&&(this.texture=this.scene.sys.textures.addGLTexture(f,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(f,v,m){if(this.renderer.contextLost)return this._deferSetShader={key:f,textures:v,textureData:m},this;if(v===void 0&&(v=[]),typeof f=="string"){var T=this.scene.sys.cache.shader;if(!T.has(f))return console.warn("Shader missing: "+f),this;this.shader=T.get(f)}else this.shader=f;var C=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var P=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height),this.program=P;var A=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var F=0;F<4;F++)v[F]&&this.setSampler2D("iChannel"+F,v[F],F,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(f){return this.pointer=f,this},projOrtho:function(f,v,m,T){if(this.renderer.contextLost){this._deferProjOrtho={left:f,right:v,bottom:m,top:T};return}var C=-1e3,S=1e3,P=1/(f-v),A=1/(m-T),L=1/(C-S),F=this.projectionMatrix;F[0]=-2*P,F[5]=-2*A,F[10]=2*L,F[12]=(f+v)*P,F[13]=(T+m)*A,F[14]=(S+C)*L;var B=this.program,D=this.gl,I=this.renderer;I.setProgram(B),D.uniformMatrix4fv(D.getUniformLocation(B.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=m},initUniforms:function(){var f=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var m in this.uniforms){var T=this.uniforms[m],C=T.type,S=f[C];T.uniformLocation=this.renderer.createUniformLocation(v,m),C!=="sampler2D"&&(T.glMatrix=S.matrix,T.glValueLength=S.length,T.glFunc=S.func)}},setSampler2DBuffer:function(f,v,m,T,C,S){C===void 0&&(C=0),S===void 0&&(S={});var P=this.uniforms[f];return P.value=v,S.width=m,S.height=T,P.textureData=S,this._textureCount=C,this.initSampler2D(P),this},setSampler2D:function(f,v,m,T){m===void 0&&(m=0);var C=this.scene.sys.textures;if(C.exists(v)){var S=C.getFrame(v);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(f,S.glTexture,S.width,S.height,m,T);var P=this.uniforms[f],A=S.source;P.textureKey=v,P.source=A.image,P.value=S.glTexture,A.isGLTexture&&(T||(T={}),T.width=A.width,T.height=A.height),T&&(P.textureData=T),this._textureCount=m,this.initSampler2D(P)}return this},setUniform:function(f,v){return e(this.uniforms,f,v),this},getUniform:function(f){return s(this.uniforms,f,null)},setChannel0:function(f,v){return this.setSampler2D("iChannel0",f,0,v)},setChannel1:function(f,v){return this.setSampler2D("iChannel1",f,1,v)},setChannel2:function(f,v){return this.setSampler2D("iChannel2",f,2,v)},setChannel3:function(f,v){return this.setSampler2D("iChannel3",f,3,v)},initSampler2D:function(f){if(f.value){var v=f.textureData;if(v&&!f.value.isRenderTexture){var m=this.gl,T=f.value,C=m[s(v,"magFilter","linear").toUpperCase()],S=m[s(v,"minFilter","linear").toUpperCase()],P=m[s(v,"wrapS","repeat").toUpperCase()],A=m[s(v,"wrapT","repeat").toUpperCase()],L=m[s(v,"format","rgba").toUpperCase()],F=s(v,"flipY",!1),B=s(v,"width",T.width),D=s(v,"height",T.height),I=s(v,"source",T.pixels);v.repeat&&(P=m.REPEAT,A=m.REPEAT),v.width&&(I=null),T.update(I,B,D,F,P,A,S,C,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var f=this.gl,v=this.uniforms,m,T,C,S,P,A=0;for(var L in v)m=v[L],C=m.glFunc,T=m.glValueLength,S=m.uniformLocation,P=m.value,P!==null&&(T===1?m.glMatrix?C.call(f,S.webGLUniformLocation,m.transpose,P):C.call(f,S.webGLUniformLocation,P):T===2?C.call(f,S.webGLUniformLocation,P.x,P.y):T===3?C.call(f,S.webGLUniformLocation,P.x,P.y,P.z):T===4?C.call(f,S.webGLUniformLocation,P.x,P.y,P.z,P.w):m.type==="sampler2D"&&(f.activeTexture(f.TEXTURE0+A),f.bindTexture(f.TEXTURE_2D,P.webGLTexture),f.uniform1i(S.webGLUniformLocation,A),A++))},load:function(f){var v=this.gl,m=this.width,T=this.height,C=this.renderer,S=this.program,P=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,L=-this._displayOriginY;P[0]=f[0],P[1]=f[1],P[4]=f[2],P[5]=f[3],P[8]=f[4],P[9]=f[5],P[12]=P[0]*A+P[4]*L,P[13]=P[1]*A+P[5]*L}v.useProgram(S.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,P),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var F=this.uniforms,B=F.resolution;B.value.x=m,B.value.y=T,F.time.value=C.game.loop.getDuration();var D=this.pointer;if(D){var I=F.mouse,G=D.x/m,z=1-D.y/T;I.value.x=G.toFixed(2),I.value.y=z.toFixed(2)}this.syncUniforms()},flush:function(){var f=this.width,v=this.height,m=this.program,T=this.gl,C=this.vertexBuffer,S=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT)),T.bindBuffer(T.ARRAY_BUFFER,C.webGLBuffer);var A=T.getAttribLocation(m.webGLProgram,"inPosition");A!==-1&&(T.enableVertexAttribArray(A),T.vertexAttribPointer(A,2,T.FLOAT,!1,P,0));var L=this.vertexViewF32;L[3]=v,L[4]=f,L[5]=v,L[8]=f,L[9]=v,L[10]=f;var F=6;T.bufferSubData(T.ARRAY_BUFFER,0,this.bytes.subarray(0,F*P)),T.drawArrays(T.TRIANGLES,0,F),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var f=this._deferSetShader.key,v=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(f,v,m)}if(this._deferProjOrtho!==null){var T=this._deferProjOrtho.left,C=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,P=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(T,C,S,P)}},preDestroy:function(){var f=this.renderer;f.off(h.RESTORE_WEBGL,this.onContextRestored,this),f.deleteProgram(this.program),f.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(f.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(v){f.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});c.exports=u},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},54935:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(20071);g.register("shader",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),i=o(r,"y",0),h=o(r,"width",128),u=o(r,"height",128),f=new s(this.scene,n,l,i,h,u);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},74177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20071),g=t(39429);g.register("shader",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},25479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(19257),o=t(80464),c.exports={renderWebGL:g,renderCanvas:o}},19257:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=function(o,s,r,e){if(s.shader){if(r.addToRenderList(s),o.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var n=a(s,r,e).calc;(o.width!==s._rendererWidth||o.height!==s._rendererHeight)&&s.projOrtho(0,o.width,o.height,0),s.load(n.matrix),s.flush()}o.pipelines.rebind()}};c.exports=g},10441:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),g=function(o,s,r,e,n,l){for(var i=a.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),h=r.pathData,u=r.pathIndexes,f=0;f<u.length;f+=3){var v=u[f]*2,m=u[f+1]*2,T=u[f+2]*2,C=h[v+0]-n,S=h[v+1]-l,P=h[m+0]-n,A=h[m+1]-l,L=h[T+0]-n,F=h[T+1]-l,B=s.getX(C,S),D=s.getY(C,S),I=s.getX(P,A),G=s.getY(P,A),z=s.getX(L,F),W=s.getY(L,F);o.batchTri(r,B,D,I,G,z,W,0,0,1,1,i,i,i,2)}};c.exports=g},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=g||a.fillColor,r=o||a.fillAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.fillStyle="rgba("+e+","+n+","+l+","+r+")"};c.exports=x},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=g||a.strokeColor,r=o||a.strokeAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.strokeStyle="rgba("+e+","+n+","+l+","+r+")",t.lineWidth=a.lineWidth};c.exports=x},17803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(95643),s=t(23031),r=new a({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(n,l,i){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=r},34682:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),g=function(o,s,r,e,n){var l=o.strokeTint,i=a.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);l.TL=i,l.TR=i,l.BL=i,l.BR=i;var h=s.pathData,u=h.length-1,f=s.lineWidth,v=f/2,m=h[0]-e,T=h[1]-n;s.closePath||(u-=2);for(var C=2;C<u;C+=2){var S=h[C]-e,P=h[C+1]-n;o.batchLine(m,T,S,P,v,v,f,C-2,s.closePath?C===u-1:!1),m=S,T=P}};c.exports=g},23629:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13609),g=t(83419),o=t(39506),s=t(94811),r=t(96503),e=t(36383),n=t(17803),l=new g({Extends:n,Mixins:[a],initialize:function(h,u,f,v,m,T,C,S,P){u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=128),m===void 0&&(m=0),T===void 0&&(T=360),C===void 0&&(C=!1),n.call(this,h,"Arc",new r(0,0,v)),this._startAngle=m,this._endAngle=T,this._anticlockwise=C,this._iterations=.01,this.setPosition(u,f);var A=this.geom.radius*2;this.setSize(A,A),S!==void 0&&this.setFillStyle(S,P),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var h=i*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,h){return this._startAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(i,h){return this._endAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var i=this._iterations,h=i,u=this.geom.radius,f=o(this._startAngle),v=o(this._endAngle),m=this._anticlockwise,T=u,C=u;v-=f,m?v<-e.PI2?v=-e.PI2:v>0&&(v=-e.PI2+v%e.PI2):v>e.PI2?v=e.PI2:v<0&&(v=e.PI2+v%e.PI2);for(var S=[T+Math.cos(f)*u,C+Math.sin(f)*u],P;h<1;)P=v*h+f,S.push(T+Math.cos(P)*u,C+Math.sin(P)*u),h+=i;return P=v+f,S.push(T+Math.cos(P)*u,C+Math.sin(P)*u),S.push(T+Math.cos(f)*u,C+Math.sin(f)*u),this.pathIndexes=s(S),this.pathData=S,this}});c.exports=l},42542:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39506),g=t(65960),o=t(75177),s=t(20926),r=function(e,n,l,i){l.addToRenderList(n);var h=e.currentContext;if(s(e,h,n,l,i)){var u=n.radius;h.beginPath(),h.arc(u-n.originX*(u*2),u-n.originY*(u*2),u,a(n._startAngle),a(n._endAngle),n.anticlockwise),n.closePath&&h.closePath(),n.isFilled&&(g(h,n),h.fill()),n.isStroked&&(o(h,n),h.stroke()),h.restore()}};c.exports=r},42563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23629),g=t(39429);g.register("arc",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))}),g.register("circle",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,0,360,!1,e,n))})},13609:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(41447),o=t(42542),c.exports={renderWebGL:g,renderCanvas:o}},41447:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(10441),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l),u=i.calcMatrix.copyFrom(h.calc),f=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&g(i,u,e,m,f,v),e.isStroked&&o(i,e,m,f,v),r.pipelines.postBatch(e)};c.exports=s},89:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(33141),o=t(94811),s=t(87841),r=t(17803),e=new a({Extends:r,Mixins:[g],initialize:function(l,i,h,u,f,v){i===void 0&&(i=0),h===void 0&&(h=0),r.call(this,l,"Curve",u),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(i,h),f!==void 0&&this.setFillStyle(f,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(l),u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=e},3170:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,f=e.pathData,v=f.length-1,m=f[0]-h,T=f[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=f[C]-h,P=f[C+1]-u;i.lineTo(S,P)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(g(i,e),i.stroke()),i.restore()}};c.exports=s},40511:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(89);a.register("curve",function(o,s,r,e,n){return this.displayList.add(new g(this.scene,o,s,r,e,n))})},33141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(53987),o=t(3170),c.exports={renderWebGL:g,renderCanvas:o}},53987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),g=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=g(e,n,l),u=i.calcMatrix.copyFrom(h.calc),f=e._displayOriginX+e._curveBounds.x,v=e._displayOriginY+e._curveBounds.y,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,f,v),e.isStroked&&o(i,e,m,f,v),r.pipelines.postBatch(e)};c.exports=s},19921:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(94811),o=t(54205),s=t(8497),r=t(17803),e=new a({Extends:r,Mixins:[o],initialize:function(l,i,h,u,f,v,m){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),f===void 0&&(f=128),r.call(this,l,"Ellipse",new s(u/2,f/2,u,f)),this._smoothness=64,this.setPosition(i,h),this.width=u,this.height=f,v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),i=0;i<l.length;i++)n.push(l[i].x,l[i].y);return n.push(l[0].x,l[0].y),this.pathIndexes=g(n),this.pathData=n,this}});c.exports=e},7930:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,f=e.pathData,v=f.length-1,m=f[0]-h,T=f[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=f[C]-h,P=f[C+1]-u;i.lineTo(S,P)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(g(i,e),i.stroke()),i.restore()}};c.exports=s},1543:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19921),g=t(39429);g.register("ellipse",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},54205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(19467),o=t(7930),c.exports={renderWebGL:g,renderCanvas:o}},19467:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),g=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=g(e,n,l),u=i.calcMatrix.copyFrom(h.calc),f=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,f,v),e.isStroked&&o(i,e,m,f,v),r.pipelines.postBatch(e)};c.exports=s},30479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(17803),o=t(26015),s=new a({Extends:g,Mixins:[o],initialize:function(e,n,l,i,h,u,f,v,m,T,C){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=128),h===void 0&&(h=128),u===void 0&&(u=32),f===void 0&&(f=32),g.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=f,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(i,h),this.setFillStyle(v,m),T!==void 0&&this.setOutlineStyle(T,C),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=s},49912:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=-e._displayOriginX,u=-e._displayOriginY,f=n.alpha*e.alpha,v=e.width,m=e.height,T=e.cellWidth,C=e.cellHeight,S=Math.ceil(v/T),P=Math.ceil(m/C),A=T,L=C,F=T-(S*T-v),B=C-(P*C-m),D=e.showCells,I=e.showAltCells,G=e.showOutline,z=0,W=0,Y=0,K=0,Z=0;if(G&&(A--,L--,F===T&&F--,B===C&&B--),D&&e.fillAlpha>0)for(a(i,e),W=0;W<P;W++)for(I&&(Y=W%2),z=0;z<S;z++){if(I&&Y){Y=0;continue}Y++,K=z<S-1?A:F,Z=W<P-1?L:B,i.fillRect(h+z*T,u+W*C,K,Z)}if(I&&e.altFillAlpha>0)for(a(i,e,e.altFillColor,e.altFillAlpha*f),W=0;W<P;W++)for(I&&(Y=W%2),z=0;z<S;z++){if(I&&!Y){Y=1;continue}Y=0,K=z<S-1?A:F,Z=W<P-1?L:B,i.fillRect(h+z*T,u+W*C,K,Z)}if(G&&e.outlineFillAlpha>0){for(g(i,e,e.outlineFillColor,e.outlineFillAlpha*f),z=1;z<S;z++){var V=z*T;i.beginPath(),i.moveTo(V+h,u),i.lineTo(V+h,m+u),i.stroke()}for(W=1;W<P;W++){var H=W*C;i.beginPath(),i.moveTo(h,H+u),i.lineTo(h+v,H+u),i.stroke()}}i.restore()}};c.exports=s},34137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(30479);a.register("grid",function(o,s,r,e,n,l,i,h,u,f){return this.displayList.add(new g(this.scene,o,s,r,e,n,l,i,h,u,f))})},26015:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(46161),o=t(49912),c.exports={renderWebGL:g,renderCanvas:o}},46161:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc);h.translate(-r._displayOriginX,-r._displayOriginY);var u=e.alpha*r.alpha,f=r.width,v=r.height,m=r.cellWidth,T=r.cellHeight,C=Math.ceil(f/m),S=Math.ceil(v/T),P=m,A=T,L=m-(C*m-f),F=T-(S*T-v),B,D,I=r.showCells,G=r.showAltCells,z=r.showOutline,W=0,Y=0,K=0,Z=0,V=0;if(z&&(P--,A--,L===m&&L--,F===T&&F--),s.pipelines.preBatch(r),I&&r.fillAlpha>0)for(B=l.fillTint,D=g.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*u),B.TL=D,B.TR=D,B.BL=D,B.BR=D,Y=0;Y<S;Y++)for(G&&(K=Y%2),W=0;W<C;W++){if(G&&K){K=0;continue}K++,Z=W<C-1?P:L,V=Y<S-1?A:F,l.batchFillRect(W*m,Y*T,Z,V)}if(G&&r.altFillAlpha>0)for(B=l.fillTint,D=g.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*u),B.TL=D,B.TR=D,B.BL=D,B.BR=D,Y=0;Y<S;Y++)for(G&&(K=Y%2),W=0;W<C;W++){if(G&&!K){K=1;continue}K=0,Z=W<C-1?P:L,V=Y<S-1?A:F,l.batchFillRect(W*m,Y*T,Z,V)}if(z&&r.outlineFillAlpha>0){var H=l.strokeTint,N=g.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*u);for(H.TL=N,H.TR=N,H.BL=N,H.BR=N,W=1;W<C;W++){var b=W*m;l.batchLine(b,0,b,v,1,1,1,0,!1)}for(Y=1;Y<S;Y++){var X=Y*T;l.batchLine(0,X,f,X,1,1,1,0,!1)}}s.pipelines.postBatch(r)};c.exports=o},61475:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99651),g=t(83419),o=t(17803),s=new g({Extends:o,Mixins:[a],initialize:function(e,n,l,i,h,u,f,v){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=15658734),f===void 0&&(f=10066329),v===void 0&&(v=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=f,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=s},11508:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(g(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,u=i/2,f=i/r.projection;r.showTop&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-u,-h),l.lineTo(0,-f-h),l.lineTo(u,-h),l.lineTo(u,-1),l.lineTo(0,f-1),l.lineTo(-u,-1),l.lineTo(-u,-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),l.moveTo(-u,0),l.lineTo(0,f),l.lineTo(0,f-h),l.lineTo(-u,-h),l.lineTo(-u,0),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),l.moveTo(u,0),l.lineTo(0,f),l.lineTo(0,f-h),l.lineTo(u,-h),l.lineTo(u,0),l.fill()),l.restore()}};c.exports=o},3933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(61475);a.register("isobox",function(o,s,r,e,n,l,i){return this.displayList.add(new g(this.scene,o,s,r,e,n,l,i))})},99651:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(68149),o=t(11508),c.exports={renderWebGL:g,renderCanvas:o}},68149:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),u=r.width,f=r.height,v=u/2,m=u/r.projection,T=e.alpha*r.alpha;if(r.isFilled){var C,S,P,A,L,F,B,D,I;s.pipelines.preBatch(r),r.showTop&&(C=g.getTintAppendFloatAlpha(r.fillTop,T),S=h.getX(-v,-f),P=h.getY(-v,-f),A=h.getX(0,-m-f),L=h.getY(0,-m-f),F=h.getX(v,-f),B=h.getY(v,-f),D=h.getX(0,m-f),I=h.getY(0,m-f),l.batchQuad(r,S,P,A,L,F,B,D,I,0,0,1,1,C,C,C,C,2)),r.showLeft&&(C=g.getTintAppendFloatAlpha(r.fillLeft,T),S=h.getX(-v,0),P=h.getY(-v,0),A=h.getX(0,m),L=h.getY(0,m),F=h.getX(0,m-f),B=h.getY(0,m-f),D=h.getX(-v,-f),I=h.getY(-v,-f),l.batchQuad(r,S,P,A,L,F,B,D,I,0,0,1,1,C,C,C,C,2)),r.showRight&&(C=g.getTintAppendFloatAlpha(r.fillRight,T),S=h.getX(v,0),P=h.getY(v,0),A=h.getX(0,m),L=h.getY(0,m),F=h.getX(0,m-f),B=h.getY(0,m-f),D=h.getX(v,-f),I=h.getY(v,-f),l.batchQuad(r,S,P,A,L,F,B,D,I,0,0,1,1,C,C,C,C,2)),s.pipelines.postBatch(r)}};c.exports=o},16933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(60561),o=t(17803),s=new a({Extends:o,Mixins:[g],initialize:function(e,n,l,i,h,u,f,v,m){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=!1),f===void 0&&(f=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=f,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=s},79590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(g(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,u=i/2,f=i/r.projection,v=r.isReversed;r.showTop&&v&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-u,-h),l.lineTo(0,-f-h),l.lineTo(u,-h),l.lineTo(0,f-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),v?(l.moveTo(-u,-h),l.lineTo(0,f),l.lineTo(0,f-h)):(l.moveTo(-u,0),l.lineTo(0,f),l.lineTo(0,f-h)),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),v?(l.moveTo(u,-h),l.lineTo(0,f),l.lineTo(0,f-h)):(l.moveTo(u,0),l.lineTo(0,f),l.lineTo(0,f-h)),l.fill()),l.restore()}};c.exports=o},49803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(16933);a.register("isotriangle",function(o,s,r,e,n,l,i,h){return this.displayList.add(new g(this.scene,o,s,r,e,n,l,i,h))})},60561:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(51503),o=t(79590),c.exports={renderWebGL:g,renderCanvas:o}},51503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),u=r.width,f=r.height,v=u/2,m=u/r.projection,T=r.isReversed,C=e.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var S,P,A,L,F,B,D;if(r.showTop&&T){S=g.getTintAppendFloatAlpha(r.fillTop,C),P=h.getX(-v,-f),A=h.getY(-v,-f),L=h.getX(0,-m-f),F=h.getY(0,-m-f),B=h.getX(v,-f),D=h.getY(v,-f);var I=h.getX(0,m-f),G=h.getY(0,m-f);l.batchQuad(r,P,A,L,F,B,D,I,G,0,0,1,1,S,S,S,S,2)}r.showLeft&&(S=g.getTintAppendFloatAlpha(r.fillLeft,C),T?(P=h.getX(-v,-f),A=h.getY(-v,-f),L=h.getX(0,m),F=h.getY(0,m),B=h.getX(0,m-f),D=h.getY(0,m-f)):(P=h.getX(-v,0),A=h.getY(-v,0),L=h.getX(0,m),F=h.getY(0,m),B=h.getX(0,m-f),D=h.getY(0,m-f)),l.batchTri(r,P,A,L,F,B,D,0,0,1,1,S,S,S,2)),r.showRight&&(S=g.getTintAppendFloatAlpha(r.fillRight,C),T?(P=h.getX(v,-f),A=h.getY(v,-f),L=h.getX(0,m),F=h.getY(0,m),B=h.getX(0,m-f),D=h.getY(0,m-f)):(P=h.getX(v,0),A=h.getY(v,0),L=h.getX(0,m),F=h.getY(0,m),B=h.getX(0,m-f),D=h.getY(0,m-f)),l.batchTri(r,P,A,L,F,B,D,0,0,1,1,S,S,S,2)),s.pipelines.postBatch(r)}};c.exports=o},57847:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(17803),o=t(23031),s=t(36823),r=new a({Extends:g,Mixins:[s],initialize:function(n,l,i,h,u,f,v,m,T){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=128),v===void 0&&(v=0),g.call(this,n,"Line",new o(h,u,f,v));var C=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,i),this.setSize(C,S),m!==void 0&&this.setStrokeStyle(1,m,T),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,l,i){return this.geom.setTo(e,n,l,i),this}});c.exports=r},17440:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(75177),g=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(g(s,l,r,e,n)){var i=r._displayOriginX,h=r._displayOriginY;r.isStroked&&(a(l,r),l.beginPath(),l.moveTo(r.geom.x1-i,r.geom.y1-h),l.lineTo(r.geom.x2-i,r.geom.y2-h),l.stroke()),l.restore()}};c.exports=o},2481:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(57847);a.register("line",function(o,s,r,e,n,l,i,h){return this.displayList.add(new g(this.scene,o,s,r,e,n,l,i,h))})},36823:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(77385),o=t(17440),c.exports={renderWebGL:g,renderCanvas:o}},77385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n);l.calcMatrix.copyFrom(i.calc);var h=r._displayOriginX,u=r._displayOriginY,f=e.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var v=l.strokeTint,m=g.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*f);v.TL=m,v.TR=m,v.BL=m,v.BR=m,l.batchLine(r.geom.x1-h,r.geom.y1-u,r.geom.x2-h,r.geom.y2-u,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}s.pipelines.postBatch(r)};c.exports=o},24949:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90273),g=t(83419),o=t(94811),s=t(13829),r=t(25717),e=t(17803),n=t(5469),l=new g({Extends:e,Mixins:[a],initialize:function(h,u,f,v,m,T){u===void 0&&(u=0),f===void 0&&(f=0),e.call(this,h,"Polygon",new r(v));var C=s(this.geom);this.setPosition(u,f),this.setSize(C.width,C.height),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var h=0;h<i;h++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var h=s(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],h=this.geom.points,u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=l},38710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,f=e.pathData,v=f.length-1,m=f[0]-h,T=f[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=f[C]-h,P=f[C+1]-u;i.lineTo(S,P)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(g(i,e),i.stroke()),i.restore()}};c.exports=s},64827:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(24949);a.register("polygon",function(o,s,r,e,n){return this.displayList.add(new g(this.scene,o,s,r,e,n))})},90273:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(73695),o=t(38710),c.exports={renderWebGL:g,renderCanvas:o}},73695:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),g=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=g(e,n,l),u=i.calcMatrix.copyFrom(h.calc),f=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,f,v),e.isStroked&&o(i,e,m,f,v),r.pipelines.postBatch(e)};c.exports=s},74561:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(87841),o=t(17803),s=t(95597),r=new a({Extends:o,Mixins:[s],initialize:function(n,l,i,h,u,f,v){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=128),u===void 0&&(u=128),o.call(this,n,"Rectangle",new g(0,0,h,u)),this.setPosition(l,i),this.setSize(h,u),f!==void 0&&this.setFillStyle(f,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,n){this.width=e,this.height=n,this.geom.setSize(e,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=n),this},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),n.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},48682:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(a(i,e),i.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(g(i,e),i.beginPath(),i.rect(-h,-u,e.width,e.height),i.stroke()),i.restore()}};c.exports=s},87959:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(74561);a.register("rectangle",function(o,s,r,e,n,l){return this.displayList.add(new g(this.scene,o,s,r,e,n,l))})},95597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(52059),o=t(48682),c.exports={renderWebGL:g,renderCanvas:o}},52059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(34682),o=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,f=e._displayOriginY,v=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var m=i.fillTint,T=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T,i.batchFillRect(-u,-f,e.width,e.height)}e.isStroked&&g(i,e,v,u,f),r.pipelines.postBatch(e)};c.exports=s},55911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81991),g=t(83419),o=t(94811),s=t(17803),r=new g({Extends:s,Mixins:[a],initialize:function(n,l,i,h,u,f,v,m){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=5),u===void 0&&(u=32),f===void 0&&(f=64),s.call(this,n,"Star",null),this._points=h,this._innerRadius=u,this._outerRadius=f,this.setPosition(l,i),this.setSize(f*2,f*2),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,l=this._innerRadius,i=this._outerRadius,h=Math.PI/2*3,u=Math.PI/n,f=i,v=i;e.push(f,v+-i);for(var m=0;m<n;m++)e.push(f+Math.cos(h)*i,v+Math.sin(h)*i),h+=u,e.push(f+Math.cos(h)*l,v+Math.sin(h)*l),h+=u;return e.push(f,v+-i),this.pathIndexes=o(e),this.pathData=e,this}});c.exports=r},64272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,f=e.pathData,v=f.length-1,m=f[0]-h,T=f[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=f[C]-h,P=f[C+1]-u;i.lineTo(S,P)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(g(i,e),i.stroke()),i.restore()}};c.exports=s},93697:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55911),g=t(39429);g.register("star",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},81991:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(57017),o=t(64272),c.exports={renderWebGL:g,renderCanvas:o}},57017:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),g=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=g(e,n,l),u=i.calcMatrix.copyFrom(h.calc),f=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,f,v),e.isStroked&&o(i,e,m,f,v),r.pipelines.postBatch(e)};c.exports=s},36931:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(17803),o=t(16483),s=t(96195),r=new a({Extends:g,Mixins:[s],initialize:function(n,l,i,h,u,f,v,m,T,C,S){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),f===void 0&&(f=64),v===void 0&&(v=0),m===void 0&&(m=128),T===void 0&&(T=128),g.call(this,n,"Triangle",new o(h,u,f,v,m,T));var P=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(l,i),this.setSize(P,A),C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,l,i,h,u){return this.geom.setTo(e,n,l,i,h,u),this.updateData()},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},85172:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),g=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,f=e.geom.x1-h,v=e.geom.y1-u,m=e.geom.x2-h,T=e.geom.y2-u,C=e.geom.x3-h,S=e.geom.y3-u;i.beginPath(),i.moveTo(f,v),i.lineTo(m,T),i.lineTo(C,S),i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(g(i,e),i.stroke()),i.restore()}};c.exports=s},45245:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(36931);a.register("triangle",function(o,s,r,e,n,l,i,h,u,f){return this.displayList.add(new g(this.scene,o,s,r,e,n,l,i,h,u,f))})},96195:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(83253),o=t(85172),c.exports={renderWebGL:g,renderCanvas:o}},83253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=t(34682),o=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,f=e._displayOriginY,v=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var m=i.fillTint,T=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T;var C=e.geom.x1-u,S=e.geom.y1-f,P=e.geom.x2-u,A=e.geom.y2-f,L=e.geom.x3-u,F=e.geom.y3-f;i.batchFillTriangle(C,S,P,A,L,F,h.sprite,h.camera)}e.isStroked&&g(i,e,v,u,f),r.pipelines.postBatch(e)};c.exports=s},68287:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),g=t(83419),o=t(31401),s=t(95643),r=t(92751),e=new g({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,i,h,u,f){s.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(u,f),this.setPosition(i,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g.addToRenderList(a),t.batchSprite(a,a.frame,g,o)};c.exports=x},15567:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(13059),o=t(44603),s=t(23568),r=t(68287);o.register("sprite",function(e,n){e===void 0&&(e={});var l=s(e,"key",null),i=s(e,"frame",null),h=new r(this.scene,0,0,l,i);return n!==void 0&&(e.add=n),a(this.scene,h,e),g(h,e),h})},46409:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(68287);a.register("sprite",function(o,s,r,e){return this.displayList.add(new g(this.scene,o,s,r,e))})},92751:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(9409),o=t(76552),c.exports={renderWebGL:g,renderCanvas:o}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g.addToRenderList(a),a.pipeline.batchSprite(a,g,o)};c.exports=x},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=t.canvas,s=t.context,r=t.style,e=[],n=0,l=g.length;r.maxLines>0&&r.maxLines<g.length&&(l=r.maxLines),r.syncFont(o,s);for(var i=0;i<l;i++){var h=r.strokeThickness;h+=s.measureText(g[i]).width,g[i].length>1&&(h+=t.letterSpacing*(g[i].length-1)),r.wordWrap&&(h-=s.measureText(" ").width),e[i]=Math.ceil(h),n=Math.max(n,e[i])}var u=a.fontSize+r.strokeThickness,f=u*l,v=t.lineSpacing;return l>1&&(f+=v*(l-1)),{width:n,height:f,lines:l,lineWidths:e,lineSpacing:v,lineHeight:u}};c.exports=x},79557:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g=function(o){var s=a.create(this),r=s.getContext("2d",{willReadFrequently:!0});o.syncFont(s,r);var e=r.measureText(o.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return a.remove(s),{ascent:n,descent:l,fontSize:n+l}}var i=Math.ceil(e.width*o.baselineX),h=i,u=2*h;h=h*o.baselineY|0,s.width=i,s.height=u,r.fillStyle="#f00",r.fillRect(0,0,i,u),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,h);var f={ascent:0,descent:0,fontSize:0},v=r.getImageData(0,0,i,u);if(!v)return f.ascent=h,f.descent=h+6,f.fontSize=f.ascent+f.descent,a.remove(s),f;var m=v.data,T=m.length,C=i*4,S,P,A=0,L=!1;for(S=0;S<h;S++){for(P=0;P<C;P+=4)if(m[A+P]!==255){L=!0;break}if(!L)A+=C;else break}for(f.ascent=h-S,A=T-C,L=!1,S=u;S>h;S--){for(P=0;P<C;P+=4)if(m[A+P]!==255){L=!0;break}if(!L)A-=C;else break}return f.descent=S-h,f.fontSize=f.ascent+f.descent,a.remove(s),f};c.exports=g},50171:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),g=t(27919),o=t(83419),s=t(31401),r=t(95643),e=t(14220),n=t(35154),l=t(35846),i=t(61771),h=t(35762),u=t(45650),f=new o({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,i],initialize:function(m,T,C,S,P){T===void 0&&(T=0),C===void 0&&(C=0),r.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(T,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context,this.style=new h(this,P),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),P&&P.padding&&this.setPadding(P.padding),P&&P.lineSpacing&&this.setLineSpacing(P.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var m=this.style;if(m.wordWrapCallback){var T=m.wordWrapCallback.call(m.wordWrapCallbackScope,v,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,m,T){for(var C="",S=v.replace(/ +/gi," ").split(this.splitRegExp),P=S.length,A=0;A<P;A++){var L=S[A],F="";L=L.replace(/^ *|\s*$/gi,"");var B=m.measureText(L).width;if(B<T){C+=L+`
`;continue}for(var D=T,I=L.split(" "),G=0;G<I.length;G++){var z=I[G],W=z+" ",Y=m.measureText(W).width;if(Y>D){if(G===0){for(var K=W;K.length&&(K=K.slice(0,-1),Y=m.measureText(K).width,!(Y<=D)););if(!K.length)throw new Error("wordWrapWidth < a single character");var Z=z.substr(K.length);I[G]=Z,F+=K}var V=I[G].length?G:G+1,H=I.slice(V).join(" ").replace(/[ \n]*$/gi,"");S.splice(A+1,0,H),P=S.length;break}else F+=W,D-=Y}C+=F.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(v,m,T){for(var C="",S=v.split(this.splitRegExp),P=S.length-1,A=m.measureText(" ").width,L=0;L<=P;L++){for(var F=T,B=S[L].split(" "),D=B.length-1,I=0;I<=D;I++){var G=B[I],z=m.measureText(G).width,W=z;I<D&&(W+=A),W>F&&I>0&&(C+=`
`,F=T),C+=G,I<D?(C+=" ",F-=W):F-=z}L<P&&(C+=`
`)}return C},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(v);return m.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,m){m===void 0&&(m=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var T=this._text.concat(m?`
`+v:v);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,m){return this.style.setFixedSize(v,m)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,m){return this.style.setStroke(v,m)},setShadow:function(v,m,T,C,S,P){return this.style.setShadow(v,m,T,C,S,P)},setShadowOffset:function(v,m){return this.style.setShadowOffset(v,m)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,m){return this.style.setWordWrapWidth(v,m)},setWordWrapCallback:function(v,m){return this.style.setWordWrapCallback(v,m)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,m,T,C){if(typeof v=="object"){var S=v,P=n(S,"x",null);P!==null?(v=P,T=P):(v=n(S,"left",0),T=n(S,"right",v));var A=n(S,"y",null);A!==null?(m=A,C=A):(m=n(S,"top",0),C=n(S,"bottom",m))}else v===void 0&&(v=0),m===void 0&&(m=v),T===void 0&&(T=v),C===void 0&&(C=m);return this.padding.left=v,this.padding.top=m,this.padding.right=T,this.padding.bottom=C,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var m=this.style;return m.rtl===v?this:(m.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var v=this.canvas,m=this.context,T=this.style,C=T.resolution,S=T.metrics;T.syncFont(v,m);var P=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(P=this.runWordWrap(this._text));var A=P.split(this.splitRegExp),L=e(this,S,A),F=this.padding,B;T.fixedWidth===0?(this.width=L.width+F.left+F.right,B=L.width):(this.width=T.fixedWidth,B=this.width-F.left-F.right,B<L.width&&(B=L.width)),T.fixedHeight===0?this.height=L.height+F.top+F.bottom:this.height=T.fixedHeight;var D=this.width,I=this.height;this.updateDisplayOrigin(),D*=C,I*=C,D=Math.max(D,1),I=Math.max(I,1),v.width!==D||v.height!==I?(v.width=D,v.height=I,this.frame.setSize(D,I),T.syncFont(v,m),T.rtl&&(m.direction="rtl")):m.clearRect(0,0,D,I),m.save(),m.scale(C,C),T.backgroundColor&&(m.fillStyle=T.backgroundColor,m.fillRect(0,0,D,I)),T.syncStyle(v,m),m.translate(F.left,F.top);for(var G,z,W=0;W<L.lines;W++){if(G=T.strokeThickness/2,z=T.strokeThickness/2+W*L.lineHeight+S.ascent,W>0&&(z+=L.lineSpacing*W),T.rtl)G=D-G-F.left-F.right;else if(T.align==="right")G+=B-L.lineWidths[W];else if(T.align==="center")G+=(B-L.lineWidths[W])/2;else if(T.align==="justify"){var Y=.85;if(L.lineWidths[W]/L.width>=Y){var K=L.width-L.lineWidths[W],Z=m.measureText(" ").width,V=A[W].trim(),H=V.split(" ");K+=(A[W].length-V.length)*Z;for(var N=Math.floor(K/Z),b=0;N>0;)H[b]+=" ",b=(b+1)%(H.length-1||1),--N;A[W]=H.join(" ")}}if(this.autoRound&&(G=Math.round(G),z=Math.round(z)),T.strokeThickness&&(T.syncShadow(m,T.shadowStroke),m.strokeText(A[W],G,z)),T.color){T.syncShadow(m,T.shadowFill);var X=this.letterSpacing;if(X!==0)for(var $=0,Q=A[W].split(""),k=0;k<Q.length;k++)m.fillText(Q[k],G+$,z),$+=m.measureText(Q[k]).width+X;else m.fillText(A[W],G,z)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var J=this.input;return J&&!J.customHitArea&&(J.hitArea.width=this.width,J.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=s.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=m,v},preDestroy:function(){l(this.canvas),g.remove(this.canvas);var v=this.texture;v&&v.destroy()}});c.exports=f},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a.width===0||a.height===0||(g.addToRenderList(a),t.batchSprite(a,a.frame,g,o))};c.exports=x},71259:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(50171);g.register("text",function(r,e){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),i=o(r,"padding",null);i!==null&&(l.padding=i);var h=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,h,r),h.autoRound=o(r,"autoRound",!0),h.resolution=o(r,"resolution",1),h})},68005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(50171),g=t(39429);g.register("text",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},61771:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(34397),o=t(79724),c.exports={renderWebGL:g,renderCanvas:o}},35762:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23568),o=t(35154),s=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new a({initialize:function(l,i){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,l,i){l===void 0&&(l=!0),i===void 0&&(i=!1),n&&n.hasOwnProperty("fontSize")&&typeof n.fontSize=="number"&&(n.fontSize=n.fontSize.toString()+"px");for(var h in r){var u=i?r[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=o(n,r[h][0],u):this[h]=g(n,r[h][0],u)}var f=o(n,"font",null);f!==null&&this.setFont(f,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var m=o(n,"metrics",!1);return m?this.metrics={ascent:o(m,"ascent",0),descent:o(m,"descent",0),fontSize:o(m,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=s(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var i=n,h="",u="";if(typeof n!="string")i=o(n,"fontFamily","Courier"),h=o(n,"fontSize","16px"),u=o(n,"fontStyle","");else{var f=n.split(" "),v=0;u=f.length>2?f[v++]:"",h=f[v++]||"16px",i=f[v++]||"Courier"}return(i!==this.fontFamily||h!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=h,this.fontStyle=u,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,i,h,u,f){return n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i="#000"),h===void 0&&(h=0),u===void 0&&(u=!1),f===void 0&&(f=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=i,this.shadowBlur=h,this.shadowStroke=u,this.shadowFill=f,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),g=function(o,s,r,e){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var n=s.frame,l=n.width,i=n.height,h=a.getTintAppendFloatAlpha,u=o.pipelines.set(s.pipeline,s),f=u.setTexture2D(n.glTexture,s);u.batchTexture(s,n.glTexture,l,i,s.x,s.y,l/s.style.resolution,i/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,l,i,h(s.tintTopLeft,r.alpha*s._alphaTL),h(s.tintTopRight,r.alpha*s._alphaTR),h(s.tintBottomLeft,r.alpha*s._alphaBL),h(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,e,!1,f)}};c.exports=g},20839:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g=t(83419),o=t(31401),s=t(95643),r=t(98439),e=t(68703),n=t(56295),l=t(45650),i=t(26099),h=8,u=new g({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,m,T,C,S,P,A){var L=v.sys.renderer;s.call(this,v,"TileSprite");var F=v.sys.textures.get(P),B=F.get(A);B.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),F=v.sys.textures.get("__MISSING"),B=F.get()),F.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),F=v.sys.textures.get("__MISSING"),B=F.get()),!C||!S?(C=B.width,S=B.height):(C=Math.floor(C),S=Math.floor(S)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=L,this.canvas=a.create(this,C,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=F,this.displayFrame=B,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(B.width),this.potHeight=r(B.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,T),this.setSize(C,S),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,v){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(v)},setFrame:function(f){var v=this.displayTexture.get(f);return this.potWidth=r(v.width),this.potHeight=r(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,v){return f!==void 0&&(this.tilePositionX=f),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(f,v){return f===void 0&&(f=this.tileScaleX),v===void 0&&(v=f),this.tileScaleX=f,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,m=this.fillCanvas,T=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=f.cutWidth,C=f.cutHeight),v.clearRect(0,0,T,C),m.width=T,m.height=C,v.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,T,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=v.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||e.disable(v);var m=this._tileScale.x,T=this._tileScale.y,C=this._tilePosition.x,S=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(m,T),v.translate(-C,-S),v.fillStyle=this.fillPattern,v.fillRect(C,S,this.width/m,this.height/T),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var f=this.texture;f&&f.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});c.exports=u},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a.updateCanvas(),g.addToRenderList(a),t.batchSprite(a,a.frame,g,o)};c.exports=x},14167:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(20839);g.register("tileSprite",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",512),h=o(r,"height",512),u=o(r,"key",""),f=o(r,"frame",""),v=new s(this.scene,n,l,i,h,u,f);return e!==void 0&&(r.add=e),a(this.scene,v,r),v})},91681:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20839),g=t(39429);g.register("tileSprite",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},56295:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(18553),o=t(46992),c.exports={renderWebGL:g,renderCanvas:o}},18553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),g=function(o,s,r,e){s.updateCanvas();var n=s.width,l=s.height;if(!(n===0||l===0)){r.addToRenderList(s);var i=a.getTintAppendFloatAlpha,h=o.pipelines.set(s.pipeline,s),u=h.setTexture2D(s.fillPattern,s);h.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,n,l,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*n,s.originY*l,0,0,n,l,i(s.tintTopLeft,r.alpha*s._alphaTL),i(s.tintTopRight,r.alpha*s._alphaTR),i(s.tintBottomLeft,r.alpha*s._alphaBL),i(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,e,!1,u)}};c.exports=g},18471:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(31401),s=t(51708),r=t(8443),e=t(95643),n=t(36383),l=t(14463),i=t(45650),h=t(10247),u=new g({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,h],initialize:function(v,m,T,C){e.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var S=v.sys.game;this._device=S.device.video,this.setPosition(m,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(r.PAUSE,this.globalPause,this),S.events.on(r.RESUME,this.globalResume,this);var P=v.sys.sound;P&&P.on(l.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(f){var v=this.scene.sys.cache.video.get(f);return v?(this.cacheKey=f,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+f),this},changeSource:function(f,v,m,T,C){v===void 0&&(v=!0),m===void 0&&(m=!1),this.cacheKey!==f&&(this.load(f),v&&this.play(m,T,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(f,v,m){v===void 0&&(v=!1);var T=this._device.getVideoURL(f);return T?(this.cacheKey="",this.loadHandler(T.url,v,m)):console.warn("No supported video format found for "+f),this},loadMediaStream:function(f,v,m){return this.loadHandler(null,v,m,f)},loadHandler:function(f,v,m,T){v||(v=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),v?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),m?C.setAttribute("crossorigin",m):C.removeAttribute("crossorigin"),T)if("srcObject"in C)try{C.srcObject=T}catch(P){if(P.name!=="TypeError")throw P;C.src=URL.createObjectURL(T)}else C.src=URL.createObjectURL(T);else C.src=f;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(f,v){var m=this.video;if(m){var T=v.width,C=v.height,S=this.videoTexture,P=this.videoTextureSource,A=!S||P.source!==m;A?(this._codePaused=m.paused,this._codeMuted=m.muted,S?(P.source=m,P.width=T,P.height=C,S.get().setSize(T,C)):(S=this.scene.sys.textures.create(this._key,m,T,C),S.add("__BASE",0,0,0,T,C),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):P.update(),this.isStalled=!1,this.metadata=v;var L=v.mediaTime;A&&(this._lastUpdate=L,this.emit(s.VIDEO_CREATED,this,T,C),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=L,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(f,v,m){v===void 0&&(v=-1),m===void 0&&(m=n.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(f===void 0&&(f=T.loop),T.loop=f,this._markerIn=v,this._markerOut=m,this._playingMarker=v>-1&&m>v&&m<n.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var f=this.video;f&&(f.addEventListener("error",this._loadCallbackHandler),f.addEventListener("abort",this._loadCallbackHandler),f.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var f=this.video;f&&(f.removeEventListener("error",this._loadCallbackHandler),f.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var f=this.video;if(f){var v=this._callbacks;for(var m in v)f.addEventListener(m,v[m])}},removeEventHandlers:function(){var f=this.video;if(f){var v=this._callbacks;for(var m in v)f.removeEventListener(m,v[m])}},createPlayPromise:function(f){f===void 0&&(f=!0);var v=this.video,m=v.play();if(m!==void 0){var T=this.playSuccess.bind(this),C=this.playError.bind(this);if(!f){var S=this;C=function(){S.failedPlayAttempts++}}m.then(T).catch(C)}else v.addEventListener("playing",this._callbacks.legacy),f||this.failedPlayAttempts++},addMarker:function(f,v,m){return!isNaN(v)&&v>=0&&!isNaN(m)&&m>v&&(this.markers[f]=[v,m]),this},playMarker:function(f,v){var m=this.markers[f];return m&&this.play(v,m[0],m[1]),this},removeMarker:function(f){return delete this.markers[f],this},snapshot:function(f,v){return f===void 0&&(f=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,f,v)},snapshotArea:function(f,v,m,T,C,S){f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),C===void 0&&(C=m),S===void 0&&(S=T);var P=this.video,A=this.snapshotTexture;return A?(A.setSize(C,S),P&&A.context.drawImage(P,f,v,m,T,0,0,C,S)):(A=this.scene.sys.textures.createCanvas(i(),C,S),this.snapshotTexture=A,P&&A.context.drawImage(P,f,v,m,T,0,0,C,S)),A.update()},saveSnapshotTexture:function(f){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var f=this.scene.sys.sound;f&&f.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(f){var v=f.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,f)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,f))},legacyPlayHandler:function(){var f=this.video;f&&(this.playSuccess(),f.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(f){this.stop(!1),this.emit(s.VIDEO_ERROR,this,f)},metadataHandler:function(f){this.emit(s.VIDEO_METADATA,this,f)},setSizeToFrame:function(f){f||(f=this.frame),this.width=f.realWidth,this.height=f.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(f){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,f)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(f,v){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(f){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m)){var T=m*f;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var v=this.video;if(v){if(typeof f=="string"){var m=f[0],T=parseFloat(f.substr(1));m==="+"?f=v.currentTime+T:m==="-"&&(f=v.currentTime-T)}v.currentTime=f}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var f=this.video;if(f){var v=f.duration;if(v!==1/0&&!isNaN(v))return f.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){f===void 0&&(f=!0),this._codeMuted=f;var v=this.video;return v&&(v.muted=this._systemMuted?!0:f),this},isMuted:function(){return this._codeMuted},globalMute:function(f,v){this._systemMuted=v;var m=this.video;m&&(m.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(f){f===void 0&&(f=!0);var v=this.video;return this._codePaused=f,v&&!v.ended&&(f?v.paused||(this.removeEventHandlers(),v.pause()):f||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(f){return f===void 0&&(f=1),this.video&&(this.video.volume=a(f,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){return this.video&&(this.video.playbackRate=f),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){return f===void 0&&(f=!0),this.video&&(this.video.loop=f),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,f),this.videoTextureSource.setFlipY(v)),this._key=f,this.flipY=v,!!this.videoTexture},stop:function(f){f===void 0&&(f=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,f&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var f=this.video;if(f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay"),f.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var f=this.scene.sys.game.events;f.off(r.PAUSE,this.globalPause,this),f.off(r.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=u},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a.videoTexture&&(g.addToRenderList(a),t.batchSprite(a,a.frame,g,o))};c.exports=x},11511:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),g=t(44603),o=t(23568),s=t(18471);g.register("video",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=new s(this.scene,0,0,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},89025:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(18471),g=t(39429);g.register("video",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},10247:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(29849),o=t(58352),c.exports={renderWebGL:g,renderCanvas:o}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a.videoTexture&&(g.addToRenderList(a),a.pipeline.batchSprite(a,g,o))};c.exports=x},41481:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g=t(96503),o=t(87902),s=t(83419),r=t(31401),e=t(95643),n=t(87841),l=t(37303),i=new s({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(u,f,v,m,T){m===void 0&&(m=1),T===void 0&&(T=m),e.call(this,u,"Zone"),this.setPosition(f,v),this.width=m,this.height=T,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,u,f){f===void 0&&(f=!0),this.width=h,this.height=u,this.updateDisplayOrigin();var v=this.input;return f&&v&&!v.customHitArea&&(v.hitArea.width=h,v.hitArea.height=u),this},setDisplaySize:function(h,u){return this.displayWidth=h,this.displayHeight=u,this},setCircleDropZone:function(h){return this.setDropZone(new g(0,0,h),o)},setRectangleDropZone:function(h,u){return this.setDropZone(new n(0,0,h,u),l)},setDropZone:function(h,u){return this.input||this.setInteractive(h,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,u,f){f.addToRenderList(u)},renderWebGL:function(h,u,f){f.addToRenderList(u)}});c.exports=i},95261:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),g=t(23568),o=t(41481);a.register("zone",function(s){var r=g(s,"x",0),e=g(s,"y",0),n=g(s,"width",1),l=g(s,"height",n);return new o(this.scene,r,e,n,l)})},84175:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41481),g=t(39429);g.register("zone",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=x},96503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(87902),o=t(26241),s=t(79124),r=t(23777),e=t(28176),n=new a({initialize:function(i,h,u){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=r.CIRCLE,this.x=i,this.y=h,this._radius=u,this._diameter=u*2},contains:function(l,i){return g(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h){return this.x=l,this.y=i,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=n},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(Math.PI*t.radius)};c.exports=x},92110:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x+o.radius*Math.cos(s),r.y=o.y+o.radius*Math.sin(s),r};c.exports=g},42250:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),g=function(o){return new a(o.x,o.y,o.radius)};c.exports=g},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(t.radius>0&&a>=t.left&&a<=t.right&&g>=t.top&&g<=t.bottom){var o=(t.x-a)*(t.x-a),s=(t.y-g)*(t.y-g);return o+s<=t.radius*t.radius}else return!1};c.exports=x},5698:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),g=function(o,s){return a(o,s.x,s.y)};c.exports=g},70588:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),g=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};c.exports=g},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.radius)};c.exports=x},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};c.exports=x},2074:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.diameter,s.height=o.diameter,s};c.exports=g},26241:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(92110),g=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=g(n,0,o.PI2);return a(e,i,l)};c.exports=r},79124:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71562),g=t(92110),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var u=o(h/n,0,s.PI2);i.push(g(e,u))}return i};c.exports=r},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.x+=a,t.y+=g,t};c.exports=x},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},28176:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){s===void 0&&(s=new a);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,l=n*Math.cos(r),i=n*Math.sin(r);return s.x=o.x+l*o.radius,s.y=o.y+i*o.radius,s};c.exports=g},88911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),c.exports=a},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=x},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=x},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.width/2,g=t.height/2,o=Math.pow(a-g,2)/Math.pow(a+g,2);return Math.PI*(a+g)*(1+3*o/(10+Math.sqrt(4-3*o)))};c.exports=x},79522:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s,r){r===void 0&&(r=new a);var e=o.width/2,n=o.height/2;return r.x=o.x+e*Math.cos(s),r.y=o.y+n*Math.sin(s),r};c.exports=g},58102:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8497),g=function(o){return new a(o.x,o.y,o.width,o.height)};c.exports=g},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(t.width<=0||t.height<=0)return!1;var o=(a-t.x)/t.width,s=(g-t.y)/t.height;return o*=o,s*=s,o+s<.25};c.exports=x},46662:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81154),g=function(o,s){return a(o,s.x,s.y)};c.exports=g},1632:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81154),g=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};c.exports=g},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};c.exports=x},8497:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(81154),o=t(90549),s=t(48320),r=t(23777),e=t(24820),n=new a({initialize:function(i,h,u,f){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.ELLIPSE,this.x=i,this.y=h,this.width=u,this.height=f},contains:function(l,i){return g(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h,u){return this.x=l,this.y=i,this.width=h,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},setSize:function(l,i){return i===void 0&&(i=l),this.width=l,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=n},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};c.exports=x},23694:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.width,s.height=o.height,s};c.exports=g},90549:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79522),g=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=g(n,0,o.PI2);return a(e,i,l)};c.exports=r},48320:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(92990),g=t(79522),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var u=o(h/n,0,s.PI2);i.push(g(e,u))}return i};c.exports=r},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.x+=a,t.y+=g,t};c.exports=x},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},24820:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){s===void 0&&(s=new a);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=o.x+e*Math.cos(r)*o.width/2,s.y=o.y+e*Math.sin(r)*o.height/2,s};c.exports=g},49203:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),c.exports=a},55738:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23777),g=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=g(!1,o,a),c.exports=o},2044:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20339),g=function(o,s){return a(o.x,o.y,s.x,s.y)<=o.radius+s.radius};c.exports=g},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=a.width/2,o=a.height/2,s=Math.abs(t.x-a.x-g),r=Math.abs(t.y-a.y-o),e=g+t.radius,n=o+t.radius;if(s>e||r>n)return!1;if(s<=g||r<=o)return!0;var l=s-g,i=r-o,h=l*l,u=i*i,f=t.radius*t.radius;return h+u<=f};c.exports=x},63376:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(2044),o=function(s,r,e){if(e===void 0&&(e=[]),g(s,r)){var n=s.x,l=s.y,i=s.radius,h=r.x,u=r.y,f=r.radius,v,m,T,C,S;if(l===u)S=(f*f-i*i-h*h+n*n)/(2*(n-h)),v=1,m=-2*u,T=h*h+S*S-2*h*S+u*u-f*f,C=m*m-4*v*T,C===0?e.push(new a(S,-m/(2*v))):C>0&&(e.push(new a(S,(-m+Math.sqrt(C))/(2*v))),e.push(new a(S,(-m-Math.sqrt(C))/(2*v))));else{var P=(n-h)/(l-u),A=(f*f-i*i-h*h+n*n-u*u+l*l)/(2*(l-u));v=P*P+1,m=2*l*P-2*A*P-2*n,T=n*n+l*l+A*A-i*i-2*l*A,C=m*m-4*v*T,C===0?(S=-m/(2*v),e.push(new a(S,A-S*P))):C>0&&(S=(-m+Math.sqrt(C))/(2*v),e.push(new a(S,A-S*P)),S=(-m-Math.sqrt(C))/(2*v),e.push(new a(S,A-S*P)))}}return e};c.exports=o},97439:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4042),g=t(81491),o=function(s,r,e){if(e===void 0&&(e=[]),g(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=r.getLineD();a(n,s,e),a(l,s,e),a(i,s,e),a(h,s,e)}return e};c.exports=o},4042:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(80462),o=function(s,r,e){if(e===void 0&&(e=[]),g(s,r)){var n=s.x1,l=s.y1,i=s.x2,h=s.y2,u=r.x,f=r.y,v=r.radius,m=i-n,T=h-l,C=n-u,S=l-f,P=m*m+T*T,A=2*(m*C+T*S),L=C*C+S*S-v*v,F=A*A-4*P*L,B,D;if(F===0){var I=-A/(2*P);B=n+I*m,D=l+I*T,I>=0&&I<=1&&e.push(new a(B,D))}else if(F>0){var G=(-A-Math.sqrt(F))/(2*P);B=n+G*m,D=l+G*T,G>=0&&G<=1&&e.push(new a(B,D));var z=(-A+Math.sqrt(F))/(2*P);B=n+z*m,D=l+z*T,z>=0&&z<=1&&e.push(new a(B,D))}}return e};c.exports=o},36100:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),g=function(o,s,r,e){r===void 0&&(r=!1);var n=o.x1,l=o.y1,i=o.x2,h=o.y2,u=s.x1,f=s.y1,v=s.x2,m=s.y2,T=i-n,C=h-l,S=v-u,P=m-f,A=T*P-C*S;if(A===0)return null;var L,F,B;if(r){if(L=(T*(f-l)+C*(n-u))/(S*C-P*T),F=(u+S*L-n)/T,F<0||L<0||L>1)return null;B=F}else{if(L=((u-n)*P-(f-l)*S)/A,F=((l-f)*T-(n-u)*C)/A,L<0||L>1||F<0||F>1)return null;B=L}return e===void 0&&(e=new a),e.set(n+T*B,l+C*B,B)};c.exports=g},3073:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36100),g=t(23031),o=t(25836),s=new g,r=new o,e=function(n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=new o);var u=!1;h.set(),r.set();for(var f=l[l.length-1],v=0;v<l.length;v++){var m=l[v];s.setTo(f.x,f.y,m.x,m.y),f=m,a(n,s,i,r)&&(!u||r.z<h.z)&&(h.copy(r),u=!0)}return u?h:null};c.exports=e},56362:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),g=t(61369),o=t(3073),s=new a,r=function(e,n,l,i){i===void 0&&(i=new g),Array.isArray(n)||(n=[n]);var h=!1;i.set(),s.set();for(var u=0;u<n.length;u++)o(e,n[u].points,l,s)&&(!h||s.z<i.z)&&(i.set(s.x,s.y,s.z,u),h=!0);return h?i:null};c.exports=r},60646:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(76112),o=t(92773),s=function(r,e,n){if(n===void 0&&(n=[]),o(r,e))for(var l=e.getLineA(),i=e.getLineB(),h=e.getLineC(),u=e.getLineD(),f=[new a,new a,new a,new a],v=[g(l,r,f[0]),g(i,r,f[1]),g(h,r,f[2]),g(u,r,f[3])],m=0;m<4;m++)v[m]&&n.push(f[m]);return n};c.exports=s},71147:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61369),g=t(56362),o=t(23031),s=new o;function r(l,i,h,u,f){var v=Math.cos(l),m=Math.sin(l);s.setTo(i,h,i+v,h+m);var T=g(s,u,!0);T&&f.push(new a(T.x,T.y,l,T.w))}function e(l,i){return l.z-i.z}var n=function(l,i,h){Array.isArray(h)||(h=[h]);for(var u=[],f=[],v=0;v<h.length;v++)for(var m=h[v].points,T=0;T<m.length;T++){var C=Math.atan2(m[T].y-i,m[T].x-l);f.indexOf(C)===-1&&(r(C,l,i,h,u),r(C-1e-5,l,i,h,u),r(C+1e-5,l,i,h,u),f.push(C))}return u.sort(e)};c.exports=n},68389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),g(s,r)&&(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y),e};c.exports=o},52784:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60646),g=t(59996),o=function(s,r,e){if(e===void 0&&(e=[]),g(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC(),h=s.getLineD();a(n,r,e),a(l,r,e),a(i,r,e),a(h,r,e)}return e};c.exports=o},26341:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89265),g=t(60646),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();g(n,s,e),g(l,s,e),g(i,s,e)}return e};c.exports=o},38720:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4042),g=t(67636),o=function(s,r,e){if(e===void 0&&(e=[]),g(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();a(n,r,e),a(l,r,e),a(i,r,e)}return e};c.exports=o},13882:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(2822),o=t(76112),s=function(r,e,n){if(n===void 0&&(n=[]),g(r,e))for(var l=r.getLineA(),i=r.getLineB(),h=r.getLineC(),u=[new a,new a,new a],f=[o(l,e,u[0]),o(i,e,u[1]),o(h,e,u[2])],v=0;v<3;v++)f[v]&&n.push(u[v]);return n};c.exports=s},75636:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82944),g=t(13882),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();g(s,n,e),g(s,l,e),g(s,i,e)}return e};c.exports=o},80462:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),g=t(2141),o=new g,s=function(r,e,n){if(n===void 0&&(n=o),a(e,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(a(e,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,i=r.y2-r.y1,h=e.x-r.x1,u=e.y-r.y1,f=l*l+i*i,v=l,m=i;if(f>0){var T=(h*l+u*i)/f;v*=T,m*=T}n.x=r.x1+v,n.y=r.y1+m;var C=v*v+m*m;return C<=f&&v*l+m*i>=0&&a(e,n.x,n.y)};c.exports=s},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=t.x1,s=t.y1,r=t.x2,e=t.y2,n=a.x1,l=a.y1,i=a.x2,h=a.y2;if(o===r&&s===e||n===i&&l===h)return!1;var u=(h-l)*(r-o)-(i-n)*(e-s);if(u===0)return!1;var f=((i-n)*(s-l)-(h-l)*(o-n))/u,v=((r-o)*(s-l)-(e-s)*(o-n))/u;return f<0||f>1||v<0||v>1?!1:(g&&(g.x=o+f*(r-o),g.y=s+f*(e-s)),!0)};c.exports=x},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.x1,o=t.y1,s=t.x2,r=t.y2,e=a.x,n=a.y,l=a.right,i=a.bottom,h=0;if(g>=e&&g<=l&&o>=n&&o<=i||s>=e&&s<=l&&r>=n&&r<=i)return!0;if(g<e&&s>=e){if(h=o+(r-o)*(e-g)/(s-g),h>n&&h<=i)return!0}else if(g>l&&s<=l&&(h=o+(r-o)*(l-g)/(s-g),h>=n&&h<=i))return!0;if(o<n&&r>=n){if(h=g+(s-g)*(n-o)/(r-o),h>=e&&h<=l)return!0}else if(o>i&&r<=i&&(h=g+(s-g)*(i-o)/(r-o),h>=e&&h<=l))return!0;return!1};c.exports=x},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){g===void 0&&(g=1);var o=a.x1,s=a.y1,r=a.x2,e=a.y2,n=t.x,l=t.y,i=(r-o)*(r-o)+(e-s)*(e-s);if(i===0)return!1;var h=((n-o)*(r-o)+(l-s)*(e-s))/i;if(h<0)return Math.sqrt((o-n)*(o-n)+(s-l)*(s-l))<=g;if(h>=0&&h<=1){var u=((s-l)*(r-o)-(o-n)*(e-s))/i;return Math.abs(u)*Math.sqrt(i)<=g}else return Math.sqrt((r-n)*(r-n)+(e-l)*(e-l))<=g};c.exports=x},14199:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16204),g=function(o,s){if(!a(o,s))return!1;var r=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),n=Math.min(s.y1,s.y2),l=Math.max(s.y1,s.y2);return o.x>=r&&o.x<=e&&o.y>=n&&o.y<=l};c.exports=g},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};c.exports=x},89265:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(76112),g=t(37303),o=t(48653),s=t(77493),r=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var l=n.getLineA(),i=n.getLineB(),h=n.getLineC();if(g(e,l.x1,l.y1)||g(e,l.x2,l.y2)||g(e,i.x1,i.y1)||g(e,i.x2,i.y2)||g(e,h.x1,h.y1)||g(e,h.x2,h.y2))return!0;var u=e.getLineA(),f=e.getLineB(),v=e.getLineC(),m=e.getLineD();if(a(l,u)||a(l,f)||a(l,v)||a(l,m)||a(i,u)||a(i,f)||a(i,v)||a(i,m)||a(h,u)||a(h,f)||a(h,v)||a(h,m))return!0;var T=s(e),C=o(n,T,!0);return C.length>0};c.exports=r},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s,r){return r===void 0&&(r=0),!(a>t.right+r||g<t.left-r||o>t.bottom+r||s<t.top-r)};c.exports=x},67636:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80462),g=t(10690),o=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(g(s,r.x,r.y)||a(s.getLineA(),r)||a(s.getLineB(),r)||a(s.getLineC(),r))};c.exports=o},2822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(76112),g=function(o,s){return!!(o.contains(s.x1,s.y1)||o.contains(s.x2,s.y2)||a(o.getLineA(),s)||a(o.getLineB(),s)||a(o.getLineC(),s))};c.exports=g},82944:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(48653),g=t(71694),o=t(76112),s=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=e.getLineA(),u=e.getLineB(),f=e.getLineC();if(o(n,h)||o(n,u)||o(n,f)||o(l,h)||o(l,u)||o(l,f)||o(i,h)||o(i,u)||o(i,f))return!0;var v=g(r),m=a(e,v,!0);return m.length>0||(v=g(e),m=a(r,v,!0),m.length>0)};c.exports=s},91865:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=x},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){a===void 0&&(a=1),g===void 0&&(g=[]);var o=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(e-s),i=o<r?1:-1,h=s<e?1:-1,u=n-l;g.push({x:o,y:s});for(var f=1;!(o===r&&s===e);){var v=u<<1;v>-l&&(u-=l,o+=i),v<n&&(u+=n,s+=h),f%a===0&&g.push({x:o,y:s}),f++}return g};c.exports=x},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=a-(t.x1+t.x2)/2,s=g-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=s,t.x2+=o,t.y2+=s,t};c.exports=x},31116:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23031),g=function(o){return new a(o.x1,o.y1,o.x2,o.y2)};c.exports=g},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=x},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};c.exports=x},78177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),g=function(o,s,r){r===void 0&&(r=s);var e=a(o),n=o.x2-o.x1,l=o.y2-o.y1;return s&&(o.x1=o.x1-n/e*s,o.y1=o.y1-l/e*s),r&&(o.x2=o.x2+n/e*r,o.y2=o.y2+l/e*r),o};c.exports=g},26708:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(52816),g=t(6113),o=t(2141),s=function(r,e,n,l,i){l===void 0&&(l=0),i===void 0&&(i=[]);var h=[],u=r.x1,f=r.y1,v=r.x2-u,m=r.y2-f,T=g(e,i),C,S,P=n-1;for(C=0;C<P;C++)S=T(C/P),h.push(new o(u+v*S,f+m*S));if(S=T(1),h.push(new o(u+v*S,f+m*S)),l>0){var A=h[0],L=[A];for(C=1;C<h.length-1;C++){var F=h[C];a(A,F)>=l&&(L.push(F),A=F)}var B=h[h.length-1];return a(A,B)<l&&L.pop(),L.push(B),L}else return h};c.exports=s},32125:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2)/2,s.y=(o.y1+o.y2)/2,s};c.exports=g},99569:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s,r){r===void 0&&(r=new a);var e=o.x1,n=o.y1,l=o.x2,i=o.y2,h=(l-e)*(l-e)+(i-n)*(i-n);if(h===0)return r;var u=((s.x-e)*(l-e)+(s.y-n)*(i-n))/h;return r.x=e+u*(l-e),r.y=n+u*(i-n),r};c.exports=g},34638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=t(91938),o=t(2141),s=function(r,e){e===void 0&&(e=new o);var n=g(r)-a.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};c.exports=s},13151:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x1+(o.x2-o.x1)*s,r.y=o.y1+(o.y2-o.y1)*s,r};c.exports=g},15258:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),g=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=a(s)/e);for(var l=s.x1,i=s.y1,h=s.x2,u=s.y2,f=0;f<r;f++){var v=f/r,m=l+(h-l)*v,T=i+(u-i)*v;n.push(new g(m,T))}return n};c.exports=o},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.x1,o=t.y1,s=t.x2,r=t.y2,e=(s-g)*(s-g)+(r-o)*(r-o);if(e===0)return!1;var n=((o-a.y)*(s-g)-(g-a.x)*(r-o))/e;return Math.abs(n)*Math.sqrt(e)};c.exports=x},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.y1-t.y2)};c.exports=x},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=x},23031:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(13151),o=t(15258),s=t(23777),r=t(65822),e=t(26099),n=new a({initialize:function(i,h,u,f){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=s.LINE,this.x1=i,this.y1=h,this.x2=u,this.y2=f},getPoint:function(l,i){return g(this,l,i)},getPoints:function(l,i,h){return o(this,l,i,h)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,i,h,u){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.x1=l,this.y1=i,this.x2=h,this.y2=u,this},setFromObjects:function(l,i){return this.x1=l.x,this.y1=l.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=n},64795:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=t(15994),o=t(91938),s=function(r){var e=o(r)-a.TAU;return g(e,-Math.PI,Math.PI)};c.exports=s},52616:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=t(91938),o=function(s){return Math.cos(g(s)-a.TAU)};c.exports=o},87231:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=t(91938),o=function(s){return Math.sin(g(s)-a.TAU)};c.exports=o},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.x1+=a,t.y1+=g,t.x2+=a,t.y2+=g,t};c.exports=x},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=x},65822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){s===void 0&&(s=new a);var r=Math.random();return s.x=o.x1+r*(o.x2-o.x1),s.y=o.y1+r*(o.y2-o.y1),s};c.exports=g},69777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91938),g=t(64795),o=function(s,r){return 2*g(r)-Math.PI-a(s)};c.exports=o},39706:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64400),g=function(o,s){var r=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return a(o,r,e,s)};c.exports=g},82585:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64400),g=function(o,s,r){return a(o,s.x,s.y,r)};c.exports=g},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-g;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+g,e=t.x2-a,n=t.y2-g,t.x2=e*s-n*r+a,t.y2=e*r+n*s+g,t};c.exports=x},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){return t.x1=a,t.y1=g,t.x2=a+Math.cos(o)*s,t.y2=g+Math.sin(o)*s,t};c.exports=x},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=x},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.x1-t.x2)};c.exports=x},2529:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),c.exports=a},83997:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(87841),o=t(26099);function s(e,n,l,i){var h=e-l,u=n-i,f=h*h+u*u;return Math.sqrt(f)}var r=new a({initialize:function(n,l,i){this.vertex1=n,this.vertex2=l,this.vertex3=i,this.bounds=new g,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,l=this.vertex2,i=this.vertex3,h,u,f,v,m,T;e?(h=n.x,u=n.y,f=l.x,v=l.y,m=i.x,T=i.y):(h=n.vx,u=n.vy,f=l.vx,v=l.vy,m=i.vx,T=i.vy);var C=s(m,T,f,v),S=s(h,u,m,T),P=s(f,v,h,u),A=C+S+P;return this._inCenter.set((h*C+f*S+m*P)/A,(u*C+v*S+T*P)/A)},contains:function(e,n,l){var i=this.vertex1,h=this.vertex2,u=this.vertex3,f=i.vx,v=i.vy,m=h.vx,T=h.vy,C=u.vx,S=u.vy;if(l){var P=l.a,A=l.b,L=l.c,F=l.d,B=l.e,D=l.f;f=i.vx*P+i.vy*L+B,v=i.vx*A+i.vy*F+D,m=h.vx*P+h.vy*L+B,T=h.vx*A+h.vy*F+D,C=u.vx*P+u.vy*L+B,S=u.vx*A+u.vy*F+D}var I=C-f,G=S-v,z=m-f,W=T-v,Y=e-f,K=n-v,Z=I*I+G*G,V=I*z+G*W,H=I*Y+G*K,N=z*z+W*W,b=z*Y+W*K,X=Z*N-V*V,$=X===0?0:1/X,Q=(N*H-V*b)*$,k=(Z*b-V*H)*$;return Q>=0&&k>=0&&Q+k<1},isCounterClockwise:function(e){var n=this.vertex1,l=this.vertex2,i=this.vertex3,h=(l.vx-n.vx)*(i.vy-n.vy)-(l.vy-n.vy)*(i.vx-n.vx);return e<=0?h>=0:h<0},load:function(e,n,l,i,h){return l=this.vertex1.load(e,n,l,i,h),l=this.vertex2.load(e,n,l,i,h),l=this.vertex3.load(e,n,l,i,h),l},transformCoordinatesLocal:function(e,n,l,i){return this.vertex1.transformCoordinatesLocal(e,n,l,i),this.vertex2.transformCoordinatesLocal(e,n,l,i),this.vertex3.transformCoordinatesLocal(e,n,l,i),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,n.vx,l.vx),i.y=Math.min(e.vy,n.vy,l.vy),i.width=Math.max(e.vx,n.vx,l.vx)-i.x,i.height=Math.max(e.vy,n.vy,l.vy)-i.y,this},isInView:function(e,n,l,i,h,u,f,v,m,T,C){this.update(i,h,u,f,v,m,T,C);var S=this.vertex1,P=this.vertex2,A=this.vertex3;if(S.ta<=0&&P.ta<=0&&A.ta<=0||n&&!this.isCounterClockwise(l))return!1;var L=this.bounds;L.x=Math.min(S.tx,P.tx,A.tx),L.y=Math.min(S.ty,P.ty,A.ty),L.width=Math.max(S.tx,P.tx,A.tx)-L.x,L.height=Math.max(S.ty,P.ty,A.ty)-L.y;var F=e.x+e.width,B=e.y+e.height;return L.width<=0||L.height<=0||e.width<=0||e.height<=0?!1:!(L.right<e.x||L.bottom<e.y||L.x>F||L.y>B)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,l,i,h,u,f,v){return this.vertex1.update(n,l,i,h,u,f,v,e),this.vertex2.update(n,l,i,h,u,f,v,e),this.vertex3.update(n,l,i,h,u,f,v,e),this},translate:function(e,n){n===void 0&&(n=0);var l=this.vertex1,i=this.vertex2,h=this.vertex3;return l.x+=e,l.y+=n,i.x+=e,i.y+=n,h.x+=e,h.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.alpha+n.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=r},48803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),g=t(95540),o=t(37867),s=t(25836),r=t(39318),e=new s,n=new s,l=new o,i=function(h){var u=g(h,"mesh"),f=g(h,"texture",null),v=g(h,"frame"),m=g(h,"width",1),T=g(h,"height",m),C=g(h,"widthSegments",1),S=g(h,"heightSegments",C),P=g(h,"x",0),A=g(h,"y",0),L=g(h,"z",0),F=g(h,"rotateX",0),B=g(h,"rotateY",0),D=g(h,"rotateZ",0),I=g(h,"zIsUp",!0),G=g(h,"isOrtho",u?u.dirtyCache[11]:!1),z=g(h,"colors",[16777215]),W=g(h,"alphas",[1]),Y=g(h,"tile",!1),K=g(h,"flipY",!1),Z=g(h,"width",null),V={faces:[],verts:[]};e.set(P,A,L),n.set(F,B,D),l.fromRotationXYTranslation(n,e,I);var H;if(!f&&u)f=u.texture,v||(H=u.frame);else if(u&&typeof f=="string")f=u.scene.sys.textures.get(f);else if(!f)return V;H||(H=f.get(v)),!Z&&G&&f&&u&&(m=H.width/u.height,T=H.height/u.height);var N=m/2,b=T/2,X=Math.floor(C),$=Math.floor(S),Q=X+1,k=$+1,J=m/X,et=T/$,nt=[],st=[],ot,ut,at=0,ct=1,Pt=0,Ct=1;H&&(at=H.u0,ct=H.u1,K?(Pt=H.v1,Ct=H.v0):(Pt=H.v0,Ct=H.v1));var Et=ct-at,dt=Ct-Pt;for(ut=0;ut<k;ut++){var St=ut*et-b;for(ot=0;ot<Q;ot++){var vt=ot*J-N;st.push(vt,-St);var Mt=at+Et*(ot/X),Nt=Pt+dt*(ut/$);nt.push(Mt,Nt)}}Array.isArray(z)||(z=[z]),Array.isArray(W)||(W=[W]);var Zt=0,Ut=0;for(ut=0;ut<$;ut++)for(ot=0;ot<X;ot++){var Ht=(ot+Q*ut)*2,Gt=(ot+Q*(ut+1))*2,oe=(ot+1+Q*(ut+1))*2,Jt=(ot+1+Q*ut)*2,Te=z[Ut],Ee=W[Zt],Ue=new r(st[Ht],st[Ht+1],0,nt[Ht],nt[Ht+1],Te,Ee).transformMat4(l),Qi=new r(st[Gt],st[Gt+1],0,nt[Gt],nt[Gt+1],Te,Ee).transformMat4(l),ki=new r(st[Jt],st[Jt+1],0,nt[Jt],nt[Jt+1],Te,Ee).transformMat4(l),Sn=new r(st[Gt],st[Gt+1],0,nt[Gt],nt[Gt+1],Te,Ee).transformMat4(l),Cn=new r(st[oe],st[oe+1],0,nt[oe],nt[oe+1],Te,Ee).transformMat4(l),En=new r(st[Jt],st[Jt+1],0,nt[Jt],nt[Jt+1],Te,Ee).transformMat4(l);Y&&(Ue.setUVs(at,Ct),Qi.setUVs(at,Pt),ki.setUVs(ct,Ct),Sn.setUVs(at,Pt),Cn.setUVs(ct,Pt),En.setUVs(ct,Ct)),Ut++,Ut===z.length&&(Ut=0),Zt++,Zt===W.length&&(Zt=0),V.verts.push(Ue,Qi,ki,Sn,Cn,En),V.faces.push(new a(Ue,Qi,ki),new a(Sn,Cn,En))}return u&&(u.faces=u.faces.concat(V.faces),u.vertices=u.vertices.concat(V.verts)),V};c.exports=i},34684:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),g=t(37867),o=t(25836),s=t(39318),r=new o,e=new o,n=new g,l=function(i,h,u,f,v,m,T,C,S,P){u===void 0&&(u=1),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=0),P===void 0&&(P=!0);var A={faces:[],verts:[]},L=i.materials;r.set(f,v,m),e.set(T,C,S),n.fromRotationXYTranslation(e,r,P);for(var F=0;F<i.models.length;F++)for(var B=i.models[F],D=B.vertices,I=B.textureCoords,G=B.faces,z=0;z<G.length;z++){var W=G[z],Y=W.vertices[0],K=W.vertices[1],Z=W.vertices[2],V=D[Y.vertexIndex],H=D[K.vertexIndex],N=D[Z.vertexIndex],b=Y.textureCoordsIndex,X=K.textureCoordsIndex,$=Z.textureCoordsIndex,Q=b===-1?{u:0,v:1}:I[b],k=X===-1?{u:0,v:0}:I[X],J=$===-1?{u:1,v:1}:I[$],et=16777215;W.material!==""&&L[W.material]&&(et=L[W.material]);var nt=new s(V.x*u,V.y*u,V.z*u,Q.u,Q.v,et).transformMat4(n),st=new s(H.x*u,H.y*u,H.z*u,k.u,k.v,et).transformMat4(n),ot=new s(N.x*u,N.y*u,N.z*u,J.u,J.v,et).transformMat4(n);A.verts.push(nt,st,ot),A.faces.push(new a(nt,st,ot))}return h&&(h.faces=h.faces.concat(A.faces),h.vertices=h.vertices.concat(A.verts)),A};c.exports=l},92515:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),g=t(39318),o=function(s,r,e,n,l,i,h,u){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),h===void 0&&(h=1),u===void 0&&(u=!1),s.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var f={faces:[],vertices:[]},v,m,T,C,S,P,A,L,F,B,D,I=n?3:2,G=Array.isArray(i),z=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(v=0;v<e.length;v++){var W=e[v],Y=e[v]*2,K=e[v]*I;m=s[K],T=s[K+1],C=n?s[K+2]:0,S=r[Y],P=r[Y+1],u&&(P=1-P),A=G?i[W]:i,L=z?h[W]:h,F=0,B=0,D=0,l&&(F=l[K],B=l[K+1],D=n?l[K+2]:0),f.vertices.push(new g(m,T,C,S,P,A,L,F,B,D))}else{var Z=0,V=0;for(v=0;v<s.length;v+=I)m=s[v],T=s[v+1],C=n?s[v+2]:0,S=r[Z],P=r[Z+1],A=G?i[V]:i,L=z?h[V]:h,F=0,B=0,D=0,l&&(F=l[v],B=l[v+1],D=n?l[v+2]:0),f.vertices.push(new g(m,T,C,S,P,A,L,F,B,D)),Z+=2,V++}for(v=0;v<f.vertices.length;v+=3){var H=f.vertices[v],N=f.vertices[v+1],b=f.vertices[v+2];f.faces.push(new a(H,N,b))}return f};c.exports=o},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,t="untitled",a="",g="";function o(m){var T=m.indexOf("#");return T>-1?m.substring(0,T):m}function s(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",m.models[m.models.length-1]}function r(m,T){var C=m.length>=2?m[1]:t;T.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function e(m){m.length===2&&(a=m[1])}function n(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,P=C>=3?parseFloat(m[2]):0,A=C>=4?parseFloat(m[3]):0;s(T).vertices.push({x:S,y:P,z:A})}function l(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,P=C>=3?parseFloat(m[2]):0,A=C>=4?parseFloat(m[3]):0;isNaN(S)&&(S=0),isNaN(P)&&(P=0),isNaN(A)&&(A=0),x&&(P=1-P),s(T).textureCoords.push({u:S,v:P,w:A})}function i(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,P=C>=3?parseFloat(m[2]):0,A=C>=4?parseFloat(m[3]):0;s(T).vertexNormals.push({x:S,y:P,z:A})}function h(m,T){var C=m.length-1;if(!(C<3)){for(var S={group:a,material:g,vertices:[]},P=0;P<C;P++){var A=m[P+1],L=A.split("/"),F=L.length;if(!(F<1||F>3)){var B=0,D=0,I=0;B=parseInt(L[0],10),F>1&&L[1]!==""&&(D=parseInt(L[1],10)),F>2&&(I=parseInt(L[2],10)),B!==0&&(B<0&&(B=s(T).vertices.length+1+B),D-=1,B-=1,I-=1,S.vertices.push({textureCoordsIndex:D,vertexIndex:B,vertexNormalIndex:I}))}}s(T).faces.push(S)}}function u(m,T){m.length>=2&&T.materialLibraries.push(m[1])}function f(m){m.length>=2&&(g=m[1])}var v=function(m,T){T===void 0&&(T=!0),x=T;var C={materials:{},materialLibraries:[],models:[]};a="",g="";for(var S=m.split(`
`),P=0;P<S.length;P++){var A=o(S[P]),L=A.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":r(L,C);break;case"g":e(L);break;case"v":n(L,C);break;case"vt":l(L,C);break;case"vn":i(L,C);break;case"f":h(L,C);break;case"mtllib":u(L,C);break;case"usemtl":f(L);break}}return C};c.exports=v},61485:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589),g=function(o){for(var s={},r=o.split(`
`),e="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var i=l.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var h=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):h,f=i.length>=3?Math.floor(i[3]*255):h;s[e]=a(h,u,f);break}}}}return s};c.exports=g},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s,r;if(g===void 0&&o===void 0){var e=t.getInCenter();s=e.x,r=e.y}var n=Math.cos(a),l=Math.sin(a),i=t.vertex1,h=t.vertex2,u=t.vertex3,f=i.x-s,v=i.y-r;i.set(f*n-v*l+s,f*l+v*n+r),f=h.x-s,v=h.y-r,h.set(f*n-v*l+s,f*l+v*n+r),f=u.x-s,v=u.y-r,u.set(f*n-v*l+s,f*l+v*n+r)};c.exports=x},39318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(70554),o=t(25836),s=new a({Extends:o,initialize:function(e,n,l,i,h,u,f,v,m,T){u===void 0&&(u=16777215),f===void 0&&(f=1),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),o.call(this,e,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=m,this.nz=T,this.u=i,this.v=h,this.color=u,this.alpha=f,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=h},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,n,l){var i=this.x,h=this.y,u=this.z,f=r.val,v=i*f[0]+h*f[4]+u*f[8]+f[12],m=i*f[1]+h*f[5]+u*f[9]+f[13],T=i*f[2]+h*f[6]+u*f[10]+f[14],C=i*f[3]+h*f[7]+u*f[11]+f[15];this.vx=v/C*e,this.vy=-(m/C)*n,l<=0?this.vz=T/C:this.vz=-(T/C)},resize:function(r,e,n,l,i,h){return this.x=r,this.y=e,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),h<.5?this.vy+=l*(.5-h):h>.5&&(this.vy-=l*(h-.5)),this},update:function(r,e,n,l,i,h,u,f){var v=this.vx*r+this.vy*n+i,m=this.vx*e+this.vy*l+h;return u&&(v=Math.round(v),m=Math.round(m)),this.tx=v,this.ty=m,this.ta=this.alpha*f,this},load:function(r,e,n,l,i){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=i,e[++n]=g.getTintAppendFloatAlpha(this.color,this.ta),n}});c.exports=s},73090:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=a},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=x},99706:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o){return new a(o.x,o.y)};c.exports=g},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y)};c.exports=x},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y};c.exports=x},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=x},87555:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){if(s===void 0&&(s=new a),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=o[0].x,s.y=o[0].y;else{for(var e=0;e<r;e++)s.x+=o[e].x,s.y+=o[e].y;s.x/=r,s.y/=r}return s};c.exports=g},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=x},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x*t.x+t.y*t.y};c.exports=x},20873:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o,s){s===void 0&&(s=new a);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,i=0;i<o.length;i++){var h=o[i];h.x>r&&(r=h.x),h.x<e&&(e=h.x),h.y>n&&(n=h.y),h.y<l&&(l=h.y)}return s.x=e,s.y=l,s.width=r-e,s.height=n-l,s};c.exports=g},26152:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s,r,e){return r===void 0&&(r=0),e===void 0&&(e=new a),e.x=o.x+(s.x-o.x)*r,e.y=o.y+(s.y-o.y)*r,e};c.exports=g},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(t.y,t.x)};c.exports=x},79432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){return s===void 0&&(s=new a),s.setTo(-o.x,-o.y)};c.exports=g},2141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23777),o=new a({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=g.POINT,this.x=r,this.y=e},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});c.exports=o},72930:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(44405),o=function(s,r,e){e===void 0&&(e=new a);var n=s.x*r.x+s.y*r.y,l=n/g(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};c.exports=o},62880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s,r){r===void 0&&(r=new a);var e=o.x*s.x+o.y*s.y;return e!==0&&(r.x=e*s.x,r.y=e*s.y),r};c.exports=g},15093:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28793),g=function(o,s){if(o.x!==0||o.y!==0){var r=a(o);o.x/=r,o.y/=r}return o.x*=s,o.y*=s,o};c.exports=g},43711:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),c.exports=a},12306:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25717),g=function(o){return new a(o.points)};c.exports=g},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){for(var o=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var e=t.points[s].x,n=t.points[s].y,l=t.points[r].x,i=t.points[r].y;(n<=g&&g<i||i<=g&&g<n)&&a<(l-e)*(g-n)/(i-n)+e&&(o=!o)}return o};c.exports=x},99338:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63814),g=function(o,s){return a(o,s.x,s.y)};c.exports=g},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(V,H,N){N=N||2;var b=H&&H.length,X=b?H[0]*N:V.length,$=t(V,0,X,N,!0),Q=[];if(!$||$.next===$.prev)return Q;var k,J,et,nt,st,ot,ut;if(b&&($=n(V,H,$,N)),V.length>80*N){k=et=V[0],J=nt=V[1];for(var at=N;at<X;at+=N)st=V[at],ot=V[at+1],st<k&&(k=st),ot<J&&(J=ot),st>et&&(et=st),ot>nt&&(nt=ot);ut=Math.max(et-k,nt-J),ut=ut!==0?32767/ut:0}return g($,Q,N,k,J,ut,0),Q}function t(V,H,N,b,X){var $,Q;if(X===Z(V,H,N,b)>0)for($=H;$<N;$+=b)Q=W($,V[$],V[$+1],Q);else for($=N-b;$>=H;$-=b)Q=W($,V[$],V[$+1],Q);return Q&&A(Q,Q.next)&&(Y(Q),Q=Q.next),Q}function a(V,H){if(!V)return V;H||(H=V);var N=V,b;do if(b=!1,!N.steiner&&(A(N,N.next)||P(N.prev,N,N.next)===0)){if(Y(N),N=H=N.prev,N===N.next)break;b=!0}else N=N.next;while(b||N!==H);return H}function g(V,H,N,b,X,$,Q){if(V){!Q&&$&&f(V,b,X,$);for(var k=V,J,et;V.prev!==V.next;){if(J=V.prev,et=V.next,$?s(V,b,X,$):o(V)){H.push(J.i/N|0),H.push(V.i/N|0),H.push(et.i/N|0),Y(V),V=et.next,k=et.next;continue}if(V=et,V===k){Q?Q===1?(V=r(a(V),H,N),g(V,H,N,b,X,$,2)):Q===2&&e(V,H,N,b,X,$):g(a(V),H,N,b,X,$,1);break}}}}function o(V){var H=V.prev,N=V,b=V.next;if(P(H,N,b)>=0)return!1;for(var X=H.x,$=N.x,Q=b.x,k=H.y,J=N.y,et=b.y,nt=X<$?X<Q?X:Q:$<Q?$:Q,st=k<J?k<et?k:et:J<et?J:et,ot=X>$?X>Q?X:Q:$>Q?$:Q,ut=k>J?k>et?k:et:J>et?J:et,at=b.next;at!==H;){if(at.x>=nt&&at.x<=ot&&at.y>=st&&at.y<=ut&&C(X,k,$,J,Q,et,at.x,at.y)&&P(at.prev,at,at.next)>=0)return!1;at=at.next}return!0}function s(V,H,N,b){var X=V.prev,$=V,Q=V.next;if(P(X,$,Q)>=0)return!1;for(var k=X.x,J=$.x,et=Q.x,nt=X.y,st=$.y,ot=Q.y,ut=k<J?k<et?k:et:J<et?J:et,at=nt<st?nt<ot?nt:ot:st<ot?st:ot,ct=k>J?k>et?k:et:J>et?J:et,Pt=nt>st?nt>ot?nt:ot:st>ot?st:ot,Ct=m(ut,at,H,N,b),Et=m(ct,Pt,H,N,b),dt=V.prevZ,St=V.nextZ;dt&&dt.z>=Ct&&St&&St.z<=Et;){if(dt.x>=ut&&dt.x<=ct&&dt.y>=at&&dt.y<=Pt&&dt!==X&&dt!==Q&&C(k,nt,J,st,et,ot,dt.x,dt.y)&&P(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,St.x>=ut&&St.x<=ct&&St.y>=at&&St.y<=Pt&&St!==X&&St!==Q&&C(k,nt,J,st,et,ot,St.x,St.y)&&P(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;dt&&dt.z>=Ct;){if(dt.x>=ut&&dt.x<=ct&&dt.y>=at&&dt.y<=Pt&&dt!==X&&dt!==Q&&C(k,nt,J,st,et,ot,dt.x,dt.y)&&P(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;St&&St.z<=Et;){if(St.x>=ut&&St.x<=ct&&St.y>=at&&St.y<=Pt&&St!==X&&St!==Q&&C(k,nt,J,st,et,ot,St.x,St.y)&&P(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function r(V,H,N){var b=V;do{var X=b.prev,$=b.next.next;!A(X,$)&&L(X,b,b.next,$)&&I(X,$)&&I($,X)&&(H.push(X.i/N|0),H.push(b.i/N|0),H.push($.i/N|0),Y(b),Y(b.next),b=V=$),b=b.next}while(b!==V);return a(b)}function e(V,H,N,b,X,$){var Q=V;do{for(var k=Q.next.next;k!==Q.prev;){if(Q.i!==k.i&&S(Q,k)){var J=z(Q,k);Q=a(Q,Q.next),J=a(J,J.next),g(Q,H,N,b,X,$,0),g(J,H,N,b,X,$,0);return}k=k.next}Q=Q.next}while(Q!==V)}function n(V,H,N,b){var X=[],$,Q,k,J,et;for($=0,Q=H.length;$<Q;$++)k=H[$]*b,J=$<Q-1?H[$+1]*b:V.length,et=t(V,k,J,b,!1),et===et.next&&(et.steiner=!0),X.push(T(et));for(X.sort(l),$=0;$<X.length;$++)N=i(X[$],N);return N}function l(V,H){return V.x-H.x}function i(V,H){var N=h(V,H);if(!N)return H;var b=z(N,V);return a(b,b.next),a(N,N.next)}function h(V,H){var N=H,b=V.x,X=V.y,$=-1/0,Q;do{if(X<=N.y&&X>=N.next.y&&N.next.y!==N.y){var k=N.x+(X-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(k<=b&&k>$&&($=k,Q=N.x<N.next.x?N:N.next,k===b))return Q}N=N.next}while(N!==H);if(!Q)return null;var J=Q,et=Q.x,nt=Q.y,st=1/0,ot;N=Q;do b>=N.x&&N.x>=et&&b!==N.x&&C(X<nt?b:$,X,et,nt,X<nt?$:b,X,N.x,N.y)&&(ot=Math.abs(X-N.y)/(b-N.x),I(N,V)&&(ot<st||ot===st&&(N.x>Q.x||N.x===Q.x&&u(Q,N)))&&(Q=N,st=ot)),N=N.next;while(N!==J);return Q}function u(V,H){return P(V.prev,V,H.prev)<0&&P(H.next,V,V.next)<0}function f(V,H,N,b){var X=V;do X.z===0&&(X.z=m(X.x,X.y,H,N,b)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==V);X.prevZ.nextZ=null,X.prevZ=null,v(X)}function v(V){var H,N,b,X,$,Q,k,J,et=1;do{for(N=V,V=null,$=null,Q=0;N;){for(Q++,b=N,k=0,H=0;H<et&&(k++,b=b.nextZ,!!b);H++);for(J=et;k>0||J>0&&b;)k!==0&&(J===0||!b||N.z<=b.z)?(X=N,N=N.nextZ,k--):(X=b,b=b.nextZ,J--),$?$.nextZ=X:V=X,X.prevZ=$,$=X;N=b}$.nextZ=null,et*=2}while(Q>1);return V}function m(V,H,N,b,X){return V=(V-N)*X|0,H=(H-b)*X|0,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,V|H<<1}function T(V){var H=V,N=V;do(H.x<N.x||H.x===N.x&&H.y<N.y)&&(N=H),H=H.next;while(H!==V);return N}function C(V,H,N,b,X,$,Q,k){return(X-Q)*(H-k)>=(V-Q)*($-k)&&(V-Q)*(b-k)>=(N-Q)*(H-k)&&(N-Q)*($-k)>=(X-Q)*(b-k)}function S(V,H){return V.next.i!==H.i&&V.prev.i!==H.i&&!D(V,H)&&(I(V,H)&&I(H,V)&&G(V,H)&&(P(V.prev,V,H.prev)||P(V,H.prev,H))||A(V,H)&&P(V.prev,V,V.next)>0&&P(H.prev,H,H.next)>0)}function P(V,H,N){return(H.y-V.y)*(N.x-H.x)-(H.x-V.x)*(N.y-H.y)}function A(V,H){return V.x===H.x&&V.y===H.y}function L(V,H,N,b){var X=B(P(V,H,N)),$=B(P(V,H,b)),Q=B(P(N,b,V)),k=B(P(N,b,H));return!!(X!==$&&Q!==k||X===0&&F(V,N,H)||$===0&&F(V,b,H)||Q===0&&F(N,V,b)||k===0&&F(N,H,b))}function F(V,H,N){return H.x<=Math.max(V.x,N.x)&&H.x>=Math.min(V.x,N.x)&&H.y<=Math.max(V.y,N.y)&&H.y>=Math.min(V.y,N.y)}function B(V){return V>0?1:V<0?-1:0}function D(V,H){var N=V;do{if(N.i!==V.i&&N.next.i!==V.i&&N.i!==H.i&&N.next.i!==H.i&&L(N,N.next,V,H))return!0;N=N.next}while(N!==V);return!1}function I(V,H){return P(V.prev,V,V.next)<0?P(V,H,V.next)>=0&&P(V,V.prev,H)>=0:P(V,H,V.prev)<0||P(V,V.next,H)<0}function G(V,H){var N=V,b=!1,X=(V.x+H.x)/2,$=(V.y+H.y)/2;do N.y>$!=N.next.y>$&&N.next.y!==N.y&&X<(N.next.x-N.x)*($-N.y)/(N.next.y-N.y)+N.x&&(b=!b),N=N.next;while(N!==V);return b}function z(V,H){var N=new K(V.i,V.x,V.y),b=new K(H.i,H.x,H.y),X=V.next,$=H.prev;return V.next=H,H.prev=V,N.next=X,X.prev=N,b.next=N,N.prev=b,$.next=b,b.prev=$,b}function W(V,H,N,b){var X=new K(V,H,N);return b?(X.next=b.next,X.prev=b,b.next.prev=X,b.next=X):(X.prev=X,X.next=X),X}function Y(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}function K(V,H,N){this.i=V,this.x=H,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(V,H,N,b){var X=H&&H.length,$=X?H[0]*N:V.length,Q=Math.abs(Z(V,0,$,N));if(X)for(var k=0,J=H.length;k<J;k++){var et=H[k]*N,nt=k<J-1?H[k+1]*N:V.length;Q-=Math.abs(Z(V,et,nt,N))}var st=0;for(k=0;k<b.length;k+=3){var ot=b[k]*N,ut=b[k+1]*N,at=b[k+2]*N;st+=Math.abs((V[ot]-V[at])*(V[ut+1]-V[ot+1])-(V[ot]-V[ut])*(V[at+1]-V[ot+1]))}return Q===0&&st===0?0:Math.abs((st-Q)/Q)};function Z(V,H,N,b){for(var X=0,$=H,Q=N-b;$<N;$+=b)X+=(V[Q]-V[$])*(V[$+1]+V[Q+1]),Q=$;return X}x.flatten=function(V){for(var H=V[0][0].length,N={vertices:[],holes:[],dimensions:H},b=0,X=0;X<V.length;X++){for(var $=0;$<V[X].length;$++)for(var Q=0;Q<H;Q++)N.vertices.push(V[X][$][Q]);X>0&&(b+=V[X-1].length,N.holes.push(b))}return N},c.exports=x},13829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o,s){s===void 0&&(s=new a);for(var r=1/0,e=1/0,n=-r,l=-e,i,h=0;h<o.points.length;h++)i=o.points[h],r=Math.min(r,i.x),e=Math.min(e,i.y),n=Math.max(n,i.x),l=Math.max(l,i.y);return s.x=r,s.y=e,s.width=n-r,s.height=l-e,s};c.exports=g},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=[]);for(var g=0;g<t.points.length;g++)a.push(t.points[g].x),a.push(t.points[g].y);return a};c.exports=x},9564:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),g=t(23031),o=t(30052),s=function(r,e,n,l){l===void 0&&(l=[]);var i=r.points,h=o(r);!e&&n>0&&(e=h/n);for(var u=0;u<e;u++)for(var f=h*(u/e),v=0,m=0;m<i.length;m++){var T=i[m],C=i[(m+1)%i.length],S=new g(T.x,T.y,C.x,C.y),P=a(S);if(f<v||f>v+P){v+=P;continue}var A=S.getPoint((f-v)/P);l.push(A);break}return l};c.exports=s},30052:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),g=t(23031),o=function(s){for(var r=s.points,e=0,n=0;n<r.length;n++){var l=r[n],i=r[(n+1)%r.length],h=new g(l.x,l.y,i.x,i.y);e+=a(h)}return e};c.exports=o},25717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(63814),o=t(9564),s=t(23777),r=new a({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return g(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,l=0;l<e.length;l++)n={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(n.x=parseFloat(e[l]),n.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(n.x=e[l][0],n.y=e[l][1]):(n.x=e[l].x,n.y=e[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,l,i=0;i<this.points.length-1;i++)n=this.points[i],l=this.points[i+1],e+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],e+=(n.x-l.x)*(l.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,l){return o(this,e,n,l)}});c.exports=r},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.points.reverse(),t};c.exports=x},29524:c=>{function x(r,e){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l}function t(r,e,n){var l=e.x,i=e.y,h=n.x-l,u=n.y-i;if(h!==0||u!==0){var f=((r.x-l)*h+(r.y-i)*u)/(h*h+u*u);f>1?(l=n.x,i=n.y):f>0&&(l+=h*f,i+=u*f)}return h=r.x-l,u=r.y-i,h*h+u*u}function a(r,e){for(var n=r[0],l=[n],i,h=1,u=r.length;h<u;h++)i=r[h],x(i,n)>e&&(l.push(i),n=i);return n!==i&&l.push(i),l}function g(r,e,n,l,i){for(var h=l,u,f=e+1;f<n;f++){var v=t(r[f],r[e],r[n]);v>h&&(u=f,h=v)}h>l&&(u-e>1&&g(r,e,u,l,i),i.push(r[u]),n-u>1&&g(r,u,n,l,i))}function o(r,e){var n=r.length-1,l=[r[0]];return g(r,0,n,e,l),l.push(r[n]),l}var s=function(r,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var i=e*e;n||(l=a(l,i)),r.setTo(o(l,i))}return r};c.exports=s},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(a,g){return a[0]=g[0],a[1]=g[1],a},t=function(a){var g,o=[],s=a.points;for(g=0;g<s.length;g++)o.push([s[g].x,s[g].y]);var r=[];for(o.length>0&&r.push(x([0,0],o[0])),g=0;g<o.length-1;g++){var e=o[g],n=o[g+1],l=e[0],i=e[1],h=n[0],u=n[1];r.push([.85*l+.15*h,.85*i+.15*u]),r.push([.15*l+.85*h,.15*i+.85*u])}return o.length>1&&r.push(x([0,0],o[o.length-1])),a.setTo(r)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){for(var o=t.points,s=0;s<o.length;s++)o[s].x+=a,o[s].y+=g;return t};c.exports=x},58423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),c.exports=a},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.height};c.exports=x},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=x},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=x},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.x=a-t.width/2,t.y=g-t.height/2,t};c.exports=x},65085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o){return new a(o.x,o.y,o.width,o.height)};c.exports=g},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=g&&t.y+t.height>=g};c.exports=x},96553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37303),g=function(o,s){return a(o,s.x,s.y)};c.exports=g},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};c.exports=x},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};c.exports=x},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};c.exports=x},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};c.exports=x},53751:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8249),g=function(o,s){var r=a(o);return r<a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};c.exports=g},16088:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8249),g=function(o,s){var r=a(o);return r>a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};c.exports=g},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=x},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=x},19217:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=t(36383),o=function(s,r){if(r===void 0&&(r=new a),s.length===0)return r;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=g.MIN_SAFE_INTEGER,i=g.MIN_SAFE_INTEGER,h,u,f,v=0;v<s.length;v++)h=s[v],Array.isArray(h)?(u=h[0],f=h[1]):(u=h.x,f=h.y),e=Math.min(e,u),n=Math.min(n,f),l=Math.max(l,u),i=Math.max(i,f);return r.x=e,r.y=n,r.width=l-e,r.height=i-n,r};c.exports=o},9477:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o,s,r,e,n){return n===void 0&&(n=new a),n.setTo(Math.min(o,r),Math.min(s,e),Math.abs(o-r),Math.abs(s-e))};c.exports=g},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height===0?NaN:t.width/t.height};c.exports=x},27165:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){return s===void 0&&(s=new a),s.x=o.centerX,s.y=o.centerY,s};c.exports=g},20812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13019),g=t(2141),o=function(s,r,e){if(e===void 0&&(e=new g),r<=0||r>=1)return e.x=s.x,e.y=s.y,e;var n=a(s)*r;return r>.5?(n-=s.width+s.height,n<=s.width?(e.x=s.right-n,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(n-s.width))):n<=s.width?(e.x=s.x+n,e.y=s.y):(e.x=s.right,e.y=s.y+(n-s.width)),e};c.exports=o},34819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20812),g=t(13019),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=g(s)/e);for(var l=0;l<r;l++){var i=l/r;n.push(a(s,i))}return n};c.exports=o},51313:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){return s===void 0&&(s=new a),s.x=o.width,s.y=o.height,s};c.exports=g},86091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(67502),g=function(o,s,r){var e=o.centerX,n=o.centerY;return o.setSize(o.width+s*2,o.height+r*2),a(o,e,n)};c.exports=g},53951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),g(s,r)?(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y):e.setEmpty(),e};c.exports=o},14649:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13019),g=t(2141),o=function(s,r,e,n){if(n===void 0&&(n=[]),!r&&!e)return n;r?e=Math.round(a(s)/r):r=a(s)/e;for(var l=s.x,i=s.y,h=0,u=0;u<e;u++)switch(n.push(new g(l,i)),h){case 0:l+=r,l>=s.right&&(h=1,i+=l-s.right,l=s.right);break;case 1:i+=r,i>=s.bottom&&(h=2,l-=i-s.bottom,i=s.bottom);break;case 2:l-=r,l<=s.left&&(h=3,i-=s.left-l,l=s.left);break;case 3:i-=r,i<=s.top&&(h=0,i=s.top);break}return n};c.exports=o},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var g=t.x,o=t.right,s=t.y,r=t.bottom,e=0;e<a.length;e++)g=Math.min(g,a[e].x),o=Math.max(o,a[e].x),s=Math.min(s,a[e].y),r=Math.max(r,a[e].y);return t.x=g,t.y=s,t.width=o-g,t.height=r-s,t};c.exports=x},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=Math.min(t.x,a.x),o=Math.max(t.right,a.right);t.x=g,t.width=o-g;var s=Math.min(t.y,a.y),r=Math.max(t.bottom,a.bottom);return t.y=s,t.height=r-s,t};c.exports=x},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=Math.min(t.x,a),s=Math.max(t.right,a);t.x=o,t.width=s-o;var r=Math.min(t.y,g),e=Math.max(t.bottom,g);return t.y=r,t.height=e-r,t};c.exports=x},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.x+=a,t.y+=g,t};c.exports=x},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};c.exports=x},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(t.width+t.height)};c.exports=x},85133:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(39506),o=function(s,r,e){e===void 0&&(e=new a),r=g(r);var n=Math.sin(r),l=Math.cos(r),i=l>0?s.width/2:s.width/-2,h=n>0?s.height/2:s.height/-2;return Math.abs(i*n)<Math.abs(h*l)?h=i*n/l:i=h*l/n,e.x=i+s.centerX,e.y=h+s.centerY,e};c.exports=o},26597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){return s===void 0&&(s=new a),s.x=o.x+Math.random()*o.width,s.y=o.y+Math.random()*o.height,s};c.exports=g},86470:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),g=t(70273),o=t(2141),s=function(r,e,n){if(n===void 0&&(n=new o),g(r,e))switch(a(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y);break}return n};c.exports=s},87841:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(37303),o=t(20812),s=t(34819),r=t(23777),e=t(23031),n=t(26597),l=new a({initialize:function(h,u,f,v){h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=0),this.type=r.RECTANGLE,this.x=h,this.y=u,this.width=f,this.height=v},contains:function(i,h){return g(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,u){return s(this,i,h,u)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,u,f){return this.x=i,this.y=h,this.width=u,this.height=f,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,h){return h===void 0&&(h=i),this.x=i,this.y=h,this},setSize:function(i,h){return h===void 0&&(h=i),this.width=i,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.width===a.width&&t.height===a.height};c.exports=x},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return g===void 0&&(g=a),t.width*=a,t.height*=g,t};c.exports=x},36899:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=function(o,s,r){r===void 0&&(r=new a);var e=Math.min(o.x,s.x),n=Math.min(o.y,s.y),l=Math.max(o.right,s.right)-e,i=Math.max(o.bottom,s.bottom)-n;return r.setTo(e,n,l,i)};c.exports=g},93232:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),c.exports=a},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.x1,g=t.y1,o=t.x2,s=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-a)*(s-g)-(o-a)*(e-g))/2)};c.exports=x},39208:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),g=function(o,s,r){var e=r*(Math.sqrt(3)/2),n=o,l=s,i=o+r/2,h=s+e,u=o-r/2,f=s+e;return new a(n,l,i,h,u,f)};c.exports=g},39545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(94811),g=t(16483),o=function(s,r,e,n,l){r===void 0&&(r=null),e===void 0&&(e=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var i=a(s,r),h,u,f,v,m,T,C,S,P,A=0;A<i.length;A+=3)h=i[A],u=i[A+1],f=i[A+2],v=s[h*2]*e,m=s[h*2+1]*n,T=s[u*2]*e,C=s[u*2+1]*n,S=s[f*2]*e,P=s[f*2+1]*n,l.push(new g(v,m,T,C,S,P));return l};c.exports=o},90301:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),g=function(o,s,r,e){e===void 0&&(e=r);var n=o,l=s,i=o,h=s-e,u=o+r,f=s;return new a(n,l,i,h,u,f)};c.exports=g},23707:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97523),g=t(13584),o=function(s,r,e,n){n===void 0&&(n=a);var l=n(s),i=r-l.x,h=e-l.y;return g(s,i,h)};c.exports=o},97523:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2+o.x3)/3,s.y=(o.y1+o.y2+o.y3)/3,s};c.exports=g},24951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099);function g(s,r,e,n){return s*n-r*e}var o=function(s,r){r===void 0&&(r=new a);var e=s.x3,n=s.y3,l=s.x1-e,i=s.y1-n,h=s.x2-e,u=s.y2-n,f=2*g(l,i,h,u),v=g(i,l*l+i*i,u,h*h+u*u),m=g(l,l*l+i*i,h,h*h+u*u);return r.x=e-v/f,r.y=n+m/f,r};c.exports=o},85614:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),g=function(o,s){s===void 0&&(s=new a);var r=o.x1,e=o.y1,n=o.x2,l=o.y2,i=o.x3,h=o.y3,u=n-r,f=l-e,v=i-r,m=h-e,T=u*(r+n)+f*(e+l),C=v*(r+i)+m*(e+h),S=2*(u*(h-l)-f*(i-n)),P,A;if(Math.abs(S)<1e-6){var L=Math.min(r,n,i),F=Math.min(e,l,h);P=(Math.max(r,n,i)-L)*.5,A=(Math.max(e,l,h)-F)*.5,s.x=L+P,s.y=F+A,s.radius=Math.sqrt(P*P+A*A)}else s.x=(m*T-f*C)/S,s.y=(u*C-v*T)/S,P=s.x-r,A=s.y-e,s.radius=Math.sqrt(P*P+A*A);return s};c.exports=g},74422:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),g=function(o){return new a(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};c.exports=g},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,n=a-t.x1,l=g-t.y1,i=o*o+s*s,h=o*r+s*e,u=o*n+s*l,f=r*r+e*e,v=r*n+e*l,m=i*f-h*h,T=m===0?0:1/m,C=(f*u-h*v)*T,S=(i*v-h*u)*T;return C>=0&&S>=0&&C+S<1};c.exports=x},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g===void 0&&(g=!1),o===void 0&&(o=[]);for(var s=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,l=s*s+r*r,i=s*e+r*n,h=e*e+n*n,u=l*h-i*i,f=u===0?0:1/u,v,m,T,C,S,P,A=t.x1,L=t.y1,F=0;F<a.length&&(T=a[F].x-A,C=a[F].y-L,S=s*T+r*C,P=e*T+n*C,v=(h*S-i*P)*f,m=(l*P-i*S)*f,!(v>=0&&m>=0&&v+m<1&&(o.push({x:a[F].x,y:a[F].y}),g)));F++);return o};c.exports=x},96006:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10690),g=function(o,s){return a(o,s.x,s.y)};c.exports=g},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=x},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};c.exports=x},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};c.exports=x},20437:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=t(35001),o=function(s,r,e){e===void 0&&(e=new a);var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();if(r<=0||r>=1)return e.x=n.x1,e.y=n.y1,e;var h=g(n),u=g(l),f=g(i),v=h+u+f,m=v*r,T=0;return m<h?(T=m/h,e.x=n.x1+(n.x2-n.x1)*T,e.y=n.y1+(n.y2-n.y1)*T):m>h+u?(m-=h+u,T=m/f,e.x=i.x1+(i.x2-i.x1)*T,e.y=i.y1+(i.y2-i.y1)*T):(m-=h,T=m/u,e.x=l.x1+(l.x2-l.x1)*T,e.y=l.y1+(l.y2-l.y1)*T),e};c.exports=o},80672:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),g=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]);var l=s.getLineA(),i=s.getLineB(),h=s.getLineC(),u=a(l),f=a(i),v=a(h),m=u+f+v;!r&&e>0&&(r=m/e);for(var T=0;T<r;T++){var C=m*(T/r),S=0,P=new g;C<u?(S=C/u,P.x=l.x1+(l.x2-l.x1)*S,P.y=l.y1+(l.y2-l.y1)*S):C>u+f?(C-=u+f,S=C/v,P.x=h.x1+(h.x2-h.x1)*S,P.y=h.y1+(h.y2-h.y1)*S):(C-=u,S=C/f,P.x=i.x1+(i.x2-i.x1)*S,P.y=i.y1+(i.y2-i.y1)*S),n.push(P)}return n};c.exports=o},39757:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141);function g(s,r,e,n){var l=s-e,i=r-n,h=l*l+i*i;return Math.sqrt(h)}var o=function(s,r){r===void 0&&(r=new a);var e=s.x1,n=s.y1,l=s.x2,i=s.y2,h=s.x3,u=s.y3,f=g(h,u,l,i),v=g(e,n,h,u),m=g(l,i,e,n),T=f+v+m;return r.x=(e*f+l*v+h*m)/T,r.y=(n*f+i*v+u*m)/T,r};c.exports=o},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t.x1+=a,t.y1+=g,t.x2+=a,t.y2+=g,t.x3+=a,t.y3+=g,t};c.exports=x},1376:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),g=function(o){var s=o.getLineA(),r=o.getLineB(),e=o.getLineC();return a(s)+a(r)+a(e)};c.exports=g},90260:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),g=function(o,s){s===void 0&&(s=new a);var r=o.x2-o.x1,e=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,i=Math.random(),h=Math.random();return i+h>=1&&(i=1-i,h=1-h),s.x=o.x1+(r*i+n*h),s.y=o.y1+(e*i+l*h),s};c.exports=g},52172:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99614),g=t(39757),o=function(s,r){var e=g(s);return a(s,e.x,e.y,r)};c.exports=o},49907:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99614),g=function(o,s,r){return a(o,s.x,s.y,r)};c.exports=g},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-g;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+g,e=t.x2-a,n=t.y2-g,t.x2=e*s-n*r+a,t.y2=e*r+n*s+g,e=t.x3-a,n=t.y3-g,t.x3=e*s-n*r+a,t.y3=e*r+n*s+g,t};c.exports=x},16483:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(10690),o=t(20437),s=t(80672),r=t(23777),e=t(23031),n=t(90260),l=new a({initialize:function(h,u,f,v,m,T){h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),this.type=r.TRIANGLE,this.x1=h,this.y1=u,this.x2=f,this.y2=v,this.x3=m,this.y3=T},contains:function(i,h){return g(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,u){return s(this,i,h,u)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,u,f,v,m){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),this.x1=i,this.y1=h,this.x2=u,this.y2=f,this.x3=v,this.y3=m,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}}});c.exports=l},84435:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),c.exports=a},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};c.exports=x},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return function(g,o,s,r){var e=t.getPixelAlpha(o,s,r.texture.key,r.frame.name);return e&&e>=a}};c.exports=x},7003:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(93301),o=t(50792),s=t(8214),r=t(8443),e=t(78970),n=t(85098),l=t(42515),i=t(36210),h=t(61340),u=t(85955),f=new a({initialize:function(m,T){this.game=m,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new e(this):null,this.mouse=T.inputMouse?new n(this):null,this.touch=T.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var C=0;C<=this.pointersTotal;C++){var S=new l(this,C);S.smoothFactor=T.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(r.BOOT,this.boot,this)},boot:function(){var v=this.game,m=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(s.MANAGER_BOOT),m.on(r.PRE_RENDER,this.preRender,this),m.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(s.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(s.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,m=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(s.MANAGER_UPDATE);for(var C=0;C<T.length;C++){var S=T[C];if(S.sys.input&&S.sys.input.updatePoll(v,m)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var m=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var T=0;T<v;T++){var C=this.pointers.length,S=new l(this,C);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,m.push(S)}return m},updateInputPlugins:function(v,m){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<T.length;C++){var S=T[C];if(S.sys.input){var P=S.sys.input.update(v,m);if(P&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(!A.active){A.touchstart(S,v),this.activePointer=A,T.push(A);break}}this.updateInputPlugins(g.TOUCH_START,T)},onTouchMove:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(A.active&&A.identifier===S.identifier){var L=document.elementFromPoint(S.clientX,S.clientY),F=L===this.canvas;!this.isOver&&F?this.setCanvasOver(v):this.isOver&&!F&&this.setCanvasOut(v),this.isOver&&(A.touchmove(S,v),this.activePointer=A,T.push(A));break}}this.updateInputPlugins(g.TOUCH_MOVE,T)},onTouchEnd:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(A.active&&A.identifier===S.identifier){A.touchend(S,v),T.push(A);break}}this.updateInputPlugins(g.TOUCH_END,T)},onTouchCancel:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(A.active&&A.identifier===S.identifier){A.touchcancel(S,v),T.push(A);break}}this.updateInputPlugins(g.TOUCH_CANCEL,T)},onMouseDown:function(v){var m=this.mousePointer;m.down(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var m=this.mousePointer;m.move(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var m=this.mousePointer;m.up(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var m=this.mousePointer;m.wheel(v),this.activePointer=m,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(s.POINTERLOCK_CHANGE,v,m)},inputCandidate:function(v,m){var T=v.input;if(!T||!T.enabled||!v.willRender(m))return!1;var C=!0,S=v.parentContainer;if(S)do{if(!S.willRender(m)){C=!1;break}S=S.parentContainer}while(S);return C},hitTest:function(v,m,T,C){C===void 0&&(C=this._tempHitTest);var S=this._tempPoint,P=T.scrollX,A=T.scrollY;C.length=0;var L=v.x,F=v.y;T.getWorldPoint(L,F,S),v.worldX=S.x,v.worldY=S.y;for(var B={x:0,y:0},D=this._tempMatrix,I=this._tempMatrix2,G=0;G<m.length;G++){var z=m[G];if(this.inputCandidate(z,T)){var W=S.x+P*z.scrollFactorX-P,Y=S.y+A*z.scrollFactorY-A;z.parentContainer?(z.getWorldTransformMatrix(D,I),D.applyInverse(W,Y,B)):u(W,Y,z.x,z.y,z.rotation,z.scaleX,z.scaleY,B),this.pointWithinHitArea(z,B.x,B.y)&&C.push(z)}}return C},pointWithinHitArea:function(v,m,T){m+=v.displayOriginX,T+=v.displayOriginY;var C=v.input;return C&&C.hitAreaCallback(C.hitArea,m,T,v)?(C.localX=m,C.localY=T,!0):!1},pointWithinInteractiveObject:function(v,m,T){return v.hitArea?(m+=v.gameObject.displayOriginX,T+=v.gameObject.displayOriginY,v.localX=m,v.localY=T,v.hitAreaCallback(v.hitArea,m,T,v)):!1},transformPointer:function(v,m,T,C){var S=v.position,P=v.prevPosition;P.x=S.x,P.y=S.y;var A=this.scaleManager.transformX(m),L=this.scaleManager.transformY(T),F=v.smoothFactor;!C||F===0?(S.x=A,S.y=L):(S.x=A*F+P.x*(1-F),S.y=L*F+P.y*(1-F))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=f},48205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),g=t(87902),o=t(83419),s=t(93301),r=t(74457),e=t(84409),n=t(20339),l=t(8497),i=t(81154),h=t(8214),u=t(50792),f=t(95540),v=t(23777),m=t(89639),T=t(41212),C=t(37277),S=t(87841),P=t(37303),A=t(44594),L=t(16483),F=t(10690),B=new o({Extends:u,initialize:function(I){u.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(A.BOOT,this.boot,this),I.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var D=this.systems.events;D.on(A.TRANSITION_START,this.transitionIn,this),D.on(A.TRANSITION_OUT,this.transitionOut,this),D.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(A.PRE_UPDATE,this.preUpdate,this),D.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(D){this.isActive()&&this.emit(h.GAME_OVER,D.timeStamp,D)},onGameOut:function(D){this.isActive()&&this.emit(h.GAME_OUT,D.timeStamp,D)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var D=this._pendingRemoval,I=this._pendingInsertion,G=D.length,z=I.length;if(!(G===0&&z===0)){for(var W=this._list,Y=0;Y<G;Y++){var K=D[Y],Z=W.indexOf(K);Z>-1&&(W.splice(Z,1),this.clear(K,!0))}this._pendingRemoval.length=0,this._list=W.concat(I.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(D,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,D,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,z=this.manager,W=z.pointers,Y=z.pointersTotal;for(G=0;G<Y;G++)W[G].updateMotion();if(this._list.length===0)return!1;var K=this.pollRate;if(K===-1)return!1;if(K>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(G=0;G<Y;G++){var V=0,H=W[G];this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),V+=this.processOverOutEvents(H),this.getDragState(H)===2&&this.processDragThresholdEvent(H,D),V>0&&(Z=!0)}return Z},update:function(D,I){if(!this.isActive())return!1;for(var G=I.length,z=!1,W=0;W<G;W++){var Y=0,K=I[W];switch(this._tempZones=[],this._temp=this.hitTestPointer(K),this.sortGameObjects(this._temp,K),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case s.MOUSE_DOWN:Y+=this.processDragDownEvent(K),Y+=this.processDownEvents(K),Y+=this.processOverOutEvents(K);break;case s.MOUSE_UP:Y+=this.processDragUpEvent(K),Y+=this.processUpEvents(K),Y+=this.processOverOutEvents(K);break;case s.TOUCH_START:Y+=this.processDragDownEvent(K),Y+=this.processDownEvents(K),Y+=this.processOverEvents(K);break;case s.TOUCH_END:case s.TOUCH_CANCEL:Y+=this.processDragUpEvent(K),Y+=this.processUpEvents(K),Y+=this.processOutEvents(K);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:Y+=this.processDragMoveEvent(K),Y+=this.processMoveEvents(K),Y+=this.processOverOutEvents(K);break;case s.MOUSE_WHEEL:Y+=this.processWheelEvent(K);break}Y>0&&(z=!0)}return this._updatedThisFrame=!0,z},clear:function(D,I){I===void 0&&(I=!1),this.disable(D);var G=D.input;G&&(this.removeDebug(D),this.manager.resetCursor(G),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,D.input=null),I||this.queueForRemoval(D);var z=this._draggable.indexOf(D);return z>-1&&this._draggable.splice(z,1),D},disable:function(D){var I=D.input;I&&(I.enabled=!1,I.dragState=0);for(var G=this._drag,z=this._over,W=this.manager,Y=0,K;Y<W.pointersTotal;Y++)K=G[Y].indexOf(D),K>-1&&G[Y].splice(K,1),K=z[Y].indexOf(D),K>-1&&z[Y].splice(K,1);return this},enable:function(D,I,G,z){return z===void 0&&(z=!1),D.input?D.input.enabled=!0:this.setHitArea(D,I,G),D.input&&z&&!D.input.dropZone&&(D.input.dropZone=z),this},hitTestPointer:function(D){for(var I=this.cameras.getCamerasBelowPointer(D),G=0;G<I.length;G++){for(var z=I[G],W=this.manager.hitTest(D,this._list,z),Y=0;Y<W.length;Y++){var K=W[Y];K.input.dropZone&&this._tempZones.push(K)}if(W.length>0)return D.camera=z,W}return D.camera=I[0],[]},processDownEvents:function(D){var I=0,G=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var Y=!1,K=0;K<G.length;K++){var Z=G[K];if(!(!Z.input||!Z.input.enabled)){if(I++,Z.emit(h.GAMEOBJECT_POINTER_DOWN,D,Z.input.localX,Z.input.localY,W),z.cancelled||!Z.input||!Z.input.enabled){Y=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,D,Z,W),z.cancelled||!Z.input){Y=!0;break}}}return!Y&&this.manager&&(D.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,D,G):this.emit(h.POINTER_DOWN_OUTSIDE,D)),I},getDragState:function(D){return this._dragState[D.id]},setDragState:function(D,I){this._dragState[D.id]=I},processDragThresholdEvent:function(D,I){var G=!1,z=this.dragTimeThreshold,W=this.dragDistanceThreshold;if((W>0&&n(D.x,D.y,D.downX,D.downY)>=W||z>0&&I>=D.downTime+z)&&(G=!0),G)return this.setDragState(D,3),this.processDragStartList(D)},processDragStartList:function(D){if(this.getDragState(D)!==3)return 0;for(var I=this._drag[D.id],G=0;G<I.length;G++){var z=I[G],W=z.input;W.dragState=2,W.dragStartX=z.x,W.dragStartY=z.y,W.dragStartXGlobal=D.worldX,W.dragStartYGlobal=D.worldY,W.dragX=W.dragStartXGlobal-W.dragStartX,W.dragY=W.dragStartYGlobal-W.dragStartY,z.emit(h.GAMEOBJECT_DRAG_START,D,W.dragX,W.dragY),this.emit(h.DRAG_START,D,z)}return this.setDragState(D,4),I.length},processDragDownEvent:function(D){var I=this._temp;if(this._draggable.length===0||I.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var G=[],z=0;z<I.length;z++){var W=I[z];W.input.draggable&&W.input.dragState===0&&G.push(W)}return G.length===0?(this.setDragState(D,0),0):(G.length>1&&(this.sortGameObjects(G,D),this.topOnly&&G.splice(1)),this._drag[D.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},processDragMoveEvent:function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;for(var I=this._tempZones,G=this._drag[D.id],z=0;z<G.length;z++){var W=G[z],Y=W.input,K=Y.target;if(K){var Z=I.indexOf(K);Z===0?(W.emit(h.GAMEOBJECT_DRAG_OVER,D,K),this.emit(h.DRAG_OVER,D,W,K)):Z>0?(W.emit(h.GAMEOBJECT_DRAG_LEAVE,D,K),this.emit(h.DRAG_LEAVE,D,W,K),Y.target=I[0],K=Y.target,W.emit(h.GAMEOBJECT_DRAG_ENTER,D,K),this.emit(h.DRAG_ENTER,D,W,K)):(W.emit(h.GAMEOBJECT_DRAG_LEAVE,D,K),this.emit(h.DRAG_LEAVE,D,W,K),I[0]?(Y.target=I[0],K=Y.target,W.emit(h.GAMEOBJECT_DRAG_ENTER,D,K),this.emit(h.DRAG_ENTER,D,W,K)):Y.target=null)}else!K&&I[0]&&(Y.target=I[0],K=Y.target,W.emit(h.GAMEOBJECT_DRAG_ENTER,D,K),this.emit(h.DRAG_ENTER,D,W,K));var V,H;if(!W.parentContainer)V=D.worldX-Y.dragX,H=D.worldY-Y.dragY;else{var N=D.worldX-Y.dragStartXGlobal,b=D.worldY-Y.dragStartYGlobal,X=W.getParentRotation(),$=N*Math.cos(X)+b*Math.sin(X),Q=b*Math.cos(X)-N*Math.sin(X);$*=1/W.parentContainer.scaleX,Q*=1/W.parentContainer.scaleY,V=$+Y.dragStartX,H=Q+Y.dragStartY}W.emit(h.GAMEOBJECT_DRAG,D,V,H),this.emit(h.DRAG,D,W,V,H)}return G.length},processDragUpEvent:function(D){for(var I=this._drag[D.id],G=0;G<I.length;G++){var z=I[G],W=z.input;if(W&&W.dragState===2){W.dragState=0,W.dragX=W.localX-z.displayOriginX,W.dragY=W.localY-z.displayOriginY;var Y=!1,K=W.target;K&&(z.emit(h.GAMEOBJECT_DROP,D,K),this.emit(h.DROP,D,z,K),W.target=null,Y=!0),z.input&&z.input.enabled&&(z.emit(h.GAMEOBJECT_DRAG_END,D,W.dragX,W.dragY,Y),this.emit(h.DRAG_END,D,z,Y))}}return this.setDragState(D,0),I.splice(0),0},processMoveEvents:function(D){var I=0,G=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var Y=!1,K=0;K<G.length;K++){var Z=G[K];if(!(!Z.input||!Z.input.enabled)){if(I++,Z.emit(h.GAMEOBJECT_POINTER_MOVE,D,Z.input.localX,Z.input.localY,W),z.cancelled||!Z.input||!Z.input.enabled){Y=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,D,Z,W),z.cancelled||!Z.input||!Z.input.enabled){Y=!0;break}if(this.topOnly)break}}return Y||this.emit(h.POINTER_MOVE,D,G),I},processWheelEvent:function(D){var I=0,G=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var Y=!1,K=D.deltaX,Z=D.deltaY,V=D.deltaZ,H=0;H<G.length;H++){var N=G[H];if(!(!N.input||!N.input.enabled)){if(I++,N.emit(h.GAMEOBJECT_POINTER_WHEEL,D,K,Z,V,W),z.cancelled||!N.input||!N.input.enabled){Y=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,D,N,K,Z,V,W),z.cancelled||!N.input||!N.input.enabled){Y=!0;break}}}return Y||this.emit(h.POINTER_WHEEL,D,G,K,Z,V),I},processOverEvents:function(D){var I=this._temp,G=0,z=I.length,W=[];if(z>0){var Y=this.manager,K=this._eventData,Z=this._eventContainer;K.cancelled=!1;for(var V=!1,H=0;H<z;H++){var N=I[H];if(!(!N.input||!N.input.enabled)){if(W.push(N),Y.setCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OVER,D,N.input.localX,N.input.localY,Z),G++,K.cancelled||!N.input||!N.input.enabled){V=!0;break}if(this.emit(h.GAMEOBJECT_OVER,D,N,Z),K.cancelled||!N.input||!N.input.enabled){V=!0;break}}}V||this.emit(h.POINTER_OVER,D,W)}return this._over[D.id]=W,G},processOutEvents:function(D){var I=this._over[D.id],G=0,z=I.length;if(z>0){var W=this.manager,Y=this._eventData,K=this._eventContainer;Y.cancelled=!1;var Z=!1;this.sortGameObjects(I,D);for(var V=0;V<z;V++){var H=I[V];if(H=I[V],!(!H.input||!H.input.enabled)){if(W.resetCursor(H.input),H.emit(h.GAMEOBJECT_POINTER_OUT,D,K),G++,Y.cancelled||!H.input||!H.input.enabled){Z=!0;break}if(this.emit(h.GAMEOBJECT_OUT,D,H,K),Y.cancelled||!H.input||!H.input.enabled){Z=!0;break}Z||this.emit(h.POINTER_OUT,D,I)}}this._over[D.id]=[]}return G},processOverOutEvents:function(D){var I=this._temp,G,z,W=[],Y=[],K=[],Z=this._over[D.id],V=this._drag[D.id],H=this.manager;for(G=0;G<Z.length;G++)z=Z[G],I.indexOf(z)===-1&&V.indexOf(z)===-1?W.push(z):K.push(z);for(G=0;G<I.length;G++)z=I[G],Z.indexOf(z)===-1&&Y.push(z);var N=W.length,b=0,X=this._eventData,$=this._eventContainer;X.cancelled=!1;var Q=!1;if(N>0){for(this.sortGameObjects(W,D),G=0;G<N;G++)if(z=W[G],!(!z.input||!z.input.enabled)){if(H.resetCursor(z.input),z.emit(h.GAMEOBJECT_POINTER_OUT,D,$),b++,X.cancelled||!z.input||!z.input.enabled){Q=!0;break}if(this.emit(h.GAMEOBJECT_OUT,D,z,$),X.cancelled||!z.input||!z.input.enabled){Q=!0;break}}Q||this.emit(h.POINTER_OUT,D,W)}if(N=Y.length,X.cancelled=!1,Q=!1,N>0){for(this.sortGameObjects(Y,D),G=0;G<N;G++)if(z=Y[G],!(!z.input||!z.input.enabled)){if(H.setCursor(z.input),z.emit(h.GAMEOBJECT_POINTER_OVER,D,z.input.localX,z.input.localY,$),b++,X.cancelled||!z.input||!z.input.enabled){Q=!0;break}if(this.emit(h.GAMEOBJECT_OVER,D,z,$),X.cancelled||!z.input||!z.input.enabled){Q=!0;break}}Q||this.emit(h.POINTER_OVER,D,Y)}return Z=K.concat(Y),this._over[D.id]=this.sortGameObjects(Z,D),b},processUpEvents:function(D){var I=this._temp,G=this._eventData,z=this._eventContainer;G.cancelled=!1;for(var W=!1,Y=0;Y<I.length;Y++){var K=I[Y];if(!(!K.input||!K.input.enabled)){if(K.emit(h.GAMEOBJECT_POINTER_UP,D,K.input.localX,K.input.localY,z),G.cancelled||!K.input||!K.input.enabled){W=!0;break}if(this.emit(h.GAMEOBJECT_UP,D,K,z),G.cancelled||!K.input||!K.input.enabled){W=!0;break}}}return!W&&this.manager&&(D.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,D,I):this.emit(h.POINTER_UP_OUTSIDE,D)),I.length},queueForInsertion:function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},queueForRemoval:function(D){return this._pendingRemoval.push(D),this},setDraggable:function(D,I){I===void 0&&(I=!0),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var z=D[G];z.input.draggable=I;var W=this._draggable.indexOf(z);I&&W===-1?this._draggable.push(z):!I&&W>-1&&this._draggable.splice(W,1)}return this},makePixelPerfect:function(D){D===void 0&&(D=1);var I=this.systems.textures;return e(I,D)},setHitArea:function(D,I,G){if(I===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var z=!1,W=!1,Y=!1,K=!1,Z=!1,V=!0;if(T(I)&&Object.keys(I).length){var H=I,N=D.some(function(k){return k.hasOwnProperty("faces")});if(!N){I=f(H,"hitArea",null),G=f(H,"hitAreaCallback",null),Z=f(H,"pixelPerfect",!1);var b=f(H,"alphaTolerance",1);Z&&(I={},G=this.makePixelPerfect(b))}z=f(H,"draggable",!1),W=f(H,"dropZone",!1),Y=f(H,"cursor",!1),K=f(H,"useHandCursor",!1),(!I||!G)&&(this.setHitAreaFromTexture(D),V=!1)}else typeof I=="function"&&!G&&(G=I,I={});for(var X=0;X<D.length;X++){var $=D[X];if(Z&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Q=$.input?$.input:r($,I,G);Q.customHitArea=V,Q.dropZone=W,Q.cursor=K?"pointer":Y,$.input=Q,z&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(D,I,G,z,W){W===void 0&&(W=g);var Y=new a(I,G,z);return this.setHitArea(D,Y,W)},setHitAreaEllipse:function(D,I,G,z,W,Y){Y===void 0&&(Y=i);var K=new l(I,G,z,W);return this.setHitArea(D,K,Y)},setHitAreaFromTexture:function(D,I){I===void 0&&(I=P),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var z=D[G],W=z.frame,Y=0,K=0;if(z.width?(Y=z.width,K=z.height):W&&(Y=W.realWidth,K=W.realHeight),z.type==="Container"&&(Y===0||K===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}Y!==0&&K!==0&&(z.input=r(z,new S(0,0,Y,K),I),this.queueForInsertion(z))}return this},setHitAreaRectangle:function(D,I,G,z,W,Y){Y===void 0&&(Y=P);var K=new S(I,G,z,W);return this.setHitArea(D,K,Y)},setHitAreaTriangle:function(D,I,G,z,W,Y,K,Z){Z===void 0&&(Z=F);var V=new L(I,G,z,W,Y,K);return this.setHitArea(D,V,Z)},enableDebug:function(D,I){I===void 0&&(I=65280);var G=D.input;if(!G||!G.hitArea)return this;var z=G.hitArea,W=z.type,Y=G.hitAreaDebug,K=this.systems.add,Z=this.systems.updateList;Y&&(Z.remove(Y),Y.destroy(),Y=null);var V=0,H=0;switch(W){case v.CIRCLE:Y=K.arc(0,0,z.radius),V=z.x-z.radius,H=z.y-z.radius;break;case v.ELLIPSE:Y=K.ellipse(0,0,z.width,z.height),V=z.x-z.width/2,H=z.y-z.height/2;break;case v.LINE:Y=K.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case v.POLYGON:Y=K.polygon(0,0,z.points);break;case v.RECTANGLE:Y=K.rectangle(0,0,z.width,z.height),V=z.x,H=z.y;break;case v.TRIANGLE:Y=K.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3);break}return Y&&(Y.isFilled=!1,Y.strokeColor=I,Y.preUpdate=function(){Y.setVisible(D.visible),Y.setStrokeStyle(1/D.scale,Y.strokeColor),Y.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var N=D.x,b=D.y,X=D.rotation,$=D.scaleX,Q=D.scaleY;if(D.parentContainer){var k=D.getWorldTransformMatrix();N=k.tx,b=k.ty,X=k.rotation,$=k.scaleX,Q=k.scaleY}Y.setRotation(X),Y.setScale($,Q),Y.setPosition(N+V*$,b+H*Q),Y.setScrollFactor(D.scrollFactorX,D.scrollFactorY),Y.setDepth(D.depth)},Z.add(Y),G.hitAreaDebug=Y),this},removeDebug:function(D){var I=D.input;if(I&&I.hitAreaDebug){var G=I.hitAreaDebug;G.destroy(),I.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(D){return this.pollRate=D,this._pollTimer=0,this},setGlobalTopOnly:function(D){return this.manager.globalTopOnly=D,this},setTopOnly:function(D){return this.topOnly=D,this},sortGameObjects:function(D,I){if(D.length<2||!I.camera)return D;var G=I.camera.renderList;return D.sort(function(z,W){var Y=Math.max(G.indexOf(z),0),K=Math.max(G.indexOf(W),0);return K-Y})},sortDropZones:function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(D,I){if(!D.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(D);if(D.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-D.parentContainer.getIndex(D);if(D.parentContainer===I)return-1;if(I.parentContainer===D)return 1;for(var G=D.getIndexList(),z=I.getIndexList(),W=Math.min(G.length,z.length),Y=0;Y<W;Y++){var K=G[Y],Z=z[Y];if(K!==Z)return Z-K}return z.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(D){return this.manager.addPointer(D)},setDefaultCursor:function(D){return this.manager.setDefaultCursor(D),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var G=this.systems.events;G.off(A.TRANSITION_START,this.transitionIn,this),G.off(A.TRANSITION_OUT,this.transitionOut,this),G.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(A.PRE_UPDATE,this.preUpdate,this),I.events.off(h.GAME_OUT,this.onGameOut,this),I.events.off(h.GAME_OVER,this.onGameOver,this),G.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var D=this.manager.pointers,I=0;I<D.length;I++)D[I].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",B,"input"),c.exports=B},89639:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),g={},o={};o.register=function(s,r,e,n,l){g[s]={plugin:r,mapping:e,settingsKey:n,configKey:l}},o.getPlugin=function(s){return g[s]},o.install=function(s){var r=s.scene.sys,e=r.settings.input,n=r.game.config;for(var l in g){var i=g[l].plugin,h=g[l].mapping,u=g[l].settingsKey,f=g[l].configKey;a(e,u,n[f])&&(s[h]=new i(s))}},o.remove=function(s){g.hasOwnProperty(s)&&delete g[s]},c.exports=o},42515:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31040),g=t(83419),o=t(20339),s=t(43855),r=t(47235),e=t(26099),n=t(25892),l=new g({initialize:function(h,u){this.manager=h,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var h=i.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(i,h){return i.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var i=this.position.x,h=this.position.y,u=this.midPoint.x,f=this.midPoint.y;if(!(i===u&&h===f)){var v=r(this.motionFactor,u,i),m=r(this.motionFactor,f,h);s(v,i,.1)&&(v=i),s(m,h,.1)&&(m=h),this.midPoint.set(v,m);var T=i-v,C=h-m;this.velocity.set(T,C),this.angle=a(v,m,i,h),this.distance=Math.sqrt(T*T+C*C)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,h){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,h){this.event=h,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,h){i===void 0&&(i=10),h===void 0&&(h=[]);for(var u=this.prevPosition.x,f=this.prevPosition.y,v=this.position.x,m=this.position.y,T=0;T<i;T++){var C=1/i*T;h[T]={x:r(C,u,v),y:r(C,f,m)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=x},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=g},28884:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(92734),o=new a({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,r,this,s),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,r,this,s),this.pad.emit(g.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=o},99125:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97421),g=t(28884),o=t(83419),s=t(50792),r=t(26099),e=new o({Extends:s,initialize:function(l,i){s.call(this),this.manager=l,this.pad=i,this.id=i.id,this.index=i.index;for(var h=[],u=0;u<i.buttons.length;u++)h.push(new g(this,u));this.buttons=h;var f=[];for(u=0;u<i.axes.length;u++)f.push(new a(this,u));this.axes=f,this.vibration=i.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:v,this._LCRight=h[15]?h[15]:v,this._LCTop=h[12]?h[12]:v,this._LCBottom=h[13]?h[13]:v,this._RCLeft=h[2]?h[2]:v,this._RCRight=h[1]?h[1]:v,this._RCTop=h[3]?h[3]:v,this._RCBottom=h[0]?h[0]:v,this._FBLeftTop=h[4]?h[4]:v,this._FBLeftBottom=h[6]?h[6]:v,this._FBRightTop=h[5]?h[5]:v,this._FBRightBottom=h[7]?h[7]:v;var m={value:0};this._HAxisLeft=f[0]?f[0]:m,this._VAxisLeft=f[1]?f[1]:m,this._HAxisRight=f[2]?f[2]:m,this._VAxisRight=f[3]?f[3]:m,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,i=this.buttons,h=n.buttons,u=i.length;for(l=0;l<u;l++)i[l].update(h[l].value);var f=this.axes,v=n.axes;for(u=f.length,l=0;l<u;l++)f[l].update(v[l]);u>=2&&(this.leftStick.set(f[0].getValue(),f[1].getValue()),u>=4&&this.rightStick.set(f[2].getValue(),f[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(92734),s=t(99125),r=t(35154),e=t(89639),n=t(8214),l=new a({Extends:g,initialize:function(h){g.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(n.BOOT,this.boot,this),h.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,h=this.settings.input,u=i.config;this.enabled=r(h,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=r(h,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,h=this.target,u=function(f){f.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(f))};this.onGamepadHandler=u,h.addEventListener("gamepadconnected",u,!1),h.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var h=this.gamepads,u=0;u<i.length;u++){var f=i[u];if(f){var v=f.id,m=f.index,T=h[m];if(T)T.id!==v?(T.destroy(),h[m]=new s(this,f)):T.update(f);else{var C=new s(this,f);h[m]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var i=[],h=this.gamepads,u=0;u<h.length;u++)h[u]&&i.push(h[u]);return i},getPad:function(i){for(var h=this.gamepads,u=0;u<h.length;u++)if(h[u]&&h[u].index===i)return h[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var h=this.queue.splice(0,i),u=0;u<i;u++){var f=h[u],v=this.getPad(f.gamepad.index);f.type==="gamepadconnected"?this.emit(o.CONNECTED,v,f):f.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,f)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(93301),g=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=g(!1,o,a),c.exports=o},78970:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),g=t(83419),o=t(8443),s=t(8214),r=t(46032),e=t(29747),n=new g({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!u&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!u&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var u=l[h];typeof u=="string"&&(u=r[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var u=l[h];typeof u=="string"&&(u=r[u.toUpperCase()]),a(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},28846:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(95922),s=t(8443),r=t(35154),e=t(8214),n=t(89639),l=t(30472),i=t(46032),h=t(87960),u=t(74600),f=t(44594),v=t(56583),m=new a({Extends:g,initialize:function(C){g.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(e.BOOT,this.boot,this),C.pluginEvents.on(e.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=r(T,"keyboard",!0);var C=r(T,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(f.PAUSE,this.resetKeys,this),this.scene.sys.events.on(f.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(T,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var P={};if(typeof T=="string"){T=T.split(",");for(var A=0;A<T.length;A++){var L=T[A].trim();L&&(P[L]=this.addKey(L,C,S))}}else for(var F in T)P[F]=this.addKey(T[F],C,S);return P},addKey:function(T,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var P=this.keys;if(T instanceof l){var A=P.indexOf(T);return A>-1?P[A]=T:P[T.keyCode]=T,C&&this.addCapture(T.keyCode),T.setEmitOnRepeat(S),T}return typeof T=="string"&&(T=i[T.toUpperCase()]),P[T]||(P[T]=new l(this,T),C&&this.addCapture(T),P[T].setEmitOnRepeat(S)),P[T]},removeKey:function(T,C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);var P=this.keys,A;if(T instanceof l){var L=P.indexOf(T);L>-1&&(A=this.keys[L],this.keys[L]=void 0)}else typeof T=="string"&&(T=i[T.toUpperCase()]);return P[T]&&(A=P[T],P[T]=void 0),A&&(A.plugin=null,S&&this.removeCapture(A.keyCode),C&&A.destroy()),this},removeAllKeys:function(T,C){T===void 0&&(T=!1),C===void 0&&(C=!1);for(var S=this.keys,P=0;P<S.length;P++){var A=S[P];A&&(S[P]=void 0,C&&this.removeCapture(A.keyCode),T&&A.destroy())}return this},createCombo:function(T,C){return new h(this,T,C)},checkDown:function(T,C){if(C===void 0&&(C=0),this.enabled&&T.isDown){var S=v(this.time-T.timeDown,C);if(S>T._tick)return T._tick=S,!0}return!1},update:function(){var T=this.manager.queue,C=T.length;if(!(!this.isActive()||C===0))for(var S=this.keys,P=0;P<C;P++){var A=T[P],L=A.keyCode,F=S[L],B=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(L===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=L,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(F&&(B=F.isDown,F.onDown(A)),!A.cancelled&&(!F||!B)&&(u[L]&&this.emit(o.KEY_DOWN+u[L],A),A.cancelled||this.emit(o.ANY_KEY_DOWN,A))):(F&&F.onUp(A),A.cancelled||(u[L]&&this.emit(o.KEY_UP+u[L],A),A.cancelled||this.emit(o.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,C=0;C<T.length;C++)T[C]&&T[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(f.PAUSE,this.resetKeys,this),this.scene.sys.events.off(f.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,C=0;C<T.length;C++)T[C]&&T[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),c.exports=m},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};c.exports=x},87960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95922),o=t(95540),s=t(68769),r=t(92803),e=new a({initialize:function(l,i,h){if(h===void 0&&(h={}),i.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var f=i[u];typeof f=="string"?this.keyCodes.push(f.toUpperCase().charCodeAt(0)):typeof f=="number"?this.keyCodes.push(f):f.hasOwnProperty("keyCode")&&this.keyCodes.push(f.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(h,"resetOnWrongKey",!0),this.maxKeyDelay=o(h,"maxKeyDelay",0),this.resetOnMatch=o(h,"resetOnMatch",!1),this.deleteOnMatch=o(h,"deleteOnMatch",!1);var v=this,m=function(T){if(!(v.matched||!v.enabled)){var C=s(T,v);C&&(v.manager.emit(g.COMBO_MATCH,v,T),v.resetOnMatch?r(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=m,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66970),g=function(o,s){if(s.matched)return!0;var r=!1,e=!1;if(o.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var n=s.timeLastMatched+s.maxKeyDelay;o.timeStamp<=n&&(e=!0,r=a(o,s))}else e=!0,r=a(o,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=o.timeStamp,s.matched=!0,s.timeMatched=o.timeStamp),r};c.exports=g},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=x},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=50);var g=t.plugin.game.loop.time-t.timeDown;return t.isDown&&g<a};c.exports=x},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=x},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=x},30472:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(95922),s=new a({Extends:g,initialize:function(e,n){g.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=s},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=x},74600:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(46032),g={};for(var o in a)g[a[o]]=o;c.exports=g},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=50);var g=t.plugin.game.loop.time-t.timeUp;return t.isUp&&g<a};c.exports=x},85098:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(89357),o=t(8214),s=t(29747),r=new a({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,l=this.manager,i=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(f){!f.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(f),n.preventDefaultMove&&f.preventDefault())},this.onMouseDown=function(f){h&&window.focus(),!f.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(f),n.preventDefaultDown&&f.target===i&&f.preventDefault())},this.onMouseDownWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&n.enabled&&l&&l.enabled&&f.target!==i&&l.onMouseDown(f)},this.onMouseUp=function(f){!f.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(f),n.preventDefaultUp&&f.target===i&&f.preventDefault())},this.onMouseUpWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&n.enabled&&l&&l.enabled&&f.target!==i&&l.onMouseUp(f)},this.onMouseOver=function(f){!f.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(f)},this.onMouseOut=function(f){!f.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(f)},this.onMouseWheel=function(f){!f.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(f),n.preventDefaultWheel&&f.target===i&&f.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(f){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(f)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},87078:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(8214),o=t(29747),s=new a({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,n=this.manager,l=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(v),e.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){i&&window.focus(),!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(v),e.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(v),e.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(v),e.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var h=this.capture,u={passive:!0},f={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,h?f:u),r.addEventListener("touchmove",this.onTouchMove,h?f:u),r.addEventListener("touchend",this.onTouchEnd,h?f:u),r.addEventListener("touchcancel",this.onTouchCancel,h?f:u),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,f),window.top.addEventListener("touchend",this.onTouchEndWindow,f),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,f)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,f),window.addEventListener("touchend",this.onTouchEndWindow,f),window.addEventListener("touchcancel",this.onTouchCancelWindow,f),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=s},95618:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(54899),s=t(95540),r=t(98356),e=t(3374),n=t(84376),l=t(92638),i=new a({initialize:function(u,f){if(this.loader=u,this.cache=s(f,"cache",!1),this.type=s(f,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(f,"key",!1);var v=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var m=s(f,"url");m===void 0?m=u.path+v+"."+s(f,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=u.path+m),this.url=m,this.src="",this.xhrSettings=l(s(f,"responseType",void 0)),s(f,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(f,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(f,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===g.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=g.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr))},onLoad:function(h,u){var f=h.responseURL&&this.loader.localSchemes.some(function(T){return h.responseURL.indexOf(T)===0}),v=f&&u.target.status===0,m=!(u.target&&u.target.status!==200)||v;h.readyState===4&&h.status>=400&&h.status<=599&&(m=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(h){this.xhrLoader=h,this.state=g.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==g.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var u=this.key,f=this.type;this.loader.emit(o.FILE_COMPLETE,u,f,h),this.loader.emit(o.FILE_KEY_COMPLETE+f+"-"+u,u,f,h),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(h,u,f){if(typeof URL=="function")h.src=URL.createObjectURL(u);else{var v=new FileReader;v.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(u.type||f)+";base64,"+v.result.split(",")[1]},v.onerror=h.onerror,v.readAsDataURL(u)}},i.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},c.exports=i},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={install:function(a){for(var g in x)a[g]=x[g]},register:function(a,g){x[a]=g},destroy:function(){x={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};c.exports=x},74261:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(35072),s=t(50792),r=t(54899),e=t(74099),n=t(95540),l=t(35154),i=t(37277),h=t(44594),u=t(92638),f=new a({Extends:s,initialize:function(m){s.call(this);var T=m.sys.game.config,C=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(C,"baseURL",T.loaderBaseURL)),this.setPath(n(C,"path",T.loaderPath)),this.setPrefix(n(C,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(C,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=u(n(C,"responseType",T.loaderResponseType),n(C,"async",T.loaderAsync),n(C,"user",T.loaderUser),n(C,"password",T.loaderPassword),n(C,"timeout",T.loaderTimeout),n(C,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(C,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(C,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(C,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(h.BOOT,this.boot,this),m.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var T=v[m];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var m=v.hasCacheConflict();return m||this.list.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1}),this.queue.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1})),m},addPack:function(v,m){if(typeof m=="string"){var T=l(v,m);T&&(v={packKey:T})}var C=0,S=this.baseURL,P=this.path,A=this.prefix;for(var L in v)if(Object.prototype.hasOwnProperty.call(v,L)){var F=v[L],B=n(F,"baseURL",S),D=n(F,"path",P),I=n(F,"prefix",A),G=n(F,"files",null),z=n(F,"defaultType","void");if(Array.isArray(G)){this.setBaseURL(B),this.setPath(D),this.setPrefix(I);for(var W=0;W<G.length;W++){var Y=G[W],K=Y.hasOwnProperty("type")?Y.type:z;this[K]&&(this[K](Y),C++)}}}return this.setBaseURL(S),this.setPath(P),this.setPrefix(A),C>0},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===g.FILE_POPULATED||v.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,m){this.inflight&&(this.inflight.delete(v),this.updateProgress(),m?(this.totalComplete++,this.queue.set(v),this.emit(r.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(r.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===g.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===g.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,m){return this.save(JSON.stringify(v),m)},save:function(v,m,T){m===void 0&&(m="file.json"),T===void 0&&(T="application/json");var C=new Blob([v],{type:T}),S=URL.createObjectURL(C),P=document.createElement("a");return P.download=m,P.textContent="Download "+m,P.href=S,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(n(m,"baseURL",v.loaderBaseURL)),this.setPath(n(m,"path",v.loaderPath)),this.setPrefix(n(m,"prefix",v.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});i.register("Loader",f,"load"),c.exports=f},3374:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),g=t(92638),o=function(s,r){var e=s===void 0?g():a({},s);if(r)for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e};c.exports=o},26430:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(54899),s=new a({initialize:function(e,n,l,i){var h=[];i.forEach(function(v){v&&h.push(v)}),this.loader=e,this.type=n,this.key=l;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=g.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<h.length;f++)h[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,r,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=s},84376:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3374),g=function(o,s){var r=a(s,o.xhrSettings);if(o.base64){var e=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(e)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var i in r.headers)l.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};c.exports=g},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s,r){return t===void 0&&(t=""),a===void 0&&(a=!0),g===void 0&&(g=""),o===void 0&&(o=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:a,user:g,password:o,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};c.exports=x},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=x},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(518),s=t(54899),r=new a({Extends:o,initialize:function(n,l,i,h,u){o.call(this,n,l,i,h,u),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),c.exports=r},76272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,u,f,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new e(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","json"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,f,m),S=new e(h,u,v,T);C.linkFile?n.call(this,h,"atlasjson",u,[C,S,C.linkFile]):n.call(this,h,"atlasjson",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),h.addToCache(),this.complete=!0}}});g.register("aseprite",function(i,h,u,f,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,f,v),this.addFile(m.files);return this}),c.exports=l},38734:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,u,f,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new e(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","json"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,f,m),S=new e(h,u,v,T);C.linkFile?n.call(this,h,"atlasjson",u,[C,S,C.linkFile]):n.call(this,h,"atlasjson",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),this.complete=!0}}});g.register("atlas",function(i,h,u,f,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,f,v),this.addFile(m.files);return this}),c.exports=l},74599:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(57318),l=new a({Extends:e,initialize:function(h,u,f,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new n(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","xml"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,f,m),S=new n(h,u,v,T);C.linkFile?e.call(this,h,"atlasxml",u,[C,S,C.linkFile]):e.call(this,h,"atlasxml",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,h.data,u),this.complete=!0}}});g.register("atlasXML",function(i,h,u,f,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,f,v),this.addFile(m.files);return this}),c.exports=l},21097:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(89749),n=t(41212),l=new a({Extends:o,initialize:function(h,u,f,v,m){if(n(u)){var T=u;u=r(T,"key"),v=r(T,"xhrSettings"),m=r(T,"context",m)}var C={type:"audio",cache:h.cacheManager.audio,extension:f.type,responseType:"arraybuffer",key:u,url:f.url,xhrSettings:v,config:{context:m}};o.call(this,h,C)},onProcess:function(){this.state=g.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){i.data=h,i.onProcessComplete()},function(h){console.error("Error decoding audio: "+i.key+" - ",h?h.message:null),i.onProcessError()}),this.config.context=null}});l.create=function(i,h,u,f,v){var m=i.systems.game,T=m.config.audio,C=m.device.audio;n(h)&&(u=r(h,"url",[]),f=r(h,"config",{}));var S=l.getAudioURL(m,u);return S?C.webAudio&&!T.disableWebAudio?new l(i,h,S,v,m.sound.context):new e(i,h,S,f):(console.warn('No audio URLs for "%s" matched this device',h),null)},l.getAudioURL=function(i,h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var f=r(h[u],"url",h[u]);if(f.indexOf("blob:")===0||f.indexOf("data:")===0)return{url:f,type:""};var v=f.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=r(h[u],"type",v?v[1]:"").toLowerCase(),i.device.audio[v])return{url:f,type:v}}return null},s.register("audio",function(i,h,u,f){var v=this.systems.game,m=v.config.audio,T=v.device.audio;if(m.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(i))for(var S=0;S<i.length;S++)C=l.create(this,i[S]),C&&this.addFile(C);else C=l.create(this,i,h,u,f),C&&this.addFile(C);return this}),c.exports=l},89524:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21097),g=t(83419),o=t(74099),s=t(95540),r=t(41212),e=t(518),n=t(26430),l=new g({Extends:n,initialize:function(h,u,f,v,m,T,C){if(r(u)){var S=u;u=s(S,"key"),f=s(S,"jsonURL"),v=s(S,"audioURL"),m=s(S,"audioConfig"),T=s(S,"audioXhrSettings"),C=s(S,"jsonXhrSettings")}var P;if(!v)P=new e(h,u,f,C),n.call(this,h,"audiosprite",u,[P]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=T;else{var A=a.create(h,u,v,m,T);A&&(P=new e(h,u,f,C),n.call(this,h,"audiosprite",u,[A,P]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,f=s(this.config,"audioConfig"),v=s(this.config,"audioXhrSettings"),m=a.create(this.loader,i.key,u,f,v);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1];i.addToCache(),h.addToCache(),this.complete=!0}}});o.register("audioSprite",function(i,h,u,f,v,m){var T=this.systems.game,C=T.config.audio,S=T.device.audio;if(C&&C.noAudio||!S.webAudio&&!S.audioData)return this;var P;if(Array.isArray(i))for(var A=0;A<i.length;A++)P=new l(this,i[A]),P.files&&this.addFile(P.files);else P=new l(this,i,h,u,f,v,m),P.files&&this.addFile(P.files);return this})},85722:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f,v){var m="bin";if(e(h)){var T=h;h=r(T,"key"),u=r(T,"url"),f=r(T,"xhrSettings"),m=r(T,"extension",m),v=r(T,"dataType",v)}var C={type:"binary",cache:i.cacheManager.binary,extension:m,responseType:"arraybuffer",key:h,url:u,xhrSettings:f,config:{dataType:v}};o.call(this,i,C)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,i,h,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,u,h));return this}),c.exports=n},97025:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(21859),l=t(57318),i=new a({Extends:e,initialize:function(u,f,v,m,T,C){var S,P;if(r(f)){var A=f;f=o(A,"key"),S=new s(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),P=new l(u,{key:f,url:o(A,"fontDataURL"),extension:o(A,"fontDataExtension","xml"),xhrSettings:o(A,"fontDataXhrSettings")})}else S=new s(u,f,v,T),P=new l(u,f,m,C);S.linkFile?e.call(this,u,"bitmapfont",f,[S,P,S.linkFile]):e.call(this,u,"bitmapfont",f,[S,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1];h.addToCache();var f=h.cache.get(h.key),v=n(u.data,h.cache.getFrame(h.key),0,0,f);this.loader.cacheManager.bitmapFont.add(h.key,{data:v,texture:h.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(h,u,f,v,m){var T;if(Array.isArray(h))for(var C=0;C<h.length;C++)T=new i(this,h[C]),this.addFile(T.files);else T=new i(this,h,u,f,v,m),this.addFile(T.files);return this}),c.exports=i},16024:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f){var v="css";if(e(h)){var m=h;h=r(m,"key"),u=r(m,"url"),f=r(m,"xhrSettings"),v=r(m,"extension",v)}var T={type:"script",cache:!1,extension:v,responseType:"text",key:h,url:u,xhrSettings:f};o.call(this,i,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},69559:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38734),g=t(85722),o=t(83419),s=t(74099),r=t(95540),e=t(19550),n=t(41212),l=t(518),i=t(31403),h=t(46975),u=t(59327),f=t(26430),v=t(82038),m=t(55222),T=new o({Extends:f,initialize:function(S,P,A,L){if(A.multiAtlasURL){var F=new l(S,{key:P,url:A.multiAtlasURL,xhrSettings:L,config:A});f.call(this,S,"texture",P,[F])}else{var B=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=B.toLowerCase()==="ktx"?"KTX":"PVR");var D=new g(S,{key:P,url:A.textureURL,extension:B,xhrSettings:L,config:A});if(A.atlasURL){var I=new l(S,{key:P,url:A.atlasURL,xhrSettings:L,config:A});f.call(this,S,"texture",P,[D,I])}else f.call(this,S,"texture",P,[D])}this.config=A},onFileComplete:function(C){var S=this.files.indexOf(C);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var P=C.data.textures,A=this.config,L=this.loader,F=L.baseURL,B=L.path,D=L.prefix,I=r(A,"multiBaseURL",this.baseURL),G=r(A,"multiPath",this.path),z=r(A,"prefix",this.prefix),W=r(A,"textureXhrSettings");I&&L.setBaseURL(I),G&&L.setPath(G),z&&L.setPrefix(z);for(var Y=0;Y<P.length;Y++){var K=P[Y].image,Z="CMA"+this.multiKeyIndex+"_"+K,V=new g(L,Z,K,W);if(this.addToMultiFile(V),L.addFile(V),P[Y].normalMap){var H=new g(L,Z,P[Y].normalMap,W);H.type="normalMap",V.setLink(H),this.addToMultiFile(H),L.addFile(H)}}L.setBaseURL(F),L.setPath(B),L.setPrefix(D)}}},addToCache:function(){function C(I){console.warn('Compressed Texture Invalid: "'+F.key+'". '+I)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,A=this.loader.textureManager,L,F=this.files[0],B=this.files[1];if(S.type==="PVR"?L=v(F.data):S.type==="KTX"&&(L=i(F.data),L||C("KTX file contains unsupported format.")),L&&!m(L)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!P.supportsCompressedTexture(S.format,L.internalFormat)&&(C("Texture format "+S.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=P.getCompressedTextureName(S.format,L.internalFormat);var D=B&&B.data?B.data:null;A.addCompressedTexture(F.key,L,D)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,S=this.files[0],P=[],A=[],L=[],F=this.loader.systems.renderer,B=this.loader.textureManager,D,I=1;I<this.files.length;I++){var G=this.files[I];if(G.type!=="normalMap")for(var z=G.key.indexOf("_"),W=G.key.substr(z+1),Y=G.data,K=0;K<S.data.textures.length;K++){var Z=S.data.textures[K];if(Z.image===W){C.type==="PVR"?D=v(Y):C.type==="KTX"&&(D=i(Y)),D&&F.supportsCompressedTexture(C.format,D.internalFormat)&&(D.format=F.getCompressedTextureName(C.format,D.internalFormat),A.push(D),P.push(Z),G.linkFile&&L.push(G.linkFile.data));break}}}L.length===0&&(L=void 0),B.addAtlasJSONArray(this.key,A,P,L),this.complete=!0}});s.register("texture",function(C,S,P){var A=this.systems.renderer,L=function(B,D,I,G){var z={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(D)){var W=D;D=r(W,"key"),I=r(W,"url"),G=r(W,"xhrSettings")}var Y=!1;for(var K in I)if(A.supportsCompressedTexture(K)){var Z=I[K];typeof Z=="string"?z.textureURL=Z:z=h(Z,z),z.format=K.toUpperCase(),Y=!0;break}if(!Y)console.warn("No supported compressed texture format or IMG fallback",D);else if(z.format==="IMG"){var V,H;z.multiAtlasURL?(H=new u(B,D,z.multiAtlasURL,z.multiPath,z.multiBaseURL,G),V=H.files):z.atlasURL?(H=new a(B,D,z.textureURL,z.atlasURL,G),V=H.files):V=new e(B,D,z.textureURL,G),B.addFile(V)}else{var N=new T(B,D,z,G);B.addFile(N.files)}};if(Array.isArray(C))for(var F=0;F<C.length;F++)L(this,C[F]);else L(this,C,S,P);return this}),c.exports=T},47931:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(73894),l=new a({Extends:o,initialize:function(h,u,f,v,m){var T="glsl";if(e(u)){var C=u;u=r(C,"key"),f=r(C,"url"),v=r(C,"shaderType","fragment"),m=r(C,"xhrSettings"),T=r(C,"extension",T)}else v===void 0&&(v="fragment");var S={type:"glsl",cache:h.cacheManager.shader,extension:T,responseType:"text",key:u,url:f,config:{shaderType:v},xhrSettings:m};o.call(this,h,S)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),h=this.extractBlock(i,0);if(h)for(;h;){var u=this.getShaderName(h.header),f=this.getShaderType(h.header),v=this.getShaderUniforms(h.header),m=h.shader;if(this.cache.has(u)){var T=this.cache.get(u);f==="fragment"?T.fragmentSrc=m:T.vertexSrc=m,T.uniforms||(T.uniforms=v)}else f==="fragment"?this.cache.add(u,new n(u,m,"",v)):this.cache.add(u,new n(u,"",m,v));h=this.extractBlock(i,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var h={},u=0;u<i.length;u++){var f=i[u].trim();if(f.substring(0,8)==="uniform."){var v=f.indexOf(":");if(v){var m=f.substring(8,v);try{h[m]=JSON.parse(f.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return h},extractBlock:function(i,h){for(var u=-1,f=-1,v=-1,m=!1,T=!1,C=[],S=[],P=h;P<i.length;P++){var A=i[P].trim();if(A==="---")if(u===-1)u=P,m=!0;else if(m)f=P,m=!1,T=!0;else{T=!1;break}else m?C.push(A):T&&(S.push(A),v=P)}return!m&&f!==-1?{header:C,shader:S.join(`
`),offset:v}:null}});s.register("glsl",function(i,h,u,f){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new l(this,i[v]));else this.addFile(new l(this,i,h,u,f));return this}),c.exports=l},89749:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(54899),o=t(41299),s=t(95540),r=t(98356),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f){if(e(h)){var v=h;h=s(v,"key"),f=s(v,"config",f)}var m={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:h,url:u.url,config:f};o.call(this,i,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var i=this.data[l];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var i=l.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<l;i++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+i).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(i=0;i<this.data.length;i++)h=this.data[i],h.src=r(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=n},88470:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f){var v="html";if(e(h)){var m=h;h=r(m,"key"),u=r(m,"url"),f=r(m,"xhrSettings"),v=r(m,"extension",v)}var T={type:"text",cache:i.cacheManager.html,extension:v,responseType:"text",key:h,url:u,xhrSettings:f};o.call(this,i,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},14643:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f,v,m){f===void 0&&(f=512),v===void 0&&(v=512);var T="html";if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),m=r(C,"xhrSettings"),T=r(C,"extension",T),f=r(C,"width",f),v=r(C,"height",v)}var S={type:"html",cache:i.textureManager,extension:T,responseType:"text",key:h,url:u,xhrSettings:m,config:{width:f,height:v}};o.call(this,i,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.config.width,i=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+i+'px" viewBox="0 0 '+l+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var u=[h.join(`
`)],f=this;try{var v=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{f.state=g.FILE_ERRORED,f.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(f.data),f.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(l,i,h,u,f){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,i,h,u,f));return this}),c.exports=n},19550:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(98356),l=new a({Extends:o,initialize:function i(h,u,f,v,m){var T="png",C;if(e(u)){var S=u;u=r(S,"key"),f=r(S,"url"),C=r(S,"normalMap"),v=r(S,"xhrSettings"),T=r(S,"extension",T),m=r(S,"frameConfig")}Array.isArray(f)&&(C=f[1],f=f[0]);var P={type:"image",cache:h.textureManager,extension:T,responseType:"blob",key:u,url:f,xhrSettings:v,config:m};if(o.call(this,h,P),C){var A=new i(h,this.key,C,v,m);A.type="normalMap",this.setLink(A),h.addFile(A)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){o.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(i.data),i.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=g.FILE_PROCESSING,i===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=g.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=g.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=g.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(i,h,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new l(this,i[f]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},518:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(35154),n=t(41212),l=new a({Extends:o,initialize:function(h,u,f,v,m){var T="json";if(n(u)){var C=u;u=r(C,"key"),f=r(C,"url"),v=r(C,"xhrSettings"),T=r(C,"extension",T),m=r(C,"dataKey",m)}var S={type:"json",cache:h.cacheManager.json,extension:T,responseType:"text",key:u,url:f,xhrSettings:v,config:m};o.call(this,h,S),n(f)&&(m?this.data=e(f,m):this.data=f,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var h=this.config;typeof h=="string"?this.data=e(i,h,i):this.data=i}this.onProcessComplete()}});s.register("json",function(i,h,u,f){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new l(this,i[v]));else this.addFile(new l(this,i,h,f,u));return this}),c.exports=l},59327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,u,f,v,m,T,C){if(r(u)){var S=u;u=o(S,"key"),o(S,"url",!1)?f=o(S,"url"):f=o(S,"atlasURL"),T=o(S,"xhrSettings"),v=o(S,"path"),m=o(S,"baseURL"),C=o(S,"textureXhrSettings")}var P=new e(h,u,f,T);n.call(this,h,"multiatlas",u,[P]),this.config.path=v,this.config.baseURL=m,this.config.textureXhrSettings=C},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,f=this.config,v=this.loader,m=v.baseURL,T=v.path,C=v.prefix,S=o(f,"baseURL",this.baseURL),P=o(f,"path",this.path),A=o(f,"prefix",this.prefix),L=o(f,"textureXhrSettings");v.setBaseURL(S),v.setPath(P),v.setPrefix(A);for(var F=0;F<u.length;F++){var B=u[F].image,D="MA"+this.multiKeyIndex+"_"+B,I=new s(v,D,B,L);if(this.addToMultiFile(I),v.addFile(I),u[F].normalMap){var G=new s(v,D,u[F].normalMap,L);G.type="normalMap",I.setLink(G),this.addToMultiFile(G),v.addFile(G)}}v.setBaseURL(m),v.setPath(T),v.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],h=[],u=[],f=[],v=1;v<this.files.length;v++){var m=this.files[v];if(m.type!=="normalMap")for(var T=m.key.indexOf("_"),C=m.key.substr(T+1),S=m.data,P=0;P<i.data.textures.length;P++){var A=i.data.textures[P];if(A.image===C){u.push(S),h.push(A),m.linkFile&&f.push(m.linkFile.data);break}}}f.length===0&&(f=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,h,f),this.complete=!0}}});g.register("multiatlas",function(i,h,u,f,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,f,v),this.addFile(m.files);return this}),c.exports=l},99297:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(34328),n=new a({Extends:r,initialize:function(i,h,u,f){var v="js",m=[];if(s(h)){var T=h;h=o(T,"key"),u=o(T,"url"),f=o(T,"xhrSettings"),v=o(T,"extension",v)}Array.isArray(u)||(u=[u]);for(var C=0;C<u.length;C++){var S=new e(i,{key:h+"_"+C.toString(),url:u[C],extension:v,xhrSettings:f});S.onProcess=function(){this.onProcessComplete()},m.push(S)}r.call(this,i,"scripts",h,m)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var i=this.files[l];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});g.register("scripts",function(l,i,h){var u;if(Array.isArray(l))for(var f=0;f<l.length;f++)u=new n(this,l[f]),this.addFile(u.files);else u=new n(this,l,i,h),this.addFile(u.files);return this}),c.exports=n},41846:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(85048),n=t(61485),l=t(78776),i=new a({Extends:r,initialize:function(u,f,v,m,T,C){var S,P,A=u.cacheManager.obj;if(s(f)){var L=f;f=o(L,"key"),S=new l(u,{key:f,type:"obj",cache:A,url:o(L,"url"),extension:o(L,"extension","obj"),xhrSettings:o(L,"xhrSettings"),config:{flipUV:o(L,"flipUV",T)}}),m=o(L,"matURL"),m&&(P=new l(u,{key:f,type:"mat",cache:A,url:m,extension:o(L,"matExtension","mat"),xhrSettings:o(L,"xhrSettings")}))}else S=new l(u,{key:f,url:v,type:"obj",cache:A,extension:"obj",xhrSettings:C,config:{flipUV:T}}),m&&(P=new l(u,{key:f,url:m,type:"mat",cache:A,extension:"mat",xhrSettings:C}));r.call(this,u,"obj",f,[S,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1],f=e(h.data,h.config.flipUV);u&&(f.materials=n(u.data)),h.cache.add(h.key,f),this.complete=!0}}});g.register("obj",function(h,u,f,v,m){var T;if(Array.isArray(h))for(var C=0;C<h.length;C++)T=new i(this,h[C]),this.addFile(T.files);else T=new i(this,h,u,f,v,m),this.addFile(T.files);return this}),c.exports=i},58610:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(74099),s=t(518),r=new a({Extends:s,initialize:function(n,l,i,h,u){s.call(this,n,l,i,h,u),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),c.exports=r},48988:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f,v,m){var T="js";if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),m=r(C,"xhrSettings"),T=r(C,"extension",T),f=r(C,"start"),v=r(C,"mapping")}var S={type:"plugin",cache:!1,extension:T,responseType:"text",key:h,url:u,xhrSettings:m,config:{start:f,mapping:v}};o.call(this,i,S),typeof u=="function"&&(this.data=u,this.state=g.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=r(i,"start",!1),u=r(i,"mapping",null);if(this.state===g.FILE_POPULATED)l.install(this.key,this.data,h,u);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var f=l.install(this.key,window[this.key],h,u);(h||u)&&(this.loader.systems[u]=f,this.loader.scene[u]=f)}this.onProcessComplete()}});s.register("plugin",function(l,i,h,u,f){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,i,h,u,f));return this}),c.exports=n},67397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f,v){var m="svg";if(e(h)){var T=h;h=r(T,"key"),u=r(T,"url"),f=r(T,"svgConfig",{}),v=r(T,"xhrSettings"),m=r(T,"extension",m)}var C={type:"svg",cache:i.textureManager,extension:m,responseType:"text",key:h,url:u,xhrSettings:v,config:{width:r(f,"width"),height:r(f,"height"),scale:r(f,"scale")}};o.call(this,i,C)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.xhrLoader.responseText,i=[l],h=this.config.width,u=this.config.height,f=this.config.scale;t:if(h&&u||f){var v=null,m=new DOMParser;v=m.parseFromString(l,"text/xml");var T=v.getElementsByTagName("svg")[0],C=T.hasAttribute("viewBox"),S=parseFloat(T.getAttribute("width")),P=parseFloat(T.getAttribute("height"));if(!C&&S&&P)T.setAttribute("viewBox","0  0 "+S+" "+P);else if(C&&!S&&!P){var A=T.getAttribute("viewBox").split(/\s+|,/);S=A[2],P=A[3]}if(f)if(S&&P)h=S*f,u=P*f;else break t;T.setAttribute("width",h.toString()+"px"),T.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(T)]}try{var L=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var F=this,B=!1;this.data.onload=function(){B||o.revokeObjectURL(F.data),F.onProcessComplete()},this.data.onerror=function(){B?F.onProcessError():(B=!0,o.revokeObjectURL(F.data),F.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},o.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(l,i,h,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h,u));return this}),c.exports=n},88423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f){var v="js";if(e(h)){var m=h;h=r(m,"key"),u=r(m,"url"),f=r(m,"xhrSettings"),v=r(m,"extension",v)}var T={type:"text",extension:v,responseType:"text",key:h,url:u,xhrSettings:f};o.call(this,i,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(l)),this.complete=!0}});s.register("sceneFile",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},56812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f,v,m){var T="js";if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),m=r(C,"xhrSettings"),T=r(C,"extension",T),f=r(C,"systemKey"),v=r(C,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:h,url:u,xhrSettings:m,config:{systemKey:f,sceneKey:v}};o.call(this,i,S),typeof u=="function"&&(this.data=u,this.state=g.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=this.key,u=r(i,"systemKey",h),f=r(i,"sceneKey",h);this.state===g.FILE_POPULATED?l.installScenePlugin(u,this.data,f,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(u,window[this.key],f,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,i,h,u,f){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,i,h,u,f));return this}),c.exports=n},34328:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f,v){var m="js";if(e(h)){var T=h;h=r(T,"key"),u=r(T,"url"),f=r(T,"type","script"),v=r(T,"xhrSettings"),m=r(T,"extension",m)}else f===void 0&&(f="script");var C={type:f,cache:!1,extension:m,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,i,C)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,i,h,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h,u));return this}),c.exports=n},85035:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(74099),s=t(19550),r=new a({Extends:s,initialize:function(n,l,i,h,u){s.call(this,n,l,i,u,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,l,i));return this}),c.exports=r},78776:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,f){var v="text",m="txt",T=i.cacheManager.text;if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),f=r(C,"xhrSettings"),m=r(C,"extension",m),v=r(C,"type",v),T=r(C,"cache",T)}var S={type:v,cache:T,extension:m,responseType:"text",key:h,url:u,xhrSettings:f};o.call(this,i,S)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},49477:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(80341),l=new a({Extends:o,initialize:function(h,u,f,v){var m="csv";if(e(u)){var T=u;u=r(T,"key"),f=r(T,"url"),v=r(T,"xhrSettings"),m=r(T,"extension",m)}var C={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:m,responseType:"text",key:u,url:f,xhrSettings:v};o.call(this,h,C),this.tilemapFormat=n.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});s.register("tilemapCSV",function(i,h,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new l(this,i[f]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},40807:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});g.register("tilemapImpact",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},56775:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});g.register("tilemapTiledJSON",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},25771:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(78776),l=new a({Extends:e,initialize:function(h,u,f,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new n(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","txt"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,f,m),S=new n(h,u,v,T);C.linkFile?e.call(this,h,"unityatlas",u,[C,S,C.linkFile]):e.call(this,h,"unityatlas",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,h.data,u),this.complete=!0}}});g.register("unityAtlas",function(i,h,u,f,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,f,v),this.addFile(m.files);return this}),c.exports=l},33720:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(98356),e=t(95540),n=t(41212),l=new a({Extends:o,initialize:function(h,u,f,v){if(v===void 0&&(v=!1),n(u)){var m=u;u=e(m,"key"),f=e(m,"url",[]),v=e(m,"noAudio",!1)}var T=h.systems.game.device.video.getVideoURL(f);T||console.warn("VideoFile: No supported format for "+u);var C={type:"video",cache:h.cacheManager.video,extension:T.type,key:u,url:T.url,config:{noAudio:v}};o.call(this,h,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(i,h,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new l(this,i[f]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},57318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(56836),l=new a({Extends:o,initialize:function(h,u,f,v){var m="xml";if(e(u)){var T=u;u=r(T,"key"),f=r(T,"url"),v=r(T,"xhrSettings"),m=r(T,"extension",m)}var C={type:"xml",cache:h.cacheManager.xml,extension:m,responseType:"text",key:u,url:f,xhrSettings:v};o.call(this,h,C)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(i,h,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new l(this,i[f]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},64589:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23906),g=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=g(!1,o,a),c.exports=o},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0,g=0;g<t.length;g++)a+=+t[g];return a/t.length};c.exports=x},85710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6411),g=function(o,s){return a(o)/a(s)/a(o-s)};c.exports=g},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};c.exports=x},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){var r=(o-a)*.5,e=(s-g)*.5,n=t*t,l=t*n;return(2*g-2*o+r+e)*l+(-3*g+3*o-2*r-e)*n+r*t+g};c.exports=x},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var o=Math.pow(g,-a);return Math.ceil(t*o)/o};c.exports=x},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return Math.max(a,Math.min(g,t))};c.exports=x},39506:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=function(o){return o*a.DEG_TO_RAD};c.exports=g},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.abs(t-a)};c.exports=x},38857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(37867),s=t(29747),r=new o,e=new g({initialize:function n(l,i,h,u){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=n.DefaultOrder),this._x=l,this._y=i,this._z=h,this._order=u,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,i,h){return h===void 0&&(h=this._order),this._x=n,this._y=l,this._z=i,this._order=h,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,i){return l===void 0&&(l=this._order),i===void 0&&(i=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,i)},setFromRotationMatrix:function(n,l,i){l===void 0&&(l=this._order),i===void 0&&(i=!1);var h=n.val,u=h[0],f=h[4],v=h[8],m=h[1],T=h[5],C=h[9],S=h[2],P=h[6],A=h[10],L=0,F=0,B=0,D=.99999;switch(l){case"XYZ":{F=Math.asin(a(v,-1,1)),Math.abs(v)<D?(L=Math.atan2(-C,A),B=Math.atan2(-f,u)):L=Math.atan2(P,T);break}case"YXZ":{L=Math.asin(-a(C,-1,1)),Math.abs(C)<D?(F=Math.atan2(v,A),B=Math.atan2(m,T)):F=Math.atan2(-S,u);break}case"ZXY":{L=Math.asin(a(P,-1,1)),Math.abs(P)<D?(F=Math.atan2(-S,A),B=Math.atan2(-f,T)):B=Math.atan2(m,u);break}case"ZYX":{F=Math.asin(-a(S,-1,1)),Math.abs(S)<D?(L=Math.atan2(P,A),B=Math.atan2(m,u)):B=Math.atan2(-f,T);break}case"YZX":{B=Math.asin(a(m,-1,1)),Math.abs(m)<D?(L=Math.atan2(-C,T),F=Math.atan2(-S,u)):F=Math.atan2(v,A);break}case"XZY":{B=Math.asin(-a(f,-1,1)),Math.abs(f)<D?(L=Math.atan2(P,T),F=Math.atan2(v,u)):L=Math.atan2(-C,A);break}}return this._x=L,this._y=F,this._z=B,this._order=l,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};c.exports=x},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.random()*(a-t)+t};c.exports=x},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var o=Math.pow(g,-a);return Math.floor(t*o)/o};c.exports=x},62945:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=function(o,s,r){return o=a(o,0,1),(r-s)*o+s};c.exports=g},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t/a/1e3};c.exports=x},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=x},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=x},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return(a-t)*g+t};c.exports=x},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return g===void 0&&(g=0),t.clone().lerp(a,g)};c.exports=x},94434:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new g(this)},set:function(o){return this.copy(o)},copy:function(o){var s=this.val,r=o.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(o){var s=o.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(o){var s=this.val;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,s=o[1],r=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=s,o[5]=o[7],o[6]=r,o[7]=e,this},invert:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],u=o[7],f=o[8],v=f*l-i*u,m=-f*n+i*h,T=u*n-l*h,C=s*v+r*m+e*T;return C?(C=1/C,o[0]=v*C,o[1]=(-f*r+e*u)*C,o[2]=(i*r-e*l)*C,o[3]=m*C,o[4]=(f*s-e*h)*C,o[5]=(-i*s+e*n)*C,o[6]=T*C,o[7]=(-u*s+r*h)*C,o[8]=(l*s-r*n)*C,this):null},adjoint:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],u=o[7],f=o[8];return o[0]=l*f-i*u,o[1]=e*u-r*f,o[2]=r*i-e*l,o[3]=i*h-n*f,o[4]=s*f-e*h,o[5]=e*n-s*i,o[6]=n*u-l*h,o[7]=r*h-s*u,o[8]=s*l-r*n,this},determinant:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],u=o[7],f=o[8];return s*(f*l-i*u)+r*(-f*n+i*h)+e*(u*n-l*h)},multiply:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],u=s[6],f=s[7],v=s[8],m=o.val,T=m[0],C=m[1],S=m[2],P=m[3],A=m[4],L=m[5],F=m[6],B=m[7],D=m[8];return s[0]=T*r+C*l+S*u,s[1]=T*e+C*i+S*f,s[2]=T*n+C*h+S*v,s[3]=P*r+A*l+L*u,s[4]=P*e+A*i+L*f,s[5]=P*n+A*h+L*v,s[6]=F*r+B*l+D*u,s[7]=F*e+B*i+D*f,s[8]=F*n+B*h+D*v,this},translate:function(o){var s=this.val,r=o.x,e=o.y;return s[6]=r*s[0]+e*s[3]+s[6],s[7]=r*s[1]+e*s[4]+s[7],s[8]=r*s[2]+e*s[5]+s[8],this},rotate:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],u=Math.sin(o),f=Math.cos(o);return s[0]=f*r+u*l,s[1]=f*e+u*i,s[2]=f*n+u*h,s[3]=f*l-u*r,s[4]=f*i-u*e,s[5]=f*h-u*n,this},scale:function(o){var s=this.val,r=o.x,e=o.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(o){var s=o.x,r=o.y,e=o.z,n=o.w,l=s+s,i=r+r,h=e+e,u=s*l,f=s*i,v=s*h,m=r*i,T=r*h,C=e*h,S=n*l,P=n*i,A=n*h,L=this.val;return L[0]=1-(m+C),L[3]=f+A,L[6]=v-P,L[1]=f-A,L[4]=1-(u+C),L[7]=T+S,L[2]=v+P,L[5]=T-S,L[8]=1-(u+m),this},normalFromMat4:function(o){var s=o.val,r=this.val,e=s[0],n=s[1],l=s[2],i=s[3],h=s[4],u=s[5],f=s[6],v=s[7],m=s[8],T=s[9],C=s[10],S=s[11],P=s[12],A=s[13],L=s[14],F=s[15],B=e*u-n*h,D=e*f-l*h,I=e*v-i*h,G=n*f-l*u,z=n*v-i*u,W=l*v-i*f,Y=m*A-T*P,K=m*L-C*P,Z=m*F-S*P,V=T*L-C*A,H=T*F-S*A,N=C*F-S*L,b=B*N-D*H+I*V+G*Z-z*K+W*Y;return b?(b=1/b,r[0]=(u*N-f*H+v*V)*b,r[1]=(f*Z-h*N-v*K)*b,r[2]=(h*H-u*Z+v*Y)*b,r[3]=(l*H-n*N-i*V)*b,r[4]=(e*N-l*Z+i*K)*b,r[5]=(n*Z-e*H-i*Y)*b,r[6]=(A*W-L*z+F*G)*b,r[7]=(L*I-P*W-F*D)*b,r[8]=(P*z-A*I+F*B)*b,this):null}});c.exports=g},37867:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(25836),o=1e-6,s=new a({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new s(this)},set:function(h){return this.copy(h)},setValues:function(h,u,f,v,m,T,C,S,P,A,L,F,B,D,I,G){var z=this.val;return z[0]=h,z[1]=u,z[2]=f,z[3]=v,z[4]=m,z[5]=T,z[6]=C,z[7]=S,z[8]=P,z[9]=A,z[10]=L,z[11]=F,z[12]=B,z[13]=D,z[14]=I,z[15]=G,this},copy:function(h){var u=h.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,u,f){var v=r.fromQuat(f),m=v.val,T=u.x,C=u.y,S=u.z;return this.setValues(m[0]*T,m[1]*T,m[2]*T,0,m[4]*C,m[5]*C,m[6]*C,0,m[8]*S,m[9]*S,m[10]*S,0,h.x,h.y,h.z,1)},xyz:function(h,u,f){this.identity();var v=this.val;return v[12]=h,v[13]=u,v[14]=f,this},scaling:function(h,u,f){this.zero();var v=this.val;return v[0]=h,v[5]=u,v[10]=f,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,u=h[1],f=h[2],v=h[3],m=h[6],T=h[7],C=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=u,h[6]=h[9],h[7]=h[13],h[8]=f,h[9]=m,h[11]=h[14],h[12]=v,h[13]=T,h[14]=C,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,u=h[0],f=h[1],v=h[2],m=h[3],T=h[4],C=h[5],S=h[6],P=h[7],A=h[8],L=h[9],F=h[10],B=h[11],D=h[12],I=h[13],G=h[14],z=h[15],W=u*C-f*T,Y=u*S-v*T,K=u*P-m*T,Z=f*S-v*C,V=f*P-m*C,H=v*P-m*S,N=A*I-L*D,b=A*G-F*D,X=A*z-B*D,$=L*G-F*I,Q=L*z-B*I,k=F*z-B*G,J=W*k-Y*Q+K*$+Z*X-V*b+H*N;return J?(J=1/J,this.setValues((C*k-S*Q+P*$)*J,(v*Q-f*k-m*$)*J,(I*H-G*V+z*Z)*J,(F*V-L*H-B*Z)*J,(S*X-T*k-P*b)*J,(u*k-v*X+m*b)*J,(G*K-D*H-z*Y)*J,(A*H-F*K+B*Y)*J,(T*Q-C*X+P*N)*J,(f*X-u*Q-m*N)*J,(D*V-I*K+z*W)*J,(L*K-A*V-B*W)*J,(C*b-T*$-S*N)*J,(u*$-f*b+v*N)*J,(I*Y-D*Z-G*W)*J,(A*Z-L*Y+F*W)*J)):this},adjoint:function(){var h=this.val,u=h[0],f=h[1],v=h[2],m=h[3],T=h[4],C=h[5],S=h[6],P=h[7],A=h[8],L=h[9],F=h[10],B=h[11],D=h[12],I=h[13],G=h[14],z=h[15];return this.setValues(C*(F*z-B*G)-L*(S*z-P*G)+I*(S*B-P*F),-(f*(F*z-B*G)-L*(v*z-m*G)+I*(v*B-m*F)),f*(S*z-P*G)-C*(v*z-m*G)+I*(v*P-m*S),-(f*(S*B-P*F)-C*(v*B-m*F)+L*(v*P-m*S)),-(T*(F*z-B*G)-A*(S*z-P*G)+D*(S*B-P*F)),u*(F*z-B*G)-A*(v*z-m*G)+D*(v*B-m*F),-(u*(S*z-P*G)-T*(v*z-m*G)+D*(v*P-m*S)),u*(S*B-P*F)-T*(v*B-m*F)+A*(v*P-m*S),T*(L*z-B*I)-A*(C*z-P*I)+D*(C*B-P*L),-(u*(L*z-B*I)-A*(f*z-m*I)+D*(f*B-m*L)),u*(C*z-P*I)-T*(f*z-m*I)+D*(f*P-m*C),-(u*(C*B-P*L)-T*(f*B-m*L)+A*(f*P-m*C)),-(T*(L*G-F*I)-A*(C*G-S*I)+D*(C*F-S*L)),u*(L*G-F*I)-A*(f*G-v*I)+D*(f*F-v*L),-(u*(C*G-S*I)-T*(f*G-v*I)+D*(f*S-v*C)),u*(C*F-S*L)-T*(f*F-v*L)+A*(f*S-v*C))},determinant:function(){var h=this.val,u=h[0],f=h[1],v=h[2],m=h[3],T=h[4],C=h[5],S=h[6],P=h[7],A=h[8],L=h[9],F=h[10],B=h[11],D=h[12],I=h[13],G=h[14],z=h[15],W=u*C-f*T,Y=u*S-v*T,K=u*P-m*T,Z=f*S-v*C,V=f*P-m*C,H=v*P-m*S,N=A*I-L*D,b=A*G-F*D,X=A*z-B*D,$=L*G-F*I,Q=L*z-B*I,k=F*z-B*G;return W*k-Y*Q+K*$+Z*X-V*b+H*N},multiply:function(h){var u=this.val,f=u[0],v=u[1],m=u[2],T=u[3],C=u[4],S=u[5],P=u[6],A=u[7],L=u[8],F=u[9],B=u[10],D=u[11],I=u[12],G=u[13],z=u[14],W=u[15],Y=h.val,K=Y[0],Z=Y[1],V=Y[2],H=Y[3];return u[0]=K*f+Z*C+V*L+H*I,u[1]=K*v+Z*S+V*F+H*G,u[2]=K*m+Z*P+V*B+H*z,u[3]=K*T+Z*A+V*D+H*W,K=Y[4],Z=Y[5],V=Y[6],H=Y[7],u[4]=K*f+Z*C+V*L+H*I,u[5]=K*v+Z*S+V*F+H*G,u[6]=K*m+Z*P+V*B+H*z,u[7]=K*T+Z*A+V*D+H*W,K=Y[8],Z=Y[9],V=Y[10],H=Y[11],u[8]=K*f+Z*C+V*L+H*I,u[9]=K*v+Z*S+V*F+H*G,u[10]=K*m+Z*P+V*B+H*z,u[11]=K*T+Z*A+V*D+H*W,K=Y[12],Z=Y[13],V=Y[14],H=Y[15],u[12]=K*f+Z*C+V*L+H*I,u[13]=K*v+Z*S+V*F+H*G,u[14]=K*m+Z*P+V*B+H*z,u[15]=K*T+Z*A+V*D+H*W,this},multiplyLocal:function(h){var u=this.val,f=h.val;return this.setValues(u[0]*f[0]+u[1]*f[4]+u[2]*f[8]+u[3]*f[12],u[0]*f[1]+u[1]*f[5]+u[2]*f[9]+u[3]*f[13],u[0]*f[2]+u[1]*f[6]+u[2]*f[10]+u[3]*f[14],u[0]*f[3]+u[1]*f[7]+u[2]*f[11]+u[3]*f[15],u[4]*f[0]+u[5]*f[4]+u[6]*f[8]+u[7]*f[12],u[4]*f[1]+u[5]*f[5]+u[6]*f[9]+u[7]*f[13],u[4]*f[2]+u[5]*f[6]+u[6]*f[10]+u[7]*f[14],u[4]*f[3]+u[5]*f[7]+u[6]*f[11]+u[7]*f[15],u[8]*f[0]+u[9]*f[4]+u[10]*f[8]+u[11]*f[12],u[8]*f[1]+u[9]*f[5]+u[10]*f[9]+u[11]*f[13],u[8]*f[2]+u[9]*f[6]+u[10]*f[10]+u[11]*f[14],u[8]*f[3]+u[9]*f[7]+u[10]*f[11]+u[11]*f[15],u[12]*f[0]+u[13]*f[4]+u[14]*f[8]+u[15]*f[12],u[12]*f[1]+u[13]*f[5]+u[14]*f[9]+u[15]*f[13],u[12]*f[2]+u[13]*f[6]+u[14]*f[10]+u[15]*f[14],u[12]*f[3]+u[13]*f[7]+u[14]*f[11]+u[15]*f[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,u){var f=h.val,v=u.val,m=f[0],T=f[4],C=f[8],S=f[12],P=f[1],A=f[5],L=f[9],F=f[13],B=f[2],D=f[6],I=f[10],G=f[14],z=f[3],W=f[7],Y=f[11],K=f[15],Z=v[0],V=v[4],H=v[8],N=v[12],b=v[1],X=v[5],$=v[9],Q=v[13],k=v[2],J=v[6],et=v[10],nt=v[14],st=v[3],ot=v[7],ut=v[11],at=v[15];return this.setValues(m*Z+T*b+C*k+S*st,P*Z+A*b+L*k+F*st,B*Z+D*b+I*k+G*st,z*Z+W*b+Y*k+K*st,m*V+T*X+C*J+S*ot,P*V+A*X+L*J+F*ot,B*V+D*X+I*J+G*ot,z*V+W*X+Y*J+K*ot,m*H+T*$+C*et+S*ut,P*H+A*$+L*et+F*ut,B*H+D*$+I*et+G*ut,z*H+W*$+Y*et+K*ut,m*N+T*Q+C*nt+S*at,P*N+A*Q+L*nt+F*at,B*N+D*Q+I*nt+G*at,z*N+W*Q+Y*nt+K*at)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,u,f){var v=this.val;return v[12]=v[0]*h+v[4]*u+v[8]*f+v[12],v[13]=v[1]*h+v[5]*u+v[9]*f+v[13],v[14]=v[2]*h+v[6]*u+v[10]*f+v[14],v[15]=v[3]*h+v[7]*u+v[11]*f+v[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,u,f){var v=this.val;return v[0]=v[0]*h,v[1]=v[1]*h,v[2]=v[2]*h,v[3]=v[3]*h,v[4]=v[4]*u,v[5]=v[5]*u,v[6]=v[6]*u,v[7]=v[7]*u,v[8]=v[8]*f,v[9]=v[9]*f,v[10]=v[10]*f,v[11]=v[11]*f,this},makeRotationAxis:function(h,u){var f=Math.cos(u),v=Math.sin(u),m=1-f,T=h.x,C=h.y,S=h.z,P=m*T,A=m*C;return this.setValues(P*T+f,P*C-v*S,P*S+v*C,0,P*C+v*S,A*C+f,A*S-v*T,0,P*S-v*C,A*S+v*T,m*S*S+f,0,0,0,0,1)},rotate:function(h,u){var f=this.val,v=u.x,m=u.y,T=u.z,C=Math.sqrt(v*v+m*m+T*T);if(Math.abs(C)<o)return this;C=1/C,v*=C,m*=C,T*=C;var S=Math.sin(h),P=Math.cos(h),A=1-P,L=f[0],F=f[1],B=f[2],D=f[3],I=f[4],G=f[5],z=f[6],W=f[7],Y=f[8],K=f[9],Z=f[10],V=f[11],H=f[12],N=f[13],b=f[14],X=f[15],$=v*v*A+P,Q=m*v*A+T*S,k=T*v*A-m*S,J=v*m*A-T*S,et=m*m*A+P,nt=T*m*A+v*S,st=v*T*A+m*S,ot=m*T*A-v*S,ut=T*T*A+P;return this.setValues(L*$+I*Q+Y*k,F*$+G*Q+K*k,B*$+z*Q+Z*k,D*$+W*Q+V*k,L*J+I*et+Y*nt,F*J+G*et+K*nt,B*J+z*et+Z*nt,D*J+W*et+V*nt,L*st+I*ot+Y*ut,F*st+G*ot+K*ut,B*st+z*ot+Z*ut,D*st+W*ot+V*ut,H,N,b,X)},rotateX:function(h){var u=this.val,f=Math.sin(h),v=Math.cos(h),m=u[4],T=u[5],C=u[6],S=u[7],P=u[8],A=u[9],L=u[10],F=u[11];return u[4]=m*v+P*f,u[5]=T*v+A*f,u[6]=C*v+L*f,u[7]=S*v+F*f,u[8]=P*v-m*f,u[9]=A*v-T*f,u[10]=L*v-C*f,u[11]=F*v-S*f,this},rotateY:function(h){var u=this.val,f=Math.sin(h),v=Math.cos(h),m=u[0],T=u[1],C=u[2],S=u[3],P=u[8],A=u[9],L=u[10],F=u[11];return u[0]=m*v-P*f,u[1]=T*v-A*f,u[2]=C*v-L*f,u[3]=S*v-F*f,u[8]=m*f+P*v,u[9]=T*f+A*v,u[10]=C*f+L*v,u[11]=S*f+F*v,this},rotateZ:function(h){var u=this.val,f=Math.sin(h),v=Math.cos(h),m=u[0],T=u[1],C=u[2],S=u[3],P=u[4],A=u[5],L=u[6],F=u[7];return u[0]=m*v+P*f,u[1]=T*v+A*f,u[2]=C*v+L*f,u[3]=S*v+F*f,u[4]=P*v-m*f,u[5]=A*v-T*f,u[6]=L*v-C*f,u[7]=F*v-S*f,this},fromRotationTranslation:function(h,u){var f=h.x,v=h.y,m=h.z,T=h.w,C=f+f,S=v+v,P=m+m,A=f*C,L=f*S,F=f*P,B=v*S,D=v*P,I=m*P,G=T*C,z=T*S,W=T*P;return this.setValues(1-(B+I),L+W,F-z,0,L-W,1-(A+I),D+G,0,F+z,D-G,1-(A+B),0,u.x,u.y,u.z,1)},fromQuat:function(h){var u=h.x,f=h.y,v=h.z,m=h.w,T=u+u,C=f+f,S=v+v,P=u*T,A=u*C,L=u*S,F=f*C,B=f*S,D=v*S,I=m*T,G=m*C,z=m*S;return this.setValues(1-(F+D),A+z,L-G,0,A-z,1-(P+D),B+I,0,L+G,B-I,1-(P+F),0,0,0,0,1)},frustum:function(h,u,f,v,m,T){var C=1/(u-h),S=1/(v-f),P=1/(m-T);return this.setValues(m*2*C,0,0,0,0,m*2*S,0,0,(u+h)*C,(v+f)*S,(T+m)*P,-1,0,0,T*m*2*P,0)},perspective:function(h,u,f,v){var m=1/Math.tan(h/2),T=1/(f-v);return this.setValues(m/u,0,0,0,0,m,0,0,0,0,(v+f)*T,-1,0,0,2*v*f*T,0)},perspectiveLH:function(h,u,f,v){return this.setValues(2*f/h,0,0,0,0,2*f/u,0,0,0,0,-v/(f-v),1,0,0,f*v/(f-v),0)},ortho:function(h,u,f,v,m,T){var C=h-u,S=f-v,P=m-T;return C=C===0?C:1/C,S=S===0?S:1/S,P=P===0?P:1/P,this.setValues(-2*C,0,0,0,0,-2*S,0,0,0,0,2*P,0,(h+u)*C,(v+f)*S,(T+m)*P,1)},lookAtRH:function(h,u,f){var v=this.val;return i.subVectors(h,u),i.getLengthSquared()===0&&(i.z=1),i.normalize(),n.crossVectors(f,i),n.getLengthSquared()===0&&(Math.abs(f.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(f,i)),n.normalize(),l.crossVectors(i,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=i.x,v[9]=i.y,v[10]=i.z,this},lookAt:function(h,u,f){var v=h.x,m=h.y,T=h.z,C=f.x,S=f.y,P=f.z,A=u.x,L=u.y,F=u.z;if(Math.abs(v-A)<o&&Math.abs(m-L)<o&&Math.abs(T-F)<o)return this.identity();var B=v-A,D=m-L,I=T-F,G=1/Math.sqrt(B*B+D*D+I*I);B*=G,D*=G,I*=G;var z=S*I-P*D,W=P*B-C*I,Y=C*D-S*B;G=Math.sqrt(z*z+W*W+Y*Y),G?(G=1/G,z*=G,W*=G,Y*=G):(z=0,W=0,Y=0);var K=D*Y-I*W,Z=I*z-B*Y,V=B*W-D*z;return G=Math.sqrt(K*K+Z*Z+V*V),G?(G=1/G,K*=G,Z*=G,V*=G):(K=0,Z=0,V=0),this.setValues(z,K,B,0,W,Z,D,0,Y,V,I,0,-(z*v+W*m+Y*T),-(K*v+Z*m+V*T),-(B*v+D*m+I*T),1)},yawPitchRoll:function(h,u,f){this.zero(),r.zero(),e.zero();var v=this.val,m=r.val,T=e.val,C=Math.sin(f),S=Math.cos(f);return v[10]=1,v[15]=1,v[0]=S,v[1]=C,v[4]=-C,v[5]=S,C=Math.sin(u),S=Math.cos(u),m[0]=1,m[15]=1,m[5]=S,m[10]=S,m[9]=-C,m[6]=C,C=Math.sin(h),S=Math.cos(h),T[5]=1,T[15]=1,T[0]=S,T[2]=-C,T[8]=C,T[10]=S,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(h,u,f,v,m){return this.yawPitchRoll(h.y,h.x,h.z),r.scaling(f.x,f.y,f.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(r),this.multiplyLocal(e),v&&this.multiplyLocal(v),m&&this.multiplyLocal(m),this},multiplyToMat4:function(h,u){var f=this.val,v=h.val,m=f[0],T=f[1],C=f[2],S=f[3],P=f[4],A=f[5],L=f[6],F=f[7],B=f[8],D=f[9],I=f[10],G=f[11],z=f[12],W=f[13],Y=f[14],K=f[15],Z=v[0],V=v[1],H=v[2],N=v[3],b=v[4],X=v[5],$=v[6],Q=v[7],k=v[8],J=v[9],et=v[10],nt=v[11],st=v[12],ot=v[13],ut=v[14],at=v[15];return u.setValues(Z*m+V*P+H*B+N*z,V*T+V*A+H*D+N*W,H*C+V*L+H*I+N*Y,N*S+V*F+H*G+N*K,b*m+X*P+$*B+Q*z,b*T+X*A+$*D+Q*W,b*C+X*L+$*I+Q*Y,b*S+X*F+$*G+Q*K,k*m+J*P+et*B+nt*z,k*T+J*A+et*D+nt*W,k*C+J*L+et*I+nt*Y,k*S+J*F+et*G+nt*K,st*m+ot*P+ut*B+at*z,st*T+ot*A+ut*D+at*W,st*C+ot*L+ut*I+at*Y,st*S+ot*F+ut*G+at*K)},fromRotationXYTranslation:function(h,u,f){var v=u.x,m=u.y,T=u.z,C=Math.sin(h.x),S=Math.cos(h.x),P=Math.sin(h.y),A=Math.cos(h.y),L=v,F=m,B=T,D=-C,I=0-D*P,G=0-S*P,z=D*A,W=S*A;return f||(L=A*v+P*T,F=I*v+S*m+z*T,B=G*v+C*m+W*T),this.setValues(A,I,G,0,0,S,C,0,P,z,W,0,L,F,B,1)},getMaxScaleOnAxis:function(){var h=this.val,u=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],f=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],v=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(u,f,v))}}),r=new s,e=new s,n=new g,l=new g,i=new g;c.exports=s},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return Math.min(t+a,g)};c.exports=x},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.length;if(a===0)return 0;t.sort(function(o,s){return o-s});var g=Math.floor(a/2);return a%2===0?(t[g]+t[g-1])/2:t[g]};c.exports=x},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return Math.max(t-a,g)};c.exports=x},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){g===void 0&&(g=a+1);var s=(t-a)/(g-a);return s>1?o!==void 0?(s=(o-t)/(o-g),s<0&&(s=0)):s=1:s<0&&(s=0),s};c.exports=x},15746:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(94434),o=t(29747),s=t(25836),r=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new s(1,0,0),i=new s(0,1,0),h=new s,u=new g,f=new a({initialize:function(m,T,C,S){this.onChangeCallback=o,this.set(m,T,C,S)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,m,T,C,S){return S===void 0&&(S=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=m||0,this._z=T||0,this._w=C||0),S&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,m=this.y,T=this.z,C=this.w;return Math.sqrt(v*v+m*m+T*T+C*C)},lengthSq:function(){var v=this.x,m=this.y,T=this.z,C=this.w;return v*v+m*m+T*T+C*C},normalize:function(){var v=this.x,m=this.y,T=this.z,C=this.w,S=v*v+m*m+T*T+C*C;return S>0&&(S=1/Math.sqrt(S),this._x=v*S,this._y=m*S,this._z=T*S,this._w=C*S),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,m){m===void 0&&(m=0);var T=this.x,C=this.y,S=this.z,P=this.w;return this.set(T+m*(v.x-T),C+m*(v.y-C),S+m*(v.z-S),P+m*(v.w-P))},rotationTo:function(v,m){var T=v.x*m.x+v.y*m.y+v.z*m.z;return T<-.999999?(h.copy(l).cross(v).length()<r&&h.copy(i).cross(v),h.normalize(),this.setAxisAngle(h,Math.PI)):T>.999999?this.set(0,0,0,1):(h.copy(v).cross(m),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+T,this.normalize())},setAxes:function(v,m,T){var C=u.val;return C[0]=m.x,C[3]=m.y,C[6]=m.z,C[1]=T.x,C[4]=T.y,C[7]=T.z,C[2]=-v.x,C[5]=-v.y,C[8]=-v.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,m){m=m*.5;var T=Math.sin(m);return this.set(T*v.x,T*v.y,T*v.z,Math.cos(m))},multiply:function(v){var m=this.x,T=this.y,C=this.z,S=this.w,P=v.x,A=v.y,L=v.z,F=v.w;return this.set(m*F+S*P+T*L-C*A,T*F+S*A+C*P-m*L,C*F+S*L+m*A-T*P,S*F-m*P-T*A-C*L)},slerp:function(v,m){var T=this.x,C=this.y,S=this.z,P=this.w,A=v.x,L=v.y,F=v.z,B=v.w,D=T*A+C*L+S*F+P*B;D<0&&(D=-D,A=-A,L=-L,F=-F,B=-B);var I=1-m,G=m;if(1-D>r){var z=Math.acos(D),W=Math.sin(z);I=Math.sin((1-m)*z)/W,G=Math.sin(m*z)/W}return this.set(I*T+G*A,I*C+G*L,I*S+G*F,I*P+G*B)},invert:function(){var v=this.x,m=this.y,T=this.z,C=this.w,S=v*v+m*m+T*T+C*C,P=S?1/S:0;return this.set(-v*P,-m*P,-T*P,C*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,P=Math.sin(v),A=Math.cos(v);return this.set(m*A+S*P,T*A+C*P,C*A-T*P,S*A-m*P)},rotateY:function(v){v*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,P=Math.sin(v),A=Math.cos(v);return this.set(m*A-C*P,T*A+S*P,C*A+m*P,S*A-T*P)},rotateZ:function(v){v*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,P=Math.sin(v),A=Math.cos(v);return this.set(m*A+T*P,T*A-m*P,C*A+S*P,S*A-C*P)},calculateW:function(){var v=this.x,m=this.y,T=this.z;return this.w=-Math.sqrt(1-v*v-m*m-T*T),this},setFromEuler:function(v,m){var T=v.x/2,C=v.y/2,S=v.z/2,P=Math.cos(T),A=Math.cos(C),L=Math.cos(S),F=Math.sin(T),B=Math.sin(C),D=Math.sin(S);switch(v.order){case"XYZ":{this.set(F*A*L+P*B*D,P*B*L-F*A*D,P*A*D+F*B*L,P*A*L-F*B*D,m);break}case"YXZ":{this.set(F*A*L+P*B*D,P*B*L-F*A*D,P*A*D-F*B*L,P*A*L+F*B*D,m);break}case"ZXY":{this.set(F*A*L-P*B*D,P*B*L+F*A*D,P*A*D+F*B*L,P*A*L-F*B*D,m);break}case"ZYX":{this.set(F*A*L-P*B*D,P*B*L+F*A*D,P*A*D-F*B*L,P*A*L+F*B*D,m);break}case"YZX":{this.set(F*A*L+P*B*D,P*B*L+F*A*D,P*A*D-F*B*L,P*A*L-F*B*D,m);break}case"XZY":{this.set(F*A*L-P*B*D,P*B*L-F*A*D,P*A*D+F*B*L,P*A*L+F*B*D,m);break}}return this},setFromRotationMatrix:function(v){var m=v.val,T=m[0],C=m[4],S=m[8],P=m[1],A=m[5],L=m[9],F=m[2],B=m[6],D=m[10],I=T+A+D,G;return I>0?(G=.5/Math.sqrt(I+1),this.set((B-L)*G,(S-F)*G,(P-C)*G,.25/G)):T>A&&T>D?(G=2*Math.sqrt(1+T-A-D),this.set(.25*G,(C+P)/G,(S+F)/G,(B-L)/G)):A>D?(G=2*Math.sqrt(1+A-T-D),this.set((C+P)/G,.25*G,(L+B)/G,(S-F)/G)):(G=2*Math.sqrt(1+D-T-A),this.set((S+F)/G,(L+B)/G,.25*G,(P-C)/G)),this},fromMat3:function(v){var m=v.val,T=m[0]+m[4]+m[8],C;if(T>0)C=Math.sqrt(T+1),this.w=.5*C,C=.5/C,this._x=(m[7]-m[5])*C,this._y=(m[2]-m[6])*C,this._z=(m[3]-m[1])*C;else{var S=0;m[4]>m[0]&&(S=1),m[8]>m[S*3+S]&&(S=2);var P=e[S],A=e[P];C=Math.sqrt(m[S*3+S]-m[P*3+P]-m[A*3+A]+1),n[S]=.5*C,C=.5/C,n[P]=(m[P*3+S]+m[S*3+P])*C,n[A]=(m[A*3+S]+m[S*3+A])*C,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(m[A*3+P]-m[P*3+A])*C}return this.onChangeCallback(this),this}});c.exports=f},43396:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=function(o){return o*a.RAD_TO_DEG};c.exports=g},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI;return t.x=Math.cos(g)*a,t.y=Math.sin(g)*a,t};c.exports=x},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI,o=Math.random()*2-1,s=Math.sqrt(1-o*o)*a;return t.x=Math.cos(g)*s,t.y=Math.sin(g)*s,t.z=o*a,t};c.exports=x},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};c.exports=x},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.x,o=t.y;return t.x=g*Math.cos(a)-o*Math.sin(a),t.y=g*Math.sin(a)+o*Math.cos(a),t};c.exports=x},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=Math.cos(o),r=Math.sin(o),e=t.x-a,n=t.y-g;return t.x=e*s-n*r+a,t.y=e*r+n*s+g,t};c.exports=x},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){var r=o+Math.atan2(t.y-g,t.x-a);return t.x=a+s*Math.cos(r),t.y=g+s*Math.sin(r),t};c.exports=x},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){return t.x=a+s*Math.cos(o),t.y=g+s*Math.sin(o),t};c.exports=x},72678:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),g=t(37867),o=t(15746),s=new g,r=new o,e=new a,n=function(l,i,h){return r.setAxisAngle(i,h),s.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(s)};c.exports=n},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=x},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var o=Math.pow(g,-a);return Math.round(t*o)/o};c.exports=x},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a===void 0&&(a=1),g===void 0&&(g=1),o===void 0&&(o=1),o*=Math.PI/t;for(var s=[],r=[],e=0;e<t;e++)g-=a*o,a+=g*o,s[e]=g,r[e]=a;return{sin:r,cos:s,length:t}};c.exports=x},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t<=a?0:t>=g?1:(t=(t-a)/(g-a),t*t*(3-2*t))};c.exports=x},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t=Math.max(0,Math.min(1,(t-a)/(g-a))),t*t*t*(t*(t*6-15)+10)};c.exports=x},44408:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e){e===void 0&&(e=new a);var n=0,l=0,i=s*r;return o>0&&o<=i&&(o>s-1?(l=Math.floor(o/s),n=o-l*s):n=o),e.set(n,l)};c.exports=g},85955:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n,l,i,h){h===void 0&&(h=new a);var u=Math.sin(n),f=Math.cos(n),v=f*l,m=u*l,T=-u*i,C=f*i,S=1/(v*C+T*-m);return h.x=C*S*o+-T*S*s+(e*T-r*C)*S,h.y=v*S*s+-m*S*o+(-e*v+r*m)*S,h};c.exports=g},26099:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(43855),o=new a({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return g(this.x,s.x,r)&&g(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,e=s.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(s){var r=s.x-this.x,e=s.y-this.y;return r*r+e*e},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,e=s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=r*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var e=this.x,n=this.y;return this.x=e+r*(s.x-e),this.y=n+r*(s.y-n),this},transformMat3:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},transformMat4:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[4]*e+n[12],this.y=n[1]*r+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),e=Math.sin(s);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),c.exports=o},25836:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(o,s){return this.x=o.x+s.x,this.y=o.y+s.y,this.z=o.z+s.z,this},crossVectors:function(o,s){var r=o.x,e=o.y,n=o.z,l=s.x,i=s.y,h=s.z;return this.x=e*h-n*i,this.y=n*l-r*h,this.z=r*i-e*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,s,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,s){return this.fromArray(o.val,s*4)},fromArray:function(o,s){return s===void 0&&(s=0),this.x=o[s],this.y=o[s+1],this.z=o[s+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,s){return this.x+=o.x*s,this.y+=o.y*s,this.z+=o.z*s||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(s*s+r*r+e*e)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return s*s+r*r+e*e},length:function(){var o=this.x,s=this.y,r=this.z;return Math.sqrt(o*o+s*s+r*r)},lengthSq:function(){var o=this.x,s=this.y,r=this.z;return o*o+s*s+r*r},normalize:function(){var o=this.x,s=this.y,r=this.z,e=o*o+s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=s*e,this.z=r*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z;return this.x=r*i-e*l,this.y=e*n-s*i,this.z=s*l-r*n,this},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this},applyMatrix3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[3]*r+n[6]*e,this.y=n[1]*s+n[4]*r+n[7]*e,this.z=n[2]*s+n[5]*r+n[8]*e,this},applyMatrix4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=1/(n[3]*s+n[7]*r+n[11]*e+n[15]);return this.x=(n[0]*s+n[4]*r+n[8]*e+n[12])*l,this.y=(n[1]*s+n[5]*r+n[9]*e+n[13])*l,this.z=(n[2]*s+n[6]*r+n[10]*e+n[14])*l,this},transformMat3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=s*n[0]+r*n[3]+e*n[6],this.y=s*n[1]+r*n[4]+e*n[7],this.z=s*n[2]+r*n[5]+e*n[8],this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[4]*r+n[8]*e+n[12],this.y=n[1]*s+n[5]*r+n[9]*e+n[13],this.z=n[2]*s+n[6]*r+n[10]*e+n[14],this},transformCoordinates:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=s*n[0]+r*n[4]+e*n[8]+n[12],i=s*n[1]+r*n[5]+e*n[9]+n[13],h=s*n[2]+r*n[6]+e*n[10]+n[14],u=s*n[3]+r*n[7]+e*n[11]+n[15];return this.x=l/u,this.y=i/u,this.z=h/u,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,u=h*s+l*e-i*r,f=h*r+i*s-n*e,v=h*e+n*r-l*s,m=-n*s-l*r-i*e;return this.x=u*h+m*-n+f*-i-v*-l,this.y=f*h+m*-l+v*-n-u*-i,this.z=v*h+m*-i+u*-l-f*-n,this},project:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=n[0],i=n[1],h=n[2],u=n[3],f=n[4],v=n[5],m=n[6],T=n[7],C=n[8],S=n[9],P=n[10],A=n[11],L=n[12],F=n[13],B=n[14],D=n[15],I=1/(s*u+r*T+e*A+D);return this.x=(s*l+r*f+e*C+L)*I,this.y=(s*i+r*v+e*S+F)*I,this.z=(s*h+r*m+e*P+B)*I,this},projectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unprojectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unproject:function(o,s){var r=o.x,e=o.y,n=o.z,l=o.w,i=this.x-r,h=l-this.y-1-e,u=this.z;return this.x=2*i/n-1,this.y=2*h/l-1,this.z=2*u-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),c.exports=g},61369:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=e||0,this.w=n||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,s,r,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=s||0,this.z=r||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return Math.sqrt(o*o+s*s+r*r+e*e)},lengthSq:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return o*o+s*s+r*r+e*e},normalize:function(){var o=this.x,s=this.y,r=this.z,e=this.w,n=o*o+s*s+r*r+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=s*n,this.z=r*n,this.w=e*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z,l=this.w;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this.w=l+s*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(s*s+r*r+e*e+n*n)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return s*s+r*r+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=this.w,l=o.val;return this.x=l[0]*s+l[4]*r+l[8]*e+l[12]*n,this.y=l[1]*s+l[5]*r+l[9]*e+l[13]*n,this.z=l[2]*s+l[6]*r+l[10]*e+l[14]*n,this.w=l[3]*s+l[7]*r+l[11]*e+l[15]*n,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,u=h*s+l*e-i*r,f=h*r+i*s-n*e,v=h*e+n*r-l*s,m=-n*s-l*r-i*e;return this.x=u*h+m*-n+f*-i-v*-l,this.y=f*h+m*-l+v*-n-u*-i,this.z=v*h+m*-i+u*-l-f*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,c.exports=g},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return Math.abs(t-a)<=g};c.exports=x},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=g-a;return a+((t-a)%o+o)%o};c.exports=x},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return Math.atan2(o-a,g-t)};c.exports=x},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};c.exports=x},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};c.exports=x},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return Math.atan2(g-t,o-a)};c.exports=x},1432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=function(o){return o>Math.PI&&(o-=a.PI2),Math.abs(((o+a.TAU)%a.PI2-a.PI2)%a.PI2)};c.exports=g},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=x},53993:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99472),g=function(){return a(-Math.PI,Math.PI)};c.exports=g},86564:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99472),g=function(){return a(-180,180)};c.exports=g},90154:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(12407),g=function(o){return a(o+Math.PI)};c.exports=g},48736:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=function(o,s,r){return r===void 0&&(r=.05),o===s||(Math.abs(s-o)<=r||Math.abs(s-o)>=a.PI2-r?o=s:(Math.abs(s-o)>Math.PI&&(s<o?s+=a.PI2:s-=a.PI2),s>o?o+=r:s<o&&(o-=r))),o};c.exports=g},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=a-t;if(g===0)return 0;var o=Math.floor((g- -180)/360);return g-o*360};c.exports=x},86554:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),g=function(o){return a(o,-Math.PI,Math.PI)};c.exports=g},30954:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),g=function(o){return a(o,-180,180)};c.exports=g},25588:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=x},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=t-g,r=a-o;return Math.sqrt(s*s+r*r)};c.exports=x},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.x-a.x,o=t.y-a.y;return Math.sqrt(g*g+o*o)};c.exports=x},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.x-a.x,o=t.y-a.y;return g*g+o*o};c.exports=x},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return Math.max(Math.abs(t-g),Math.abs(a-o))};c.exports=x},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(g-t,s)+Math.pow(o-a,s))};c.exports=x},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return Math.abs(t-g)+Math.abs(a-o)};c.exports=x},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=t-g,r=a-o;return s*s+r*r};c.exports=x},50994:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54178),g=t(41521),o=t(79980),s=t(85433),r=t(99140),e=t(48857),n=t(81596),l=t(59133),i=t(98516),h=t(35248),u=t(82500),f=t(49752);c.exports={Power0:n,Power1:l.Out,Power2:s.Out,Power3:i.Out,Power4:h.Out,Linear:n,Quad:l.Out,Cubic:s.Out,Quart:i.Out,Quint:h.Out,Sine:u.Out,Expo:e.Out,Circ:o.Out,Elastic:r.Out,Back:a.Out,Bounce:g.Out,Stepped:f,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":i.In,"Quint.easeIn":h.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":a.In,"Bounce.easeIn":g.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":i.Out,"Quint.easeOut":h.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":a.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":g.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};c.exports=x},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1.70158);var g=a*1.525;return(t*=2)<1?.5*(t*t*((g+1)*t-g)):.5*((t-=2)*t*((g+1)*t+g)+2)};c.exports=x},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};c.exports=x},54178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=x},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};c.exports=x},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=x},41521:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.sqrt(1-t*t)};c.exports=x},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=x},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(1- --t*t)};c.exports=x},79980:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t};c.exports=x},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=x},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t+1};c.exports=x},85433:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return a<1?a=1:o=g*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g))};c.exports=x},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return a<1?a=1:o=g*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g)*.5+1};c.exports=x},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return a<1?a=1:o=g*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/g)+1};c.exports=x},99140:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=x},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=x},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.pow(2,-10*t)};c.exports=x},48857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t};c.exports=x},81596:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t};c.exports=x},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=x},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*(2-t)};c.exports=x},59133:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t};c.exports=x},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=x},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1- --t*t*t*t};c.exports=x},98516:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t*t};c.exports=x},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=x},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t*t*t+1};c.exports=x},35248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=x},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=x},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=x},82500:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};c.exports=x},49752:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};c.exports=x},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return g===void 0&&(g=1e-4),Math.abs(t-a)<g};c.exports=x},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};c.exports=x},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return g===void 0&&(g=1e-4),t>a-g};c.exports=x},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return g===void 0&&(g=1e-4),t<a+g};c.exports=x},48379:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),g=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=g(!1,o,a),c.exports=o},89318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85710),g=function(o,s){for(var r=0,e=o.length-1,n=0;n<=e;n++)r+=Math.pow(1-s,e-n)*Math.pow(s,n)*o[n]*a(e,n);return r};c.exports=g},77259:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87842),g=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return o[0]===o[r]?(s<0&&(n=Math.floor(e=r*(1+s))),a(e-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):s<0?o[0]-(a(-e,o[0],o[0],o[1],o[1])-o[0]):s>1?o[r]-(a(e-r,o[r],o[r],o[r-1],o[r-1])-o[r]):a(e-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};c.exports=g},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(s,r){var e=1-s;return e*e*e*r}function t(s,r){var e=1-s;return 3*e*e*s*r}function a(s,r){return 3*(1-s)*s*s*r}function g(s,r){return s*s*s*r}var o=function(s,r,e,n,l){return x(s,r)+t(s,e)+a(s,n)+g(s,l)};c.exports=o},28392:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28915),g=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return s<0?a(o[0],o[1],e):s>1?a(o[r],o[r-1],r-e):a(o[n],o[n+1>r?r:n+1],e-n)};c.exports=g},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(o,s){var r=1-o;return r*r*s}function t(o,s){return 2*(1-o)*o*s}function a(o,s){return o*o*s}var g=function(o,s,r,e){return x(o,s)+t(o,r)+a(o,e)};c.exports=g},47235:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7602),g=function(o,s,r){return s+(r-s)*a(o,0,1)};c.exports=g},50178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54261),g=function(o,s,r){return s+(r-s)*a(o,0,1)};c.exports=g},38289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};c.exports=x},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};c.exports=x},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0&&(t&t-1)===0};c.exports=x},49001:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var s,r=this.n;o=o.toString();for(var e=0;e<o.length;e++)r+=o.charCodeAt(e),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var s=0;s<o.length&&o[s]!=null;s++){var r=o[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},between:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},realInRange:function(o,s){return this.frac()*(s-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",s="";for(s=o="";o++<36;s+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return s},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,s){return this.realInRange(o||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var s=o.length-1,r=s;r>0;r--){var e=Math.floor(this.frac()*(r+1)),n=o[e];o[e]=o[r],o[r]=n}return o}});c.exports=g},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return g===void 0&&(g=0),a===0?t:(t-=g,t=a*Math.ceil(t/a),o?(g+t)/a:g+t)};c.exports=x},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return g===void 0&&(g=0),a===0?t:(t-=g,t=a*Math.floor(t/a),o?(g+t)/a:g+t)};c.exports=x},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){return g===void 0&&(g=0),a===0?t:(t-=g,t=a*Math.round(t/a),o?(g+t)/a:g+t)};c.exports=x},73697:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var a=t(8054),g=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=g(!1,o,a),c.exports=o,t.g.Phaser=o},71289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(92209),o=t(88571),s=new a({Extends:o,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});c.exports=s},86689:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(39506),o=t(20339),s=t(89774),r=t(66022),e=t(95540),n=t(46975),l=t(72441),i=t(47956),h=t(37277),u=t(44594),f=t(26099),v=t(82248),m=new a({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(u.BOOT,this.boot,this),C.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var T=this.systems.events;e(this.config,"customUpdate",!1)||T.on(u.UPDATE,this.world.update,this.world),T.on(u.POST_UPDATE,this.world.postUpdate,this.world),T.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,C=this.systems.settings.physics,S=n(e(C,"arcade",{}),e(T,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(T,C,S,P,A){return S===void 0&&(S=null),P===void 0&&(P=null),A===void 0&&(A=S),this.world.collideObjects(T,C,S,P,A,!0)},collide:function(T,C,S,P,A){return S===void 0&&(S=null),P===void 0&&(P=null),A===void 0&&(A=S),this.world.collideObjects(T,C,S,P,A,!1)},collideTiles:function(T,C,S,P,A){return this.world.collideTiles(T,C,S,P,A)},overlapTiles:function(T,C,S,P,A){return this.world.overlapTiles(T,C,S,P,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,C,S,P,A,L){P===void 0&&(P=60);var F=Math.atan2(S-T.y,C-T.x);return T.body.acceleration.setToPolar(F,P),A!==void 0&&L!==void 0&&T.body.maxVelocity.set(A,L),F},accelerateToObject:function(T,C,S,P,A){return this.accelerateTo(T,C.x,C.y,S,P,A)},closest:function(T,C){C||(C=this.world.bodies.entries);for(var S=Number.MAX_VALUE,P=null,A=T.x,L=T.y,F=C.length,B=0;B<F;B++){var D=C[B],I=D.body||D;if(!(T===D||T===I||T===I.gameObject||T===I.center)){var G=s(A,L,I.center.x,I.center.y);G<S&&(P=D,S=G)}}return P},furthest:function(T,C){C||(C=this.world.bodies.entries);for(var S=-1,P=null,A=T.x,L=T.y,F=C.length,B=0;B<F;B++){var D=C[B],I=D.body||D;if(!(T===D||T===I||T===I.gameObject||T===I.center)){var G=s(A,L,I.center.x,I.center.y);G>S&&(P=D,S=G)}}return P},moveTo:function(T,C,S,P,A){P===void 0&&(P=60),A===void 0&&(A=0);var L=Math.atan2(S-T.y,C-T.x);return A>0&&(P=o(T.x,T.y,C,S)/(A/1e3)),T.body.velocity.setToPolar(L,P),L},moveToObject:function(T,C,S,P){return this.moveTo(T,C.x,C.y,S,P)},velocityFromAngle:function(T,C,S){return C===void 0&&(C=60),S===void 0&&(S=new f),S.setToPolar(g(T),C)},velocityFromRotation:function(T,C,S){return C===void 0&&(C=60),S===void 0&&(S=new f),S.setToPolar(T,C)},overlapRect:function(T,C,S,P,A,L){return i(this.world,T,C,S,P,A,L)},overlapCirc:function(T,C,S,P,A){return l(this.world,T,C,S,P,A)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(u.UPDATE,this.world.update,this.world),T.off(u.POST_UPDATE,this.world.postUpdate,this.world),T.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",m,"arcadePhysics"),c.exports=m},13759:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(92209),o=t(68287),s=new a({Extends:o,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});c.exports=s},37742:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(78389),o=t(37747),s=t(63012),r=t(43396),e=t(87841),n=t(37303),l=t(95829),i=t(26099),h=new a({Mixins:[g],initialize:function(f,v){var m=64,T=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=v!==void 0;S&&v.displayWidth&&(m=v.displayWidth,T=v.displayHeight),S||(v=C),this.world=f,this.gameObject=S?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=f.defaults.debugShowBody,this.debugShowVelocity=f.defaults.debugShowVelocity,this.debugBodyColor=f.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=m,this.height=T,this.sourceWidth=m,this.sourceHeight=T,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(T/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=f.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,f=this.transform;if(u.parentContainer){var v=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);f.x=v.tx,f.y=v.ty,f.rotation=r(v.rotation),f.scaleX=v.scaleX,f.scaleY=v.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY}else f.x=u.x,f.y=u.y,f.rotation=u.angle,f.scaleX=u.scaleX,f.scaleY=u.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY;var m=!1;if(this.syncBounds){var T=u.getBounds(this._bounds);this.width=T.width,this.height=T.height,m=!0}else{var C=Math.abs(f.scaleX),S=Math.abs(f.scaleY);(this._sx!==C||this._sy!==S)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*S,this._sx=C,this._sy=S,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var f=this.wasTouching,v=this.touching,m=this.blocked;u?l(!0,f):(f.none=v.none,f.up=v.up,f.down=v.down,f.left=v.left,f.right=v.right),l(!0,v),l(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,f){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}u&&this.update(f)},update:function(u){var f=this.prev,v=this.position,m=this.velocity;if(f.set(v.x,v.y),!this.moves){this._dx=v.x-f.x,this._dy=v.y-f.y;return}if(this.directControl){var T=this.autoFrame;m.set((v.x-T.x)/u,(v.y-T.y)/u),this.world.updateMotion(this,u),this._dx=v.x-T.x,this._dy=v.y-T.y}else this.world.updateMotion(this,u),this.newVelocity.set(m.x*u,m.y*u),v.add(this.newVelocity),this._dx=v.x-f.x,this._dy=v.y-f.y;var C=m.x,S=m.y;if(this.updateCenter(),this.angle=Math.atan2(S,C),this.speed=Math.sqrt(C*C+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var P=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,P.up,P.down,P.left,P.right)}},postUpdate:function(){var u=this.position,f=u.x-this.prevFrame.x,v=u.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var T=this.deltaMax.x,C=this.deltaMax.y;T!==0&&f!==0&&(f<0&&f<-T?f=-T:f>0&&f>T&&(f=T)),C!==0&&v!==0&&(v<0&&v<-C?v=-C:v>0&&v>C&&(v=C)),m&&(m.x+=f,m.y+=v)}f<0?this.facing=o.FACING_LEFT:f>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=f,this._ty=v,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,f=this.velocity,v=this.blocked,m=this.customBoundsRectangle,T=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,P=!1;return u.x<m.x&&T.left?(u.x=m.x,f.x*=C,v.left=!0,P=!0):this.right>m.right&&T.right&&(u.x=m.right-this.width,f.x*=C,v.right=!0,P=!0),u.y<m.y&&T.up?(u.y=m.y,f.y*=S,v.up=!0,P=!0):this.bottom>m.bottom&&T.down&&(u.y=m.bottom-this.height,f.y*=S,v.down=!0,P=!0),P&&(this.blocked.none=!1,this.updateCenter()),P},setOffset:function(u,f){return f===void 0&&(f=u),this.offset.set(u,f),this},setGameObject:function(u,f){return f===void 0&&(f=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=u,u.body&&(u.body=this),this.setSize(),this.world.add(this),this.enable=f,this},setSize:function(u,f,v){v===void 0&&(v=!0);var m=this.gameObject;if(m&&(!u&&m.frame&&(u=m.frame.realWidth),!f&&m.frame&&(f=m.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&m&&m.getCenter){var T=(m.width-u)/2,C=(m.height-f)/2;this.offset.set(T,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,f,v){return f===void 0&&(f=this.offset.x),v===void 0&&(v=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,v),this.updateCenter()):this.isCircle=!1,this},reset:function(u,f){this.stop();var v=this.gameObject;v&&(v.setPosition(u,f),this.rotation=v.angle,this.preRotation=v.angle);var m=this.position;v&&v.getTopLeft?v.getTopLeft(m):m.set(u,f),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,f){if(!this.isCircle)return n(this,u,f);if(this.radius>0&&u>=this.left&&u<=this.right&&f>=this.top&&f<=this.bottom){var v=(this.center.x-u)*(this.center.x-u),m=(this.center.y-f)*(this.center.y-f);return v+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var f=this.position,v=f.x+this.halfWidth,m=f.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(v,m,this.width/2):(this.checkCollision.up&&u.lineBetween(f.x,f.y,f.x+this.width,f.y),this.checkCollision.right&&u.lineBetween(f.x+this.width,f.y,f.x+this.width,f.y+this.height),this.checkCollision.down&&u.lineBetween(f.x,f.y+this.height,f.x+this.width,f.y+this.height),this.checkCollision.left&&u.lineBetween(f.x,f.y,f.x,f.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(v,m,v+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,f,v,m){u===void 0&&(u=!0),this.collideWorldBounds=u;var T=f!==void 0,C=v!==void 0;return(T||C)&&(this.worldBounce||(this.worldBounce=new i),T&&(this.worldBounce.x=f),C&&(this.worldBounce.y=v)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(u,f){return this.velocity.set(u,f),u=this.velocity.x,f=this.velocity.y,this.speed=Math.sqrt(u*u+f*f),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,f){return this.maxVelocity.set(u,f),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,f){return this.slideFactor.set(u,f),this},setBounce:function(u,f){return this.bounce.set(u,f),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,f){return this.acceleration.set(u,f),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,f){return this.drag.set(u,f),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,f){return this.gravity.set(u,f),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,f){return this.friction.set(u,f),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,f,v,m){this.x+=u,this.updateCenter(),f!==null&&(this.velocity.x=f*this.slideFactor.x);var T=this.blocked;v&&(T.left=!0,T.none=!1),m&&(T.right=!0,T.none=!1)},processY:function(u,f,v,m){this.y+=u,this.updateCenter(),f!==null&&(this.velocity.y=f*this.slideFactor.y);var T=this.blocked;v&&(T.up=!0,T.none=!1),m&&(T.down=!0,T.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},79342:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n,l,i,h){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=n,this.collideCallback=l,this.processCallback=i,this.callbackContext=h},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=g},66022:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71289),g=t(13759),o=t(37742),s=t(83419),r=t(37747),e=t(60758),n=t(72624),l=t(71464),i=new s({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(h,u,f,v,m){return this.world.addCollider(h,u,f,v,m)},overlap:function(h,u,f,v,m){return this.world.addOverlap(h,u,f,v,m)},existing:function(h,u){var f=u?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(h,f),h},staticImage:function(h,u,f,v){var m=new a(this.scene,h,u,f,v);return this.sys.displayList.add(m),this.world.enableBody(m,r.STATIC_BODY),m},image:function(h,u,f,v){var m=new a(this.scene,h,u,f,v);return this.sys.displayList.add(m),this.world.enableBody(m,r.DYNAMIC_BODY),m},staticSprite:function(h,u,f,v){var m=new g(this.scene,h,u,f,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,r.STATIC_BODY),m},sprite:function(h,u,f,v){var m=new g(this.scene,h,u,f,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,r.DYNAMIC_BODY),m},staticGroup:function(h,u){return this.sys.updateList.add(new l(this.world,this.world.scene,h,u))},group:function(h,u){return this.sys.updateList.add(new e(this.world,this.world.scene,h,u))},body:function(h,u,f,v){var m=new o(this.world);return m.position.set(h,u),f&&v&&m.setSize(f,v),this.world.add(m,r.DYNAMIC_BODY),m},staticBody:function(h,u,f,v){var m=new n(this.world);return m.position.set(h,u),f&&v&&m.setSize(f,v),this.world.add(m,r.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=i},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var g=0;g<t.length;g++)a|=t[g];return a};c.exports=x},64897:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),g=function(o,s,r,e){var n=0,l=o.deltaAbsX()+s.deltaAbsX()+e;return o._dx===0&&s._dx===0?(o.embedded=!0,s.embedded=!0):o._dx>s._dx?(n=o.right-s.x,n>l&&!r||o.checkCollision.right===!1||s.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):o._dx<s._dx&&(n=o.x-s.width-s.x,-n>l&&!r||o.checkCollision.left===!1||s.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),o.overlapX=n,s.overlapX=n,n};c.exports=g},45170:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),g=function(o,s,r,e){var n=0,l=o.deltaAbsY()+s.deltaAbsY()+e;return o._dy===0&&s._dy===0?(o.embedded=!0,s.embedded=!0):o._dy>s._dy?(n=o.bottom-s.y,n>l&&!r||o.checkCollision.down===!1||s.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):o._dy<s._dy&&(n=o.y-s.bottom,-n>l&&!r||o.checkCollision.up===!1||s.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),o.overlapY=n,s.overlapY=n,n};c.exports=g},60758:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13759),g=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new g({Extends:e,Mixins:[o],initialize:function(h,u,f,v){if(!f&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(f))v=f,f=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&n(f[0])){var m=this;f.forEach(function(T){T.internalCreateCallback=m.createCallbackHandler,T.internalRemoveCallback=m.removeCallbackHandler,T.classType=r(T,"classType",a)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,v&&(v.classType=r(v,"classType",a)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setDamping:r(v,"useDamping",!1),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxSpeed:r(v,"maxSpeed",-1),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},e.call(this,u,f,v),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.DYNAMIC_BODY);var h=i.body;for(var u in this.defaults)h[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,h,u){u===void 0&&(u=0);for(var f=this.getChildren(),v=0;v<f.length;v++)f[v].body.velocity.set(i+v*u,h+v*u);return this},setVelocityX:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.x=i+f*h;return this},setVelocityY:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.y=i+f*h;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,a,g,o,s,r,e,n,l,i,h,u,f,v,m,T,C=function(B,D,I){x=B,t=D;var G=x.velocity.x,z=t.velocity.x;return a=x.pushable,n=x._dx<0,l=x._dx>0,i=x._dx===0,v=Math.abs(x.right-t.x)<=Math.abs(t.right-x.x),r=z-G*x.bounce.x,g=t.pushable,h=t._dx<0,u=t._dx>0,f=t._dx===0,m=!v,e=G-z*t.bounce.x,T=Math.abs(I),S()},S=function(){return l&&v&&t.blocked.right?(x.processX(-T,r,!1,!0),1):n&&m&&t.blocked.left?(x.processX(T,r,!0),1):u&&m&&x.blocked.right?(t.processX(-T,e,!1,!0),2):h&&v&&x.blocked.left?(t.processX(T,e,!0),2):0},P=function(){var B=x.velocity.x,D=t.velocity.x,I=Math.sqrt(D*D*t.mass/x.mass)*(D>0?1:-1),G=Math.sqrt(B*B*x.mass/t.mass)*(B>0?1:-1),z=(I+G)*.5;return I-=z,G-=z,o=z+I*x.bounce.x,s=z+G*t.bounce.x,n&&m?A(0):h&&v?A(1):l&&v?A(2):u&&m?A(3):!1},A=function(B){if(a&&g)T*=.5,B===0||B===3?(x.processX(T,o),t.processX(-T,s)):(x.processX(-T,o),t.processX(T,s));else if(a&&!g)B===0||B===3?x.processX(T,r,!0):x.processX(-T,r,!1,!0);else if(!a&&g)B===0||B===3?t.processX(-T,e,!1,!0):t.processX(T,e,!0);else{var D=T*.5;B===0?f?(x.processX(T,0,!0),t.processX(0,null,!1,!0)):u?(x.processX(D,0,!0),t.processX(-D,0,!1,!0)):(x.processX(D,t.velocity.x,!0),t.processX(-D,null,!1,!0)):B===1?i?(x.processX(0,null,!1,!0),t.processX(T,0,!0)):l?(x.processX(-D,0,!1,!0),t.processX(D,0,!0)):(x.processX(-D,null,!1,!0),t.processX(D,x.velocity.x,!0)):B===2?f?(x.processX(-T,0,!1,!0),t.processX(0,null,!0)):h?(x.processX(-D,0,!1,!0),t.processX(D,0,!0)):(x.processX(-D,t.velocity.x,!1,!0),t.processX(D,null,!0)):B===3&&(i?(x.processX(0,null,!0),t.processX(-T,0,!1,!0)):n?(x.processX(D,0,!0),t.processX(-D,0,!1,!0)):(x.processX(D,t.velocity.y,!0),t.processX(-D,null,!1,!0)))}return!0},L=function(B){B===1?t.velocity.x=0:v?t.processX(T,e,!0):t.processX(-T,e,!1,!0),x.moves&&(t.y+=(x.y-x.prev.y)*x.friction.y,t._dy=t.y-t.prev.y)},F=function(B){B===2?x.velocity.x=0:m?x.processX(T,r,!0):x.processX(-T,r,!1,!0),t.moves&&(x.y+=(t.y-t.prev.y)*t.friction.y,x._dy=x.y-x.prev.y)};c.exports={BlockCheck:S,Check:P,Set:C,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,a,g,o,s,r,e,n,l,i,h,u,f,v,m,T,C=function(B,D,I){x=B,t=D;var G=x.velocity.y,z=t.velocity.y;return a=x.pushable,n=x._dy<0,l=x._dy>0,i=x._dy===0,v=Math.abs(x.bottom-t.y)<=Math.abs(t.bottom-x.y),r=z-G*x.bounce.y,g=t.pushable,h=t._dy<0,u=t._dy>0,f=t._dy===0,m=!v,e=G-z*t.bounce.y,T=Math.abs(I),S()},S=function(){return l&&v&&t.blocked.down?(x.processY(-T,r,!1,!0),1):n&&m&&t.blocked.up?(x.processY(T,r,!0),1):u&&m&&x.blocked.down?(t.processY(-T,e,!1,!0),2):h&&v&&x.blocked.up?(t.processY(T,e,!0),2):0},P=function(){var B=x.velocity.y,D=t.velocity.y,I=Math.sqrt(D*D*t.mass/x.mass)*(D>0?1:-1),G=Math.sqrt(B*B*x.mass/t.mass)*(B>0?1:-1),z=(I+G)*.5;return I-=z,G-=z,o=z+I*x.bounce.y,s=z+G*t.bounce.y,n&&m?A(0):h&&v?A(1):l&&v?A(2):u&&m?A(3):!1},A=function(B){if(a&&g)T*=.5,B===0||B===3?(x.processY(T,o),t.processY(-T,s)):(x.processY(-T,o),t.processY(T,s));else if(a&&!g)B===0||B===3?x.processY(T,r,!0):x.processY(-T,r,!1,!0);else if(!a&&g)B===0||B===3?t.processY(-T,e,!1,!0):t.processY(T,e,!0);else{var D=T*.5;B===0?f?(x.processY(T,0,!0),t.processY(0,null,!1,!0)):u?(x.processY(D,0,!0),t.processY(-D,0,!1,!0)):(x.processY(D,t.velocity.y,!0),t.processY(-D,null,!1,!0)):B===1?i?(x.processY(0,null,!1,!0),t.processY(T,0,!0)):l?(x.processY(-D,0,!1,!0),t.processY(D,0,!0)):(x.processY(-D,null,!1,!0),t.processY(D,x.velocity.y,!0)):B===2?f?(x.processY(-T,0,!1,!0),t.processY(0,null,!0)):h?(x.processY(-D,0,!1,!0),t.processY(D,0,!0)):(x.processY(-D,t.velocity.y,!1,!0),t.processY(D,null,!0)):B===3&&(i?(x.processY(0,null,!0),t.processY(-T,0,!1,!0)):n?(x.processY(D,0,!0),t.processY(-D,0,!1,!0)):(x.processY(D,t.velocity.y,!0),t.processY(-D,null,!1,!0)))}return!0},L=function(B){B===1?t.velocity.y=0:v?t.processY(T,e,!0):t.processY(-T,e,!1,!0),x.moves&&(t.x+=(x.x-x.prev.x)*x.friction.x,t._dx=t.x-t.prev.x)},F=function(B){B===2?x.velocity.y=0:m?x.processY(T,r,!0):x.processY(-T,r,!1,!0),t.moves&&(x.x+=(t.x-t.prev.x)*t.friction.x,x._dx=x.x-x.prev.x)};c.exports={BlockCheck:S,Check:P,Set:C,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},14087:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64897),g=t(3017),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateX||r.customSeparateX)return l!==0||s.embedded&&r.embedded;var u=g.Set(s,r,l);return!i&&!h?u>0?!0:g.Check():(i?g.RunImmovableBody1(u):h&&g.RunImmovableBody2(u),!0)};c.exports=o},89936:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45170),g=t(47962),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateY||r.customSeparateY)return l!==0||s.embedded&&r.embedded;var u=g.Set(s,r,l);return!i&&!h?u>0?!0:g.Check():(i?g.RunImmovableBody1(u):h&&g.RunImmovableBody2(u),!0)};c.exports=o},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};c.exports=x},72624:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),g=t(83419),o=t(78389),s=t(37747),r=t(37303),e=t(95829),n=t(26099),l=new g({Mixins:[o],initialize:function(h,u){var f=64,v=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=u!==void 0;T&&u.displayWidth&&(f=u.displayWidth,v=u.displayHeight),T||(u=m),this.world=h,this.gameObject=T?u:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(u.x-f*u.originX,u.y-v*u.originY),this.width=f,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,h){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,u){u===void 0&&(u=!0);var f=this.gameObject;if(f&&f.frame&&(i||(i=f.frame.realWidth),h||(h=f.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),u&&f&&f.getCenter){var v=f.displayWidth/2,m=f.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,u){return h===void 0&&(h=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var u=this.gameObject;i===void 0&&(i=u.x),h===void 0&&(h=u.y),this.world.staticTree.remove(this),u.setPosition(i,h),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?a(this,i,h):r(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,u=h.x+this.halfWidth,f=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,f,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13759),g=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new g({Extends:e,Mixins:[o],initialize:function(h,u,f,v){!f&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:n(f)?(v=f,f=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",a)):Array.isArray(f)&&n(f[0])?(v=f,f=null,v.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=r(m,"classType",a)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,f,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,h=0;h<i.length;h++)i[h].body.reset();return this}});c.exports=l},82248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55495),g=t(37742),o=t(45319),s=t(83419),r=t(79342),e=t(37747),n=t(20339),l=t(52816),i=t(50792),h=t(63012),u=t(43855),f=t(5470),v=t(94977),m=t(64897),T=t(45170),C=t(96523),S=t(35154),P=t(36383),A=t(25774),L=t(96602),F=t(87841),B=t(59542),D=t(40012),I=t(14087),G=t(89936),z=t(35072),W=t(72624),Y=t(2483),K=t(61340),Z=t(26099),V=t(15994),H=new s({Extends:i,initialize:function(b,X){i.call(this),this.scene=b,this.bodies=new z,this.staticBodies=new z,this.pendingDestroy=new z,this.colliders=new A,this.gravity=new Z(S(X,"gravity.x",0),S(X,"gravity.y",0)),this.bounds=new F(S(X,"x",0),S(X,"y",0),S(X,"width",b.sys.scale.width),S(X,"height",b.sys.scale.height)),this.checkCollision={up:S(X,"checkCollision.up",!0),down:S(X,"checkCollision.down",!0),left:S(X,"checkCollision.left",!0),right:S(X,"checkCollision.right",!0)},this.fps=S(X,"fps",60),this.fixedStep=S(X,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(X,"timeScale",1),this.OVERLAP_BIAS=S(X,"overlapBias",4),this.TILE_BIAS=S(X,"tileBias",16),this.forceX=S(X,"forceX",!1),this.isPaused=S(X,"isPaused",!1),this._total=0,this.drawDebug=S(X,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(X,"debugShowBody",!0),debugShowStaticBody:S(X,"debugShowStaticBody",!0),debugShowVelocity:S(X,"debugShowVelocity",!0),bodyDebugColor:S(X,"debugBodyColor",16711935),staticBodyDebugColor:S(X,"debugStaticBodyColor",255),velocityDebugColor:S(X,"debugVelocityColor",65280)},this.maxEntries=S(X,"maxEntries",16),this.useTree=S(X,"useTree",!0),this.tree=new B(this.maxEntries),this.staticTree=new B(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new K,this._tempMatrix2=new K,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var X=0;X<N.length;X++){var $=N[X];if($.isParent)for(var Q=$.getChildren(),k=0;k<Q.length;k++){var J=Q[k];J.isParent?this.enable(J,b):this.enableBody(J,b)}else this.enableBody($,b)}},enableBody:function(N,b){return b===void 0&&(b=e.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(b===e.DYNAMIC_BODY?N.body=new g(this,N):b===e.STATIC_BODY&&(N.body=new W(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===e.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===e.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var b=0;b<N.length;b++){var X=N[b];if(X.isParent)for(var $=X.getChildren(),Q=0;Q<$.length;Q++){var k=$[Q];k.isParent?this.disable(k):this.disableBody(k.body)}else this.disableBody(X.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===e.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,b,X,$,Q,k,J,et){return this.bounds.setTo(N,b,X,$),Q!==void 0&&this.setBoundsCollision(Q,k,J,et),this},setBoundsCollision:function(N,b,X,$){return N===void 0&&(N=!0),b===void 0&&(b=!0),X===void 0&&(X=!0),$===void 0&&($=!0),this.checkCollision.left=N,this.checkCollision.right=b,this.checkCollision.up=X,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(N,b,X,$,Q){X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X);var k=new r(this,!1,N,b,X,$,Q);return this.colliders.add(k),k},addOverlap:function(N,b,X,$,Q){X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X);var k=new r(this,!0,N,b,X,$,Q);return this.colliders.add(k),k},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,b){if(!(this.isPaused||this.bodies.size===0)){var X,$=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=b;var k,J=this.bodies.entries,et=this._elapsed>=Q;for(this.fixedStep||($=b*.001,et=!0,this._elapsed=0),X=0;X<J.length;X++)k=J[X],k.enable&&k.preUpdate(et,$);if(et){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(J));var nt=this.colliders.update();for(X=0;X<nt.length;X++){var st=nt[X];st.active&&st.update()}this.emit(h.WORLD_STEP,$)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step($)}},step:function(N){var b,X,$=this.bodies.entries,Q=$.length;for(b=0;b<Q;b++)X=$[b],X.enable&&X.update(N);this.useTree&&(this.tree.clear(),this.tree.load($));var k=this.colliders.update();for(b=0;b<k.length;b++){var J=k[b];J.active&&J.update()}this.emit(h.WORLD_STEP,N),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var N,b,X=this.bodies.entries,$=X.length,Q=this.bodies,k=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<$;N++)b=X[N],b.enable&&b.postUpdate();if(this.drawDebug){var J=this.debugGraphic;for(J.clear(),N=0;N<$;N++)b=X[N],b.willDrawDebug()&&b.drawDebug(J);for(X=k.entries,$=X.length,N=0;N<$;N++)b=X[N],b.willDrawDebug()&&b.drawDebug(J)}var et=this.pendingDestroy;if(et.size>0){var nt=this.tree,st=this.staticTree;for(X=et.entries,$=X.length,N=0;N<$;N++)b=X[N],b.physicsType===e.DYNAMIC_BODY?(nt.remove(b),Q.delete(b)):b.physicsType===e.STATIC_BODY&&(st.remove(b),k.delete(b)),b.world=void 0,b.gameObject=void 0;et.clear()}},updateMotion:function(N,b){N.allowRotation&&this.computeAngularVelocity(N,b),this.computeVelocity(N,b)},computeAngularVelocity:function(N,b){var X=N.angularVelocity,$=N.angularAcceleration,Q=N.angularDrag,k=N.maxAngular;$?X+=$*b:N.allowDrag&&Q&&(Q*=b,f(X-Q,0,.1)?X-=Q:v(X+Q,0,.1)?X+=Q:X=0),X=o(X,-k,k);var J=X-N.angularVelocity;N.angularVelocity+=J,N.rotation+=N.angularVelocity*b},computeVelocity:function(N,b){var X=N.velocity.x,$=N.acceleration.x,Q=N.drag.x,k=N.maxVelocity.x,J=N.velocity.y,et=N.acceleration.y,nt=N.drag.y,st=N.maxVelocity.y,ot=N.speed,ut=N.maxSpeed,at=N.allowDrag,ct=N.useDamping;N.allowGravity&&(X+=(this.gravity.x+N.gravity.x)*b,J+=(this.gravity.y+N.gravity.y)*b),$?X+=$*b:at&&Q&&(ct?(Q=Math.pow(Q,b),X*=Q,ot=Math.sqrt(X*X+J*J),u(ot,0,.001)&&(X=0)):(Q*=b,f(X-Q,0,.01)?X-=Q:v(X+Q,0,.01)?X+=Q:X=0)),et?J+=et*b:at&&nt&&(ct?(nt=Math.pow(nt,b),J*=nt,ot=Math.sqrt(X*X+J*J),u(ot,0,.001)&&(J=0)):(nt*=b,f(J-nt,0,.01)?J-=nt:v(J+nt,0,.01)?J+=nt:J=0)),X=o(X,-k,k),J=o(J,-st,st),N.velocity.set(X,J),ut>-1&&N.velocity.length()>ut&&(N.velocity.normalize().scale(ut),ot=ut),N.speed=ot},separate:function(N,b,X,$,Q){var k,J,et=!1,nt=!0;if(!N.enable||!b.enable||N.checkCollision.none||b.checkCollision.none||!this.intersects(N,b)||X&&X.call($,N.gameObject,b.gameObject)===!1)return et;if(N.isCircle||b.isCircle){var st=this.separateCircle(N,b,Q);st.result?(et=!0,nt=!1):(k=st.x,J=st.y,nt=!0)}if(nt){var ot=!1,ut=!1,at=this.OVERLAP_BIAS;Q?(ot=I(N,b,Q,at,k),ut=G(N,b,Q,at,J)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(ot=I(N,b,Q,at,k),this.intersects(N,b)&&(ut=G(N,b,Q,at,J))):(ut=G(N,b,Q,at,J),this.intersects(N,b)&&(ot=I(N,b,Q,at,k))),et=ot||ut}return et&&(Q?(N.onOverlap||b.onOverlap)&&this.emit(h.OVERLAP,N.gameObject,b.gameObject,N,b):(N.onCollide||b.onCollide)&&this.emit(h.COLLIDE,N.gameObject,b.gameObject,N,b)),et},separateCircle:function(N,b,X){m(N,b,!1,0),T(N,b,!1,0);var $=N.isCircle,Q=b.isCircle,k=N.center,J=b.center,et=N.immovable,nt=b.immovable,st=N.velocity,ot=b.velocity,ut=0,at=!0;if($!==Q){at=!1;var ct=k.x,Pt=k.y,Ct=N.halfWidth,Et=b.position.x,dt=b.position.y,St=b.right,vt=b.bottom;Q&&(ct=J.x,Pt=J.y,Ct=b.halfWidth,Et=N.position.x,dt=N.position.y,St=N.right,vt=N.bottom),Pt<dt?ct<Et?ut=n(ct,Pt,Et,dt)-Ct:ct>St&&(ut=n(ct,Pt,St,dt)-Ct):Pt>vt&&(ct<Et?ut=n(ct,Pt,Et,vt)-Ct:ct>St&&(ut=n(ct,Pt,St,vt)-Ct)),ut*=-1}else ut=N.halfWidth+b.halfWidth-l(k,J);N.overlapR=ut,b.overlapR=ut;var Mt=a(k,J),Nt=(ut+P.EPSILON)*Math.cos(Mt),Zt=(ut+P.EPSILON)*Math.sin(Mt),Ut={overlap:ut,result:!1,x:Nt,y:Zt};if(X&&(!at||at&&ut!==0))return Ut.result=!0,Ut;if(!at&&ut===0||et&&nt||N.customSeparateX||b.customSeparateX)return Ut.x=void 0,Ut.y=void 0,Ut;var Ht=!N.pushable&&!b.pushable;if(at){var Gt=k.x-J.x,oe=k.y-J.y,Jt=Math.sqrt(Math.pow(Gt,2)+Math.pow(oe,2)),Te=(J.x-k.x)/Jt||0,Ee=(J.y-k.y)/Jt||0,Ue=2*(st.x*Te+st.y*Ee-ot.x*Te-ot.y*Ee)/(N.mass+b.mass);(et||nt)&&(Ue*=2),et||(st.x=st.x-Ue/N.mass*Te,st.y=st.y-Ue/N.mass*Ee,st.multiply(N.bounce)),nt||(ot.x=ot.x+Ue/b.mass*Te,ot.y=ot.y+Ue/b.mass*Ee,ot.multiply(b.bounce)),!et&&!nt&&(Nt*=.5,Zt*=.5),et||(N.x-=Nt,N.y-=Zt,N.updateCenter()),nt||(b.x+=Nt,b.y+=Zt,b.updateCenter()),Ut.result=!0}else!et||N.pushable||Ht?(N.x-=Nt,N.y-=Zt,N.updateCenter()):(!nt||b.pushable||Ht)&&(b.x+=Nt,b.y+=Zt,b.updateCenter()),Ut.x=void 0,Ut.y=void 0;return Ut},intersects:function(N,b){return N===b?!1:!N.isCircle&&!b.isCircle?!(N.right<=b.left||N.bottom<=b.top||N.left>=b.right||N.top>=b.bottom):N.isCircle?b.isCircle?l(N.center,b.center)<=N.halfWidth+b.halfWidth:this.circleBodyIntersects(N,b):this.circleBodyIntersects(b,N)},circleBodyIntersects:function(N,b){var X=o(N.center.x,b.left,b.right),$=o(N.center.y,b.top,b.bottom),Q=(N.center.x-X)*(N.center.x-X),k=(N.center.y-$)*(N.center.y-$);return Q+k<=N.halfWidth*N.halfWidth},overlap:function(N,b,X,$,Q){return X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X),this.collideObjects(N,b,X,$,Q,!0)},collide:function(N,b,X,$,Q){return X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X),this.collideObjects(N,b,X,$,Q,!1)},collideObjects:function(N,b,X,$,Q,k){var J,et;N.isParent&&(N.physicsType===void 0||b===void 0||N===b)&&(N=N.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var nt=Array.isArray(N),st=Array.isArray(b);if(this._total=0,!nt&&!st)this.collideHandler(N,b,X,$,Q,k);else if(!nt&&st)for(J=0;J<b.length;J++)this.collideHandler(N,b[J],X,$,Q,k);else if(nt&&!st)if(b)for(J=0;J<N.length;J++)this.collideHandler(N[J],b,X,$,Q,k);else for(J=0;J<N.length;J++){var ot=N[J];for(et=J+1;et<N.length;et++)J!==et&&this.collideHandler(ot,N[et],X,$,Q,k)}else for(J=0;J<N.length;J++)for(et=0;et<b.length;et++)this.collideHandler(N[J],b[et],X,$,Q,k);return this._total>0},collideHandler:function(N,b,X,$,Q,k){if(b===void 0&&N.isParent)return this.collideGroupVsGroup(N,N,X,$,Q,k);if(!N||!b)return!1;if(N.body||N.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(N,b,X,$,Q,k);if(b.isParent)return this.collideSpriteVsGroup(N,b,X,$,Q,k);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(N,b,X,$,Q,k)}else if(N.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,N,X,$,Q,k);if(b.isParent)return this.collideGroupVsGroup(N,b,X,$,Q,k);if(b.isTilemap)return this.collideGroupVsTilemapLayer(N,b,X,$,Q,k)}else if(N.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,N,X,$,Q,k);if(b.isParent)return this.collideGroupVsTilemapLayer(b,N,X,$,Q,k)}},canCollide:function(N,b){return N&&b&&(N.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&N.collisionCategory)!==0},collideSpriteVsSprite:function(N,b,X,$,Q,k){var J=N.isBody?N:N.body,et=b.isBody?b:b.body;return this.canCollide(J,et)?(this.separate(J,et,$,Q,k)&&(X&&X.call(Q,N,b),this._total++),!0):!1},collideSpriteVsGroup:function(N,b,X,$,Q,k){var J=N.isBody?N:N.body;if(!(b.length===0||!J||!J.enable||J.checkCollision.none||!this.canCollide(J,b))){var et,nt,st;if(this.useTree||b.physicsType===e.STATIC_BODY){var ot=this.treeMinMax;ot.minX=J.left,ot.minY=J.top,ot.maxX=J.right,ot.maxY=J.bottom;var ut=b.physicsType===e.DYNAMIC_BODY?this.tree.search(ot):this.staticTree.search(ot);for(nt=ut.length,et=0;et<nt;et++)st=ut[et],!(J===st||!st.enable||st.checkCollision.none||!b.contains(st.gameObject))&&this.separate(J,st,$,Q,k)&&(X&&X.call(Q,J.gameObject,st.gameObject),this._total++)}else{var at=b.getChildren(),ct=b.children.entries.indexOf(N);for(nt=at.length,et=0;et<nt;et++)st=at[et].body,!(!st||et===ct||!st.enable)&&this.separate(J,st,$,Q,k)&&(X&&X.call(Q,J.gameObject,st.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(N,b,X,$,Q,k){if(!this.canCollide(N,b))return!1;var J=N.getChildren();if(J.length===0)return!1;for(var et=!1,nt=0;nt<J.length;nt++)(J[nt].body||J[nt].isBody)&&this.collideSpriteVsTilemapLayer(J[nt],b,X,$,Q,k)&&(et=!0);return et},collideTiles:function(N,b,X,$,Q){return b.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,b,X,$,Q,!1,!1)},overlapTiles:function(N,b,X,$,Q){return b.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,b,X,$,Q,!0,!1)},collideSpriteVsTilemapLayer:function(N,b,X,$,Q,k){var J=N.isBody?N:N.body;if(!J.enable||J.checkCollision.none||!this.canCollide(J,b))return!1;var et=b.layer,nt=J.x-et.tileWidth*b.scaleX,st=J.y-et.tileHeight*b.scaleY,ot=J.width+et.tileWidth*b.scaleX,ut=J.height+et.tileHeight*b.scaleY,at=k?null:this.tileFilterOptions,ct=C(nt,st,ot,ut,at,b.scene.cameras.main,b.layer);return ct.length===0?!1:this.collideSpriteVsTilesHandler(N,ct,X,$,Q,k,!0)},collideSpriteVsTilesHandler:function(N,b,X,$,Q,k,J){for(var et=N.isBody?N:N.body,nt,st={left:0,right:0,top:0,bottom:0},ot,ut=!1,at=0;at<b.length;at++){nt=b[at],ot=nt.tilemapLayer;var ct=ot.tileToWorldXY(nt.x,nt.y);st.left=ct.x,st.top=ct.y,st.right=st.left+nt.width*ot.scaleX,st.bottom=st.top+nt.height*ot.scaleY,Y(st,et)&&(!$||$.call(Q,N,nt))&&L(nt,N)&&(k||D(at,et,nt,st,ot,this.TILE_BIAS,J))&&(this._total++,ut=!0,X&&X.call(Q,N,nt),k&&et.onOverlap?this.emit(h.TILE_OVERLAP,N,nt,et):et.onCollide&&this.emit(h.TILE_COLLIDE,N,nt,et))}return ut},collideGroupVsGroup:function(N,b,X,$,Q,k){if(!(N.length===0||b.length===0||!this.canCollide(N,b)))for(var J=N.getChildren(),et=0;et<J.length;et++)this.collideSpriteVsGroup(J[et],b,X,$,Q,k)},wrap:function(N,b){N.body?this.wrapObject(N,b):N.getChildren?this.wrapArray(N.getChildren(),b):Array.isArray(N)?this.wrapArray(N,b):this.wrapObject(N,b)},wrapArray:function(N,b){for(var X=0;X<N.length;X++)this.wrapObject(N[X],b)},wrapObject:function(N,b){b===void 0&&(b=0),N.x=V(N.x,this.bounds.left-b,this.bounds.right+b),N.y=V(N.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=H},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=x},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=x},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,g,o){return this.body.setCollideWorldBounds(t,a,g,o),this}};c.exports=x},78389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79599),g={setCollisionCategory:function(o){var s=this.body?this.body:this;return s.collisionCategory=o,this},willCollideWith:function(o){var s=this.body?this.body:this;return(s.collisionMask&o)!==0},addCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|o,this},removeCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~o,this},setCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=a(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=1,this}};c.exports=g},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(t,a,g){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=g,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=x},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=x},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,g,o,s){return t&&this.body.reset(a,g),o&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=x},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=x},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=x},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=x},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(t){return this.body.mass=t,this}};c.exports=x},72441:(c,x,t)=>{var a=t(47956),g=t(96503),o=t(2044),s=t(81491),r=function(e,n,l,i,h,u){var f=a(e,n-i,l-i,2*i,2*i,h,u);if(f.length===0)return f;for(var v=new g(n,l,i),m=new g,T=[],C=0;C<f.length;C++){var S=f[C];S.isCircle?(m.setTo(S.center.x,S.center.y,S.halfWidth),o(v,m)&&T.push(S)):s(v,S)&&T.push(S)}return T};c.exports=r},47956:c=>{var x=function(t,a,g,o,s,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var n=[],l=[],i=t.treeMinMax;if(i.minX=a,i.minY=g,i.maxX=a+o,i.maxY=g+s,e&&(l=t.staticTree.search(i)),r&&t.useTree)n=t.tree.search(i);else if(r){var h=t.bodies,u={position:{x:a,y:g},left:a,top:g,right:a+o,bottom:g+s,isCircle:!1},f=t.intersects;h.iterate(function(v){f(v,u)&&n.push(v)})}return l.concat(n)};c.exports=x},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=x},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,g){return this.body.setSize(t,a,g),this},setBodySize:function(t,a,g){return this.body.setSize(t,a,g),this},setCircle:function(t,a,g){return this.body.setCircle(t,a,g),this}};c.exports=x},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};c.exports=x},92209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=x},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),g=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=g(!1,o,a),c.exports=o},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};c.exports=x},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=x},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=x},40012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21329),g=t(53442),o=t(2483),s=function(r,e,n,l,i,h,u){var f=l.left,v=l.top,m=l.right,T=l.bottom,C=n.faceLeft||n.faceRight,S=n.faceTop||n.faceBottom;if(u||(C=!0,S=!0),!C&&!S)return!1;var P=0,A=0,L=0,F=1;if(e.deltaAbsX()>e.deltaAbsY()?L=-1:e.deltaAbsX()<e.deltaAbsY()&&(F=-1),e.deltaX()!==0&&e.deltaY()!==0&&C&&S&&(L=Math.min(Math.abs(e.position.x-m),Math.abs(e.right-f)),F=Math.min(Math.abs(e.position.y-T),Math.abs(e.bottom-v))),L<F){if(C&&(P=a(e,n,f,m,h,u),P!==0&&!o(l,e)))return!0;S&&(A=g(e,n,v,T,h,u))}else{if(S&&(A=g(e,n,v,T,h,u),A!==0&&!o(l,e)))return!0;C&&(P=a(e,n,f,m,h,u))}return P!==0||A!==0};c.exports=s},21329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36294),g=function(o,s,r,e,n,l){var i=0,h=s.faceLeft,u=s.faceRight,f=s.collideLeft,v=s.collideRight;return l||(h=!0,u=!0,f=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?u&&o.x<e&&(i=o.x-e,i<-n&&(i=0)):o.deltaX()>0&&f&&o.checkCollision.right&&h&&o.right>r&&(i=o.right-r,i>n&&(i=0)),i!==0&&(o.customSeparateX?o.overlapX=i:a(o,i)),i};c.exports=g},53442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(67013),g=function(o,s,r,e,n,l){var i=0,h=s.faceTop,u=s.faceBottom,f=s.collideUp,v=s.collideDown;return l||(h=!0,u=!0,f=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?u&&o.y<e&&(i=o.y-e,i<-n&&(i=0)):o.deltaY()>0&&f&&o.checkCollision.down&&h&&o.bottom>r&&(i=o.bottom-r,i>n&&(i=0)),i!==0&&(o.customSeparateY?o.overlapY=i:a(o,i)),i};c.exports=g},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};c.exports=x},55173:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=a},44563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(26099),o=new a({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,n=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,i=n*s.centerOfMass.x,h=l*s.centerOfMass.y;return r.set(n/2,l/2),e.set(i-r.x,h-r.y),!0},getTopLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,e+n.y+l.y)}return!1},getTopCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+l.x,e+n.y+l.y)}return!1},getTopRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),e+n.y+l.y)}return!1},getLeftCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,e+l.y)}return!1},getCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.centerDiff;return new g(r+n.x,e+n.y)}return!1},getRightCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),e+l.y)}return!1},getBottomLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,e-(n.y-l.y))}return!1},getBottomCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+l.x,e-(n.y-l.y))}return!1},getBottomRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),e-(n.y-l.y))}return!1}});c.exports=o},19933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,c.exports=a},28137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),g=t(83419),o=t(74116),s=t(48140),r=t(74058),e=t(75803),n=t(23181),l=t(34803),i=t(73834),h=t(19496),u=t(85791),f=t(98713),v=t(41598),m=new g({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(T,C,S,P,A){var L=a.rectangle(T,C,S,P,A);return this.world.add(L),L},trapezoid:function(T,C,S,P,A,L){var F=a.trapezoid(T,C,S,P,A,L);return this.world.add(F),F},circle:function(T,C,S,P,A){var L=a.circle(T,C,S,P,A);return this.world.add(L),L},polygon:function(T,C,S,P,A){var L=a.polygon(T,C,S,P,A);return this.world.add(L),L},fromVertices:function(T,C,S,P,A,L,F){typeof S=="string"&&(S=v.fromPath(S));var B=a.fromVertices(T,C,S,P,A,L,F);return this.world.add(B),B},fromPhysicsEditor:function(T,C,S,P,A){A===void 0&&(A=!0);var L=h.parseBody(T,C,S,P);return A&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(T,C,S,P,A,L){P===void 0&&(P=1),A===void 0&&(A={}),L===void 0&&(L=!0);for(var F=S.getElementsByTagName("path"),B=[],D=0;D<F.length;D++){var I=r.pathToVertices(F[D],30);P!==1&&v.scale(I,P,P),B.push(I)}var G=a.fromVertices(T,C,B,A);return L&&this.world.add(G),G},fromJSON:function(T,C,S,P,A){P===void 0&&(P={}),A===void 0&&(A=!0);var L=u.parseBody(T,C,S,P);return L&&A&&this.world.add(L),L},imageStack:function(T,C,S,P,A,L,F,B,D){F===void 0&&(F=0),B===void 0&&(B=0),D===void 0&&(D={});var I=this.world,G=this.sys.displayList;D.addToWorld=!1;var z=o.stack(S,P,A,L,F,B,function(W,Y){var K=new n(I,W,Y,T,C,D);return G.add(K),K.body});return I.add(z),z},stack:function(T,C,S,P,A,L,F){var B=o.stack(T,C,S,P,A,L,F);return this.world.add(B),B},pyramid:function(T,C,S,P,A,L,F){var B=o.pyramid(T,C,S,P,A,L,F);return this.world.add(B),B},chain:function(T,C,S,P,A,L){return o.chain(T,C,S,P,A,L)},mesh:function(T,C,S,P,A){return o.mesh(T,C,S,P,A)},newtonsCradle:function(T,C,S,P,A){var L=o.newtonsCradle(T,C,S,P,A);return this.world.add(L),L},car:function(T,C,S,P,A){var L=o.car(T,C,S,P,A);return this.world.add(L),L},softBody:function(T,C,S,P,A,L,F,B,D,I){var G=o.softBody(T,C,S,P,A,L,F,B,D,I);return this.world.add(G),G},joint:function(T,C,S,P,A){return this.constraint(T,C,S,P,A)},spring:function(T,C,S,P,A){return this.constraint(T,C,S,P,A)},constraint:function(T,C,S,P,A){P===void 0&&(P=1),A===void 0&&(A={}),A.bodyA=T.type==="body"?T:T.body,A.bodyB=C.type==="body"?C:C.body,isNaN(S)||(A.length=S),A.stiffness=P;var L=s.create(A);return this.world.add(L),L},worldConstraint:function(T,C,S,P){S===void 0&&(S=1),P===void 0&&(P={}),P.bodyB=T.type==="body"?T:T.body,isNaN(C)||(P.length=C),P.stiffness=S;var A=s.create(P);return this.world.add(A),A},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var C=new f(this.scene,this.world,T);return this.world.add(C.constraint),C},image:function(T,C,S,P,A){var L=new n(this.world,T,C,S,P,A);return this.sys.displayList.add(L),L},tileBody:function(T,C){return new i(this.world,T,C)},sprite:function(T,C,S,P,A){var L=new l(this.world,T,C,S,P,A);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(T,C,S){return e(this.world,T,C,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=m},75803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31884),g=t(95540),o=t(26099);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,n,l,i){l===void 0&&(l={}),i===void 0&&(i=!0);var h=n.x,u=n.y;n.body={temp:!0,position:{x:h,y:u}};var f=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(f.forEach(function(m){for(var T in m)s(m[T])?Object.defineProperty(n,T,{get:m[T].get,set:m[T].set}):Object.defineProperty(n,T,{value:m[T]})}),n.world=e,n._tempVec2=new o(h,u),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,i);else{var v=g(l,"shape",null);v||(v="rectangle"),l.addToWorld=i,n.setBody(v,l)}return n};c.exports=r},23181:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31884),o=t(95643),s=t(95540),r=t(88571),e=t(72699),n=t(26099),l=new a({Extends:r,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,e],initialize:function(h,u,f,v,m,T){o.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new n(u,f);var C=s(T,"shape",null);C?this.setBody(C,T):this.setRectangle(this.width,this.height,T),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),g=t(66615),o=t(66280),s=t(22562),r=t(68174),e=t(15647),n=t(83419),l=t(52284),i=t(53402),h=t(69351),u=t(74116),f=t(48140),v=t(81388),m=t(20339),T=t(28137),C=t(95540),S=t(35154),P=t(18210),A=t(40178),L=t(6790),F=t(74507),B=t(46975),D=t(4506),I=t(99561),G=t(73832),z=t(37277),W=t(73296),Y=t(66272),K=t(44594),Z=t(74058),V=t(31725),H=t(41598),N=t(68243);i.setDecomp(t(55973));var b=new n({initialize:function($){this.scene=$,this.systems=$.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=h,this.collision=l,this.detector=v,this.pair=D,this.pairs=I,this.query=W,this.resolver=Y,this.constraint=f,this.bodies=o,this.composites=u,this.axes=g,this.bounds=e,this.svg=Z,this.vector=V,this.vertices=H,this.verts=H,this._tempVec2=V.create(),S(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),S(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),S(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=S(this.config,"restingThresh",4),Y._restingThreshTangent=S(this.config,"restingThreshTangent",6),Y._positionDampen=S(this.config,"positionDampen",.9),Y._positionWarming=S(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),$.sys.events.once(K.BOOT,this.boot,this),$.sys.events.on(K.START,this.start,this)},boot:function(){this.world=new N(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new r,this.systems.events.once(K.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new N(this.scene,this.config),this.add=new T(this.world));var X=this.systems.events;X.on(K.UPDATE,this.world.update,this.world),X.on(K.POST_UPDATE,this.world.postUpdate,this.world),X.once(K.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,$=this.systems.settings.physics,Q=B(C($,"matter",{}),C(X,"matter",{}));return Q},enableAttractorPlugin:function(){return G.register(P),G.use(L,P),this},enableWrapPlugin:function(){return G.register(F),G.use(L,F),this},enableCollisionEventsPlugin:function(){return G.register(A),G.use(L,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,$){this.world.step(X,$)},containsPoint:function(X,$,Q){X=this.getMatterBodies(X);var k=V.create($,Q),J=W.point(X,k);return J.length>0},intersectPoint:function(X,$,Q){Q=this.getMatterBodies(Q);var k=V.create(X,$),J=[],et=W.point(Q,k);return et.forEach(function(nt){J.indexOf(nt)===-1&&J.push(nt)}),J},intersectRect:function(X,$,Q,k,J,et){J===void 0&&(J=!1),et=this.getMatterBodies(et);var nt={min:{x:X,y:$},max:{x:X+Q,y:$+k}},st=[],ot=W.region(et,nt,J);return ot.forEach(function(ut){st.indexOf(ut)===-1&&st.push(ut)}),st},intersectRay:function(X,$,Q,k,J,et){J===void 0&&(J=1),et=this.getMatterBodies(et);for(var nt=[],st=W.ray(et,V.create(X,$),V.create(Q,k),J),ot=0;ot<st.length;ot++)nt.push(st[ot].body);return nt},intersectBody:function(X,$){$=this.getMatterBodies($);for(var Q=[],k=W.collides(X,$),J=0;J<k.length;J++){var et=k[J];et.bodyA===X?Q.push(et.bodyB):Q.push(et.bodyA)}return Q},overlap:function(X,$,Q,k,J){Q===void 0&&(Q=null),k===void 0&&(k=null),J===void 0&&(J=Q),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),$=this.getMatterBodies($);for(var et=!1,nt=0;nt<X.length;nt++)for(var st=X[nt],ot=W.collides(st,$),ut=0;ut<ot.length;ut++){var at=ot[ut],ct=at.bodyA.id===st.id?at.bodyB:at.bodyA;if(!k||k.call(J,st,ct,at)){if(et=!0,Q)Q.call(J,st,ct,at);else if(!k)return!0}}return et},setCollisionCategory:function(X,$){return X=this.getMatterBodies(X),X.forEach(function(Q){Q.collisionFilter.category=$}),this},setCollisionGroup:function(X,$){return X=this.getMatterBodies(X),X.forEach(function(Q){Q.collisionFilter.group=$}),this},setCollidesWith:function(X,$){X=this.getMatterBodies(X);var Q=0;if(!Array.isArray($))Q=$;else for(var k=0;k<$.length;k++)Q|=$[k];return X.forEach(function(J){J.collisionFilter.mask=Q}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var $=[],Q=0;Q<X.length;Q++){var k=X[Q].hasOwnProperty("body")?X[Q].body:X[Q];$.push(k)}return $},setVelocity:function(X,$,Q){X=this.getMatterBodies(X);var k=this._tempVec2;return k.x=$,k.y=Q,X.forEach(function(J){s.setVelocity(J,k)}),this},setVelocityX:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.x=$,X.forEach(function(k){Q.y=k.velocity.y,s.setVelocity(k,Q)}),this},setVelocityY:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.y=$,X.forEach(function(k){Q.x=k.velocity.x,s.setVelocity(k,Q)}),this},setAngularVelocity:function(X,$){return X=this.getMatterBodies(X),X.forEach(function(Q){s.setAngularVelocity(Q,$)}),this},applyForce:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return X.forEach(function(k){Q.x=k.position.x,Q.y=k.position.y,s.applyForce(k,Q,$)}),this},applyForceFromPosition:function(X,$,Q,k){X=this.getMatterBodies(X);var J=this._tempVec2;return X.forEach(function(et){k===void 0&&(k=et.angle),J.x=Q*Math.cos(k),J.y=Q*Math.sin(k),s.applyForce(et,$,J)}),this},applyForceFromAngle:function(X,$,Q){X=this.getMatterBodies(X);var k=this._tempVec2;return X.forEach(function(J){Q===void 0&&(Q=J.angle),k.x=$*Math.cos(Q),k.y=$*Math.sin(Q),s.applyForce(J,{x:J.position.x,y:J.position.y},k)}),this},getConstraintLength:function(X){var $=X.pointA.x,Q=X.pointA.y,k=X.pointB.x,J=X.pointB.y;return X.bodyA&&($+=X.bodyA.position.x,Q+=X.bodyA.position.y),X.bodyB&&(k+=X.bodyB.position.x,J+=X.bodyB.position.y),m($,Q,k,J)},alignBody:function(X,$,Q,k){X=X.hasOwnProperty("body")?X.body:X;var J;switch(k){case a.TOP_LEFT:case a.LEFT_TOP:J=this.bodyBounds.getTopLeft(X,$,Q);break;case a.TOP_CENTER:J=this.bodyBounds.getTopCenter(X,$,Q);break;case a.TOP_RIGHT:case a.RIGHT_TOP:J=this.bodyBounds.getTopRight(X,$,Q);break;case a.LEFT_CENTER:J=this.bodyBounds.getLeftCenter(X,$,Q);break;case a.CENTER:J=this.bodyBounds.getCenter(X,$,Q);break;case a.RIGHT_CENTER:J=this.bodyBounds.getRightCenter(X,$,Q);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:J=this.bodyBounds.getBottomLeft(X,$,Q);break;case a.BOTTOM_CENTER:J=this.bodyBounds.getBottomCenter(X,$,Q);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:J=this.bodyBounds.getBottomRight(X,$,Q);break}return J&&s.setPosition(X,J),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(K.UPDATE,this.world.update,this.world),X.off(K.POST_UPDATE,this.world.postUpdate,this.world)),X.off(K.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(K.START,this.start,this),this.scene=null,this.systems=null}});z.register("MatterPhysics",b,"matterPhysics"),c.exports=b},34803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),g=t(83419),o=t(31884),s=t(95643),r=t(95540),e=t(72699),n=t(68287),l=t(26099),i=new g({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(u,f,v,m,T,C){s.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new l(f,v);var S=r(C,"shape",null);S?this.setBody(S,C):this.setRectangle(this.width,this.height,C),this.setPosition(f,v),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=i},73834:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),g=t(22562),o=t(83419),s=t(31884),r=t(62644),e=t(50792),n=t(95540),l=t(97022),i=t(41598),h=new o({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(f,v,m){e.call(this),this.tile=v,this.world=f,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var T=n(m,"body",null),C=n(m,"addToWorld",!0);if(T)this.setBody(T,C);else{var S=v.getCollisionGroup(),P=n(S,"objects",[]);P.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(v.flipX||v.flipY){var A={x:v.getCenterX(),y:v.getCenterY()},L=v.flipX?-1:1,F=v.flipY?-1:1;g.scale(T,L,F,A)}},setFromTileRectangle:function(u){u===void 0&&(u={}),l(u,"isStatic")||(u.isStatic=!0),l(u,"addToWorld")||(u.addToWorld=!0);var f=this.tile.getBounds(),v=f.x+f.width/2,m=f.y+f.height/2,T=a.rectangle(v,m,f.width,f.height,u);return this.setBody(T,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),l(u,"isStatic")||(u.isStatic=!0),l(u,"addToWorld")||(u.addToWorld=!0);for(var f=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),T=this.tile.getTop(),C=this.tile.getCollisionGroup(),S=n(C,"objects",[]),P=[],A=0;A<S.length;A++){var L=S[A],F=m+L.x*f,B=T+L.y*v,D=L.width*f,I=L.height*v,G=null;if(L.rectangle)G=a.rectangle(F+D/2,B+I/2,D,I,u);else if(L.ellipse)G=a.circle(F+D/2,B+I/2,D/2,u);else if(L.polygon||L.polyline){var z=L.polygon?L.polygon:L.polyline,W=z.map(function(V){return{x:V.x*f,y:V.y*v}}),Y=i.create(W),K=i.centre(Y);F+=K.x,B+=K.y,G=a.fromVertices(F,B,Y,u)}G&&P.push(G)}if(P.length===1)this.setBody(P[0],u.addToWorld);else if(P.length>1){var Z=r(u);Z.parts=P,this.setBody(g.create(Z),Z.addToWorld)}return this},setBody:function(u,f){return f===void 0&&(f=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,f&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=h},19496:(c,x,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),g=t(22562),o=t(53402),s=t(95540),r=t(41598),e={parseBody:function(n,l,i,h){h===void 0&&(h={});for(var u=s(i,"fixtures",[]),f=[],v=0;v<u.length;v++)for(var m=this.parseFixture(u[v]),T=0;T<m.length;T++)f.push(m[T]);var C=o.clone(i,!0);o.extend(C,h,!0),delete C.fixtures,delete C.type;var S=g.create(C);return g.setParts(S,f),g.setPosition(S,{x:n,y:l}),S},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var i;if(n.circle){var h=s(n.circle,"x"),u=s(n.circle,"y"),f=s(n.circle,"radius");i=[a.circle(h,u,f,l)]}else n.vertices&&(i=this.parseVertices(n.vertices,l));return i},parseVertices:function(n,l){l===void 0&&(l={});for(var i=[],h=0;h<n.length;h++)r.clockwiseSort(n[h]),i.push(g.create(o.extend({position:r.centre(n[h]),vertices:n[h]},l)));return a.flagCoincidentParts(i)}};c.exports=e},85791:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),g=t(22562),o={parseBody:function(s,r,e,n){n===void 0&&(n={});var l,i=e.vertices;if(i.length===1)n.vertices=i[0],l=g.create(n),a.flagCoincidentParts(l.parts);else{for(var h=[],u=0;u<i.length;u++){var f=g.create({vertices:i[u]});h.push(f)}a.flagCoincidentParts(h),n.parts=h,l=g.create(n)}return l.label=e.label,g.setPosition(l,{x:s,y:r}),l}};c.exports=o},98713:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15647),g=t(83419),o=t(69351),s=t(48140),r=t(81388),e=t(1121),n=t(8214),l=t(46975),i=t(53614),h=t(26099),u=t(41598),f=new g({initialize:function(m,T,C){C===void 0&&(C={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=s.create(l(C,S)),this.world.on(e.BEFORE_UPDATE,this.update,this),m.sys.input.on(n.POINTER_DOWN,this.onDown,this),m.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var m=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,m);for(var C=o.allBodies(this.world.localWorld),S=0;S<C.length;S++){var P=C[S];if(!P.ignorePointer&&a.contains(P.bounds,m)&&r.canCollide(P.collisionFilter,T.collisionFilter)&&this.hitTestBody(P,m))return this.world.emit(e.DRAG_START,P,this.part,this),!0}return!1},hitTestBody:function(v,m){for(var T=this.constraint,C=v.parts.length,S=C>1?1:0,P=S;P<C;P++){var A=v.parts[P];if(u.contains(A.vertices,m))return T.pointA=m,T.pointB={x:m.x-v.position.x,y:m.y-v.position.y},T.bodyB=v,T.angleB=v.angle,i.set(v,!1),this.part=A,this.body=v,!0}return!1},update:function(){var v=this.pointer,m=this.body;if(!this.active||!v){m&&this.stopDrag();return}if(!v.isDown&&m){this.stopDrag();return}else if(v.isDown){if(!this.camera||!m&&!this.getBody(v))return;m=this.body;var T=this.position,C=this.constraint;this.camera.getWorldPoint(v.x,v.y,T),C.pointA.x=T.x,C.pointA.y=T.y,i.set(m,!1),this.world.emit(e.DRAG,m,this)}},stopDrag:function(){var v=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(e.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});c.exports=f},68243:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),g=t(22562),o=t(83419),s=t(53402),r=t(69351),e=t(48413),n=t(50792),l=t(1121),i=t(95540),h=t(35154),u=t(22562),f=t(35810),v=t(73834),m=t(4372),T=t(31725),C=new o({Extends:n,initialize:function(P,A){n.call(this),this.scene=P,this.engine=e.create(A),this.localWorld=this.engine.world;var L=h(A,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(A,"enabled",!0),this.getDelta=h(A,"getDelta",this.update60Hz);var F=i(A,"runner",{}),B=i(F,"fps",!1),D=i(F,"fps",60),I=i(F,"delta",1e3/D),G=i(F,"deltaMin",1e3/D),z=i(F,"deltaMax",1e3/(D*.5));B||(D=1e3/I),this.runner={fps:D,deltaSampleSize:i(F,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:i(F,"isFixed",!1),delta:I,deltaMin:G,deltaMax:z},this.autoUpdate=h(A,"autoUpdate",!0);var W=h(A,"debug",!1);if(this.drawDebug=typeof W=="object"?!0:W,this.debugGraphic,this.debugConfig={showAxes:i(W,"showAxes",!1),showAngleIndicator:i(W,"showAngleIndicator",!1),angleColor:i(W,"angleColor",15208787),showBroadphase:i(W,"showBroadphase",!1),broadphaseColor:i(W,"broadphaseColor",16757760),showBounds:i(W,"showBounds",!1),boundsColor:i(W,"boundsColor",16777215),showVelocity:i(W,"showVelocity",!1),velocityColor:i(W,"velocityColor",44783),showCollisions:i(W,"showCollisions",!1),collisionColor:i(W,"collisionColor",16094476),showSeparations:i(W,"showSeparations",!1),separationColor:i(W,"separationColor",16753920),showBody:i(W,"showBody",!0),showStaticBody:i(W,"showStaticBody",!0),showInternalEdges:i(W,"showInternalEdges",!1),renderFill:i(W,"renderFill",!1),renderLine:i(W,"renderLine",!0),fillColor:i(W,"fillColor",1075465),fillOpacity:i(W,"fillOpacity",1),lineColor:i(W,"lineColor",2678297),lineOpacity:i(W,"lineOpacity",1),lineThickness:i(W,"lineThickness",1),staticFillColor:i(W,"staticFillColor",857979),staticLineColor:i(W,"staticLineColor",1255396),showSleeping:i(W,"showSleeping",!1),staticBodySleepOpacity:i(W,"staticBodySleepOpacity",.7),sleepFillColor:i(W,"sleepFillColor",4605510),sleepLineColor:i(W,"sleepLineColor",10066585),showSensors:i(W,"showSensors",!0),sensorFillColor:i(W,"sensorFillColor",857979),sensorLineColor:i(W,"sensorLineColor",1255396),showPositions:i(W,"showPositions",!0),positionSize:i(W,"positionSize",4),positionColor:i(W,"positionColor",14697178),showJoint:i(W,"showJoint",!0),jointColor:i(W,"jointColor",14737474),jointLineOpacity:i(W,"jointLineOpacity",1),jointLineThickness:i(W,"jointLineThickness",2),pinSize:i(W,"pinSize",4),pinColor:i(W,"pinColor",4382944),springColor:i(W,"springColor",14697184),anchorColor:i(W,"anchorColor",15724527),anchorSize:i(W,"anchorSize",4),showConvexHulls:i(W,"showConvexHulls",!1),hullColor:i(W,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(A,"setBounds",!1)){var Y=A.setBounds;if(typeof Y=="boolean")this.setBounds();else{var K=i(Y,"x",0),Z=i(Y,"y",0),V=i(Y,"width",P.sys.scale.width),H=i(Y,"height",P.sys.scale.height),N=i(Y,"thickness",64),b=i(Y,"left",!0),X=i(Y,"right",!0),$=i(Y,"top",!0),Q=i(Y,"bottom",!0);this.setBounds(K,Z,V,H,N,b,X,$,Q)}}},setCompositeRenderStyle:function(S){var P=S.bodies,A=S.constraints,L=S.composites,F,B,D;for(F=0;F<P.length;F++)B=P[F],D=B.render,this.setBodyRenderStyle(B,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity);for(F=0;F<A.length;F++)B=A[F],D=B.render,this.setConstraintRenderStyle(B,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize);for(F=0;F<L.length;F++)B=L[F],this.setCompositeRenderStyle(B);return this},setBodyRenderStyle:function(S,P,A,L,F,B){var D=S.render,I=this.debugConfig;return D?(P==null&&(P=S.isStatic?I.staticLineColor:I.lineColor),A==null&&(A=I.lineOpacity),L==null&&(L=I.lineThickness),F==null&&(F=S.isStatic?I.staticFillColor:I.fillColor),B==null&&(B=I.fillOpacity),P!==!1&&(D.lineColor=P),A!==!1&&(D.lineOpacity=A),L!==!1&&(D.lineThickness=L),F!==!1&&(D.fillColor=F),B!==!1&&(D.fillOpacity=B),this):this},setConstraintRenderStyle:function(S,P,A,L,F,B,D){var I=S.render,G=this.debugConfig;if(!I)return this;if(P==null){var z=I.type;z==="line"?P=G.jointColor:z==="pin"?P=G.pinColor:z==="spring"&&(P=G.springColor)}return A==null&&(A=G.jointLineOpacity),L==null&&(L=G.jointLineThickness),F==null&&(F=G.pinSize),B==null&&(B=G.anchorColor),D==null&&(D=G.anchorSize),P!==!1&&(I.lineColor=P),A!==!1&&(I.lineOpacity=A),L!==!1&&(I.lineThickness=L),F!==!1&&(I.pinSize=F),B!==!1&&(I.anchorColor=B),D!==!1&&(I.anchorSize=D),this},setEventsProxy:function(){var S=this,P=this.engine,A=this.localWorld;this.drawDebug&&(f.on(A,"compositeModified",function(L){S.setCompositeRenderStyle(L)}),f.on(A,"beforeAdd",function(L){for(var F=[].concat(L.object),B=0;B<F.length;B++){var D=F[B],I=D.render;D.type==="body"?S.setBodyRenderStyle(D,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):D.type==="composite"?S.setCompositeRenderStyle(D):D.type==="constraint"&&S.setConstraintRenderStyle(D,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),f.on(A,"beforeAdd",function(L){S.emit(l.BEFORE_ADD,L)}),f.on(A,"afterAdd",function(L){S.emit(l.AFTER_ADD,L)}),f.on(A,"beforeRemove",function(L){S.emit(l.BEFORE_REMOVE,L)}),f.on(A,"afterRemove",function(L){S.emit(l.AFTER_REMOVE,L)}),f.on(P,"beforeUpdate",function(L){S.emit(l.BEFORE_UPDATE,L)}),f.on(P,"afterUpdate",function(L){S.emit(l.AFTER_UPDATE,L)}),f.on(P,"collisionStart",function(L){var F=L.pairs,B,D;F.length>0&&(B=F[0].bodyA,D=F[0].bodyB),S.emit(l.COLLISION_START,L,B,D)}),f.on(P,"collisionActive",function(L){var F=L.pairs,B,D;F.length>0&&(B=F[0].bodyA,D=F[0].bodyB),S.emit(l.COLLISION_ACTIVE,L,B,D)}),f.on(P,"collisionEnd",function(L){var F=L.pairs,B,D;F.length>0&&(B=F[0].bodyA,D=F[0].bodyB),S.emit(l.COLLISION_END,L,B,D)})},setBounds:function(S,P,A,L,F,B,D,I,G){return S===void 0&&(S=0),P===void 0&&(P=0),A===void 0&&(A=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),F===void 0&&(F=64),B===void 0&&(B=!0),D===void 0&&(D=!0),I===void 0&&(I=!0),G===void 0&&(G=!0),this.updateWall(B,"left",S-F,P-F,F,L+F*2),this.updateWall(D,"right",S+A,P-F,F,L+F*2),this.updateWall(I,"top",S,P-F,A,F),this.updateWall(G,"bottom",S,P+L,A,F),this},updateWall:function(S,P,A,L,F,B){var D=this.walls[P];S?(D&&m.remove(this.localWorld,D),A+=F/2,L+=B/2,this.walls[P]=this.create(A,L,F,B,{isStatic:!0,friction:0,frictionStatic:0})):(D&&m.remove(this.localWorld,D),this.walls[P]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,P,A){return S===void 0&&(S=0),P===void 0&&(P=1),A===void 0&&(A=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=A,this},create:function(S,P,A,L,F){var B=a.rectangle(S,P,A,L,F);return m.add(this.localWorld,B),B},add:function(S){return m.add(this.localWorld,S),this},remove:function(S,P){Array.isArray(S)||(S=[S]);for(var A=0;A<S.length;A++){var L=S[A],F=L.body?L.body:L;r.remove(this.localWorld,F,P)}return this},removeConstraint:function(S,P){return r.remove(this.localWorld,S,P),this},convertTilemapLayer:function(S,P){var A=S.layer,L=S.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(L,P),this},convertTiles:function(S,P){if(S.length===0)return this;for(var A=0;A<S.length;A++)new v(this,S[A],P);return this},nextGroup:function(S){return u.nextGroup(S)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(S,P){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,L=this.runner,F=A.timing;L.isFixed?P=this.getDelta(S,P):(P=S-L.timePrev||L.delta,L.timePrev=S,L.deltaHistory.push(P),L.deltaHistory=L.deltaHistory.slice(-L.deltaSampleSize),P=Math.min.apply(null,L.deltaHistory),P=P<L.deltaMin?L.deltaMin:P,P=P>L.deltaMax?L.deltaMax:P,L.delta=P),L.timeScalePrev=F.timeScale,L.frameCounter+=1,S-L.counterTimestamp>=1e3&&(L.fps=L.frameCounter*((S-L.counterTimestamp)/1e3),L.counterTimestamp=S,L.frameCounter=0),e.update(A,P)}},step:function(S){e.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var P=S.hasOwnProperty("body")?S.body:S;return r.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,P=this.engine,A=this.debugGraphic,L=r.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,A,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(L,A,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(L),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(L,A,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(L,A,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(P.pairs.list,A,S.separationColor),S.showCollisions&&this.renderCollisions(P.pairs.list,A,S.collisionColor)}},renderGrid:function(S,P,A,L){P.lineStyle(1,A,L);for(var F=s.keys(S.buckets),B=0;B<F.length;B++){var D=F[B];if(!(S.buckets[D].length<2)){var I=D.split(/C|R/);P.strokeRect(parseInt(I[1],10)*S.bucketWidth,parseInt(I[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,P,A){P.lineStyle(1,A,1);for(var L=0;L<S.length;L++){var F=S[L];if(F.isActive){var B=F.collision,D=B.bodyA,I=B.bodyB,G=D.position,z=I.position,W=B.penetration,Y=!D.isStatic&&!I.isStatic?4:1;I.isStatic&&(Y=0),P.lineBetween(z.x,z.y,z.x-W.x*Y,z.y-W.y*Y),Y=!D.isStatic&&!I.isStatic?4:1,D.isStatic&&(Y=0),P.lineBetween(G.x,G.y,G.x-W.x*Y,G.y-W.y*Y)}}return this},renderCollisions:function(S,P,A){P.lineStyle(1,A,.5),P.fillStyle(A,1);var L,F;for(L=0;L<S.length;L++)if(F=S[L],!!F.isActive)for(var B=0;B<F.activeContacts.length;B++){var D=F.activeContacts[B],I=D.vertex;P.fillRect(I.x-2,I.y-2,5,5)}for(L=0;L<S.length;L++)if(F=S[L],!!F.isActive){var G=F.collision,z=F.activeContacts;if(z.length>0){var W=z[0].vertex.x,Y=z[0].vertex.y;z.length===2&&(W=(z[0].vertex.x+z[1].vertex.x)/2,Y=(z[0].vertex.y+z[1].vertex.y)/2),G.bodyB===G.supports[0].body||G.bodyA.isStatic?P.lineBetween(W-G.normal.x*8,Y-G.normal.y*8,W,Y):P.lineBetween(W+G.normal.x*8,Y+G.normal.y*8,W,Y)}}return this},renderBodyBounds:function(S,P,A,L){P.lineStyle(1,A,L);for(var F=0;F<S.length;F++){var B=S[F];if(B.render.visible){var D=B.bounds;if(D)P.strokeRect(D.min.x,D.min.y,D.max.x-D.min.x,D.max.y-D.min.y);else for(var I=B.parts,G=I.length>1?1:0;G<I.length;G++){var z=I[G];P.strokeRect(z.bounds.min.x,z.bounds.min.y,z.bounds.max.x-z.bounds.min.x,z.bounds.max.y-z.bounds.min.y)}}}return this},renderBodyAxes:function(S,P,A,L,F){P.lineStyle(1,L,F);for(var B=0;B<S.length;B++){var D=S[B],I=D.parts;if(D.render.visible){var G,z,W;if(A)for(z=I.length>1?1:0;z<I.length;z++)for(G=I[z],W=0;W<G.axes.length;W++){var Y=G.axes[W];P.lineBetween(G.position.x,G.position.y,G.position.x+Y.x*20,G.position.y+Y.y*20)}else for(z=I.length>1?1:0;z<I.length;z++)for(G=I[z],W=0;W<G.axes.length;W++)P.lineBetween(G.position.x,G.position.y,(G.vertices[0].x+G.vertices[G.vertices.length-1].x)/2,(G.vertices[0].y+G.vertices[G.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,P,A,L,F){P.lineStyle(F,A,L);for(var B=0;B<S.length;B++){var D=S[B];D.render.visible&&P.lineBetween(D.position.x,D.position.y,D.position.x+(D.position.x-D.positionPrev.x)*2,D.position.y+(D.position.y-D.positionPrev.y)*2)}return this},renderBodies:function(S){for(var P=this.debugGraphic,A=this.debugConfig,L=A.showBody,F=A.showStaticBody,B=A.showSleeping,D=A.showInternalEdges,I=A.showConvexHulls,G=A.renderFill,z=A.renderLine,W=A.staticBodySleepOpacity,Y=A.sleepFillColor,K=A.sleepLineColor,Z=A.hullColor,V=0;V<S.length;V++){var H=S[V];if(H.render.visible&&!(!F&&H.isStatic||!L&&!H.isStatic)){var N=H.render.lineColor,b=H.render.lineOpacity,X=H.render.lineThickness,$=H.render.fillColor,Q=H.render.fillOpacity;B&&H.isSleeping&&(H.isStatic?(b*=W,Q*=W):(N=K,$=Y)),G||($=null),z||(N=null),this.renderBody(H,P,D,N,b,X,$,Q);var k=H.parts.length;I&&k>1&&this.renderConvexHull(H,P,Z,X)}}},renderBody:function(S,P,A,L,F,B,D,I){L===void 0&&(L=null),F===void 0&&(F=null),B===void 0&&(B=1),D===void 0&&(D=null),I===void 0&&(I=null);for(var G=this.debugConfig,z=G.sensorFillColor,W=G.sensorLineColor,Y=S.parts,K=Y.length,Z=K>1?1:0;Z<K;Z++){var V=Y[Z],H=V.render,N=H.opacity;if(!(!H.visible||N===0||V.isSensor&&!G.showSensors)){var b=V.circleRadius;if(P.beginPath(),V.isSensor?(D!==null&&P.fillStyle(z,I*N),L!==null&&P.lineStyle(B,W,F*N)):(D!==null&&P.fillStyle(D,I*N),L!==null&&P.lineStyle(B,L,F*N)),b)P.arc(V.position.x,V.position.y,b,0,2*Math.PI);else{var X=V.vertices,$=X.length;P.moveTo(X[0].x,X[0].y);for(var Q=1;Q<$;Q++){var k=X[Q];if(!X[Q-1].isInternal||A?P.lineTo(k.x,k.y):P.moveTo(k.x,k.y),Q<$&&k.isInternal&&!A){var J=(Q+1)%$;P.moveTo(X[J].x,X[J].y)}}P.closePath()}D!==null&&P.fillPath(),L!==null&&P.strokePath()}}if(G.showPositions&&!S.isStatic){var et=S.position.x,nt=S.position.y,st=Math.ceil(G.positionSize/2);P.fillStyle(G.positionColor,1),P.fillRect(et-st,nt-st,G.positionSize,G.positionSize)}return this},renderConvexHull:function(S,P,A,L){L===void 0&&(L=1);var F=S.parts,B=F.length;if(B>1){var D=S.vertices;P.lineStyle(L,A),P.beginPath(),P.moveTo(D[0].x,D[0].y);for(var I=1;I<D.length;I++)P.lineTo(D[I].x,D[I].y);P.lineTo(D[0].x,D[0].y),P.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,P=r.allConstraints(this.localWorld),A=0;A<P.length;A++){var L=P[A].render,F=L.lineColor,B=L.lineOpacity,D=L.lineThickness,I=L.pinSize,G=L.anchorColor,z=L.anchorSize;this.renderConstraint(P[A],S,F,B,D,I,G,z)}},renderConstraint:function(S,P,A,L,F,B,D,I){var G=S.render;if(!G.visible||!S.pointA||!S.pointB)return this;P.lineStyle(F,A,L);var z=S.bodyA,W=S.bodyB,Y,K;if(z?Y=T.add(z.position,S.pointA):Y=S.pointA,G.type==="pin")P.strokeCircle(Y.x,Y.y,B);else{if(W?K=T.add(W.position,S.pointB):K=S.pointB,P.beginPath(),P.moveTo(Y.x,Y.y),G.type==="spring")for(var Z=T.sub(K,Y),V=T.perp(T.normalise(Z)),H=Math.ceil(s.clamp(S.length/5,12,20)),N,b=1;b<H;b+=1)N=b%2===0?1:-1,P.lineTo(Y.x+Z.x*(b/H)+V.x*N*4,Y.y+Z.y*(b/H)+V.y*N*4);P.lineTo(K.x,K.y)}return P.strokePath(),G.anchors&&I>0&&(P.fillStyle(D),P.fillCircle(Y.x,Y.y,I),P.fillCircle(K.x,K.y,I)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=C},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t){return this.body.restitution=t,this}};c.exports=x},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var g=0;g<t.length;g++)a|=t[g];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var g=0;g<t.length;g++){var o=t[g].hasOwnProperty("body")?t[g].body:t[g];this.body.setOnCollideWith(o,a)}return this}};c.exports=x},51607:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),g={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,s){return a.applyForce(this.body,o,s),this},thrust:function(o){var s=this.body.angle;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var s=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=g},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,a,g){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=x},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=x},37302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),g=t(26099),o={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=o},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=x},57772:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),g=t(22562),o=t(43855),s=t(95540),r=t(19496),e=t(85791),n=t(41598),l={setRectangle:function(i,h,u){return this.setBody({type:"rectangle",width:i,height:h},u)},setCircle:function(i,h){return this.setBody({type:"circle",radius:i},h)},setPolygon:function(i,h,u){return this.setBody({type:"polygon",sides:h,radius:i},u)},setTrapezoid:function(i,h,u,f){return this.setBody({type:"trapezoid",width:i,height:h,slope:u},f)},setExistingBody:function(i,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var f=this;if(i.destroy=function(){f.world.remove(f.body,!0),f.body.gameObject=null},h&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var v=i.render.sprite.xOffset,m=i.render.sprite.yOffset,T=i.centerOfMass.x,C=i.centerOfMass.y;if(o(T,.5)&&o(C,.5))this.setOrigin(v+.5,m+.5);else{var S=i.centerOffset.x,P=i.centerOffset.y;this.setOrigin(v+S/this.displayWidth,m+P/this.displayHeight)}}return this},setBody:function(i,h){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var f=s(i,"type","rectangle"),v=s(i,"x",this._tempVec2.x),m=s(i,"y",this._tempVec2.y),T=s(i,"width",this.width),C=s(i,"height",this.height);switch(f){case"rectangle":u=a.rectangle(v,m,T,C,h);break;case"circle":var S=s(i,"radius",Math.max(T,C)/2),P=s(i,"maxSides",25);u=a.circle(v,m,S,h,P);break;case"trapezoid":var A=s(i,"slope",.5);u=a.trapezoid(v,m,T,C,A,h);break;case"polygon":var L=s(i,"sides",5),F=s(i,"radius",Math.max(T,C)/2);u=a.polygon(v,m,L,F,h);break;case"fromVertices":case"fromVerts":var B=s(i,"verts",null);if(B)if(typeof B=="string"&&(B=n.fromPath(B)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,B),u=this.body;else{var D=s(i,"flagInternal",!1),I=s(i,"removeCollinear",.01),G=s(i,"minimumArea",10);u=a.fromVertices(v,m,B,h,D,I,G)}break;case"fromPhysicsEditor":u=r.parseBody(v,m,i,h);break;case"fromPhysicsTracer":u=e.parseBody(v,m,i,h);break}return u&&this.setExistingBody(u,i.addToWorld),this}};c.exports=l},38083:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1121),g=t(53614),o=t(35810),s={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepStart",function(n){e.emit(a.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepEnd",function(n){e.emit(a.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};c.exports=s},90556:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),g={setStatic:function(o){return a.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};c.exports=g},85436:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),g=t(36383),o=t(86554),s=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*g.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),a.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),a.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),a.setAngle(this.body,n),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,a.setAngle(this.body,this.rotation),this},setScale:function(n,l,i){n===void 0&&(n=1),l===void 0&&(l=n);var h=1/this._scaleX,u=1/this._scaleY;return this._scaleX=n,this._scaleY=l,a.scale(this.body,h,u,i),a.scale(this.body,n,l,i),this}};c.exports=e},42081:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),g={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,s){return this._tempVec2.set(o,s),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(o){return a.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(o){return a.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};c.exports=g},31884:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,x,t)=>{var a={};c.exports=a;var g=t(41598),o=t(31725),s=t(53614),r=t(53402),e=t(15647),n=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(i){var h={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=g.centre(i.vertices):i.hasOwnProperty("vertices")||(h.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=r.extend(h,i);return l(u,i),u.setOnCollideWith=function(f,v){return v?this.onCollideWith[f.id]=v:delete this.onCollideWith[f.id],this},u},a.nextGroup=function(i){return i?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var l=function(i,h){if(h=h||{},a.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||o.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),g.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),a.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,f=i.centerOfMass,v=i.centerOffset,m=u.max.x-u.min.x,T=u.max.y-u.min.y;f.x=-(u.min.x-i.position.x)/m,f.y=-(u.min.y-i.position.y)/T,v.x=m*f.x,v.y=T*f.y}};a.set=function(i,h,u){var f;typeof h=="string"&&(f=h,h={},h[f]=u);for(f in h)if(Object.prototype.hasOwnProperty.call(h,f))switch(u=h[f],f){case"isStatic":a.setStatic(i,u);break;case"isSleeping":s.set(i,u);break;case"mass":a.setMass(i,u);break;case"density":a.setDensity(i,u);break;case"inertia":a.setInertia(i,u);break;case"vertices":a.setVertices(i,u);break;case"position":a.setPosition(i,u);break;case"angle":a.setAngle(i,u);break;case"velocity":a.setVelocity(i,u);break;case"angularVelocity":a.setAngularVelocity(i,u);break;case"speed":a.setSpeed(i,u);break;case"angularSpeed":a.setAngularSpeed(i,u);break;case"parts":a.setParts(i,u);break;case"centre":a.setCentre(i,u);break;default:i[f]=u}},a.setStatic=function(i,h){for(var u=0;u<i.parts.length;u++){var f=i.parts[u];h?(f.isStatic||(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia}),f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null),f.isStatic=h}},a.setMass=function(i,h){var u=i.inertia/(i.mass/6);i.inertia=u*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},a.setDensity=function(i,h){a.setMass(i,h*i.area),i.density=h},a.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},a.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=g.create(h,i),i.axes=n.fromVertices(i.vertices),i.area=g.area(i.vertices),a.setMass(i,i.density*i.area);var u=g.centre(i.vertices);g.translate(i.vertices,u,-1),a.setInertia(i,a._inertiaScale*g.inertia(i.vertices,i.mass)),g.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},a.setParts=function(i,h,u){var f;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,f=0;f<h.length;f++){var v=h[f];v!==i&&(v.parent=i,i.parts.push(v))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var m=[];for(f=0;f<h.length;f++)m=m.concat(h[f].vertices);g.clockwiseSort(m);var T=g.hull(m),C=g.centre(T);a.setVertices(i,T),g.translate(i.vertices,C)}var S=a._totalProperties(i),P=S.centre.x,A=S.centre.y,L=i.bounds,F=i.centerOfMass,B=i.centerOffset;e.update(L,i.vertices,i.velocity),F.x=-(L.min.x-P)/(L.max.x-L.min.x),F.y=-(L.min.y-A)/(L.max.y-L.min.y),B.x=P,B.y=A,i.area=S.area,i.parent=i,i.position.x=P,i.position.y=A,i.positionPrev.x=P,i.positionPrev.y=A,a.setMass(i,S.mass),a.setInertia(i,S.inertia),a.setPosition(i,S.centre)}},a.setCentre=function(i,h,u){u?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},a.setPosition=function(i,h,u){var f=o.sub(h,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=f.x,i.velocity.y=f.y,i.speed=o.magnitude(f)):(i.positionPrev.x+=f.x,i.positionPrev.y+=f.y);for(var v=0;v<i.parts.length;v++){var m=i.parts[v];m.position.x+=f.x,m.position.y+=f.y,g.translate(m.vertices,f),e.update(m.bounds,m.vertices,i.velocity)}},a.setAngle=function(i,h,u){var f=h-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=f,i.angularSpeed=Math.abs(f)):i.anglePrev+=f;for(var v=0;v<i.parts.length;v++){var m=i.parts[v];m.angle+=f,g.rotate(m.vertices,f,i.position),n.rotate(m.axes,f),e.update(m.bounds,m.vertices,i.velocity),v>0&&o.rotateAbout(m.position,f,i.position,m.position)}},a.setVelocity=function(i,h){var u=i.deltaTime/a._baseDelta;i.positionPrev.x=i.position.x-h.x*u,i.positionPrev.y=i.position.y-h.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=o.magnitude(i.velocity)},a.getVelocity=function(i){var h=a._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},a.getSpeed=function(i){return o.magnitude(a.getVelocity(i))},a.setSpeed=function(i,h){a.setVelocity(i,o.mult(o.normalise(a.getVelocity(i)),h))},a.setAngularVelocity=function(i,h){var u=i.deltaTime/a._baseDelta;i.anglePrev=i.angle-h*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},a.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*a._baseDelta/i.deltaTime},a.getAngularSpeed=function(i){return Math.abs(a.getAngularVelocity(i))},a.setAngularSpeed=function(i,h){a.setAngularVelocity(i,r.sign(a.getAngularVelocity(i))*h)},a.translate=function(i,h,u){a.setPosition(i,o.add(i.position,h),u)},a.rotate=function(i,h,u,f){if(!u)a.setAngle(i,i.angle+h,f);else{var v=Math.cos(h),m=Math.sin(h),T=i.position.x-u.x,C=i.position.y-u.y;a.setPosition(i,{x:u.x+(T*v-C*m),y:u.y+(T*m+C*v)},f),a.setAngle(i,i.angle+h,f)}},a.scale=function(i,h,u,f){var v=0,m=0;f=f||i.position;for(var T=i.inertia===1/0,C=0;C<i.parts.length;C++){var S=i.parts[C];S.scale.x=h,S.scale.y=u,g.scale(S.vertices,h,u,f),S.axes=n.fromVertices(S.vertices),S.area=g.area(S.vertices),a.setMass(S,i.density*S.area),g.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),a.setInertia(S,a._inertiaScale*g.inertia(S.vertices,S.mass)),g.translate(S.vertices,{x:S.position.x,y:S.position.y}),C>0&&(v+=S.area,m+=S.inertia),S.position.x=f.x+(S.position.x-f.x)*h,S.position.y=f.y+(S.position.y-f.y)*u,e.update(S.bounds,S.vertices,i.velocity)}i.parts.length>1&&(i.area=v,i.isStatic||(a.setMass(i,i.density*v),a.setInertia(i,m))),i.circleRadius&&(h===u?i.circleRadius*=h:i.circleRadius=null),T&&a.setInertia(i,1/0)},a.update=function(i,h){h=(typeof h<"u"?h:16.666666666666668)*i.timeScale;var u=h*h,f=a._timeCorrection?h/(i.deltaTime||h):1,v=1-i.frictionAir*(h/r._baseDelta),m=(i.position.x-i.positionPrev.x)*f,T=(i.position.y-i.positionPrev.y)*f;i.velocity.x=m*v+i.force.x/i.mass*u,i.velocity.y=T*v+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*v*f+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=o.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var C=0;C<i.parts.length;C++){var S=i.parts[C];g.translate(S.vertices,i.velocity),C>0&&(S.position.x+=i.velocity.x,S.position.y+=i.velocity.y),i.angularVelocity!==0&&(g.rotate(S.vertices,i.angularVelocity,i.position),n.rotate(S.axes,i.angularVelocity),C>0&&o.rotateAbout(S.position,i.angularVelocity,i.position,S.position)),e.update(S.bounds,S.vertices,i.velocity)}},a.updateVelocities=function(i){var h=a._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*h,u.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},a.applyForce=function(i,h,u){var f={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=f.x*u.y-f.y*u.x},a._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var f=i.parts[u],v=f.mass!==1/0?f.mass:1;h.mass+=v,h.area+=f.area,h.inertia+=f.inertia,h.centre=o.add(h.centre,o.mult(f.position,v))}return h.centre=o.div(h.centre,h.mass),h}})()},69351:(c,x,t)=>{var a={};c.exports=a;var g=t(35810),o=t(53402),s=t(15647),r=t(22562);(function(){a.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},a.setModified=function(e,n,l,i){if(g.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&a.setModified(e.parent,n,l,i),i)for(var h=0;h<e.composites.length;h++){var u=e.composites[h];a.setModified(u,n,l,i)}},a.add=function(e,n){var l=[].concat(n);g.trigger(e,"beforeAdd",{object:n});for(var i=0;i<l.length;i++){var h=l[i];switch(h.type){case"body":if(h.parent!==h){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(e,h);break;case"constraint":a.addConstraint(e,h);break;case"composite":a.addComposite(e,h);break;case"mouseConstraint":a.addConstraint(e,h.constraint);break}}return g.trigger(e,"afterAdd",{object:n}),e},a.remove=function(e,n,l){var i=[].concat(n);g.trigger(e,"beforeRemove",{object:n});for(var h=0;h<i.length;h++){var u=i[h];switch(u.type){case"body":a.removeBody(e,u,l);break;case"constraint":a.removeConstraint(e,u,l);break;case"composite":a.removeComposite(e,u,l);break;case"mouseConstraint":a.removeConstraint(e,u.constraint);break}}return g.trigger(e,"afterRemove",{object:n}),e},a.addComposite=function(e,n){return e.composites.push(n),n.parent=e,a.setModified(e,!0,!0,!1),e},a.removeComposite=function(e,n,l){var i=o.indexOf(e.composites,n);if(i!==-1&&a.removeCompositeAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeComposite(e.composites[h],n,!0);return e},a.removeCompositeAt=function(e,n){return e.composites.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addBody=function(e,n){return e.bodies.push(n),a.setModified(e,!0,!0,!1),e},a.removeBody=function(e,n,l){var i=o.indexOf(e.bodies,n);if(i!==-1&&a.removeBodyAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeBody(e.composites[h],n,!0);return e},a.removeBodyAt=function(e,n){return e.bodies.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addConstraint=function(e,n){return e.constraints.push(n),a.setModified(e,!0,!0,!1),e},a.removeConstraint=function(e,n,l){var i=o.indexOf(e.constraints,n);if(i!==-1&&a.removeConstraintAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeConstraint(e.composites[h],n,!0);return e},a.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),a.setModified(e,!0,!0,!1),e},a.clear=function(e,n,l){if(l)for(var i=0;i<e.composites.length;i++)a.clear(e.composites[i],n,!0);return n?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,a.setModified(e,!0,!0,!1),e},a.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),l=0;l<e.composites.length;l++)n=n.concat(a.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=n),n},a.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),l=0;l<e.composites.length;l++)n=n.concat(a.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=n),n},a.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),l=0;l<e.composites.length;l++)n=n.concat(a.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=n),n},a.get=function(e,n,l){var i,h;switch(l){case"body":i=a.allBodies(e);break;case"constraint":i=a.allConstraints(e);break;case"composite":i=a.allComposites(e).concat(e);break}return i?(h=i.filter(function(u){return u.id.toString()===n.toString()}),h.length===0?null:h[0]):null},a.move=function(e,n,l){return a.remove(e,n),a.add(l,n),e},a.rebase=function(e){for(var n=a.allBodies(e).concat(a.allConstraints(e)).concat(a.allComposites(e)),l=0;l<n.length;l++)n[l].id=o.nextId();return e},a.translate=function(e,n,l){for(var i=l?a.allBodies(e):e.bodies,h=0;h<i.length;h++)r.translate(i[h],n);return e},a.rotate=function(e,n,l,i){for(var h=Math.cos(n),u=Math.sin(n),f=i?a.allBodies(e):e.bodies,v=0;v<f.length;v++){var m=f[v],T=m.position.x-l.x,C=m.position.y-l.y;r.setPosition(m,{x:l.x+(T*h-C*u),y:l.y+(T*u+C*h)}),r.rotate(m,n)}return e},a.scale=function(e,n,l,i,h){for(var u=h?a.allBodies(e):e.bodies,f=0;f<u.length;f++){var v=u[f],m=v.position.x-i.x,T=v.position.y-i.y;r.setPosition(v,{x:i.x+m*n,y:i.y+T*l}),r.scale(v,n,l)}return e},a.bounds=function(e){for(var n=a.allBodies(e),l=[],i=0;i<n.length;i+=1){var h=n[i];l.push(h.bounds.min,h.bounds.max)}return s.create(l)}})()},4372:(c,x,t)=>{var a={};c.exports=a;var g=t(69351);(function(){a.create=g.create,a.add=g.add,a.remove=g.remove,a.clear=g.clear,a.addComposite=g.addComposite,a.addBody=g.addBody,a.addConstraint=g.addConstraint})()},52284:(c,x,t)=>{var a={};c.exports=a;var g=t(41598),o=t(4506);(function(){var s=[],r={overlap:0,axis:null},e={overlap:0,axis:null};a.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},a.collides=function(n,l,i){if(a._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(a._overlapAxes(e,l.vertices,n.vertices,l.axes),e.overlap<=0))return null;var h=i&&i.table[o.id(n,l)],u;h?u=h.collision:(u=a.create(n,l),u.collided=!0,u.bodyA=n.id<l.id?n:l,u.bodyB=n.id<l.id?l:n,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),n=u.bodyA,l=u.bodyB;var f;r.overlap<e.overlap?f=r:f=e;var v=u.normal,m=u.supports,T=f.axis,C=T.x,S=T.y;C*(l.position.x-n.position.x)+S*(l.position.y-n.position.y)<0?(v.x=C,v.y=S):(v.x=-C,v.y=-S),u.tangent.x=-v.y,u.tangent.y=v.x,u.depth=f.overlap,u.penetration.x=v.x*u.depth,u.penetration.y=v.y*u.depth;var P=a._findSupports(n,l,v,1),A=0;if(g.contains(n.vertices,P[0])&&(m[A++]=P[0]),g.contains(n.vertices,P[1])&&(m[A++]=P[1]),A<2){var L=a._findSupports(l,n,v,-1);g.contains(l.vertices,L[0])&&(m[A++]=L[0]),A<2&&g.contains(l.vertices,L[1])&&(m[A++]=L[1])}return A===0&&(m[A++]=P[0]),m.length=A,u},a._overlapAxes=function(n,l,i,h){var u=l.length,f=i.length,v=l[0].x,m=l[0].y,T=i[0].x,C=i[0].y,S=h.length,P=Number.MAX_VALUE,A=0,L,F,B,D,I,G;for(I=0;I<S;I++){var z=h[I],W=z.x,Y=z.y,K=v*W+m*Y,Z=T*W+C*Y,V=K,H=Z;for(G=1;G<u;G+=1)D=l[G].x*W+l[G].y*Y,D>V?V=D:D<K&&(K=D);for(G=1;G<f;G+=1)D=i[G].x*W+i[G].y*Y,D>H?H=D:D<Z&&(Z=D);if(F=V-Z,B=H-K,L=F<B?F:B,L<P&&(P=L,A=I,L<=0))break}n.axis=h[A],n.overlap=P},a._projectToAxis=function(n,l,i){for(var h=l[0].x*i.x+l[0].y*i.y,u=h,f=1;f<l.length;f+=1){var v=l[f].x*i.x+l[f].y*i.y;v>u?u=v:v<h&&(h=v)}n.min=h,n.max=u},a._findSupports=function(n,l,i,h){var u=l.vertices,f=u.length,v=n.position.x,m=n.position.y,T=i.x*h,C=i.y*h,S=Number.MAX_VALUE,P,A,L,F,B;for(B=0;B<f;B+=1)A=u[B],F=T*(v-A.x)+C*(m-A.y),F<S&&(S=F,P=A);return L=u[(f+P.index-1)%f],S=T*(v-L.x)+C*(m-L.y),A=u[(P.index+1)%f],T*(v-A.x)+C*(m-A.y)<S?(s[0]=P,s[1]=A,s):(s[0]=P,s[1]=L,s)}})()},43424:c=>{var x={};c.exports=x,function(){x.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,x,t)=>{var a={};c.exports=a;var g=t(53402),o=t(52284);(function(){a.create=function(s){var r={bodies:[],pairs:null};return g.extend(r,s)},a.setBodies=function(s,r){s.bodies=r.slice(0)},a.clear=function(s){s.bodies=[]},a.collisions=function(s){var r=[],e=s.pairs,n=s.bodies,l=n.length,i=a.canCollide,h=o.collides,u,f;for(n.sort(a._compareBoundsX),u=0;u<l;u++){var v=n[u],m=v.bounds,T=v.bounds.max.x,C=v.bounds.max.y,S=v.bounds.min.y,P=v.isStatic||v.isSleeping,A=v.parts.length,L=A===1;for(f=u+1;f<l;f++){var F=n[f],B=F.bounds;if(B.min.x>T)break;if(!(C<B.min.y||S>B.max.y)&&!(P&&(F.isStatic||F.isSleeping))&&i(v.collisionFilter,F.collisionFilter)){var D=F.parts.length;if(L&&D===1){var I=h(v,F,e);I&&r.push(I)}else for(var G=A>1?1:0,z=D>1?1:0,W=G;W<A;W++)for(var Y=v.parts[W],m=Y.bounds,K=z;K<D;K++){var Z=F.parts[K],B=Z.bounds;if(!(m.min.x>B.max.x||m.max.x<B.min.x||m.max.y<B.min.y||m.min.y>B.max.y)){var I=h(Y,Z,e);I&&r.push(I)}}}}}return r},a.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},a._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},4506:(c,x,t)=>{var a={};c.exports=a;var g=t(43424);(function(){a.create=function(o,s){var r=o.bodyA,e=o.bodyB,n={id:a.id(r,e),bodyA:r,bodyB:e,collision:o,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(n,o,s),n},a.update=function(o,s,r){var e=o.contacts,n=s.supports,l=o.activeContacts,i=s.parentA,h=s.parentB,u=i.vertices.length;o.isActive=!0,o.timeUpdated=r,o.collision=s,o.separation=s.depth,o.inverseMass=i.inverseMass+h.inverseMass,o.friction=i.friction<h.friction?i.friction:h.friction,o.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,o.restitution=i.restitution>h.restitution?i.restitution:h.restitution,o.slop=i.slop>h.slop?i.slop:h.slop,s.pair=o,l.length=0;for(var f=0;f<n.length;f++){var v=n[f],m=v.body===i?v.index:u+v.index,T=e[m];T?l.push(T):l.push(e[m]=g.create(v))}},a.setActive=function(o,s,r){s?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.activeContacts.length=0)},a.id=function(o,s){return o.id<s.id?"A"+o.id+"B"+s.id:"A"+s.id+"B"+o.id}})()},99561:(c,x,t)=>{var a={};c.exports=a;var g=t(4506),o=t(53402);(function(){a.create=function(s){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,r,e){var n=s.list,l=n.length,i=s.table,h=r.length,u=s.collisionStart,f=s.collisionEnd,v=s.collisionActive,m,T,C,S;for(u.length=0,f.length=0,v.length=0,S=0;S<l;S++)n[S].confirmedActive=!1;for(S=0;S<h;S++)m=r[S],C=m.pair,C?(C.isActive?v.push(C):u.push(C),g.update(C,m,e),C.confirmedActive=!0):(C=g.create(m,e),i[C.id]=C,u.push(C),n.push(C));var P=[];for(l=n.length,S=0;S<l;S++)C=n[S],C.confirmedActive||(g.setActive(C,!1,e),f.push(C),!C.collision.bodyA.isSleeping&&!C.collision.bodyB.isSleeping&&P.push(S));for(S=0;S<P.length;S++)T=P[S]-S,C=n[T],n.splice(T,1),delete i[C.id]},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(c,x,t)=>{var a={};c.exports=a;var g=t(31725),o=t(52284),s=t(15647),r=t(66280),e=t(41598);(function(){a.collides=function(n,l){for(var i=[],h=l.length,u=n.bounds,f=o.collides,v=s.overlaps,m=0;m<h;m++){var T=l[m],C=T.parts.length,S=C===1?0:1;if(n!==T&&v(T.bounds,u))for(var P=S;P<C;P++){var A=T.parts[P];if(v(A.bounds,u)){var L=f(A,n);if(L){i.push(L);break}}}}return i},a.ray=function(n,l,i,h){h=h||1e-100;for(var u=g.angle(l,i),f=g.magnitude(g.sub(l,i)),v=(i.x+l.x)*.5,m=(i.y+l.y)*.5,T=r.rectangle(v,m,f,h,{angle:u}),C=a.collides(T,n),S=0;S<C.length;S+=1){var P=C[S];P.body=P.bodyB=P.bodyA}return C},a.region=function(n,l,i){for(var h=[],u=0;u<n.length;u++){var f=n[u],v=s.overlaps(f.bounds,l);(v&&!i||!v&&i)&&h.push(f)}return h},a.point=function(n,l){for(var i=[],h=0;h<n.length;h++){var u=n[h];if(s.contains(u.bounds,l))for(var f=u.parts.length===1?0:1;f<u.parts.length;f++){var v=u.parts[f];if(s.contains(v.bounds,l)&&e.contains(v.vertices,l)){i.push(u);break}}}return i}})()},66272:(c,x,t)=>{var a={};c.exports=a;var g=t(41598),o=t(53402),s=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(r){var e,n,l,i=r.length;for(e=0;e<i;e++)n=r[e],n.isActive&&(l=n.activeContacts.length,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},a.solvePosition=function(r,e,n){var l,i,h,u,f,v,m,T,C=a._positionDampen*(n||1),S=o.clamp(e/o._baseDelta,0,1),P=r.length;for(l=0;l<P;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,f=h.parentB,v=h.normal,i.separation=v.x*(f.positionImpulse.x+h.penetration.x-u.positionImpulse.x)+v.y*(f.positionImpulse.y+h.penetration.y-u.positionImpulse.y));for(l=0;l<P;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,f=h.parentB,v=h.normal,T=i.separation-i.slop*S,(u.isStatic||f.isStatic)&&(T*=2),u.isStatic||u.isSleeping||(m=C/u.totalContacts,u.positionImpulse.x+=v.x*T*m,u.positionImpulse.y+=v.y*T*m),f.isStatic||f.isSleeping||(m=C/f.totalContacts,f.positionImpulse.x-=v.x*T*m,f.positionImpulse.y-=v.y*T*m))},a.postSolvePosition=function(r){for(var e=a._positionWarming,n=r.length,l=g.translate,i=s.update,h=0;h<n;h++){var u=r[h],f=u.positionImpulse,v=f.x,m=f.y,T=u.velocity;if(u.totalContacts=0,v!==0||m!==0){for(var C=0;C<u.parts.length;C++){var S=u.parts[C];l(S.vertices,f),i(S.bounds,S.vertices,T),S.position.x+=v,S.position.y+=m}u.positionPrev.x+=v,u.positionPrev.y+=m,v*T.x+m*T.y<0?(f.x=0,f.y=0):(f.x*=e,f.y*=e)}}},a.preSolveVelocity=function(r){var e=r.length,n,l;for(n=0;n<e;n++){var i=r[n];if(!(!i.isActive||i.isSensor)){var h=i.activeContacts,u=h.length,f=i.collision,v=f.parentA,m=f.parentB,T=f.normal,C=f.tangent;for(l=0;l<u;l++){var S=h[l],P=S.vertex,A=S.normalImpulse,L=S.tangentImpulse;if(A!==0||L!==0){var F=T.x*A+C.x*L,B=T.y*A+C.y*L;v.isStatic||v.isSleeping||(v.positionPrev.x+=F*v.inverseMass,v.positionPrev.y+=B*v.inverseMass,v.anglePrev+=v.inverseInertia*((P.x-v.position.x)*B-(P.y-v.position.y)*F)),m.isStatic||m.isSleeping||(m.positionPrev.x-=F*m.inverseMass,m.positionPrev.y-=B*m.inverseMass,m.anglePrev-=m.inverseInertia*((P.x-m.position.x)*B-(P.y-m.position.y)*F))}}}}},a.solveVelocity=function(r,e){var n=e/o._baseDelta,l=n*n,i=l*n,h=-a._restingThresh*n,u=a._restingThreshTangent,f=a._frictionNormalMultiplier*n,v=a._frictionMaxStatic,m=r.length,T,C,S,P;for(S=0;S<m;S++){var A=r[S];if(!(!A.isActive||A.isSensor)){var L=A.collision,F=L.parentA,B=L.parentB,D=F.velocity,I=B.velocity,G=L.normal.x,z=L.normal.y,W=L.tangent.x,Y=L.tangent.y,K=A.activeContacts,Z=K.length,V=1/Z,H=F.inverseMass+B.inverseMass,N=A.friction*A.frictionStatic*f;for(D.x=F.position.x-F.positionPrev.x,D.y=F.position.y-F.positionPrev.y,I.x=B.position.x-B.positionPrev.x,I.y=B.position.y-B.positionPrev.y,F.angularVelocity=F.angle-F.anglePrev,B.angularVelocity=B.angle-B.anglePrev,P=0;P<Z;P++){var b=K[P],X=b.vertex,$=X.x-F.position.x,Q=X.y-F.position.y,k=X.x-B.position.x,J=X.y-B.position.y,et=D.x-Q*F.angularVelocity,nt=D.y+$*F.angularVelocity,st=I.x-J*B.angularVelocity,ot=I.y+k*B.angularVelocity,ut=et-st,at=nt-ot,ct=G*ut+z*at,Pt=W*ut+Y*at,Ct=A.separation+ct,Et=Math.min(Ct,1);Et=Ct<0?0:Et;var dt=Et*N;Pt<-dt||Pt>dt?(C=Pt>0?Pt:-Pt,T=A.friction*(Pt>0?1:-1)*i,T<-C?T=-C:T>C&&(T=C)):(T=Pt,C=v);var St=$*z-Q*G,vt=k*z-J*G,Mt=V/(H+F.inverseInertia*St*St+B.inverseInertia*vt*vt),Nt=(1+A.restitution)*ct*Mt;if(T*=Mt,ct<h)b.normalImpulse=0;else{var Zt=b.normalImpulse;b.normalImpulse+=Nt,b.normalImpulse>0&&(b.normalImpulse=0),Nt=b.normalImpulse-Zt}if(Pt<-u||Pt>u)b.tangentImpulse=0;else{var Ut=b.tangentImpulse;b.tangentImpulse+=T,b.tangentImpulse<-C&&(b.tangentImpulse=-C),b.tangentImpulse>C&&(b.tangentImpulse=C),T=b.tangentImpulse-Ut}var Ht=G*Nt+W*T,Gt=z*Nt+Y*T;F.isStatic||F.isSleeping||(F.positionPrev.x+=Ht*F.inverseMass,F.positionPrev.y+=Gt*F.inverseMass,F.anglePrev+=($*Gt-Q*Ht)*F.inverseInertia),B.isStatic||B.isSleeping||(B.positionPrev.x-=Ht*B.inverseMass,B.positionPrev.y-=Gt*B.inverseMass,B.anglePrev-=(k*Gt-J*Ht)*B.inverseInertia)}}}}})()},48140:(c,x,t)=>{var a={};c.exports=a;var g=t(41598),o=t(31725),s=t(53614),r=t(15647),e=t(66615),n=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(l){var i=l;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?o.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?o.add(i.bodyB.position,i.pointB):i.pointB,f=o.magnitude(o.sub(h,u));i.length=typeof i.length<"u"?i.length:f,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(v.type="pin",v.anchors=!1):i.stiffness<.9&&(v.type="spring"),i.render=n.extend(v,i.render),i},a.preSolveAll=function(l){for(var i=0;i<l.length;i+=1){var h=l[i],u=h.constraintImpulse;h.isStatic||u.x===0&&u.y===0&&u.angle===0||(h.position.x+=u.x,h.position.y+=u.y,h.angle+=u.angle)}},a.solveAll=function(l,i){for(var h=n.clamp(i/n._baseDelta,0,1),u=0;u<l.length;u+=1){var f=l[u],v=!f.bodyA||f.bodyA&&f.bodyA.isStatic,m=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(v||m)&&a.solve(l[u],h)}for(u=0;u<l.length;u+=1)f=l[u],v=!f.bodyA||f.bodyA&&f.bodyA.isStatic,m=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!v&&!m&&a.solve(l[u],h)},a.solve=function(l,i){var h=l.bodyA,u=l.bodyB,f=l.pointA,v=l.pointB;if(!(!h&&!u)){h&&!h.isStatic&&(o.rotate(f,h.angle-l.angleA,f),l.angleA=h.angle),u&&!u.isStatic&&(o.rotate(v,u.angle-l.angleB,v),l.angleB=u.angle);var m=f,T=v;if(h&&(m=o.add(h.position,f)),u&&(T=o.add(u.position,v)),!(!m||!T)){var C=o.sub(m,T),S=o.magnitude(C);S<a._minLength&&(S=a._minLength);var P=(S-l.length)/S,A=l.stiffness>=1||l.length===0,L=A?l.stiffness*i:l.stiffness*i*i,F=l.damping*i,B=o.mult(C,P*L),D=(h?h.inverseMass:0)+(u?u.inverseMass:0),I=(h?h.inverseInertia:0)+(u?u.inverseInertia:0),G=D+I,z,W,Y,K,Z;if(F>0){var V=o.create();Y=o.div(C,S),Z=o.sub(u&&o.sub(u.position,u.positionPrev)||V,h&&o.sub(h.position,h.positionPrev)||V),K=o.dot(Y,Z)}h&&!h.isStatic&&(W=h.inverseMass/D,h.constraintImpulse.x-=B.x*W,h.constraintImpulse.y-=B.y*W,h.position.x-=B.x*W,h.position.y-=B.y*W,F>0&&(h.positionPrev.x-=F*Y.x*K*W,h.positionPrev.y-=F*Y.y*K*W),z=o.cross(f,B)/G*a._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=z,h.angle-=z),u&&!u.isStatic&&(W=u.inverseMass/D,u.constraintImpulse.x+=B.x*W,u.constraintImpulse.y+=B.y*W,u.position.x+=B.x*W,u.position.y+=B.y*W,F>0&&(u.positionPrev.x+=F*Y.x*K*W,u.positionPrev.y+=F*Y.y*K*W),z=o.cross(v,B)/G*a._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle+=z,u.angle+=z)}}},a.postSolveAll=function(l){for(var i=0;i<l.length;i++){var h=l[i],u=h.constraintImpulse;if(!(h.isStatic||u.x===0&&u.y===0&&u.angle===0)){s.set(h,!1);for(var f=0;f<h.parts.length;f++){var v=h.parts[f];g.translate(v.vertices,u),f>0&&(v.position.x+=u.x,v.position.y+=u.y),u.angle!==0&&(g.rotate(v.vertices,u.angle,h.position),e.rotate(v.axes,u.angle),f>0&&o.rotateAbout(v.position,u.angle,h.position,v.position)),r.update(v.bounds,v.vertices,h.velocity)}u.angle*=a._warming,u.x*=a._warming,u.y*=a._warming}}},a.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},a.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},a.currentLength=function(l){var i=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),h=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),u=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),f=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=i-u,m=h-f;return Math.sqrt(v*v+m*m)}})()},53402:(c,x,t)=>{var a={};c.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(o,s){var r,e;typeof s=="boolean"?(r=2,e=s):(r=1,e=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var i in l)e&&l[i]&&l[i].constructor===Object&&(!o[i]||o[i].constructor===Object)?(o[i]=o[i]||{},a.extend(o[i],e,l[i])):o[i]=l[i]}return o},a.clone=function(o,s){return a.extend({},s,o)},a.keys=function(o){if(Object.keys)return Object.keys(o);var s=[];for(var r in o)s.push(r);return s},a.values=function(o){var s=[];if(Object.keys){for(var r=Object.keys(o),e=0;e<r.length;e++)s.push(o[r[e]]);return s}for(var n in o)s.push(o[n]);return s},a.get=function(o,s,r,e){s=s.split(".").slice(r,e);for(var n=0;n<s.length;n+=1)o=o[s[n]];return o},a.set=function(o,s,r,e,n){var l=s.split(".").slice(e,n);return a.get(o,s,0,-1)[l[l.length-1]]=r,r},a.shuffle=function(o){for(var s=o.length-1;s>0;s--){var r=Math.floor(a.random()*(s+1)),e=o[s];o[s]=o[r],o[r]=e}return o},a.choose=function(o){return o[Math.floor(a.random()*o.length)]},a.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},a.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},a.isFunction=function(o){return typeof o=="function"},a.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},a.isString=function(o){return toString.call(o)==="[object String]"},a.clamp=function(o,s,r){return o<s?s:o>r?r:o},a.sign=function(o){return o<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(o,s){return o=typeof o<"u"?o:0,s=typeof s<"u"?s:1,o+g()*(s-o)};var g=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[o]||(a.warn(o),a._warnedOnce[o]=!0)},a.deprecated=function(o,s,r){o[s]=a.chain(function(){a.warnOnce(" deprecated ",r)},o[s])},a.nextId=function(){return a._nextId++},a.indexOf=function(o,s){if(o.indexOf)return o.indexOf(s);for(var r=0;r<o.length;r++)if(o[r]===s)return r;return-1},a.map=function(o,s){if(o.map)return o.map(s);for(var r=[],e=0;e<o.length;e+=1)r.push(s(o[e]));return r},a.topologicalSort=function(o){var s=[],r=[],e=[];for(var n in o)!r[n]&&!e[n]&&a._topologicalSort(n,r,e,o,s);return s},a._topologicalSort=function(o,s,r,e,n){var l=e[o]||[];r[o]=!0;for(var i=0;i<l.length;i+=1){var h=l[i];r[h]||s[h]||a._topologicalSort(h,s,r,e,n)}r[o]=!1,s[o]=!0,n.push(o)},a.chain=function(){for(var o=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?o.push.apply(o,r._chained):o.push(r)}var e=function(){for(var n,l=new Array(arguments.length),i=0,h=arguments.length;i<h;i++)l[i]=arguments[i];for(i=0;i<o.length;i+=1){var u=o[i].apply(n,l);typeof u<"u"&&(n=u)}return n};return e._chained=o,e},a.chainPathBefore=function(o,s,r){return a.set(o,s,a.chain(r,a.get(o,s)))},a.chainPathAfter=function(o,s,r){return a.set(o,s,a.chain(a.get(o,s),r))},a.setDecomp=function(o){a._decomp=o},a.getDecomp=function(){var o=a._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(c,x,t)=>{var a={};c.exports=a;var g=t(53614),o=t(66272),s=t(81388),r=t(99561),e=t(35810),n=t(69351),l=t(48140),i=t(53402),h=t(22562);(function(){a.create=function(u){u=u||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},v=i.extend(f,u);return v.world=u.world||n.create({label:"World"}),v.pairs=u.pairs||r.create(),v.detector=u.detector||s.create(),v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},a.update=function(u,f){var v=i.now(),m=u.world,T=u.detector,C=u.pairs,S=u.timing,P=S.timestamp,A;f=typeof f<"u"?f:i._baseDelta,f*=S.timeScale,S.timestamp+=f,S.lastDelta=f;var L={timestamp:S.timestamp,delta:f};e.trigger(u,"beforeUpdate",L);var F=n.allBodies(m),B=n.allConstraints(m);for(m.isModified&&(s.setBodies(T,F),n.setModified(m,!1,!1,!0)),u.enableSleeping&&g.update(F,f),a._bodiesApplyGravity(F,u.gravity),f>0&&a._bodiesUpdate(F,f),e.trigger(u,"beforeSolve",L),l.preSolveAll(F),A=0;A<u.constraintIterations;A++)l.solveAll(B,f);l.postSolveAll(F),T.pairs=u.pairs;var D=s.collisions(T);r.update(C,D,P),u.enableSleeping&&g.afterCollisions(C.list),C.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:C.collisionStart,timestamp:S.timestamp,delta:f});var I=i.clamp(20/u.positionIterations,0,1);for(o.preSolvePosition(C.list),A=0;A<u.positionIterations;A++)o.solvePosition(C.list,f,I);for(o.postSolvePosition(F),l.preSolveAll(F),A=0;A<u.constraintIterations;A++)l.solveAll(B,f);for(l.postSolveAll(F),o.preSolveVelocity(C.list),A=0;A<u.velocityIterations;A++)o.solveVelocity(C.list,f);return a._bodiesUpdateVelocities(F),C.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:C.collisionActive,timestamp:S.timestamp,delta:f}),C.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:C.collisionEnd,timestamp:S.timestamp,delta:f}),a._bodiesClearForces(F),e.trigger(u,"afterUpdate",L),u.timing.lastElapsed=i.now()-v,u},a.merge=function(u,f){if(i.extend(u,f),f.world){u.world=f.world,a.clear(u);for(var v=n.allBodies(u.world),m=0;m<v.length;m++){var T=v[m];g.set(T,!1),T.id=i.nextId()}}},a.clear=function(u){r.clear(u.pairs),s.clear(u.detector)},a._bodiesClearForces=function(u){for(var f=u.length,v=0;v<f;v++){var m=u[v];m.force.x=0,m.force.y=0,m.torque=0}},a._bodiesApplyGravity=function(u,f){var v=typeof f.scale<"u"?f.scale:.001,m=u.length;if(!(f.x===0&&f.y===0||v===0))for(var T=0;T<m;T++){var C=u[T];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*f.y*v,C.force.x+=C.mass*f.x*v)}},a._bodiesUpdate=function(u,f){for(var v=u.length,m=0;m<v;m++){var T=u[m];T.isStatic||T.isSleeping||h.update(T,f)}},a._bodiesUpdateVelocities=function(u){for(var f=u.length,v=0;v<f;v++)h.updateVelocities(u[v])}})()},35810:(c,x,t)=>{var a={};c.exports=a;var g=t(53402);(function(){a.on=function(o,s,r){for(var e=s.split(" "),n,l=0;l<e.length;l++)n=e[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},a.off=function(o,s,r){if(!s){o.events={};return}typeof s=="function"&&(r=s,s=g.keys(o.events).join(" "));for(var e=s.split(" "),n=0;n<e.length;n++){var l=o.events[e[n]],i=[];if(r&&l)for(var h=0;h<l.length;h++)l[h]!==r&&i.push(l[h]);o.events[e[n]]=i}},a.trigger=function(o,s,r){var e,n,l,i,h=o.events;if(h&&g.keys(h).length>0){r||(r={}),e=s.split(" ");for(var u=0;u<e.length;u++)if(n=e[u],l=h[n],l){i=g.clone(r,!1),i.name=n,i.source=o;for(var f=0;f<l.length;f++)l[f].apply(o,[i])}}}})()},6790:(c,x,t)=>{var a={};c.exports=a;var g=t(73832),o=t(53402);(function(){a.name="matter-js",a.version="0.19.0",a.uses=[],a.used=[],a.use=function(){g.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathBefore(a,s,r)},a.after=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathAfter(a,s,r)}})()},73832:(c,x,t)=>{var a={};c.exports=a;var g=t(53402);(function(){a._registry={},a.register=function(o){if(a.isPlugin(o)||g.warn("Plugin.register:",a.toString(o),"does not implement all required fields."),o.name in a._registry){var s=a._registry[o.name],r=a.versionParse(o.version).number,e=a.versionParse(s.version).number;r>e?(g.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(o)),a._registry[o.name]=o):r<e?g.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(o)):o!==s&&g.warn("Plugin.register:",a.toString(o),"is already registered to different plugin object")}else a._registry[o.name]=o;return o},a.resolve=function(o){return a._registry[a.dependencyParse(o).name]},a.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},a.isPlugin=function(o){return o&&o.name&&o.version&&o.install},a.isUsed=function(o,s){return o.used.indexOf(s)>-1},a.isFor=function(o,s){var r=o.for&&a.dependencyParse(o.for);return!o.for||s.name===r.name&&a.versionSatisfies(s.version,r.range)},a.use=function(o,s){if(o.uses=(o.uses||[]).concat(s||[]),o.uses.length===0){g.warn("Plugin.use:",a.toString(o),"does not specify any dependencies to install.");return}for(var r=a.dependencies(o),e=g.topologicalSort(r),n=[],l=0;l<e.length;l+=1)if(e[l]!==o.name){var i=a.resolve(e[l]);if(!i){n.push(" "+e[l]);continue}a.isUsed(o,i.name)||(a.isFor(i,o)||(g.warn("Plugin.use:",a.toString(i),"is for",i.for,"but installed on",a.toString(o)+"."),i._warned=!0),i.install?i.install(o):(g.warn("Plugin.use:",a.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push(" "+a.toString(i)),delete i._warned):n.push(" "+a.toString(i)),o.used.push(i.name))}n.length>0&&!i.silent&&g.info(n.join("  "))},a.dependencies=function(o,s){var r=a.dependencyParse(o),e=r.name;if(s=s||{},!(e in s)){o=a.resolve(o)||o,s[e]=g.map(o.uses||[],function(l){a.isPlugin(l)&&a.register(l);var i=a.dependencyParse(l),h=a.resolve(l);return h&&!a.versionSatisfies(h.version,i.range)?(g.warn("Plugin.dependencies:",a.toString(h),"does not satisfy",a.toString(i),"used by",a.toString(r)+"."),h._warned=!0,o._warned=!0):h||(g.warn("Plugin.dependencies:",a.toString(l),"used by",a.toString(r),"could not be resolved."),o._warned=!0),i.name});for(var n=0;n<s[e].length;n+=1)a.dependencies(s[e][n],s);return s}},a.dependencyParse=function(o){if(g.isString(o)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(o)||g.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},a.versionParse=function(o){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(o)||g.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=s.exec(o),e=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:e,minor:n,patch:l,parts:[e,n,l],prerelease:r[7],number:e*1e8+n*1e4+l}},a.versionSatisfies=function(o,s){s=s||"*";var r=a.versionParse(s),e=a.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return o===s||o==="*"}})()},53614:(c,x,t)=>{var a={};c.exports=a;var g=t(22562),o=t(35810),s=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(r,e){for(var n=e/s._baseDelta,l=a._motionSleepThreshold,i=0;i<r.length;i++){var h=r[i],u=g.getSpeed(h),f=g.getAngularSpeed(h),v=u*u+f*f;if(h.force.x!==0||h.force.y!==0){a.set(h,!1);continue}var m=Math.min(h.motion,v),T=Math.max(h.motion,v);h.motion=a._minBias*m+(1-a._minBias)*T,h.sleepThreshold>0&&h.motion<l?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/n&&a.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},a.afterCollisions=function(r){for(var e=a._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var i=l.collision,h=i.bodyA.parent,u=i.bodyB.parent;if(!(h.isSleeping&&u.isSleeping||h.isStatic||u.isStatic)&&(h.isSleeping||u.isSleeping)){var f=h.isSleeping&&!h.isStatic?h:u,v=f===h?u:h;!f.isStatic&&v.motion>e&&a.set(f,!1)}}}},a.set=function(r,e){var n=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(c,x,t)=>{var a={};c.exports=a;var g=t(41598),o=t(53402),s=t(22562),r=t(15647),e=t(31725);(function(){a.rectangle=function(n,l,i,h,u){u=u||{};var f={label:"Rectangle Body",position:{x:n,y:l},vertices:g.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(u.chamfer){var v=u.chamfer;f.vertices=g.chamfer(f.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete u.chamfer}return s.create(o.extend({},f,u))},a.trapezoid=function(n,l,i,h,u,f){f=f||{},u*=.5;var v=(1-u*2)*i,m=i*u,T=m+v,C=T+m,S;u<.5?S="L 0 0 L "+m+" "+-h+" L "+T+" "+-h+" L "+C+" 0":S="L 0 0 L "+T+" "+-h+" L "+C+" 0";var P={label:"Trapezoid Body",position:{x:n,y:l},vertices:g.fromPath(S)};if(f.chamfer){var A=f.chamfer;P.vertices=g.chamfer(P.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete f.chamfer}return s.create(o.extend({},P,f))},a.circle=function(n,l,i,h,u){h=h||{};var f={label:"Circle Body",circleRadius:i};u=u||25;var v=Math.ceil(Math.max(10,Math.min(u,i)));return v%2===1&&(v+=1),a.polygon(n,l,v,i,o.extend({},f,h))},a.polygon=function(n,l,i,h,u){if(u=u||{},i<3)return a.circle(n,l,h,u);for(var f=2*Math.PI/i,v="",m=f*.5,T=0;T<i;T+=1){var C=m+T*f,S=Math.cos(C)*h,P=Math.sin(C)*h;v+="L "+S.toFixed(3)+" "+P.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:n,y:l},vertices:g.fromPath(v)};if(u.chamfer){var L=u.chamfer;A.vertices=g.chamfer(A.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete u.chamfer}return s.create(o.extend({},A,u))},a.fromVertices=function(n,l,i,h,u,f,v,m){var T=o.getDecomp(),C,S,P,A,L,F,B,D,I,G,z;for(C=!!(T&&T.quickDecomp),h=h||{},P=[],u=typeof u<"u"?u:!1,f=typeof f<"u"?f:.01,v=typeof v<"u"?v:10,m=typeof m<"u"?m:.01,o.isArray(i[0])||(i=[i]),G=0;G<i.length;G+=1)if(F=i[G],A=g.isConvex(F),L=!A,L&&!C&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!C)A?F=g.clockwiseSort(F):F=g.hull(F),P.push({position:{x:n,y:l},vertices:F});else{var W=F.map(function(k){return[k.x,k.y]});T.makeCCW(W),f!==!1&&T.removeCollinearPoints(W,f),m!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(W,m);var Y=T.quickDecomp(W);for(B=0;B<Y.length;B++){var K=Y[B],Z=K.map(function(k){return{x:k[0],y:k[1]}});v>0&&g.area(Z)<v||P.push({position:g.centre(Z),vertices:Z})}}for(B=0;B<P.length;B++)P[B]=s.create(o.extend(P[B],h));if(u){var V=5;for(B=0;B<P.length;B++){var H=P[B];for(D=B+1;D<P.length;D++){var N=P[D];if(r.overlaps(H.bounds,N.bounds)){var b=H.vertices,X=N.vertices;for(I=0;I<H.vertices.length;I++)for(z=0;z<N.vertices.length;z++){var $=e.magnitudeSquared(e.sub(b[(I+1)%b.length],X[z])),Q=e.magnitudeSquared(e.sub(b[I],X[(z+1)%X.length]));$<V&&Q<V&&(b[I].isInternal=!0,X[z].isInternal=!0)}}}}}return P.length>1?(S=s.create(o.extend({parts:P.slice(0)},h)),s.setPosition(S,{x:n,y:l}),S):P[0]},a.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var i=0;i<n.length;i++)for(var h=n[i],u=i+1;u<n.length;u++){var f=n[u];if(r.overlaps(h.bounds,f.bounds))for(var v=h.vertices,m=f.vertices,T=0;T<h.vertices.length;T++)for(var C=0;C<f.vertices.length;C++){var S=e.magnitudeSquared(e.sub(v[(T+1)%v.length],m[C])),P=e.magnitudeSquared(e.sub(v[T],m[(C+1)%m.length]));S<l&&P<l&&(v[T].isInternal=!0,m[C].isInternal=!0)}}return n}})()},74116:(c,x,t)=>{var a={};c.exports=a;var g=t(69351),o=t(48140),s=t(53402),r=t(22562),e=t(66280);(function(){a.stack=function(n,l,i,h,u,f,v){for(var m=g.create({label:"Stack"}),T=n,C=l,S,P=0,A=0;A<h;A++){for(var L=0,F=0;F<i;F++){var B=v(T,C,F,A,S,P);if(B){var D=B.bounds.max.y-B.bounds.min.y,I=B.bounds.max.x-B.bounds.min.x;D>L&&(L=D),r.translate(B,{x:I*.5,y:D*.5}),T=B.bounds.max.x+u,g.addBody(m,B),S=B,P+=1}else T+=u}C+=L+f,T=n}return m},a.chain=function(n,l,i,h,u,f){for(var v=n.bodies,m=1;m<v.length;m++){var T=v[m-1],C=v[m],S=T.bounds.max.y-T.bounds.min.y,P=T.bounds.max.x-T.bounds.min.x,A=C.bounds.max.y-C.bounds.min.y,L=C.bounds.max.x-C.bounds.min.x,F={bodyA:T,pointA:{x:P*l,y:S*i},bodyB:C,pointB:{x:L*h,y:A*u}},B=s.extend(F,f);g.addConstraint(n,o.create(B))}return n.label+=" Chain",n},a.mesh=function(n,l,i,h,u){var f=n.bodies,v,m,T,C,S;for(v=0;v<i;v++){for(m=1;m<l;m++)T=f[m-1+v*l],C=f[m+v*l],g.addConstraint(n,o.create(s.extend({bodyA:T,bodyB:C},u)));if(v>0)for(m=0;m<l;m++)T=f[m+(v-1)*l],C=f[m+v*l],g.addConstraint(n,o.create(s.extend({bodyA:T,bodyB:C},u))),h&&m>0&&(S=f[m-1+(v-1)*l],g.addConstraint(n,o.create(s.extend({bodyA:S,bodyB:C},u)))),h&&m<l-1&&(S=f[m+1+(v-1)*l],g.addConstraint(n,o.create(s.extend({bodyA:S,bodyB:C},u))))}return n.label+=" Mesh",n},a.pyramid=function(n,l,i,h,u,f,v){return a.stack(n,l,i,h,u,f,function(m,T,C,S,P,A){var L=Math.min(h,Math.ceil(i/2)),F=P?P.bounds.max.x-P.bounds.min.x:0;if(!(S>L)){S=L-S;var B=S,D=i-1-S;if(!(C<B||C>D)){A===1&&r.translate(P,{x:(C+(i%2===1?1:-1))*F,y:0});var I=P?C*F:0;return v(n+I+C*u,T,C,S,P,A)}}})},a.newtonsCradle=function(n,l,i,h,u){for(var f=g.create({label:"Newtons Cradle"}),v=0;v<i;v++){var m=1.9,T=e.circle(n+v*(h*m),l+u,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=o.create({pointA:{x:n+v*(h*m),y:l},bodyB:T});g.addBody(f,T),g.addConstraint(f,C)}return f},a.car=function(n,l,i,h,u){var f=r.nextGroup(!0),v=20,m=-i*.5+v,T=i*.5-v,C=0,S=g.create({label:"Car"}),P=e.rectangle(n,l,i,h,{collisionFilter:{group:f},chamfer:{radius:h*.5},density:2e-4}),A=e.circle(n+m,l+C,u,{collisionFilter:{group:f},friction:.8}),L=e.circle(n+T,l+C,u,{collisionFilter:{group:f},friction:.8}),F=o.create({bodyB:P,pointB:{x:m,y:C},bodyA:A,stiffness:1,length:0}),B=o.create({bodyB:P,pointB:{x:T,y:C},bodyA:L,stiffness:1,length:0});return g.addBody(S,P),g.addBody(S,A),g.addBody(S,L),g.addConstraint(S,F),g.addConstraint(S,B),S},a.softBody=function(n,l,i,h,u,f,v,m,T,C){T=s.extend({inertia:1/0},T),C=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var S=a.stack(n,l,i,h,u,f,function(P,A){return e.circle(P,A,m,T)});return a.mesh(S,i,h,v,C),S.label="Soft Body",S}})()},66615:(c,x,t)=>{var a={};c.exports=a;var g=t(31725),o=t(53402);(function(){a.fromVertices=function(s){for(var r={},e=0;e<s.length;e++){var n=(e+1)%s.length,l=g.normalise({x:s[n].y-s[e].y,y:s[e].x-s[n].x}),i=l.y===0?1/0:l.x/l.y;i=i.toFixed(3).toString(),r[i]=l}return o.values(r)},a.rotate=function(s,r){if(r!==0)for(var e=Math.cos(r),n=Math.sin(r),l=0;l<s.length;l++){var i=s[l],h;h=i.x*e-i.y*n,i.y=i.x*n+i.y*e,i.x=h}}})()},15647:c=>{var x={};c.exports=x,function(){x.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&x.update(a,t),a},x.update=function(t,a,g){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<a.length;o++){var s=a[o];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}g&&(g.x>0?t.max.x+=g.x:t.min.x+=g.x,g.y>0?t.max.y+=g.y:t.min.y+=g.y)},x.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},x.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},x.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},x.shift=function(t,a){var g=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+g,t.min.y=a.y,t.max.y=a.y+o}}()},74058:(c,x,t)=>{var a={};c.exports=a,t(15647);var g=t(53402);(function(){a.pathToVertices=function(o,s){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,e,n,l,i,h,u,f,v,m,T=[],C,S,P=0,A=0,L=0;s=s||15;var F=function(D,I,G){var z=G%2===1&&G>1;if(!v||D!=v.x||I!=v.y){v&&z?(C=v.x,S=v.y):(C=0,S=0);var W={x:C+D,y:S+I};(z||!v)&&(v=W),T.push(W),A=C+D,L=S+I}},B=function(D){var I=D.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":A=D.x,L=D.y;break;case"H":A=D.x;break;case"V":L=D.y;break}F(A,L,D.pathSegType)}};for(a._svgPathToAbsolute(o),n=o.getTotalLength(),h=[],r=0;r<o.pathSegList.numberOfItems;r+=1)h.push(o.pathSegList.getItem(r));for(u=h.concat();P<n;){if(m=o.getPathSegAtLength(P),i=h[m],i!=f){for(;u.length&&u[0]!=i;)B(u.shift());f=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(P),F(l.x,l.y,0);break}P+=s}for(r=0,e=u.length;r<e;++r)B(u[r]);return T},a._svgPathToAbsolute=function(o){for(var s,r,e,n,l,i,h=o.pathSegList,u=0,f=0,v=h.numberOfItems,m=0;m<v;++m){var T=h.getItem(m),C=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in T&&(u=T.x),"y"in T&&(f=T.y);else switch("x1"in T&&(e=u+T.x1),"x2"in T&&(l=u+T.x2),"y1"in T&&(n=f+T.y1),"y2"in T&&(i=f+T.y2),"x"in T&&(u+=T.x),"y"in T&&(f+=T.y),C){case"m":h.replaceItem(o.createSVGPathSegMovetoAbs(u,f),m);break;case"l":h.replaceItem(o.createSVGPathSegLinetoAbs(u,f),m);break;case"h":h.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(u),m);break;case"v":h.replaceItem(o.createSVGPathSegLinetoVerticalAbs(f),m);break;case"c":h.replaceItem(o.createSVGPathSegCurvetoCubicAbs(u,f,e,n,l,i),m);break;case"s":h.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(u,f,l,i),m);break;case"q":h.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(u,f,e,n),m);break;case"t":h.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(u,f),m);break;case"a":h.replaceItem(o.createSVGPathSegArcAbs(u,f,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),m);break;case"z":case"Z":u=s,f=r;break}(C=="M"||C=="m")&&(s=u,r=f)}}})()},31725:c=>{var x={};c.exports=x,function(){x.create=function(t,a){return{x:t||0,y:a||0}},x.clone=function(t){return{x:t.x,y:t.y}},x.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},x.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},x.rotate=function(t,a,g){var o=Math.cos(a),s=Math.sin(a);g||(g={});var r=t.x*o-t.y*s;return g.y=t.x*s+t.y*o,g.x=r,g},x.rotateAbout=function(t,a,g,o){var s=Math.cos(a),r=Math.sin(a);o||(o={});var e=g.x+((t.x-g.x)*s-(t.y-g.y)*r);return o.y=g.y+((t.x-g.x)*r+(t.y-g.y)*s),o.x=e,o},x.normalise=function(t){var a=x.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},x.dot=function(t,a){return t.x*a.x+t.y*a.y},x.cross=function(t,a){return t.x*a.y-t.y*a.x},x.cross3=function(t,a,g){return(a.x-t.x)*(g.y-t.y)-(a.y-t.y)*(g.x-t.x)},x.add=function(t,a,g){return g||(g={}),g.x=t.x+a.x,g.y=t.y+a.y,g},x.sub=function(t,a,g){return g||(g={}),g.x=t.x-a.x,g.y=t.y-a.y,g},x.mult=function(t,a){return{x:t.x*a,y:t.y*a}},x.div=function(t,a){return{x:t.x/a,y:t.y/a}},x.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},x.neg=function(t){return{x:-t.x,y:-t.y}},x.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(c,x,t)=>{var a={};c.exports=a;var g=t(31725),o=t(53402);(function(){a.create=function(s,r){for(var e=[],n=0;n<s.length;n++){var l=s[n],i={x:l.x,y:l.y,index:n,body:r,isInternal:!1};e.push(i)}return e},a.fromPath=function(s,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return s.replace(e,function(l,i,h){n.push({x:parseFloat(i),y:parseFloat(h)})}),a.create(n,r)},a.centre=function(s){for(var r=a.area(s,!0),e={x:0,y:0},n,l,i,h=0;h<s.length;h++)i=(h+1)%s.length,n=g.cross(s[h],s[i]),l=g.mult(g.add(s[h],s[i]),n),e=g.add(e,l);return g.div(e,6*r)},a.mean=function(s){for(var r={x:0,y:0},e=0;e<s.length;e++)r.x+=s[e].x,r.y+=s[e].y;return g.div(r,s.length)},a.area=function(s,r){for(var e=0,n=s.length-1,l=0;l<s.length;l++)e+=(s[n].x-s[l].x)*(s[n].y+s[l].y),n=l;return r?e/2:Math.abs(e)/2},a.inertia=function(s,r){for(var e=0,n=0,l=s,i,h,u=0;u<l.length;u++)h=(u+1)%l.length,i=Math.abs(g.cross(l[h],l[u])),e+=i*(g.dot(l[h],l[h])+g.dot(l[h],l[u])+g.dot(l[u],l[u])),n+=i;return r/6*(e/n)},a.translate=function(s,r,e){e=typeof e<"u"?e:1;var n=s.length,l=r.x*e,i=r.y*e,h;for(h=0;h<n;h++)s[h].x+=l,s[h].y+=i;return s},a.rotate=function(s,r,e){if(r!==0){var n=Math.cos(r),l=Math.sin(r),i=e.x,h=e.y,u=s.length,f,v,m,T;for(T=0;T<u;T++)f=s[T],v=f.x-i,m=f.y-h,f.x=i+(v*n-m*l),f.y=h+(v*l+m*n);return s}},a.contains=function(s,r){for(var e=r.x,n=r.y,l=s.length,i=s[l-1],h,u=0;u<l;u++){if(h=s[u],(e-i.x)*(h.y-i.y)+(n-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},a.scale=function(s,r,e,n){if(r===1&&e===1)return s;n=n||a.centre(s);for(var l,i,h=0;h<s.length;h++)l=s[h],i=g.sub(l,n),s[h].x=n.x+i.x*r,s[h].y=n.y+i.y*e;return s},a.chamfer=function(s,r,e,n,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,n=n||2,l=l||14;for(var i=[],h=0;h<s.length;h++){var u=s[h-1>=0?h-1:s.length-1],f=s[h],v=s[(h+1)%s.length],m=r[h<r.length?h:r.length-1];if(m===0){i.push(f);continue}var T=g.normalise({x:f.y-u.y,y:u.x-f.x}),C=g.normalise({x:v.y-f.y,y:f.x-v.x}),S=Math.sqrt(2*Math.pow(m,2)),P=g.mult(o.clone(T),m),A=g.normalise(g.mult(g.add(T,C),.5)),L=g.sub(f,g.mult(A,S)),F=e;e===-1&&(F=Math.pow(m,.32)*1.75),F=o.clamp(F,n,l),F%2===1&&(F+=1);for(var B=Math.acos(g.dot(T,C)),D=B/F,I=0;I<F;I++)i.push(g.add(g.rotate(P,D*I),L))}return i},a.clockwiseSort=function(s){var r=a.mean(s);return s.sort(function(e,n){return g.angle(r,e)-g.angle(r,n)}),s},a.isConvex=function(s){var r=0,e=s.length,n,l,i,h;if(e<3)return null;for(n=0;n<e;n++)if(l=(n+1)%e,i=(n+2)%e,h=(s[l].x-s[n].x)*(s[i].y-s[l].y),h-=(s[l].y-s[n].y)*(s[i].x-s[l].x),h<0?r|=1:h>0&&(r|=2),r===3)return!1;return r!==0?!0:null},a.hull=function(s){var r=[],e=[],n,l;for(s=s.slice(0),s.sort(function(i,h){var u=i.x-h.x;return u!==0?u:i.y-h.y}),l=0;l<s.length;l+=1){for(n=s[l];e.length>=2&&g.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(l=s.length-1;l>=0;l-=1){for(n=s[l];r.length>=2&&g.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),e.pop(),r.concat(e)}})()},18210:(c,x,t)=>{var a=t(19933),g={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Body.create",function(){g.Body.init(this)}),o.before("Engine.update",function(s){g.Engine.update(s)})},Body:{init:function(o){o.plugin.attractors=o.plugin.attractors||[]}},Engine:{update:function(o){for(var s=a.Composite.allBodies(o.world),r=0;r<s.length;r++){var e=s[r],n=e.plugin.attractors;if(n&&n.length>0)for(var l=0;l<s.length;l++){var i=s[l];if(r!==l)for(var h=0;h<n.length;h++){var u=n[h],f=u;a.Common.isFunction(u)&&(f=u(e,i)),f&&a.Body.applyForce(i,i.position,f)}}}}},Attractors:{gravityConstant:.001,gravity:function(o,s){var r=a.Vector.sub(s.position,o.position),e=a.Vector.magnitudeSquared(r)||1e-4,n=a.Vector.normalise(r),l=-g.Attractors.gravityConstant*(o.mass*s.mass/e),i=a.Vector.mult(n,l);a.Body.applyForce(o,o.position,a.Vector.neg(i)),a.Body.applyForce(s,s.position,i)}}};c.exports=g},40178:c=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(a){a.pairs.map(function(g){var o=g.bodyA,s=g.bodyB;o.gameObject&&o.gameObject.emit("collide",o,s,g),s.gameObject&&s.gameObject.emit("collide",s,o,g),t.Events.trigger(o,"onCollide",{pair:g}),t.Events.trigger(s,"onCollide",{pair:g}),o.onCollideCallback&&o.onCollideCallback(g),s.onCollideCallback&&s.onCollideCallback(g),o.onCollideWith[s.id]&&o.onCollideWith[s.id](s,g),s.onCollideWith[o.id]&&s.onCollideWith[o.id](o,g)})}),t.Events.on(this,"collisionActive",function(a){a.pairs.map(function(g){var o=g.bodyA,s=g.bodyB;o.gameObject&&o.gameObject.emit("collideActive",o,s,g),s.gameObject&&s.gameObject.emit("collideActive",s,o,g),t.Events.trigger(o,"onCollideActive",{pair:g}),t.Events.trigger(s,"onCollideActive",{pair:g}),o.onCollideActiveCallback&&o.onCollideActiveCallback(g),s.onCollideActiveCallback&&s.onCollideActiveCallback(g)})}),t.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(g){var o=g.bodyA,s=g.bodyB;o.gameObject&&o.gameObject.emit("collideEnd",o,s,g),s.gameObject&&s.gameObject.emit("collideEnd",s,o,g),t.Events.trigger(o,"onCollideEnd",{pair:g}),t.Events.trigger(s,"onCollideEnd",{pair:g}),o.onCollideEndCallback&&o.onCollideEndCallback(g),s.onCollideEndCallback&&s.onCollideEndCallback(g)})})})}};c.exports=x},74507:(c,x,t)=>{var a=t(19933),g={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Engine.update",function(){g.Engine.update(this)})},Engine:{update:function(o){for(var s=o.world,r=a.Composite.allBodies(s),e=a.Composite.allComposites(s),n=0;n<r.length;n+=1){var l=r[n];l.plugin.wrap&&g.Body.wrap(l,l.plugin.wrap)}for(n=0;n<e.length;n+=1){var i=e[n];i.plugin.wrap&&g.Composite.wrap(i,i.plugin.wrap)}}},Bounds:{wrap:function(o,s){var r=null,e=null;if(typeof s.min.x<"u"&&typeof s.max.x<"u"&&(o.min.x>s.max.x?r=s.min.x-o.max.x:o.max.x<s.min.x&&(r=s.max.x-o.min.x)),typeof s.min.y<"u"&&typeof s.max.y<"u"&&(o.min.y>s.max.y?e=s.min.y-o.max.y:o.max.y<s.min.y&&(e=s.max.y-o.min.y)),r!==null||e!==null)return{x:r||0,y:e||0}}},Body:{wrap:function(o,s){var r=g.Bounds.wrap(o.bounds,s);return r&&a.Body.translate(o,r),r}},Composite:{bounds:function(o){for(var s=a.Composite.allBodies(o),r=[],e=0;e<s.length;e+=1){var n=s[e];r.push(n.bounds.min,n.bounds.max)}return a.Bounds.create(r)},wrap:function(o,s){var r=g.Bounds.wrap(g.Composite.bounds(o),s);return r&&a.Composite.translate(o,r),r}}};c.exports=g},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:B,quickDecomp:z,isSimple:I,removeCollinearPoints:W,removeDuplicatePoints:Y,makeCCW:v};function x(V,H,N){N=N||0;var b=[0,0],X,$,Q,k,J,et,nt;return X=V[1][1]-V[0][1],$=V[0][0]-V[1][0],Q=X*V[0][0]+$*V[0][1],k=H[1][1]-H[0][1],J=H[0][0]-H[1][0],et=k*H[0][0]+J*H[0][1],nt=X*J-k*$,K(nt,0,N)||(b[0]=(J*Q-$*et)/nt,b[1]=(X*et-k*Q)/nt),b}function t(V,H,N,b){var X=H[0]-V[0],$=H[1]-V[1],Q=b[0]-N[0],k=b[1]-N[1];if(Q*$-k*X===0)return!1;var J=(X*(N[1]-V[1])+$*(V[0]-N[0]))/(Q*$-k*X),et=(Q*(V[1]-N[1])+k*(N[0]-V[0]))/(k*X-Q*$);return J>=0&&J<=1&&et>=0&&et<=1}function a(V,H,N){return(H[0]-V[0])*(N[1]-V[1])-(N[0]-V[0])*(H[1]-V[1])}function g(V,H,N){return a(V,H,N)>0}function o(V,H,N){return a(V,H,N)>=0}function s(V,H,N){return a(V,H,N)<0}function r(V,H,N){return a(V,H,N)<=0}var e=[],n=[];function l(V,H,N,b){if(b){var X=e,$=n;X[0]=H[0]-V[0],X[1]=H[1]-V[1],$[0]=N[0]-H[0],$[1]=N[1]-H[1];var Q=X[0]*$[0]+X[1]*$[1],k=Math.sqrt(X[0]*X[0]+X[1]*X[1]),J=Math.sqrt($[0]*$[0]+$[1]*$[1]),et=Math.acos(Q/(k*J));return et<b}else return a(V,H,N)===0}function i(V,H){var N=H[0]-V[0],b=H[1]-V[1];return N*N+b*b}function h(V,H){var N=V.length;return V[H<0?H%N+N:H%N]}function u(V){V.length=0}function f(V,H,N,b){for(var X=N;X<b;X++)V.push(H[X])}function v(V){for(var H=0,N=V,b=1;b<V.length;++b)(N[b][1]<N[H][1]||N[b][1]===N[H][1]&&N[b][0]>N[H][0])&&(H=b);return g(h(V,H-1),h(V,H),h(V,H+1))?!1:(m(V),!0)}function m(V){for(var H=[],N=V.length,b=0;b!==N;b++)H.push(V.pop());for(var b=0;b!==N;b++)V[b]=H[b]}function T(V,H){return s(h(V,H-1),h(V,H),h(V,H+1))}var C=[],S=[];function P(V,H,N){var b,X,$=C,Q=S;if(o(h(V,H+1),h(V,H),h(V,N))&&r(h(V,H-1),h(V,H),h(V,N)))return!1;X=i(h(V,H),h(V,N));for(var k=0;k!==V.length;++k)if(!((k+1)%V.length===H||k===H)&&o(h(V,H),h(V,N),h(V,k+1))&&r(h(V,H),h(V,N),h(V,k))&&($[0]=h(V,H),$[1]=h(V,N),Q[0]=h(V,k),Q[1]=h(V,k+1),b=x($,Q),i(h(V,H),b)<X))return!1;return!0}function A(V,H,N){for(var b=0;b!==V.length;++b)if(!(b===H||b===N||(b+1)%V.length===H||(b+1)%V.length===N)&&t(h(V,H),h(V,N),h(V,b),h(V,b+1)))return!1;return!0}function L(V,H,N,b){var X=b||[];if(u(X),H<N)for(var $=H;$<=N;$++)X.push(V[$]);else{for(var $=0;$<=N;$++)X.push(V[$]);for(var $=H;$<V.length;$++)X.push(V[$])}return X}function F(V){for(var H=[],N=[],b=[],X=[],$=Number.MAX_VALUE,Q=0;Q<V.length;++Q)if(T(V,Q)){for(var k=0;k<V.length;++k)if(P(V,Q,k)){N=F(L(V,Q,k,X)),b=F(L(V,k,Q,X));for(var J=0;J<b.length;J++)N.push(b[J]);N.length<$&&(H=N,$=N.length,H.push([h(V,Q),h(V,k)]))}}return H}function B(V){var H=F(V);return H.length>0?D(V,H):[V]}function D(V,H){if(H.length===0)return[V];if(H instanceof Array&&H.length&&H[0]instanceof Array&&H[0].length===2&&H[0][0]instanceof Array){for(var N=[V],b=0;b<H.length;b++)for(var X=H[b],$=0;$<N.length;$++){var Q=N[$],k=D(Q,X);if(k){N.splice($,1),N.push(k[0],k[1]);break}}return N}else{var X=H,b=V.indexOf(X[0]),$=V.indexOf(X[1]);return b!==-1&&$!==-1?[L(V,b,$),L(V,$,b)]:!1}}function I(V){var H=V,N;for(N=0;N<H.length-1;N++)for(var b=0;b<N-1;b++)if(t(H[N],H[N+1],H[b],H[b+1]))return!1;for(N=1;N<H.length-2;N++)if(t(H[0],H[H.length-1],H[N],H[N+1]))return!1;return!0}function G(V,H,N,b,X){X=X||0;var $=H[1]-V[1],Q=V[0]-H[0],k=$*V[0]+Q*V[1],J=b[1]-N[1],et=N[0]-b[0],nt=J*N[0]+et*N[1],st=$*et-J*Q;return K(st,0,X)?[0,0]:[(et*k-Q*nt)/st,($*nt-J*k)/st]}function z(V,H,N,b,X,$,Q){$=$||100,Q=Q||0,X=X||25,H=typeof H<"u"?H:[],N=N||[],b=b||[];var k=[0,0],J=[0,0],et=[0,0],nt=0,st=0,ot=0,ut=0,at=0,ct=0,Pt=0,Ct=[],Et=[],dt=V,St=V;if(St.length<3)return H;if(Q++,Q>$)return console.warn("quickDecomp: max level ("+$+") reached."),H;for(var vt=0;vt<V.length;++vt)if(T(dt,vt)){N.push(dt[vt]),nt=st=Number.MAX_VALUE;for(var Mt=0;Mt<V.length;++Mt)g(h(dt,vt-1),h(dt,vt),h(dt,Mt))&&r(h(dt,vt-1),h(dt,vt),h(dt,Mt-1))&&(et=G(h(dt,vt-1),h(dt,vt),h(dt,Mt),h(dt,Mt-1)),s(h(dt,vt+1),h(dt,vt),et)&&(ot=i(dt[vt],et),ot<st&&(st=ot,J=et,ct=Mt))),g(h(dt,vt+1),h(dt,vt),h(dt,Mt+1))&&r(h(dt,vt+1),h(dt,vt),h(dt,Mt))&&(et=G(h(dt,vt+1),h(dt,vt),h(dt,Mt),h(dt,Mt+1)),g(h(dt,vt-1),h(dt,vt),et)&&(ot=i(dt[vt],et),ot<nt&&(nt=ot,k=et,at=Mt)));if(ct===(at+1)%V.length)et[0]=(J[0]+k[0])/2,et[1]=(J[1]+k[1])/2,b.push(et),vt<at?(f(Ct,dt,vt,at+1),Ct.push(et),Et.push(et),ct!==0&&f(Et,dt,ct,dt.length),f(Et,dt,0,vt+1)):(vt!==0&&f(Ct,dt,vt,dt.length),f(Ct,dt,0,at+1),Ct.push(et),Et.push(et),f(Et,dt,ct,vt+1));else{if(ct>at&&(at+=V.length),ut=Number.MAX_VALUE,at<ct)return H;for(var Mt=ct;Mt<=at;++Mt)o(h(dt,vt-1),h(dt,vt),h(dt,Mt))&&r(h(dt,vt+1),h(dt,vt),h(dt,Mt))&&(ot=i(h(dt,vt),h(dt,Mt)),ot<ut&&A(dt,vt,Mt)&&(ut=ot,Pt=Mt%V.length));vt<Pt?(f(Ct,dt,vt,Pt+1),Pt!==0&&f(Et,dt,Pt,St.length),f(Et,dt,0,vt+1)):(vt!==0&&f(Ct,dt,vt,St.length),f(Ct,dt,0,Pt+1),f(Et,dt,Pt,vt+1))}return Ct.length<Et.length?(z(Ct,H,N,b,X,$,Q),z(Et,H,N,b,X,$,Q)):(z(Et,H,N,b,X,$,Q),z(Ct,H,N,b,X,$,Q)),H}return H.push(V),H}function W(V,H){for(var N=0,b=V.length-1;V.length>3&&b>=0;--b)l(h(V,b-1),h(V,b),h(V,b+1),H)&&(V.splice(b%V.length,1),N++);return N}function Y(V,H){for(var N=V.length-1;N>=1;--N)for(var b=V[N],X=N-1;X>=0;--X)if(Z(b,V[X],H)){V.splice(N,1);continue}}function K(V,H,N){return N=N||0,Math.abs(V-H)<=N}function Z(V,H,N){return K(V[0],H[0],N)&&K(V[1],H[1],N)}},52018:(c,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=t(83419),g=new a({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=g},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=x},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={},a={};a.register=function(g,o,s,r){r===void 0&&(r=!1),x[g]={plugin:o,mapping:s,custom:r}},a.registerCustom=function(g,o,s,r){t[g]={plugin:o,mapping:s,data:r}},a.hasCore=function(g){return x.hasOwnProperty(g)},a.hasCustom=function(g){return t.hasOwnProperty(g)},a.getCore=function(g){return x[g]},a.getCustom=function(g){return t[g]},a.getCustomClass=function(g){return t.hasOwnProperty(g)?t[g].plugin:null},a.remove=function(g){x.hasOwnProperty(g)&&delete x[g]},a.removeCustom=function(g){t.hasOwnProperty(g)&&delete t[g]},a.destroyCorePlugins=function(){for(var g in x)x.hasOwnProperty(g)&&delete x[g]},a.destroyCustomPlugins=function(){for(var g in t)t.hasOwnProperty(g)&&delete t[g]},c.exports=a},77332:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(8443),o=t(50792),s=t(74099),r=t(44603),e=t(39429),n=t(95540),l=t(37277),i=t(72905),h=new a({Extends:o,initialize:function(f){o.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted?this.boot():f.events.once(g.BOOT,this.boot,this)},boot:function(){var u,f,v,m,T,C,S,P=this.game.config,A=P.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),u=0;u<A.length;u++)f=A[u],v=n(f,"key",null),m=n(f,"plugin",null),T=n(f,"start",!1),C=n(f,"mapping",null),S=n(f,"data",null),v&&(m?this.install(v,m,T,C,S):console.warn("Missing `plugin` for key: "+v));for(A=P.installScenePlugins,A=A.concat(this._pendingScene),u=0;u<A.length;u++)f=A[u],v=n(f,"key",null),m=n(f,"plugin",null),C=n(f,"mapping",null),v&&(m?this.installScenePlugin(v,m,C):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(u,f,v){var m,T,C,S=this.game,P=u.scene,A=u.settings.map,L=u.settings.isBooted;for(m=0;m<f.length;m++)T=f[m],S[T]?(u[T]=S[T],A.hasOwnProperty(T)&&(P[A[T]]=u[T])):T==="game"&&A.hasOwnProperty(T)&&(P[A[T]]=S);for(var F=0;F<v.length;F++)for(C=v[F],m=0;m<C.length;m++)if(T=C[m],!!l.hasCore(T)){var B=l.getCore(T),D=B.mapping,I=new B.plugin(P,this,D);u[D]=I,B.custom?P[D]=I:A.hasOwnProperty(D)&&(P[A[D]]=I),L&&I.boot()}for(C=this.plugins,m=0;m<C.length;m++){var G=C[m];G.mapping&&(P[G.mapping]=G.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,f,v,m,T){if(T===void 0&&(T=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(l.hasCore(u)||l.register(u,f,v,!0),this.scenePlugins.indexOf(u)===-1)this.scenePlugins.push(u);else if(!T&&l.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(m){var C=new f(m,this,u);m.sys[u]=C,v&&v!==""&&(m[v]=C),C.boot()}},install:function(u,f,v,m,T){if(v===void 0&&(v=!1),m===void 0&&(m=null),T===void 0&&(T=null),typeof f!="function")return console.warn("Invalid Plugin: "+u),null;if(l.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(m!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:f,start:v,mapping:m,data:T});else if(l.registerCustom(u,f,m,T),v)return this.start(u);return null},getIndex:function(u){for(var f=this.plugins,v=0;v<f.length;v++){var m=f[v];if(m.key===u)return v}return-1},getEntry:function(u){var f=this.getIndex(u);if(f!==-1)return this.plugins[f]},isActive:function(u){var f=this.getEntry(u);return f&&f.active},start:function(u,f){f===void 0&&(f=u);var v=this.getEntry(f);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(u,f)),v?v.plugin:null},createEntry:function(u,f){var v=l.getCustom(u);if(v){var m=new v.plugin(this);v={key:f,plugin:m,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),m.init(v.data),m.start()}return v},stop:function(u){var f=this.getEntry(u);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(u,f){f===void 0&&(f=!0);var v=this.getEntry(u);if(v)return v.plugin;var m=this.getClass(u);return m&&f?(v=this.createEntry(u,u),v?v.plugin:null):m||null},getClass:function(u){return l.getCustomClass(u)},removeGlobalPlugin:function(u){var f=this.getEntry(u);f&&i(this.plugins,f),l.removeCustom(u)},removeScenePlugin:function(u){i(this.scenePlugins,u),l.remove(u)},registerGameObject:function(u,f,v){return f&&e.register(u,f),v&&r.register(u,v),this},removeGameObject:function(u,f,v){return f===void 0&&(f=!0),v===void 0&&(v=!0),f&&e.remove(u),v&&r.remove(u),this},registerFileType:function(u,f,v){s.register(u,f),v&&v.sys.load&&(v.sys.load[u]=f)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=h},45145:(c,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=t(52018),g=t(83419),o=t(44594),s=new g({Extends:a,initialize:function(e,n,l){a.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=s},18922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const x=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,g=(o,s)=>{const r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>a){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=s-o;c(s,{presentationTime:s+n*1e3,expectedDisplayTime:s+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(n=>g(s,n))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(o=>g(x,o)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=x},68627:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19715),g=t(32880),o=t(83419),s=t(8054),r=t(50792),e=t(92503),n=t(56373),l=t(97480),i=t(69442),h=t(61340),u=new o({Extends:r,initialize:function(v){r.call(this);var m=v.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=v,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var T={alpha:v.config.transparent,desynchronized:v.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var f=this.game,v=f.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,f.scale.on(l.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(f,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(f,v){this.width=f,this.height=v,this.emit(e.RESIZE,f,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,v=this.config,m=this.width,T=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(f.clearRect(0,0,m,T),v.transparent||(f.fillStyle=v.backgroundColor.rgba,f.fillRect(0,0,m,T))),f.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(f,v,m){var T=v.length;this.emit(e.RENDER,f,m);var C=m.x,S=m.y,P=m.width,A=m.height,L=m.renderToTexture?m.context:f.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(C,S,P,A),L.clip()),m.emit(a.PRE_RENDER,m),this.currentContext=L;var F=m.mask;F&&F.preRenderCanvas(this,null,m._maskCamera),m.transparent||(L.fillStyle=m.backgroundColor.rgba,L.fillRect(C,S,P,A)),L.globalAlpha=m.alpha,L.globalCompositeOperation="source-over",this.drawCount+=T,m.renderToTexture&&m.emit(a.PRE_RENDER,m),m.matrix.copyToContext(L);for(var B=0;B<T;B++){var D=v[B];D.mask&&D.mask.preRenderCanvas(this,D,m),D.renderCanvas(this,D,m),D.mask&&D.mask.postRenderCanvas(this,D,m)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,m.flashEffect.postRenderCanvas(L),m.fadeEffect.postRenderCanvas(L),m.dirty=!1,F&&F.postRenderCanvas(this),L.restore(),m.renderToTexture&&(m.emit(a.POST_RENDER,m),m.renderToGame&&f.sys.context.drawImage(m.canvas,C,S)),m.emit(a.POST_RENDER,m)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(e.POST_RENDER);var v=this.snapshotState;v.callback&&(g(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(f,v,m,T,C,S,P,A,L){m===void 0&&(m=!1),this.snapshotArea(T,C,S,P,v,A,L);var F=this.snapshotState;return F.getPixel=m,g(f,F),F.callback=null,this},snapshot:function(f,v,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,v,m)},snapshotArea:function(f,v,m,T,C,S,P){var A=this.snapshotState;return A.callback=C,A.type=S,A.encoder=P,A.getPixel=!1,A.x=f,A.y=v,A.width=Math.min(m,this.gameCanvas.width),A.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(f,v,m){return this.snapshotArea(f,v,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(f,v,m,T){var C=m.alpha*f.alpha;if(C!==0){var S=this.currentContext,P=this._tempMatrix1,A=this._tempMatrix2,L=v.canvasData,F=L.x,B=L.y,D=v.cutWidth,I=v.cutHeight,G=v.customPivot,z=v.source.resolution,W=f.displayOriginX,Y=f.displayOriginY,K=-W+v.x,Z=-Y+v.y;if(f.isCropped){var V=f._crop;(V.flipX!==f.flipX||V.flipY!==f.flipY)&&v.updateCropUVs(V,f.flipX,f.flipY),D=V.cw,I=V.ch,F=V.cx,B=V.cy,K=-W+V.x,Z=-Y+V.y,f.flipX&&(K>=0?K=-(K+D):K<0&&(K=Math.abs(K)-D)),f.flipY&&(Z>=0?Z=-(Z+I):Z<0&&(Z=Math.abs(Z)-I))}var H=1,N=1;f.flipX&&(G||(K+=-v.realWidth+W*2),H=-1),f.flipY&&(G||(Z+=-v.realHeight+Y*2),N=-1);var b=f.x,X=f.y;A.applyITRS(b,X,f.rotation,f.scaleX*H,f.scaleY*N),P.copyFrom(m.matrix),T?(P.multiplyWithOffset(T,-m.scrollX*f.scrollFactorX,-m.scrollY*f.scrollFactorY),A.e=b,A.f=X):(A.e-=m.scrollX*f.scrollFactorX,A.f-=m.scrollY*f.scrollFactorY),P.multiply(A),m.roundPixels&&(P.e=Math.round(P.e),P.f=Math.round(P.f)),S.save(),P.setToContext(S),S.globalCompositeOperation=this.blendModes[f.blendMode],S.globalAlpha=C,S.imageSmoothingEnabled=!v.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,m),D>0&&I>0&&(m.roundPixels?S.drawImage(v.source.image,F,B,D,I,Math.round(K),Math.round(Z),Math.round(D/z),Math.round(I/z)):S.drawImage(v.source.image,F,B,D,I,K,Z,D/z,I/z)),f.mask&&f.mask.postRenderCanvas(this,f,m),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=u},55830:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g=t(89289),o=function(){var s=[],r=g.supportNewBlendModes,e="source-over";return s[a.NORMAL]=e,s[a.ADD]="lighter",s[a.MULTIPLY]=r?"multiply":e,s[a.SCREEN]=r?"screen":e,s[a.OVERLAY]=r?"overlay":e,s[a.DARKEN]=r?"darken":e,s[a.LIGHTEN]=r?"lighten":e,s[a.COLOR_DODGE]=r?"color-dodge":e,s[a.COLOR_BURN]=r?"color-burn":e,s[a.HARD_LIGHT]=r?"hard-light":e,s[a.SOFT_LIGHT]=r?"soft-light":e,s[a.DIFFERENCE]=r?"difference":e,s[a.EXCLUSION]=r?"exclusion":e,s[a.HUE]=r?"hue":e,s[a.SATURATION]=r?"saturation":e,s[a.COLOR]=r?"color":e,s[a.LUMINOSITY]=r?"luminosity":e,s[a.ERASE]="destination-out",s[a.SOURCE_IN]="source-in",s[a.SOURCE_OUT]="source-out",s[a.SOURCE_ATOP]="source-atop",s[a.DESTINATION_OVER]="destination-over",s[a.DESTINATION_IN]="destination-in",s[a.DESTINATION_OUT]="destination-out",s[a.DESTINATION_ATOP]="destination-atop",s[a.LIGHTER]="lighter",s[a.COPY]="copy",s[a.XOR]="xor",s};c.exports=o},20926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),g=function(o,s,r,e,n){var l=e.alpha*r.alpha;if(l<=0)return!1;var i=a(r,e,n).calc;return s.globalCompositeOperation=o.blendModes[r.blendMode],s.globalAlpha=l,s.save(),i.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};c.exports=g},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g=t(40987),o=t(95540),s=function(r,e){var n=o(e,"callback"),l=o(e,"type","image/png"),i=o(e,"encoder",.92),h=Math.abs(Math.round(o(e,"x",0))),u=Math.abs(Math.round(o(e,"y",0))),f=Math.floor(o(e,"width",r.width)),v=Math.floor(o(e,"height",r.height)),m=o(e,"getPixel",!1);if(m){var T=r.getContext("2d",{willReadFrequently:!1}),C=T.getImageData(h,u,1,1),S=C.data;n.call(null,new g(S[0],S[1],S[2],S[3]))}else if(h!==0||u!==0||f!==r.width||v!==r.height){var P=a.createWebGL(this,f,v),A=P.getContext("2d",{willReadFrequently:!0});f>0&&v>0&&A.drawImage(r,h,u,f,v,0,0,f,v);var L=new Image;L.onerror=function(){n.call(null),a.remove(P)},L.onload=function(){n.call(null,L),a.remove(P)},L.src=P.toDataURL(l,i)}else{var F=new Image;F.onerror=function(){n.call(null)},F.onload=function(){n.call(null,F)},F.src=r.toDataURL(l,i)}};c.exports=s},88815:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g=t(40987),o=t(95540),s=function(r,e){var n=r,l=o(e,"callback"),i=o(e,"type","image/png"),h=o(e,"encoder",.92),u=Math.abs(Math.round(o(e,"x",0))),f=Math.abs(Math.round(o(e,"y",0))),v=o(e,"getPixel",!1),m=o(e,"isFramebuffer",!1),T=m?o(e,"bufferWidth",1):n.drawingBufferWidth,C=m?o(e,"bufferHeight",1):n.drawingBufferHeight;if(v){var S=new Uint8Array(4),P=m?f:C-f;n.readPixels(u,P,1,1,n.RGBA,n.UNSIGNED_BYTE,S),l.call(null,new g(S[0],S[1],S[2],S[3]))}else{var A=Math.floor(o(e,"width",T)),L=Math.floor(o(e,"height",C)),F=A*L*4,B=new Uint8Array(F);n.readPixels(u,C-f-L,A,L,n.RGBA,n.UNSIGNED_BYTE,B);for(var D=a.createWebGL(this,A,L),I=D.getContext("2d",{willReadFrequently:!0}),G=I.getImageData(0,0,A,L),z=G.data,W=0;W<L;W++)for(var Y=0;Y<A;Y++){var K=((L-W-1)*A+Y)*4,Z=m?F-(W*A+(A-Y))*4:(W*A+Y)*4;z[Z+0]=B[K+0],z[Z+1]=B[K+1],z[Z+2]=B[K+2],z[Z+3]=B[K+3]}I.putImageData(G,0,0);var V=new Image;V.onerror=function(){l.call(null),a.remove(D)},V.onload=function(){l.call(null,V),a.remove(D)},V.src=D.toDataURL(i,h)}};c.exports=s},89966:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(36060),o=t(90330),s=t(82264),r=t(95540),e=t(32302),n=t(63448),l=t(31302),i=t(58918),h=t(14811),u=t(92651),f=t(96569),v=t(56527),m=t(57516),T=t(43439),C=t(81041),S=t(12385),P=t(7589),A=t(95428),L=t(72905),F=new a({initialize:function(D){this.game=D.game,this.renderer=D,this.classes=new o([[g.UTILITY_PIPELINE,P],[g.MULTI_PIPELINE,m],[g.BITMAPMASK_PIPELINE,l],[g.SINGLE_PIPELINE,S],[g.ROPE_PIPELINE,C],[g.LIGHT_PIPELINE,f],[g.POINTLIGHT_PIPELINE,T],[g.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(B,D,I){var G=this.renderer,z=this.renderTargets;this.frameInc=Math.floor(r(B,"frameInc",32));var W=G.width,Y=G.height,K=this.game.config.disablePreFX,Z=this.game.config.disablePostFX;if(Z||this.postPipelineClasses.setAll([[String(h.BARREL),i.Barrel],[String(h.BLOOM),i.Bloom],[String(h.BLUR),i.Blur],[String(h.BOKEH),i.Bokeh],[String(h.CIRCLE),i.Circle],[String(h.COLOR_MATRIX),i.ColorMatrix],[String(h.DISPLACEMENT),i.Displacement],[String(h.GLOW),i.Glow],[String(h.GRADIENT),i.Gradient],[String(h.PIXELATE),i.Pixelate],[String(h.SHADOW),i.Shadow],[String(h.SHINE),i.Shine],[String(h.VIGNETTE),i.Vignette],[String(h.WIPE),i.Wipe]]),!K){this.classes.set(g.FX_PIPELINE,u);for(var V=Math.min(W,Y),H=Math.ceil(V/this.frameInc),N=1;N<H;N++){var b=N*this.frameInc;z.push(new e(G,b,b)),z.push(new e(G,b,b)),z.push(new e(G,b,b)),this.maxDimension=b}z.push(new e(G,W,Y,1,0,!0,!0)),z.push(new e(G,W,Y,1,0,!0,!0)),z.push(new e(G,W,Y,1,0,!0,!0))}var X,$,Q=this,k=this.game;if(this.classes.each(function(et,nt){X=Q.add(et,new nt({game:k})),et===g.UTILITY_PIPELINE&&(Q.UTILITY_PIPELINE=X,Q.fullFrame1=X.fullFrame1,Q.fullFrame2=X.fullFrame2,Q.halfFrame1=X.halfFrame1,Q.halfFrame2=X.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),K||(this.FX_PIPELINE=this.get(g.FX_PIPELINE)),B)for($ in B){var J=B[$];X=new J(k),X.name=$,X.isPostFX?this.postPipelineClasses.set($,J):this.has($)||(this.classes.set($,J),this.add($,X))}this.default=this.get(D),I&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(B){var D=this.get(B);return D&&(this.default=D),D},add:function(B,D){if(D.isPostFX){console.warn(B+" is a Post Pipeline. Use `addPostPipeline` instead");return}var I=this.pipelines,G=this.renderer;return I.has(B)?console.warn("Pipeline exists: "+B):(D.name=B,D.manager=this,I.set(B,D)),D.hasBooted||D.boot(),G.width!==0&&G.height!==0&&!D.isPreFX&&D.resize(G.width,G.height),D},addPostPipeline:function(B,D){this.postPipelineClasses.has(B)||this.postPipelineClasses.set(B,D)},flush:function(){this.current&&this.current.flush()},has:function(B){var D=this.pipelines;return typeof B=="string"?D.has(B):!!D.contains(B)},get:function(B){var D=this.pipelines;if(typeof B=="string")return D.get(B);if(D.contains(B))return B},getPostPipeline:function(B,D,I){var G=this.postPipelineClasses,z,W="",Y=typeof B;if(Y==="string"||Y==="number"?(z=G.get(B),W=B):Y==="function"?(G.contains(B)&&(z=B),W=B.name):Y==="object"&&(z=G.get(B.name),W=B.name),z){var K=new z(this.game,I);return K.name=W,D&&(K.gameObject=D),this.postPipelineInstances.push(K),K}},removePostPipeline:function(B){L(this.postPipelineInstances,B)},remove:function(B,D,I){D===void 0&&(D=!0),I===void 0&&(I=!0),this.pipelines.delete(B),D&&this.classes.delete(B),I&&this.postPipelineClasses.delete(B)},set:function(B,D,I){if(!B.isPostFX)return this.isCurrent(B,I)||(this.flush(),this.current&&this.current.unbind(),this.current=B,B.bind(I)),B.updateProjectionMatrix(),B.onBind(D),B},preBatch:function(B){if(B.hasPostPipeline){this.flush();for(var D=B.postPipelines,I=D.length-1;I>=0;I--){var G=D[I];G.active&&G.preBatch(B)}}},postBatch:function(B){if(B.hasPostPipeline){this.flush();for(var D=B.postPipelines,I=0;I<D.length;I++){var G=D[I];G.active&&G.postBatch(B)}}},preBatchCamera:function(B){if(B.hasPostPipeline){this.flush();for(var D=B.postPipelines,I=D.length-1;I>=0;I--){var G=D[I];G.active&&G.preBatch(B)}}},postBatchCamera:function(B){if(B.hasPostPipeline){this.flush();for(var D=B.postPipelines,I=0;I<D.length;I++){var G=D[I];G.active&&G.postBatch(B)}}},isCurrent:function(B,D){var I=this.renderer,G=this.current;return G&&!D&&(D=G.currentShader),!(G!==B||D.program!==I.currentProgram)},copyFrame:function(B,D,I,G,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(B,D,I,G,z),this},copyToGame:function(B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(B),this},drawFrame:function(B,D,I,G){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(B,D,I,G),this},blendFrames:function(B,D,I,G,z){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(B,D,I,G,z),this},blendFramesAdditive:function(B,D,I,G,z){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(B,D,I,G,z),this},clearFrame:function(B,D){return this.UTILITY_PIPELINE.clearFrame(B,D),this},blitFrame:function(B,D,I,G,z,W){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(B,D,I,G,z,W),this},copyFrameRect:function(B,D,I,G,z,W,Y,K){return this.UTILITY_PIPELINE.copyFrameRect(B,D,I,G,z,W,Y,K),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(B){return this.UTILITY_PIPELINE.bind(B)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(B,D){D.restoreContext()}),A(this.postPipelineInstances,function(B){B.restoreContext()})},rebind:function(B){B===void 0&&this.previous&&(B=this.previous);var D=this.renderer,I=D.gl;I.disable(I.DEPTH_TEST),I.disable(I.CULL_FACE),D.hasActiveStencilMask()?I.clear(I.DEPTH_BUFFER_BIT):(I.disable(I.STENCIL_TEST),I.clear(I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT)),I.viewport(0,0,D.width,D.height),D.currentProgram=null,D.setBlendMode(0,!0);var G=D.vaoExtension;G&&G.bindVertexArrayOES(null);var z=this.pipelines.entries;for(var W in z)z[W].glReset=!0;B&&(this.current=B,B.rebind())},clear:function(){var B=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,B.currentProgram=null,B.setBlendMode(0,!0);var D=B.vaoExtension;D&&D.bindVertexArrayOES(null)},getRenderTarget:function(B){var D=this.renderTargets,I=3;if(B>this.maxDimension)return this.targetIndex=D.length-I,D[this.targetIndex];var G=(n(B,this.frameInc,0,!0)-1)*I;return this.targetIndex=G,D[G]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=F},32302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(92503),o=new a({initialize:function(r,e,n,l,i,h,u,f,v){l===void 0&&(l=1),i===void 0&&(i=0),h===void 0&&(h=!0),u===void 0&&(u=!1),f===void 0&&(f=!0),v===void 0&&(v=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=i,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=f,this.forceClamp=v,this.resize(e,n),u?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){if(s=Math.round(s*this.scale),r=Math.round(r*this.scale),s<=0&&(s=1),r<=0&&(r=1),this.autoResize&&(s!==this.width||r!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},willResize:function(s,r){return s=Math.round(s*this.scale),r=Math.round(r*this.scale),s<=0&&(s=1),r<=0&&(r=1),s!==this.width||r!==this.height},bind:function(s,r,e){s===void 0&&(s=!1);var n=this.renderer;if(s&&n.flush(),r&&e&&this.resize(r,e),n.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(){var s=this.renderer,r=s.gl;s.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),s.popFramebuffer(),s.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(g.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=o},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(x,t,a,g){var o=(x*255|0)&255,s=(t*255|0)&255,r=(a*255|0)&255,e=(g*255|0)&255;return(e<<24|o<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(x,t){var a=(t*255|0)&255;return(a<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,t){var a=(x>>16|0)&255,g=(x>>8|0)&255,o=(x|0)&255,s=(t*255|0)&255;return(s<<24|o<<16|g<<8|a)>>>0},getFloatsFromUintRGB:function(x){var t=(x>>16|0)&255,a=(x>>8|0)&255,g=(x|0)&255;return[t/255,a/255,g/255]},checkShaderMax:function(x,t){var a=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(x,t){if(!x)return"";for(var a="",g=0;g<t;g++)g>0&&(a+=`
	else `),g<t-1&&(a+="if (outTexId < "+g+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",a+=`
	}`;return x=x.replace(/%count%/gi,t.toString()),x.replace(/%forloop%/gi,a)},setGlowQuality:function(x,t,a,g){return a===void 0&&(a=t.config.glowFXQuality),g===void 0&&(g=t.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/a/g).toFixed(7)),x=x.replace(/__DIST__/gi,g.toFixed(0)+".0"),x}}},29100:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(62644),o=t(50792),s=t(77085),r=t(95540),e=t(37867),n=t(92503),l=t(32302),i=t(70554),h=t(38683),u=new a({Extends:o,initialize:function(v){o.call(this);var m=v.game,T=m.renderer,C=T.gl;this.name=r(v,"name","WebGLPipeline"),this.game=m,this.renderer=T,this.manager,this.gl=C,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(v,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(v,"resizeUniform","")},boot:function(){var f,v=this.gl,m=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var C=this.renderTargets,S=r(m,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var P=T.width,A=T.height;if(typeof S=="number")for(f=0;f<S;f++)C.push(new l(T,P,A,1,0,!0));else if(Array.isArray(S))for(f=0;f<S.length;f++){var L=r(S[f],"scale",1),F=r(S[f],"minFilter",0),B=r(S[f],"autoClear",1),D=r(S[f],"autoResize",!1),I=r(S[f],"width",null),G=r(S[f],"height",I);I?C.push(new l(T,I,G,1,F,B,D)):C.push(new l(T,P,A,L,F,B,D))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(m);var z=this.shaders,W=0;for(f=0;f<z.length;f++)z[f].vertexSize>W&&(W=z[f].vertexSize);var Y=r(m,"batchSize",T.config.batchSize);this.vertexCapacity=Y*6;var K=new ArrayBuffer(this.vertexCapacity*W);this.vertexData=K,this.bytes=new Uint8Array(K),this.vertexViewF32=new Float32Array(K),this.vertexViewU32=new Uint32Array(K);var Z=r(m,"vertices",null);for(Z?(this.vertexViewF32.set(Z),this.vertexBuffer=T.createVertexBuffer(K,v.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(K.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),f=z.length-1;f>=0;f--)z[f].rebind();this.hasBooted=!0,T.on(n.RESIZE,this.resize,this),T.on(n.PRE_RENDER,this.onPreRender,this),T.on(n.RENDER,this.onRender,this),T.on(n.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(f,v,m){var T=this.renderer;if(f!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(m);C&&!v&&(v=!0),f.bind(v,!1),this.currentShader=f}return this},getShaderByName:function(f){for(var v=this.shaders,m=0;m<v.length;m++)if(v[m].name===f)return v[m]},setShadersFromConfig:function(f){var v,m=this.shaders,T=this.renderer;for(v=0;v<m.length;v++)m[v].destroy();var C="vertShader",S="fragShader",P="attributes",A=r(f,C,null),L=i.parseFragmentShaderMaxTextures(r(f,S,null),T.maxTextures),F=r(f,P,null),B=r(f,"shaders",[]),D=B.length;if(D===0)A&&L&&(this.shaders=[new h(this,"default",A,L,g(F))]);else{var I=[];for(v=0;v<D;v++){var G=B[v],z,W,Y,K;if(typeof G=="string"?(z="default",W=A,Y=i.parseFragmentShaderMaxTextures(G,T.maxTextures),K=F):(z=r(G,"name","default"),W=r(G,C,A),Y=i.parseFragmentShaderMaxTextures(r(G,S,L),T.maxTextures),K=r(G,P,F)),z==="default"){var Z=Y.split(`
`),V=Z[0].trim();V.indexOf("#define SHADER_NAME")>-1&&(z=V.substring(20))}W&&Y&&I.push(new h(this,z,W,Y,g(K)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(f){return this.currentBatch={start:this.vertexCount,count:0,texture:[f],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=f,this.batch.push(this.currentBatch),0},addTextureToBatch:function(f){var v=this.currentBatch;v&&(v.texture.push(f),v.unit++,v.maxUnit++)},pushBatch:function(f){if(!this.currentBatch||this.forceZero&&f!==this.currentTexture)return this.createBatch(f);if(f===this.currentTexture)return this.currentUnit;var v=this.currentBatch,m=v.texture.indexOf(f);return m===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(f):(v.unit++,v.maxUnit++,v.texture.push(f),this.currentUnit=v.unit,this.currentTexture=f,v.unit):(this.currentUnit=m,this.currentTexture=f,m)},setGameObject:function(f,v){return v===void 0&&(v=f.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(f){return f===void 0&&(f=0),this.vertexCount+f>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(f,v){(f!==this.width||v!==this.height)&&this.flush(),this.width=f,this.height=v;for(var m=this.renderTargets,T=0;T<m.length;T++)m[T].resize(f,v);return this.setProjectionMatrix(f,v),this.resizeUniform&&this.set2f(this.resizeUniform,f,v),this.emit(s.RESIZE,f,v,this),this.onResize(f,v),this},setProjectionMatrix:function(f,v){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=f,this.projectionHeight=v,m.ortho(0,f,v,0,-1e3,1e3);for(var T=this.shaders,C="uProjectionMatrix",S=0;S<T.length;S++){var P=T[S];P.hasUniform(C)&&(P.resetUniform(C),P.setMatrix4fv(C,!1,m.val,P))}return this},flipProjectionMatrix:function(f){f===void 0&&(f=!0);var v=this.projectionMatrix;if(!v)return this;var m=this.projectionWidth,T=this.projectionHeight;f?v.ortho(0,m,0,T,-1e3,1e3):v.ortho(0,m,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var f=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==f||this.projectionHeight!==v)&&this.setProjectionMatrix(f,v)}},bind:function(f){if(f===void 0&&(f=this.currentShader),this.glReset)return this.rebind(f);var v=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),f.bind(v),this.currentShader=f,this.activeTextures.length=0,this.emit(s.BIND,this,f),this.onActive(f),this},rebind:function(f){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,m=v.length-1;m>=0;m--){var T=v[m].rebind();(!f||T===f)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var f=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var m=0;m<f.length;m++){var T=f[m];T.syncUniforms(),v&&T.rebind()}},setVertexBuffer:function(f){if(f===void 0&&(f=this.vertexBuffer),f!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,f.webGLBuffer),this.activeBuffer=f,!0}return!1},preBatch:function(f){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(f),this},postBatch:function(f){return this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(f){if(f===void 0&&(f=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,f),this.onBeforeFlush(f);var v=this.gl,m=this.vertexCount,T=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,m*T));var S,P,A,L=this.batch,F=this.activeTextures;if(this.forceZero)for(F[0]||v.activeTexture(v.TEXTURE0),S=0;S<L.length;S++)P=L[S],A=P.texture[0],F[0]!==A&&(v.bindTexture(v.TEXTURE_2D,A.webGLTexture),F[0]=A),v.drawArrays(C,P.start,P.count);else for(S=0;S<L.length;S++){P=L[S];for(var B=0;B<=P.maxUnit;B++)A=P.texture[B],F[B]!==A&&(v.activeTexture(v.TEXTURE0+B),v.bindTexture(v.TEXTURE_2D,A.webGLTexture),F[B]=A);v.drawArrays(C,P.start,P.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,f),this.onAfterFlush(f)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(f,v,m,T,C,S,P){var A=this.vertexViewF32,L=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++F]=f,A[++F]=v,A[++F]=m,A[++F]=T,A[++F]=C,A[++F]=S,L[++F]=P,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(f,v,m,T,C,S,P,A,L,F,B,D,I,G,z,W,Y,K,Z,V){V===void 0&&(V=this.currentUnit);var H=!1;this.shouldFlush(6)&&(this.flush(),H=!0),this.currentBatch||(V=this.setTexture2D(Z));var N=this.vertexViewF32,b=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++X]=v,N[++X]=m,N[++X]=F,N[++X]=B,N[++X]=V,N[++X]=K,b[++X]=G,N[++X]=T,N[++X]=C,N[++X]=F,N[++X]=I,N[++X]=V,N[++X]=K,b[++X]=W,N[++X]=S,N[++X]=P,N[++X]=D,N[++X]=I,N[++X]=V,N[++X]=K,b[++X]=Y,N[++X]=v,N[++X]=m,N[++X]=F,N[++X]=B,N[++X]=V,N[++X]=K,b[++X]=G,N[++X]=S,N[++X]=P,N[++X]=D,N[++X]=I,N[++X]=V,N[++X]=K,b[++X]=Y,N[++X]=A,N[++X]=L,N[++X]=D,N[++X]=B,N[++X]=V,N[++X]=K,b[++X]=z,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),H},batchTri:function(f,v,m,T,C,S,P,A,L,F,B,D,I,G,z,W,Y){Y===void 0&&(Y=this.currentUnit);var K=!1;this.shouldFlush(3)&&(this.flush(),K=!0),this.currentBatch||(Y=this.setTexture2D(W));var Z=this.vertexViewF32,V=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return Z[++H]=v,Z[++H]=m,Z[++H]=A,Z[++H]=L,Z[++H]=Y,Z[++H]=z,V[++H]=D,Z[++H]=T,Z[++H]=C,Z[++H]=A,Z[++H]=B,Z[++H]=Y,Z[++H]=z,V[++H]=I,Z[++H]=S,Z[++H]=P,Z[++H]=F,Z[++H]=B,Z[++H]=Y,Z[++H]=z,V[++H]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),K},drawFillRect:function(f,v,m,T,C,S,P,A){P===void 0&&(P=this.renderer.whiteTexture),A===void 0&&(A=!0),f=Math.floor(f),v=Math.floor(v);var L=Math.floor(f+m),F=Math.floor(v+T),B=this.setTexture2D(P),D=i.getTintAppendFloatAlphaAndSwap(C,S),I=0,G=0,z=1,W=1;A&&(G=1,W=0),this.batchQuad(null,f,v,f,F,L,F,L,v,I,G,z,W,D,D,D,D,0,P,B)},setTexture2D:function(f){return f===void 0&&(f=this.renderer.whiteTexture),this.pushBatch(f)},bindTexture:function(f,v){v===void 0&&(v=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+v),m.bindTexture(m.TEXTURE_2D,f.webGLTexture),this},bindRenderTarget:function(f,v){return this.bindTexture(f.texture,v)},setTime:function(f,v){return this.set1f(f,this.game.loop.getDuration(),v),this},setBoolean:function(f,v,m){return m===void 0&&(m=this.currentShader),m.setBoolean(f,v),this},set1f:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set1f(f,v),this},set2f:function(f,v,m,T){return T===void 0&&(T=this.currentShader),T.set2f(f,v,m),this},set3f:function(f,v,m,T,C){return C===void 0&&(C=this.currentShader),C.set3f(f,v,m,T),this},set4f:function(f,v,m,T,C,S){return S===void 0&&(S=this.currentShader),S.set4f(f,v,m,T,C),this},set1fv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set1fv(f,v),this},set2fv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set2fv(f,v),this},set3fv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set3fv(f,v),this},set4fv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set4fv(f,v),this},set1iv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set1iv(f,v),this},set2iv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set2iv(f,v),this},set3iv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set3iv(f,v),this},set4iv:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set4iv(f,v),this},set1i:function(f,v,m){return m===void 0&&(m=this.currentShader),m.set1i(f,v),this},set2i:function(f,v,m,T){return T===void 0&&(T=this.currentShader),T.set2i(f,v,m),this},set3i:function(f,v,m,T,C){return C===void 0&&(C=this.currentShader),C.set3i(f,v,m,T),this},set4i:function(f,v,m,T,C,S){return S===void 0&&(S=this.currentShader),S.set4i(f,v,m,T,C),this},setMatrix2fv:function(f,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(f,v,m),this},setMatrix3fv:function(f,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(f,v,m),this},setMatrix4fv:function(f,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(f,v,m),this},destroy:function(){this.emit(s.DESTROY,this);var f,v=this.shaders;for(f=0;f<v.length;f++)v[f].destroy();var m=this.renderTargets;for(f=0;f<m.length;f++)m[f].destroy();var T=this.renderer;return T.deleteBuffer(this.vertexBuffer),T.off(n.RESIZE,this.resize,this),T.off(n.PRE_RENDER,this.onPreRender,this),T.off(n.RENDER,this.onRender,this),T.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=u},74797:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95428),g=t(72905),o=t(19715),s=t(83419),r=t(8054),e=t(50792),n=t(92503),l=t(50030),i=t(37867),h=t(29747),u=t(7530),f=t(32302),v=t(97480),m=t(69442),T=t(70554),C=t(88815),S=t(26128),P=t(1482),A=t(82751),L=t(84387),F=t(93567),B=t(57183),D=new s({Extends:e,initialize:function(G){e.call(this);var z=G.config,W={alpha:z.transparent,desynchronized:z.desynchronized,depth:!0,antialias:z.antialiasGL,premultipliedAlpha:z.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:z.failIfMajorPerformanceCaveat,powerPreference:z.powerPreference,preserveDrawingBuffer:z.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:z.clearBeforeRender,antialias:z.antialias,backgroundColor:z.backgroundColor,contextCreation:W,roundPixels:z.roundPixels,maxTextures:z.maxTextures,maxTextureSize:z.maxTextureSize,batchSize:z.batchSize,maxLights:z.maxLights,mipmapFilter:z.mipmapFilter},this.game=G,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=G.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(I){var G,z=this.game,W=this.canvas,Y=I.backgroundColor;if(z.config.context?G=z.config.context:G=W.getContext("webgl",I.contextCreation)||W.getContext("experimental-webgl",I.contextCreation),!G||G.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=G;var K=this,Z=function(){var N=G.getSupportedExtensions();K.supportedExtensions=N;var b="ANGLE_instanced_arrays";K.instancedArraysExtension=N.indexOf(b)>-1?G.getExtension(b):null;var X="OES_vertex_array_object";K.vaoExtension=N.indexOf(X)>-1?G.getExtension(X):null};Z(),this.contextLostHandler=function(N){K.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),K.emit(n.LOSE_WEBGL,K),N.preventDefault()},W.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(N){if(G.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}K.currentProgram=null,K.currentFramebuffer=null,K.setBlendMode(r.BlendModes.NORMAL),G.disable(G.BLEND),G.disable(G.DEPTH_TEST),G.enable(G.CULL_FACE),K.compression=K.getCompressedTextures();var b=function(X){X.createResource()};a(K.glTextureWrappers,b),a(K.glBufferWrappers,b),a(K.glFramebufferWrappers,b),a(K.glProgramWrappers,b),a(K.glAttribLocationWrappers,b),a(K.glUniformLocationWrappers,b),K.createTemporaryTextures(),K.pipelines.restoreContext(),K.resize(K.game.scale.baseSize.width,K.game.scale.baseSize.height),Z(),K.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),K.emit(n.RESTORE_WEBGL,K),N.preventDefault()},W.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),z.context=G;for(var V=0;V<=27;V++)this.blendModes.push({func:[G.ONE,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_ADD});this.blendModes[1].func=[G.ONE,G.DST_ALPHA],this.blendModes[2].func=[G.DST_COLOR,G.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[G.ONE,G.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[G.ZERO,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_REVERSE_SUBTRACT},this.glFormats=[G.BYTE,G.SHORT,G.UNSIGNED_BYTE,G.UNSIGNED_SHORT,G.FLOAT],this.glFuncMap={mat2:{func:G.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:G.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:G.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:G.uniform1f,length:1},"1fv":{func:G.uniform1fv,length:1},"1i":{func:G.uniform1i,length:1},"1iv":{func:G.uniform1iv,length:1},"2f":{func:G.uniform2f,length:2},"2fv":{func:G.uniform2fv,length:1},"2i":{func:G.uniform2i,length:2},"2iv":{func:G.uniform2iv,length:1},"3f":{func:G.uniform3f,length:3},"3fv":{func:G.uniform3fv,length:1},"3i":{func:G.uniform3i,length:3},"3iv":{func:G.uniform3iv,length:1},"4f":{func:G.uniform4f,length:4},"4fv":{func:G.uniform4fv,length:1},"4i":{func:G.uniform4i,length:4},"4iv":{func:G.uniform4iv,length:1}},(!I.maxTextures||I.maxTextures===-1)&&(I.maxTextures=G.getParameter(G.MAX_TEXTURE_IMAGE_UNITS)),I.maxTextureSize||(I.maxTextureSize=G.getParameter(G.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),G.enable(G.BLEND),G.clearColor(Y.redGL,Y.greenGL,Y.blueGL,Y.alphaGL);var H=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return H.indexOf(I.mipmapFilter)!==-1&&(this.mipmapFilter=G[I.mipmapFilter]),this.maxTextures=T.checkShaderMax(G,I.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),z.textures.once(m.READY,this.boot,this),this},boot:function(){var I=this.game,G=this.pipelines,z=I.scale.baseSize,W=z.width,Y=z.height;this.width=W,this.height=Y,this.isBooted=!0,this.renderTarget=new f(this,W,Y,1,0,!0,!0),this.maskTarget=new f(this,W,Y,1,0,!0,!0),this.maskSource=new f(this,W,Y,1,0,!0,!0);var K=I.config;G.boot(K.pipeline,K.defaultPipeline,K.autoMobilePipeline),this.blankTexture=I.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=I.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=I.textures.getFrame("__WHITE").glTexture;var Z=this.gl;Z.bindFramebuffer(Z.FRAMEBUFFER,null),Z.enable(Z.SCISSOR_TEST),I.scale.on(v.RESIZE,this.onResize,this),this.resize(W,Y)},createTemporaryTextures:function(){for(var I=this.gl,G=0;G<this.maxTextures;G++){var z=I.createTexture();I.activeTexture(I.TEXTURE0+G),I.bindTexture(I.TEXTURE_2D,z),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,1,1,0,I.RGBA,I.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(G)}},captureFrame:function(I,G){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(I,G,z){},stopCapture:function(){},onCapture:function(I){},onResize:function(I,G){(G.width!==this.width||G.height!==this.height)&&this.resize(G.width,G.height)},beginCapture:function(I,G){I===void 0&&(I=this.width),G===void 0&&(G=this.height),this.renderTarget.bind(!0,I,G),this.setProjectionMatrix(I,G)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(I,G){var z=this.gl;return this.width=I,this.height=G,this.setProjectionMatrix(I,G),z.viewport(0,0,I,G),this.drawingBufferHeight=z.drawingBufferHeight,z.scissor(0,z.drawingBufferHeight-G,I,G),this.defaultScissor[2]=I,this.defaultScissor[3]=G,this.emit(n.RESIZE,I,G),this},getCompressedTextures:function(){var I="WEBGL_compressed_texture_",G="WEBKIT_"+I,z="EXT_texture_compression_",W=function(K,Z){var V=K.getExtension(I+Z)||K.getExtension(G+Z)||K.getExtension(z+Z);if(V){var H={};for(var N in V)H[V[N]]=N;return H}},Y=this.gl;return{ETC:W(Y,"etc"),ETC1:W(Y,"etc1"),ATC:W(Y,"atc"),ASTC:W(Y,"astc"),BPTC:W(Y,"bptc"),RGTC:W(Y,"rgtc"),PVRTC:W(Y,"pvrtc"),S3TC:W(Y,"s3tc"),S3TCSRGB:W(Y,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(I,G){var z=this.compression[I.toUpperCase()];if(G in z)return z[G]},supportsCompressedTexture:function(I,G){var z=this.compression[I.toUpperCase()];return z?G?G in z:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(I,G){return(I!==this.projectionWidth||G!==this.projectionHeight)&&(this.projectionWidth=I,this.projectionHeight=G,this.projectionMatrix.ortho(0,I,G,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(I){return this.supportedExtensions?this.supportedExtensions.indexOf(I):!1},getExtension:function(I){return this.hasExtension(I)?(I in this.extensions||(this.extensions[I]=this.gl.getExtension(I)),this.extensions[I]):null},flush:function(){this.pipelines.flush()},pushScissor:function(I,G,z,W,Y){Y===void 0&&(Y=this.drawingBufferHeight);var K=this.scissorStack,Z=[I,G,z,W];return K.push(Z),this.setScissor(I,G,z,W,Y),this.currentScissor=Z,Z},setScissor:function(I,G,z,W,Y){Y===void 0&&(Y=this.drawingBufferHeight);var K=this.gl,Z=this.currentScissor,V=z>0&&W>0;if(Z&&V){var H=Z[0],N=Z[1],b=Z[2],X=Z[3];V=H!==I||N!==G||b!==z||X!==W}V&&(this.flush(),K.scissor(I,Y-G-W,z,W))},resetScissor:function(){var I=this.gl;I.enable(I.SCISSOR_TEST);var G=this.currentScissor;if(G){var z=G[0],W=G[1],Y=G[2],K=G[3];Y>0&&K>0&&I.scissor(z,this.drawingBufferHeight-W-K,Y,K)}},popScissor:function(){var I=this.scissorStack;I.pop();var G=I[I.length-1];G&&this.setScissor(G[0],G[1],G[2],G[3]),this.currentScissor=G},hasActiveStencilMask:function(){var I=this.currentMask.mask,G=this.currentCameraMask.mask;return I&&I.isStencil||G&&G.isStencil},resetViewport:function(){var I=this.gl;I.viewport(0,0,this.width,this.height),this.drawingBufferHeight=I.drawingBufferHeight},setBlendMode:function(I,G){G===void 0&&(G=!1);var z=this.gl,W=this.blendModes[I];return G||I!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==I?(this.flush(),z.enable(z.BLEND),z.blendEquation(W.equation),W.func.length>2?z.blendFuncSeparate(W.func[0],W.func[1],W.func[2],W.func[3]):z.blendFunc(W.func[0],W.func[1]),this.currentBlendMode=I,!0):!1},addBlendMode:function(I,G){var z=this.blendModes.push({func:I,equation:G});return z-1},updateBlendMode:function(I,G,z){return this.blendModes[I]&&(this.blendModes[I].func=G,z&&(this.blendModes[I].equation=z)),this},removeBlendMode:function(I){return I>17&&this.blendModes[I]&&this.blendModes.splice(I,1),this},pushFramebuffer:function(I,G,z,W,Y){return I===this.currentFramebuffer?this:(this.fboStack.push(I),this.setFramebuffer(I,G,z,W,Y))},setFramebuffer:function(I,G,z,W,Y){if(G===void 0&&(G=!1),z===void 0&&(z=!0),W===void 0&&(W=null),Y===void 0&&(Y=!1),I===this.currentFramebuffer)return this;var K=this.gl,Z=this.width,V=this.height;return I&&I.renderTexture&&z?(Z=I.renderTexture.width,V=I.renderTexture.height):this.flush(),I?K.bindFramebuffer(K.FRAMEBUFFER,I.webGLFramebuffer):K.bindFramebuffer(K.FRAMEBUFFER,null),z&&K.viewport(0,0,Z,V),W&&K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,W.webGLTexture,0),Y&&(K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT)),G&&(I?(this.drawingBufferHeight=V,this.pushScissor(0,0,Z,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=I,this},popFramebuffer:function(I,G){I===void 0&&(I=!1),G===void 0&&(G=!0);var z=this.fboStack;z.pop();var W=z[z.length-1];return W||(W=null),this.setFramebuffer(W,I,G),W},restoreFramebuffer:function(I,G){I===void 0&&(I=!1),G===void 0&&(G=!0);var z=this.fboStack,W=z[z.length-1];W||(W=null),this.currentFramebuffer=null,this.setFramebuffer(W,I,G)},setProgram:function(I){return I!==this.currentProgram?(this.flush(),this.gl.useProgram(I.webGLProgram),this.currentProgram=I,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(I,G,z,W,Y){Y===void 0&&(Y=!1);var K=this.gl,Z=K.NEAREST,V=K.NEAREST,H=K.CLAMP_TO_EDGE,N=null;G=I?I.width:G,z=I?I.height:z;var b=l(G,z);if(b&&!Y&&(H=K.REPEAT),W===r.ScaleModes.LINEAR&&this.config.antialias){var X=I&&I.compressed,$=!X&&b||X&&I.mipmaps.length>1;Z=this.mipmapFilter&&$?this.mipmapFilter:K.LINEAR,V=K.LINEAR}return!I&&typeof G=="number"&&typeof z=="number"?N=this.createTexture2D(0,Z,V,H,H,K.RGBA,null,G,z):N=this.createTexture2D(0,Z,V,H,H,K.RGBA,I),N},createTexture2D:function(I,G,z,W,Y,K,Z,V,H,N,b,X){typeof V!="number"&&(V=Z?Z.width:1),typeof H!="number"&&(H=Z?Z.height:1);var $=new A(this.gl,I,G,z,W,Y,K,Z,V,H,N,b,X);return this.glTextureWrappers.push($),$},createFramebuffer:function(I,G,z,W){this.currentFramebuffer=null;var Y=new L(this.gl,I,G,z,W);return this.glFramebufferWrappers.push(Y),Y},beginBitmapMask:function(I,G){var z=this.gl;z&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==I&&(this.currentMask.mask=I,this.currentMask.camera=G))},drawBitmapMask:function(I,G,z){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),I.renderWebGL(this,I,G),this.maskSource.unbind(!0),this.maskTarget.unbind();var W=this.gl,Y=this.getCurrentStencilMask();Y?(W.enable(W.STENCIL_TEST),Y.mask.applyStencil(this,Y.camera,!0)):this.currentMask.mask=null,this.pipelines.set(z),W.activeTexture(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,this.maskTarget.texture.webGLTexture),W.activeTexture(W.TEXTURE1),W.bindTexture(W.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(I,G){var z=new P(this.gl,I,G);return this.glProgramWrappers.push(z),z},createVertexBuffer:function(I,G){var z=this.gl,W=new S(z,I,z.ARRAY_BUFFER,G);return this.glBufferWrappers.push(W),W},createAttribLocation:function(I,G){var z=new F(this.gl,I,G);return this.glAttribLocationWrappers.push(z),z},createUniformLocation:function(I,G){var z=new B(this.gl,I,G);return this.glUniformLocationWrappers.push(z),z},createIndexBuffer:function(I,G){var z=this.gl,W=new S(z,I,z.ELEMENT_ARRAY_BUFFER,G);return this.glBufferWrappers.push(W),W},deleteTexture:function(I){if(I)return g(this.glTextureWrappers,I),I.destroy(),this},deleteFramebuffer:function(I){return I?(g(this.fboStack,I),g(this.glFramebufferWrappers,I),I.destroy(),this):this},deleteProgram:function(I){return I&&(g(this.glProgramWrappers,I),I.destroy()),this},deleteAttribLocation:function(I){return I&&(g(this.glAttribLocationWrappers,I),I.destroy()),this},deleteUniformLocation:function(I){return I&&(g(this.glUniformLocationWrappers,I),I.destroy()),this},deleteBuffer:function(I){return I?(g(this.glBufferWrappers,I),I.destroy(),this):this},preRenderCamera:function(I){var G=I.x,z=I.y,W=I.width,Y=I.height,K=I.backgroundColor;if(I.emit(o.PRE_RENDER,I),this.pipelines.preBatchCamera(I),this.pushScissor(G,z,W,Y),I.mask&&(this.currentCameraMask.mask=I.mask,this.currentCameraMask.camera=I._maskCamera,I.mask.preRenderWebGL(this,I,I._maskCamera)),K.alphaGL>0){var Z=this.pipelines.setMulti();Z.drawFillRect(G,z,W,Y,T.getTintFromFloats(K.blueGL,K.greenGL,K.redGL,1),K.alphaGL)}},getCurrentStencilMask:function(){var I=null,G=this.maskStack,z=this.currentCameraMask;return G.length>0?I=G[G.length-1]:z.mask&&z.mask.isStencil&&(I=z),I},postRenderCamera:function(I){var G=I.flashEffect,z=I.fadeEffect;if(G.isRunning||z.isRunning||z.isComplete){var W=this.pipelines.setMulti();G.postRenderWebGL(W,T.getTintFromFloats),z.postRenderWebGL(W,T.getTintFromFloats)}I.dirty=!1,this.popScissor(),I.mask&&(this.currentCameraMask.mask=null,I.mask.postRenderWebGL(this,I._maskCamera)),this.pipelines.postBatchCamera(I),I.emit(o.POST_RENDER,I)},preRender:function(){if(!this.contextLost){var I=this.gl;if(I.bindFramebuffer(I.FRAMEBUFFER,null),this.config.clearBeforeRender){var G=this.config.backgroundColor;I.clearColor(G.redGL,G.greenGL,G.blueGL,G.alphaGL),I.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT)}I.enable(I.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&I.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(I,G,z){if(!this.contextLost){var W=G.length;if(this.emit(n.RENDER,I,z),this.preRenderCamera(z),W===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(z);return}this.currentType="";for(var Y=this.currentMask,K=0;K<W;K++){this.finalType=K===W-1;var Z=G[K],V=Z.mask;Y=this.currentMask,Y.mask&&Y.mask!==V&&Y.mask.postRenderWebGL(this,Y.camera),V&&Y.mask!==V&&V.preRenderWebGL(this,Z,z),Z.blendMode!==this.currentBlendMode&&this.setBlendMode(Z.blendMode);var H=Z.type;H!==this.currentType&&(this.newType=!0,this.currentType=H),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=G[K+1].type===this.currentType,Z.renderWebGL(this,Z,z),this.newType=!1}Y=this.currentMask,Y.mask&&Y.mask.postRenderWebGL(this,Y.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(z)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var I=this.snapshotState;I.callback&&(C(this.gl,I),I.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var I=this.gl,G=this.getCurrentStencilMask();if(G){var z=G.mask;I.enable(I.STENCIL_TEST),z.invertAlpha?I.stencilFunc(I.NOTEQUAL,z.level,255):I.stencilFunc(I.EQUAL,z.level,255)}},snapshot:function(I,G,z){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,I,G,z)},snapshotArea:function(I,G,z,W,Y,K,Z){var V=this.snapshotState;return V.callback=Y,V.type=K,V.encoder=Z,V.getPixel=!1,V.x=I,V.y=G,V.width=z,V.height=W,this},snapshotPixel:function(I,G,z){return this.snapshotArea(I,G,1,1,z),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(I,G,z,W,Y,K,Z,V,H,N,b){Y===void 0&&(Y=!1),K===void 0&&(K=0),Z===void 0&&(Z=0),V===void 0&&(V=G),H===void 0&&(H=z),N==="pixel"&&(Y=!0,N="image/png");var X=this.currentFramebuffer;this.snapshotArea(K,Z,V,H,W,N,b);var $=this.snapshotState;return $.getPixel=Y,$.isFramebuffer=!0,$.bufferWidth=G,$.bufferHeight=z,$.width=Math.min($.width,G),$.height=Math.min($.height,z),this.setFramebuffer(I),C(this.gl,$),this.setFramebuffer(X),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(I,G,z,W){z===void 0&&(z=!1),W===void 0&&(W=!1);var Y=this.gl,K=Y.NEAREST,Z=Y.NEAREST,V=I.width,H=I.height,N=Y.CLAMP_TO_EDGE,b=l(V,H);return!z&&b&&(N=Y.REPEAT),this.config.antialias&&(K=b&&this.mipmapFilter?this.mipmapFilter:Y.LINEAR,Z=Y.LINEAR),G?(G.update(I,V,H,W,N,N,K,Z,G.format),G):this.createTexture2D(0,K,Z,N,N,Y.RGBA,I,V,H,!0,!1,W)},createCanvasTexture:function(I,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.canvasToTexture(I,null,G,z)},updateCanvasTexture:function(I,G,z,W){return z===void 0&&(z=!1),W===void 0&&(W=!1),this.canvasToTexture(I,G,W,z)},videoToTexture:function(I,G,z,W){z===void 0&&(z=!1),W===void 0&&(W=!1);var Y=this.gl,K=Y.NEAREST,Z=Y.NEAREST,V=I.videoWidth,H=I.videoHeight,N=Y.CLAMP_TO_EDGE,b=l(V,H);return!z&&b&&(N=Y.REPEAT),this.config.antialias&&(K=b&&this.mipmapFilter?this.mipmapFilter:Y.LINEAR,Z=Y.LINEAR),G?(G.update(I,V,H,W,N,N,K,Z,G.format),G):this.createTexture2D(0,K,Z,N,N,Y.RGBA,I,V,H,!0,!0,W)},createVideoTexture:function(I,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.videoToTexture(I,null,G,z)},updateVideoTexture:function(I,G,z,W){return z===void 0&&(z=!1),W===void 0&&(W=!1),this.videoToTexture(I,G,W,z)},createUint8ArrayTexture:function(I,G,z){var W=this.gl,Y=W.NEAREST,K=W.NEAREST,Z=W.CLAMP_TO_EDGE,V=l(G,z);return V&&(Z=W.REPEAT),this.createTexture2D(0,Y,K,Z,Z,W.RGBA,I,G,z)},setTextureFilter:function(I,G){var z=this.gl,W=G===0?z.LINEAR:z.NEAREST;z.activeTexture(z.TEXTURE0);var Y=z.getParameter(z.TEXTURE_BINDING_2D);return z.bindTexture(z.TEXTURE_2D,I.webGLTexture),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,W),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,W),I.minFilter=W,I.magFilter=W,Y&&z.bindTexture(z.TEXTURE_2D,Y),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var I=function(G){G.destroy()};a(this.glAttribLocationWrappers,I),a(this.glBufferWrappers,I),a(this.glFramebufferWrappers,I),a(this.glProgramWrappers,I),a(this.glTextureWrappers,I),a(this.glUniformLocationWrappers,I),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=D},38683:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95428),o=t(95540),s=t(14500),r=new a({initialize:function(n,l,i,h,u){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=i,this.program=this.renderer.createProgram(i,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var n=0,l=0,i=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var u=e[h],f=u.name,v=o(u,"size",1),m=o(u,"type",s.FLOAT),T=m.enum,C=m.size,S=!!u.normalized;i.push({name:f,size:v,type:T,normalized:S,offset:l,enabled:!1,location:-1}),C===4?n+=v:n++,l+=v*C}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=i},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,l=this.renderer,i=this.vertexSize,h=this.attributes,u=this.program,f=0;f<h.length;f++){var v=h[f],m=v.size,T=v.type,C=v.offset,S=v.enabled,P=v.location,A=!!v.normalized;if(e){P!==-1&&l.deleteAttribLocation(P);var L=this.renderer.createAttribLocation(u,v.name);L.webGLAttribLocation>=0?(n.enableVertexAttribArray(L.webGLAttribLocation),n.vertexAttribPointer(L.webGLAttribLocation,m,T,A,i,C),v.enabled=!0,v.location=L):L.webGLAttribLocation!==-1&&n.disableVertexAttribArray(L.webGLAttribLocation)}else S?n.vertexAttribPointer(P.webGLAttribLocation,m,T,A,i,C):!S&&P!==-1&&P.webGLAttribLocation>-1&&(n.disableVertexAttribArray(P.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,l=this.uniforms,i,h,u,f=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<f;i++){var v=e.getActiveUniform(n.webGLProgram,i);if(v){h=v.name,u=this.renderer.createUniformLocation(n,h),u!==null&&(l[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var m=h.indexOf("[");m>0&&(h=h.substr(0,m),l.hasOwnProperty(h)||(u=this.renderer.createUniformLocation(n,h),u!==null&&(l[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,l,i){var h=this.uniforms[n];return h?((i||h.value1!==l)&&(h.setter||(h.setter=e),h.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,l,i,h){var u=this.uniforms[n];return u?((h||u.value1!==l||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=l,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,l,i,h,u){var f=this.uniforms[n];return f?((u||f.value1!==l||f.value2!==i||f.value3!==h)&&(f.setter||(f.setter=e),f.value1=l,f.value2=i,f.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,i,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,l,i,h,u,f){var v=this.uniforms[n];return v?((f||v.value1!==l||v.value2!==i||v.value3!==h||v.value4!==u)&&(v.setter||(v.setter=e),v.value1=l,v.value2=i,v.value3=h,v.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,v.location.webGLUniformLocation,l,i,h,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,l){return this.setUniform2(this.gl.uniform2f,e,n,l)},set3f:function(e,n,l,i){return this.setUniform3(this.gl.uniform3f,e,n,l,i)},set4f:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4f,e,n,l,i,h)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,l){return this.setUniform2(this.gl.uniform2i,e,n,l)},set3i:function(e,n,l,i){return this.setUniform3(this.gl.uniform3i,e,n,l,i)},set4i:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4i,e,n,l,i,h)},setMatrix2fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,l,!0)},setMatrix3fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,l,!0)},setMatrix4fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,l,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;g(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,g(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=r},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=x},4159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14500),g=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=g(!1,o,a),c.exports=o},31302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(78908),s=t(85191),r=t(14500),e=t(29100),n=new a({Extends:e,initialize:function(i){i.fragShader=g(i,"fragShader",o),i.vertShader=g(i,"vertShader",s),i.batchSize=g(i,"batchSize",1),i.vertices=g(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=g(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,i){e.prototype.resize.call(this,l,i),this.set2f("uResolution",l,i)},beginMask:function(l,i,h){this.renderer.beginBitmapMask(l,h)},endMask:function(l,i,h){var u=this.gl,f=this.renderer,v=l.bitmapMask;v&&u&&(f.drawBitmapMask(v,i,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),u.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});c.exports=n},92651:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(58918),o=t(14811),s=t(95540),r=t(43558),e=t(89350),n=t(70554),l=new a({Extends:r,initialize:function(h){h.shaders=[n.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,h);var u=this.game;this.glow=new g.Glow(u),this.shadow=new g.Shadow(u),this.pixelate=new g.Pixelate(u),this.vignette=new g.Vignette(u),this.shine=new g.Shine(u),this.gradient=new g.Gradient(u),this.circle=new g.Circle(u),this.barrel=new g.Barrel(u),this.wipe=new g.Wipe(u),this.bokeh=new g.Bokeh(u);var f=[];f[o.GLOW]=this.onGlow,f[o.SHADOW]=this.onShadow,f[o.PIXELATE]=this.onPixelate,f[o.VIGNETTE]=this.onVignette,f[o.SHINE]=this.onShine,f[o.BLUR]=this.onBlur,f[o.GRADIENT]=this.onGradient,f[o.BLOOM]=this.onBloom,f[o.COLOR_MATRIX]=this.onColorMatrix,f[o.CIRCLE]=this.onCircle,f[o.BARREL]=this.onBarrel,f[o.DISPLACEMENT]=this.onDisplacement,f[o.WIPE]=this.onWipe,f[o.BOKEH]=this.onBokeh,this.fxHandlers=f,this.source,this.target,this.swap},onDraw:function(i,h,u){this.source=i,this.target=h,this.swap=u;var f=i.width,v=i.height,m=this.tempSprite,T=this.fxHandlers;if(m&&m.preFX)for(var C=m.preFX.list,S=0;S<C.length;S++){var P=C[S];P.active&&T[P.type].call(this,P,f,v)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,h=this.target;this.copy(i,h),this.source=h,this.target=i},onGlow:function(i,h,u){var f=this.shaders[o.GLOW];this.setShader(f),this.glow.onPreRender(i,f,h,u),this.runDraw()},onShadow:function(i){var h=this.shaders[o.SHADOW];this.setShader(h),this.shadow.onPreRender(i,h),this.runDraw()},onPixelate:function(i,h,u){var f=this.shaders[o.PIXELATE];this.setShader(f),this.pixelate.onPreRender(i,f,h,u),this.runDraw()},onVignette:function(i){var h=this.shaders[o.VIGNETTE];this.setShader(h),this.vignette.onPreRender(i,h),this.runDraw()},onShine:function(i,h,u){var f=this.shaders[o.SHINE];this.setShader(f),this.shine.onPreRender(i,f,h,u),this.runDraw()},onBlur:function(i,h,u){var f=s(i,"quality"),v=this.shaders[o.BLUR+f];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",h,u),this.set1f("strength",s(i,"strength")),this.set3fv("color",s(i,"glcolor"));for(var m=s(i,"x"),T=s(i,"y"),C=s(i,"steps"),S=0;S<C;S++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(i){var h=this.shaders[o.GRADIENT];this.setShader(h),this.gradient.onPreRender(i,h),this.runDraw()},onBloom:function(i,h,u){var f=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(f),this.set1i("uMainSampler",0),this.set1f("strength",s(i,"blurStrength")),this.set3fv("color",s(i,"glcolor"));for(var v=2/h*s(i,"offsetX"),m=2/u*s(i,"offsetY"),T=s(i,"steps"),C=0;C<T;C++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,h,u){var f=this.shaders[o.CIRCLE];this.setShader(f),this.circle.onPreRender(i,f,h,u),this.runDraw()},onBarrel:function(i){var h=this.shaders[o.BARREL];this.setShader(h),this.barrel.onPreRender(i,h),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var h=this.shaders[o.WIPE];this.setShader(h),this.wipe.onPreRender(i,h),this.runDraw()},onBokeh:function(i,h,u){var f=this.shaders[o.BOKEH];this.setShader(f),this.bokeh.onPreRender(i,f,h,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});c.exports=l},96569:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(31063),s=t(57516),r=t(61340),e=t(26099),n=t(29100),l=new a({Extends:s,initialize:function(h){var u=g(h,"fragShader",o);h.fragShader=u.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),s.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(i,h){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var f=u.getLights(h),v=f.length;this.lightsActive=!0;var m,T=this.renderer,C=T.height,S=h.matrix,P=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",v),m=0;m<v;m++){var A=f[m].light,L=A.color,F="uLights["+m+"].";S.transformPoint(A.x,A.y,P),this.set2f(F+"position",P.x-h.scrollX*A.scrollFactorX*h.zoom,C-(P.y-h.scrollY*A.scrollFactorY*h.zoom)),this.set3f(F+"color",L.r,L.g,L.b),this.set1f(F+"intensity",A.intensity),this.set1f(F+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(i){var u=-i,f=Math.cos(u),v=Math.sin(u);h[1]=v,h[3]=-v,h[0]=h[4]=f}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=i}},setTexture2D:function(i,h){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var f=this.getNormalMap(h);this.isNewNormalMap(i,f)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(f),this.currentNormalMap=f);var v=0;if(h&&h.parentContainer){var m=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=m.rotationNormalized}else h&&(v=h.rotation);return this.setNormalMapRotation(v),0},setGameObject:function(i,h){h===void 0&&(h=i.frame);var u=h.glTexture,f=this.getNormalMap(i);if(this.isNewNormalMap(u,f)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(f),this.currentNormalMap=f),i.parentContainer){var v=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return 0},isNewNormalMap:function(i,h){return this.currentTexture!==i||this.currentNormalMap!==h},getNormalMap:function(i){var h;if(i)i.displayTexture?h=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?h=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?h=i.tileset[0].image.dataSource[0]:h=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(i,h,u){this.lightsActive&&s.prototype.batchSprite.call(this,i,h,u)},batchTexture:function(i,h,u,f,v,m,T,C,S,P,A,L,F,B,D,I,G,z,W,Y,K,Z,V,H,N,b,X,$,Q,k,J,et){this.lightsActive&&s.prototype.batchTexture.call(this,i,h,u,f,v,m,T,C,S,P,A,L,F,B,D,I,G,z,W,Y,K,Z,V,H,N,b,X,$,Q,k,J,et)},batchTextureFrame:function(i,h,u,f,v,m,T){this.lightsActive&&s.prototype.batchTextureFrame.call(this,i,h,u,f,v,m,T)}});c.exports=l},56527:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(14500),n=t(29100),l=new a({Extends:o,initialize:function(h){h.fragShader=g(h,"fragShader",s),h.vertShader=g(h,"vertShader",r),h.attributes=g(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",o.call(this,h)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels)}});c.exports=l},57516:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(94811),o=t(95540),s=t(98840),r=t(44667),e=t(61340),n=t(70554),l=t(14500),i=t(29100),h=new a({Extends:i,initialize:function(f){var v=f.game.renderer,m=o(f,"fragShader",s);f.fragShader=n.parseFragmentShaderMaxTextures(m,v.maxTextures),f.vertShader=o(f,"vertShader",r),f.attributes=o(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),f.resizeUniform="uResolution",i.call(this,f),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height),this.set1i("uRoundPixels",u.config.roundPixels)},batchSprite:function(u,f,v){this.manager.set(this,u);var m=this._tempMatrix1,T=this._tempMatrix2,C=this._tempMatrix3,S=u.frame,P=S.glTexture,A=S.u0,L=S.v0,F=S.u1,B=S.v1,D=S.x,I=S.y,G=S.cutWidth,z=S.cutHeight,W=S.customPivot,Y=u.displayOriginX,K=u.displayOriginY,Z=-Y+D,V=-K+I;if(u.isCropped){var H=u._crop;(H.flipX!==u.flipX||H.flipY!==u.flipY)&&S.updateCropUVs(H,u.flipX,u.flipY),A=H.u0,L=H.v0,F=H.u1,B=H.v1,G=H.width,z=H.height,D=H.x,I=H.y,Z=-Y+D,V=-K+I}var N=1,b=1;u.flipX&&(W||(Z+=-S.realWidth+Y*2),N=-1),u.flipY&&(W||(V+=-S.realHeight+K*2),b=-1);var X=u.x,$=u.y;T.applyITRS(X,$,u.rotation,u.scaleX*N,u.scaleY*b),m.copyFrom(f.matrix),v?(m.multiplyWithOffset(v,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),T.e=X,T.f=$):(T.e-=f.scrollX*u.scrollFactorX,T.f-=f.scrollY*u.scrollFactorY),m.multiply(T,C);var Q=C.setQuad(Z,V,Z+G,V+z),k=n.getTintAppendFloatAlpha,J=f.alpha,et=k(u.tintTopLeft,J*u._alphaTL),nt=k(u.tintTopRight,J*u._alphaTR),st=k(u.tintBottomLeft,J*u._alphaBL),ot=k(u.tintBottomRight,J*u._alphaBR);this.shouldFlush(6)&&this.flush();var ut=this.setGameObject(u,S);this.manager.preBatch(u),this.currentShader.set1i("uRoundPixels",f.roundPixels),this.batchQuad(u,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],A,L,F,B,et,nt,st,ot,u.tintFill,P,ut),this.manager.postBatch(u)},batchTexture:function(u,f,v,m,T,C,S,P,A,L,F,B,D,I,G,z,W,Y,K,Z,V,H,N,b,X,$,Q,k,J,et,nt,st,ot){ot===void 0&&(ot=!1),this.manager.set(this,u);var ut=this._tempMatrix1,at=this._tempMatrix2,ct=this._tempMatrix3,Pt=Y/v+Q,Ct=K/m+k,Et=(Y+Z)/v+Q,dt=(K+V)/m+k,St=S,vt=P,Mt=-z,Nt=-W;if(u.isCropped){var Zt=u._crop,Ut=Zt.width,Ht=Zt.height;St=Ut,vt=Ht,S=Ut,P=Ht,Y=Zt.x,K=Zt.y;var Gt=Y,oe=K;B&&(Gt=Z-Zt.x-Ut),D&&(oe=V-Zt.y-Ht),Pt=Gt/v+Q,Ct=oe/m+k,Et=(Gt+Ut)/v+Q,dt=(oe+Ht)/m+k,Mt=-z+Y,Nt=-W+K}D=D^(!nt&&f.isRenderTexture?1:0),B&&(St*=-1,Mt+=S),D&&(vt*=-1,Nt+=P),at.applyITRS(T,C,F,A,L),ut.copyFrom(J.matrix),et?(ut.multiplyWithOffset(et,-J.scrollX*I,-J.scrollY*G),at.e=T,at.f=C):(at.e-=J.scrollX*I,at.f-=J.scrollY*G),ut.multiply(at,ct);var Jt=ct.setQuad(Mt,Nt,Mt+St,Nt+vt);st==null&&(st=this.setTexture2D(f)),u&&!ot&&this.manager.preBatch(u),this.currentShader.set1i("uRoundPixels",J.roundPixels),this.batchQuad(u,Jt[0],Jt[1],Jt[2],Jt[3],Jt[4],Jt[5],Jt[6],Jt[7],Pt,Ct,Et,dt,H,N,b,X,$,f,st),u&&!ot&&this.manager.postBatch(u)},batchTextureFrame:function(u,f,v,m,T,C,S){this.manager.set(this);var P=this._tempMatrix1.copyFrom(C),A=this._tempMatrix2;S?P.multiply(S,A):A=P;var L=A.setQuad(f,v,f+u.width,v+u.height),F=this.setTexture2D(u.source.glTexture);m=n.getTintAppendFloatAlpha(m,T),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],u.u0,u.v0,u.u1,u.v1,m,m,m,m,0,u.glTexture,F)},batchFillRect:function(u,f,v,m,T,C){this.renderer.pipelines.set(this);var S=this.calcMatrix;C&&C.multiply(T,S);var P=S.setQuad(u,f,u+v,f+m),A=this.fillTint;this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(u,f,v,m,T,C,S,P){this.renderer.pipelines.set(this);var A=this.calcMatrix;P&&P.multiply(S,A);var L=A.getX(u,f),F=A.getY(u,f),B=A.getX(v,m),D=A.getY(v,m),I=A.getX(T,C),G=A.getY(T,C),z=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,L,F,B,D,I,G,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(u,f,v,m,T,C,S,P,A){var L=this.tempTriangle;L[0].x=u,L[0].y=f,L[0].width=S,L[1].x=v,L[1].y=m,L[1].width=S,L[2].x=T,L[2].y=C,L[2].width=S,L[3].x=u,L[3].y=f,L[3].width=S,this.batchStrokePath(L,S,!1,P,A)},batchFillPath:function(u,f,v){this.renderer.pipelines.set(this);var m=this.calcMatrix;v&&v.multiply(f,m);for(var T=u.length,C=this.polygonCache,S,P,A=this.fillTint.TL,L=this.fillTint.TR,F=this.fillTint.BL,B=0;B<T;++B)P=u[B],C.push(P.x,P.y);S=g(C),T=S.length,this.currentShader.set1i("uRoundPixels",!1);for(var D=0;D<T;D+=3){var I=S[D+0]*2,G=S[D+1]*2,z=S[D+2]*2,W=C[I+0],Y=C[I+1],K=C[G+0],Z=C[G+1],V=C[z+0],H=C[z+1],N=m.getX(W,Y),b=m.getY(W,Y),X=m.getX(K,Z),$=m.getY(K,Z),Q=m.getX(V,H),k=m.getY(V,H);this.batchTri(null,N,b,X,$,Q,k,0,0,1,1,A,L,F,2)}C.length=0},batchStrokePath:function(u,f,v,m,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=u.length-1,S=0;S<C;S++){var P=u[S],A=u[S+1];this.batchLine(P.x,P.y,A.x,A.y,P.width/2,A.width/2,f,S,!v&&S===C-1,m,T)}},batchLine:function(u,f,v,m,T,C,S,P,A,L,F){this.renderer.pipelines.set(this);var B=this.calcMatrix;F&&F.multiply(L,B);var D=v-u,I=m-f,G=Math.sqrt(D*D+I*I);if(G!==0){var z=T*(m-f)/G,W=T*(u-v)/G,Y=C*(m-f)/G,K=C*(u-v)/G,Z=v-Y,V=m-K,H=u-z,N=f-W,b=v+Y,X=m+K,$=u+z,Q=f+W,k=B.getX(Z,V),J=B.getY(Z,V),et=B.getX(H,N),nt=B.getY(H,N),st=B.getX(b,X),ot=B.getY(b,X),ut=B.getX($,Q),at=B.getY($,Q),ct=this.strokeTint,Pt=ct.TL,Ct=ct.TR,Et=ct.BL,dt=ct.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,ut,at,et,nt,k,J,st,ot,0,0,1,1,Pt,Ct,Et,dt,2),!(S<=2)){var St=this.prevQuad,vt=this.firstQuad;P>0&&St[4]?this.batchQuad(null,ut,at,et,nt,St[0],St[1],St[2],St[3],0,0,1,1,Pt,Ct,Et,dt,2):(vt[0]=ut,vt[1]=at,vt[2]=et,vt[3]=nt,vt[4]=1),A&&vt[4]?this.batchQuad(null,k,J,st,ot,vt[0],vt[1],vt[2],vt[3],0,0,1,1,Pt,Ct,Et,dt,2):(St[0]=k,St[1]=J,St[2]=st,St[3]=ot,St[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});c.exports=h},43439:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(4127),s=t(89924),r=t(29100),e=new a({Extends:r,initialize:function(l){l.vertShader=g(l,"vertShader",s),l.fragShader=g(l,"fragShader",o),l.attributes=g(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,i,h,u,f,v,m,T,C,S,P){var A=n.color,L=n.intensity,F=n.radius,B=n.attenuation,D=A.r*L,I=A.g*L,G=A.b*L,z=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,h,S,P,F,B,D,I,G,z),this.batchLightVert(u,f,S,P,F,B,D,I,G,z),this.batchLightVert(v,m,S,P,F,B,D,I,G,z),this.batchLightVert(i,h,S,P,F,B,D,I,G,z),this.batchLightVert(v,m,S,P,F,B,D,I,G,z),this.batchLightVert(T,C,S,P,F,B,D,I,G,z),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,i,h,u,f,v,m,T,C){var S=this.vertexViewF32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++P]=n,S[++P]=l,S[++P]=i,S[++P]=h,S[++P]=u,S[++P]=f,S[++P]=v,S[++P]=m,S[++P]=T,S[++P]=C,this.vertexCount++}});c.exports=e},84057:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(89422),o=t(95540),s=t(27681),r=t(49627),e=t(29100),n=new a({Extends:e,initialize:function(i){i.renderTarget=o(i,"renderTarget",1),i.fragShader=o(i,"fragShader",s),i.vertShader=o(i,"vertShader",r),i.attributes=o(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels);for(var h=this.renderTargets,u=0;u<h.length;u++)h[u].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,i,h){h===void 0&&(h=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.texture.webGLTexture);var f=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),h&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,f))},copyFrame:function(l,i,h,u,f){this.manager.copyFrame(l,i,h,u,f)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,i,h){this.manager.drawFrame(l,i,h,this.colorMatrix)},blendFrames:function(l,i,h,u,f){this.manager.blendFrames(l,i,h,u,f)},blendFramesAdditive:function(l,i,h,u,f){this.manager.blendFramesAdditive(l,i,h,u,f)},clearFrame:function(l,i){this.manager.clearFrame(l,i)},blitFrame:function(l,i,h,u,f,v){this.manager.blitFrame(l,i,h,u,f,v)},copyFrameRect:function(l,i,h,u,f,v,m,T){this.manager.copyFrameRect(l,i,h,u,f,v,m,T)},bindAndDraw:function(l,i,h,u,f){h===void 0&&(h=!0),u===void 0&&(u=!0);var v=this.gl,m=this.renderer;this.bind(f),this.set1i("uMainSampler",0),i?(v.viewport(0,0,i.width,i.height),v.bindFramebuffer(v.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,i.texture.webGLTexture,0),h&&(u?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||v.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),i&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=n},43558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g=t(67502),o=t(83419),s=t(96293),r=t(95540),e=t(57516),n=t(27681),l=t(87841),i=t(32302),h=t(45561),u=t(60722),f=t(29100),v=new o({Extends:e,initialize:function(T){var C=r(T,"fragShader",n),S=r(T,"vertShader",u),P=r(T,"drawShader",n),A=[{name:"DrawSprite",fragShader:h,vertShader:u},{name:"CopySprite",fragShader:C,vertShader:S},{name:"DrawGame",fragShader:P,vertShader:u},{name:"ColorMatrix",fragShader:s}],L=r(T,"shaders",[]);T.shaders=A.concat(L),T.vertShader||(T.vertShader=S),T.batchSize=1,e.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){f.prototype.boot.call(this);var m=this.shaders,T=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new i(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=T.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader,this.set2f("uResolution",T.width,T.height),this.set1i("uRoundPixels",T.config.roundPixels)},onResize:function(m,T){var C=this.quadVertexViewF32;C[1]=T,C[22]=T,C[14]=m,C[28]=m,C[35]=m,C[36]=T},batchQuad:function(m,T,C,S,P,A,L,F,B,D,I,G,z,W,Y,K,Z,V,H){var N=Math.min(T,S,A,F),b=Math.min(C,P,L,B),X=Math.max(T,S,A,F),$=Math.max(C,P,L,B),Q=X-N,k=$-b,J=this.spriteBounds.setTo(N,b,Q,k),et=m?m.preFX.padding:0,nt=Q+et*2,st=k+et*2,ot=Math.abs(Math.max(nt,st)),ut=this.manager.getRenderTarget(ot),at=this.targetBounds.setTo(0,0,ut.width,ut.height);g(at,J.centerX,J.centerY),this.tempSprite=m;var ct=this.gl,Pt=this.renderer;Pt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Pt.width,Pt.height),this.set1i("uRoundPixels",Pt.config.roundPixels),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,ut),m.preFX.onFX(this));var Ct=this.fsTarget;return this.flush(),ct.viewport(0,0,Pt.width,Pt.height),ct.bindFramebuffer(ct.FRAMEBUFFER,Ct.framebuffer.webGLFramebuffer),ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,Ct.texture.webGLTexture,0),ct.clearColor(0,0,0,0),ct.clear(ct.COLOR_BUFFER_BIT),this.setTexture2D(H),this.batchVert(T,C,D,I,0,V,W),this.batchVert(S,P,D,z,0,V,K),this.batchVert(A,L,G,z,0,V,Z),this.batchVert(T,C,D,I,0,V,W),this.batchVert(A,L,G,z,0,V,Z),this.batchVert(F,B,G,I,0,V,Y),this.flush(),this.flipProjectionMatrix(!1),ct.activeTexture(ct.TEXTURE0),ct.bindTexture(ct.TEXTURE_2D,ut.texture.webGLTexture),ct.copyTexSubImage2D(ct.TEXTURE_2D,0,0,0,at.x,at.y,at.width,at.height),ct.bindFramebuffer(ct.FRAMEBUFFER,null),ct.bindTexture(ct.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(ut,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,T,C,S,P,A,L){C===void 0&&(C=!0),S===void 0&&(S=!0),P===void 0&&(P=!1),L===void 0&&(L=this.copyShader);var F=this.gl,B=this.tempSprite;A&&(L=this.colorMatrixShader),this.currentShader=L;var D=this.setVertexBuffer(this.quadVertexBuffer);L.bind(D,!1);var I=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",I.width,I.height),this.set1i("uRoundPixels",I.config.roundPixels),B.preFX.onFXCopy(this),this.onCopySprite(m,T,B),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,m.texture.webGLTexture),m.height>T.height)F.viewport(0,0,m.width,m.height),this.setTargetUVs(m,T);else{var G=T.height-m.height;F.viewport(0,G,m.width,m.height),this.resetUVs()}if(F.bindFramebuffer(F.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,T.texture.webGLTexture,0),C&&(F.clearColor(0,0,0,+!S),F.clear(F.COLOR_BUFFER_BIT)),P){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}F.bufferData(F.ARRAY_BUFFER,this.quadVertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),P&&this.renderer.setBlendMode(z),F.bindFramebuffer(F.FRAMEBUFFER,null)},copy:function(m,T){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,m.texture.webGLTexture),C.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,T.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(m,T,C,S,P){this.manager.blendFrames(m,T,C,S,P)},blendFramesAdditive:function(m,T,C,S,P){this.manager.blendFramesAdditive(m,T,C,S,P)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var T=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var S=this._tempMatrix1.loadIdentity(),P=this.targetBounds.x,A=this.targetBounds.y,L=P+m.width,F=A+m.height,B=S.getX(P,A),D=S.getX(P,F),I=S.getX(L,F),G=S.getX(L,A),z=S.getY(P,A),W=S.getY(P,F),Y=S.getY(L,F),K=S.getY(L,A),Z=16777215;this.batchVert(B,z,0,0,0,0,Z),this.batchVert(D,W,0,1,0,0,Z),this.batchVert(I,Y,1,1,0,0,Z),this.batchVert(B,z,0,0,0,0,Z),this.batchVert(I,Y,1,1,0,0,Z),this.batchVert(G,K,1,0,0,0,Z),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||T.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,T,C,S,P,A,L,F){var B=this.quadVertexViewF32;B[2]=m,B[3]=T,B[9]=C,B[10]=S,B[16]=P,B[17]=A,B[23]=m,B[24]=T,B[30]=P,B[31]=A,B[37]=L,B[38]=F},setTargetUVs:function(m,T){var C=T.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=v},81041:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(57516),s=new a({Extends:o,initialize:function(e){e.topology=5,e.batchSize=g(e,"batchSize",256),o.call(this,e)}});c.exports=s},12385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(29100),n=new a({Extends:o,initialize:function(i){i.fragShader=g(i,"fragShader",s),i.vertShader=g(i,"vertShader",r),i.forceZero=!0,o.call(this,i)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});c.exports=n},7589:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35407),g=t(10312),o=t(83419),s=t(89422),r=t(96293),e=t(36682),n=t(95540),l=t(48247),i=t(49627),h=t(29100),u=new o({Extends:h,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",i),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,h.call(this,v),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var f=this.shaders,v=this.renderTargets;this.copyShader=f[0],this.addShader=f[1],this.linearShader=f[2],this.colorMatrixShader=f[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(f,v,m,T,C){m===void 0&&(m=1),T===void 0&&(T=!0),C===void 0&&(C=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,f.texture.webGLTexture),v?(S.viewport(0,0,v.width,v.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture.webGLTexture,0)):S.viewport(0,0,f.width,f.height),T&&(C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(f,v,m,T,C,S,P){m===void 0&&(m=1),T===void 0&&(T=!0),C===void 0&&(C=!0),S===void 0&&(S=!1),P===void 0&&(P=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,f.texture.webGLTexture),f.height>v.height)A.viewport(0,0,f.width,f.height),this.setTargetUVs(f,v);else{var L=v.height-f.height;A.viewport(0,L,f.width,f.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,v.texture.webGLTexture,0),T&&(C?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),S){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}P&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),S&&this.renderer.setBlendMode(F),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(f,v,m,T,C,S,P,A){P===void 0&&(P=!0),A===void 0&&(A=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,f.texture.webGLTexture,0),P&&(A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,v.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,m,T,C,S),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(f){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,f.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(f,v,m,T){m===void 0&&(m=!0),T===void 0&&(T=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,f.texture.webGLTexture),v?(C.viewport(0,0,v.width,v.height),C.bindFramebuffer(C.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,v.texture.webGLTexture,0)):C.viewport(0,0,f.width,f.height),m?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(f,v,m,T,C,S){T===void 0&&(T=1),C===void 0&&(C=!0),S===void 0&&(S=this.linearShader);var P=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,f.texture.webGLTexture),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,v.texture.webGLTexture),m?(P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture.webGLTexture,0),P.viewport(0,0,m.width,m.height)):P.viewport(0,0,f.width,f.height),C?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFramesAdditive:function(f,v,m,T,C){this.blendFrames(f,v,m,T,C,this.addShader)},clearFrame:function(f,v){v===void 0&&(v=!0);var m=this.gl;m.viewport(0,0,f.width,f.height),m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,T.webGLFramebuffer)},setUVs:function(f,v,m,T,C,S,P,A){var L=this.vertexViewF32;L[2]=f,L[3]=v,L[6]=m,L[7]=T,L[10]=C,L[11]=S,L[14]=f,L[15]=v,L[18]=C,L[19]=S,L[22]=P,L[23]=A},setTargetUVs:function(f,v){var m=v.height/f.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=u},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=x},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(99155),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});c.exports=s},67329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(24400),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var i=2/r.width*e.offsetX,h=2/r.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(r,n),this.set2f("offset",0,h),this.copySprite(n,r);this.blendFrames(l,r,n,e.strength),this.copyToGame(n)}});c.exports=s},8861:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(41514),o=t(51078),s=t(94328),r=t(84057),e=new a({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),i=this.gl,h=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var f=0;f<l.steps;f++)this.set2f("offset",l.x,0),this.copySprite(n,h),this.set2f("offset",0,l.y),this.copySprite(h,n);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});c.exports=e},51051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(90610),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},89428:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(91899),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},88904:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(84057),o=new a({Extends:g,initialize:function(r){g.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});c.exports=o},63563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(47838),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});c.exports=s},94045:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=t(98656),s=t(84057),r=t(70554),e=new a({Extends:s,initialize:function(l,i){var h=g(i,"quality",.1),u=g(i,"distance",10);s.call(this,{game:l,fragShader:r.setGlowQuality(o,l,h,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,i,h){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),i&&h&&this.set2f("resolution",i,h,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=e},74088:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(70463),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});c.exports=s},99636:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50831),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.amount=1},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("amount",r.amount,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},34700:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(92595),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var n=r.samples;this.set1i("samples",n,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/n,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});c.exports=s},91157:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(72464),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,n,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},27797:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(39249),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});c.exports=s},67603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(2878),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var n=r.progress,l=r.wipeWidth,i=r.direction,h=r.axis;this.set4f("config",n,l,i,h,e),this.setBoolean("reveal",r.reveal,e)}});c.exports=s},58918:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=a},96615:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36060),g=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=g(!1,o,a),c.exports=o},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e){this.webGLAttribLocation=-1,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=g},26128:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var s=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(s,this.webGLBuffer),o.bufferData(s,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(s,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=g},84387:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new a({initialize:function(r,e,n,l,i){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var r=this.renderTexture,e=0,n=s.createFramebuffer();if(this.webGLFramebuffer=n,s.bindFramebuffer(s.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,r.webGLTexture,0),e=s.checkFramebufferStatus(s.FRAMEBUFFER),e!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(g[e]||e));if(this.addDepthStencilBuffer){var l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var r=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(r));var e=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&s.deleteRenderbuffer(e),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=o},1482:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e){this.webGLProgram=null,this.gl=s,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var s=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),e=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(e,this.fragmentSource),o.compileShader(r),o.compileShader(e);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(e,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(e));if(o.attachShader(s,r),o.attachShader(s,e),o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(s));o.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=g},82751:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50030),o=new a({initialize:function(r,e,n,l,i,h,u,f,v,m,T,C,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=n,this.magFilter=l,this.wrapT=i,this.wrapS=h,this.format=u,this.pixels=f,this.width=v,this.height=m,this.pma=T??!0,this.forceSize=!!C,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=s.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(s,r,e,n,l,i,h,u,f){if(!(r===0||e===0)){this.pixels=s,this.width=r,this.height=e,this.flipY=n,this.wrapS=l,this.wrapT=i,this.minFilter=h,this.magFilter=u,this.format=f;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var r=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,l=this.width,i=this.height,h=this.format,u=!1;if(e==null)s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,null),u=g(l,i);else if(e.compressed){l=e.width,i=e.height,u=e.generateMipmap;for(var f=0;f<e.mipmaps.length;f++)s.compressedTexImage2D(s.TEXTURE_2D,f,e.internalFormat,e.mipmaps[f].width,e.mipmaps[f].height,0,e.mipmaps[f].data)}else e instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,e),u=g(l,i)):(this.forceSize||(l=e.width,i=e.height),s.texImage2D(s.TEXTURE_2D,n,h,h,s.UNSIGNED_BYTE,e),u=g(l,i));u&&s.generateMipmap(s.TEXTURE_2D),r?s.bindTexture(s.TEXTURE_2D,r):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=o},57183:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e){this.webGLUniformLocation=null,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=g},9503:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=a},76531:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13560),g=t(83419),o=t(50792),s=t(97480),r=t(8443),e=t(57811),n=t(74403),l=t(45818),i=t(29747),h=t(87841),u=t(86555),f=t(56583),v=t(26099),m=t(38058),T=new g({Extends:o,initialize:function(S){o.call(this),this.game=S,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.scaleMode!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(r.PRE_STEP,this.step,this),C.events.once(r.READY,this.refresh,this),C.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var S=C.width,P=C.height,A=C.scaleMode,L=C.zoom,F=C.autoRound;if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var B=this.parentSize.width;B===0&&(B=window.innerWidth);var D=parseInt(S,10)/100;S=Math.floor(B*D)}if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var G=parseInt(P,10)/100;P=Math.floor(I*G)}this.scaleMode=A,this.autoRound=F,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,F&&(S=Math.floor(S),P=Math.floor(P)),this.gameSize.setSize(S,P),L===a.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(S,P),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*L,C.minHeight*L),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*L,C.maxHeight*L),this.displaySize.setSize(S,P),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=l(S,P)},getParent:function(C){var S=C.parent;if(S!==null){if(this.parent=n(S),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==a.SCALE_MODE.NONE){var P=this.parent.getBoundingClientRect();(this.parentIsWindow||P.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",P=this.parent.getBoundingClientRect(),!this.parentIsWindow&&P.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=e(!0));var P=S.width,A=S.height;if(C.width!==P||C.height!==A)return C.setSize(P,A),!0;if(this.canvas){var L=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==L.x||F.y!==L.y)return!0}return!1},lockOrientation:function(C){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return S?S.call(screen,C):!1},setParentSize:function(C,S){return this.parentSize.setSize(C,S),this.refresh()},setGameSize:function(C,S){var P=this.autoRound;P&&(C=Math.floor(C),S=Math.floor(S));var A=this.width,L=this.height;return this.gameSize.resize(C,S),this.baseSize.resize(C,S),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(C,S){var P=this.zoom,A=this.autoRound;A&&(C=Math.floor(C),S=Math.floor(S));var L=this.width,F=this.height;this.gameSize.resize(C,S),this.baseSize.resize(C,S),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*P,S*P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var B=this.canvas.style,D=C*P,I=S*P;return A&&(D=Math.floor(D),I=Math.floor(I)),(D!==C||I!==S)&&(B.width=D+"px",B.height=I+"px"),this.refresh(L,F)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,S){return C===void 0&&(C=0),S===void 0&&(S=C),this.displaySize.setSnap(C,S),this.refresh()},refresh:function(C,S){C===void 0&&(C=this.width),S===void 0&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var P=this.game.domContainer;if(P){this.baseSize.setCSS(P);var A=this.canvas.style,L=P.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=l(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(s.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,S=this.gameSize.width,P=this.gameSize.height,A,L,F=this.zoom,B=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(S*F,P*F),A=this.displaySize.width,L=this.displaySize.height,B&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(C.width=A+"px",C.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,B&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===a.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,B&&(A=Math.floor(A),L=Math.floor(L)),C.width=A+"px",C.height=L+"px";var D=this.parentSize.width/this.gameSize.width,I=this.parentSize.height/this.gameSize.height;D<I?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/D):this.baseSize.setSize(this.displaySize.width/I,this.gameSize.height),A=this.baseSize.width,L=this.baseSize.height,B&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,B&&(A=Math.floor(A),L=Math.floor(L)),C.width=A+"px",C.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=f(this.parentSize.width,this.gameSize.width,0,!0),S=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,S),1)},updateCenter:function(){var C=this.autoCenter;if(C!==a.CENTER.NO_CENTER){var S=this.canvas,P=S.style,A=S.getBoundingClientRect(),L=A.width,F=A.height,B=Math.floor((this.parentSize.width-L)/2),D=Math.floor((this.parentSize.height-F)/2);C===a.CENTER.CENTER_HORIZONTALLY?D=0:C===a.CENTER.CENTER_VERTICALLY&&(B=0),P.marginLeft=B+"px",P.marginTop=D+"px"}},updateBounds:function(){var C=this.canvasBounds,S=this.canvas.getBoundingClientRect();C.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=S.width,C.height=S.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var S=this.fullscreen;if(!S.available){this.emit(s.FULLSCREEN_UNSUPPORTED);return}if(!S.active){var P=this.getFullscreenTarget();S.keyboard?P[S.request](Element.ALLOW_KEYBOARD_INPUT):P[S.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var S=this.canvas.parentNode;S.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var S=C.parentNode;S.insertBefore(this.canvas,C),S.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,S=this.domlisteners;if(S.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},S.windowResize=function(){C.updateBounds(),C.dirty=!0},window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available){S.fullScreenChange=function(A){return C.onFullScreenChange(A)},S.fullScreenError=function(A){return C.onFullScreenError(A)};var P=["webkit","moz",""];P.forEach(function(A){document.addEventListener(A+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,S){C instanceof m||(S=C,C=void 0),S===void 0&&(S=new h);var P=this.baseSize,A=this.parentSize,L=this.canvasBounds,F=this.displayScale,B=L.x>=0?0:-(L.x*F.x),D=L.y>=0?0:-(L.y*F.y),I;A.width>=L.width?I=P.width:I=P.width-(L.width-A.width)*F.x;var G;return A.height>=L.height?G=P.height:G=P.height-(L.height-A.height)*F.y,S.setTo(B,D,I,G),C&&(S.width/=C.zoomX,S.height/=C.zoomY,S.centerX=C.centerX+C.scrollX,S.centerY=C.centerY+C.scrollY),S},step:function(C,S){this.parent&&(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var S=["webkit","moz",""];S.forEach(function(P){document.removeEventListener(P+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(P+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=T},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=a},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),g=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=a(!1,o,g.CENTER),o=a(!1,o,g.ORIENTATION),o=a(!1,o,g.SCALE_MODE),o=a(!1,o,g.ZOOM),c.exports=o},27397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=t(35355),o=function(s){var r=s.game.config.defaultPhysicsSystem,e=a(s.settings,"physics",!1);if(!(!r&&!e)){var n=[];if(r&&n.push(g(r+"Physics")),e)for(var l in e)l=g(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};c.exports=o},52106:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=function(o){var s=o.plugins.getDefaultScenePlugins(),r=a(o.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};c.exports=g},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=x},97482:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(2368),o=new a({initialize:function(r){this.sys=new g(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=o},60903:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(89993),o=t(44594),s=t(8443),r=t(35154),e=t(54899),n=t(29747),l=t(97482),i=t(2368),h=new a({initialize:function(f,v){if(this.game=f,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)this._pending.push({key:"default",scene:v[m],autoStart:m===0,data:{}})}f.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var u,f,v,m;for(u=0;u<this._pending.length;u++){f=this._pending[u],v=f.key,m=f.scene;var T;m instanceof l?T=this.createSceneFromInstance(v,m):typeof m=="object"?T=this.createSceneFromObject(v,m):typeof m=="function"&&(T=this.createSceneFromFunction(v,m)),v=T.sys.settings.key,this.keys[v]=T,this.scenes.push(T),this._data[v]&&(T.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(f.autoStart=!0)),(f.autoStart||T.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)f=this._start[u],this.start(f);this._start.length=0}},processQueue:function(){var u=this._pending.length,f=this._queue.length;if(!(u===0&&f===0)){var v,m;if(u){for(v=0;v<u;v++)m=this._pending[v],this.add(m.key,m.scene,m.autoStart,m.data);for(v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)m=this._queue[v],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(u,f,v,m){if(v===void 0&&(v=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:f,autoStart:v,data:m}),this.isBooted||(this._data[u]={data:m}),null;u=this.getKey(u,f);var T;return f instanceof l?T=this.createSceneFromInstance(u,f):typeof f=="object"?(f.key=u,T=this.createSceneFromObject(u,f)):typeof f=="function"&&(T=this.createSceneFromFunction(u,f)),T.sys.settings.data=m,u=T.sys.settings.key,this.keys[u]=T,this.scenes.push(T),(v||T.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),T},remove:function(u){if(this.isProcessing)this._queue.push({op:"remove",keyA:u,keyB:null});else{var f=this.getScene(u);if(!f||f.sys.isTransitioning())return this;var v=this.scenes.indexOf(f),m=f.sys.settings.key;v>-1&&(delete this.keys[m],this.scenes.splice(v,1),this._start.indexOf(m)>-1&&(v=this._start.indexOf(m),this._start.splice(v,1)),f.sys.destroy())}return this},bootScene:function(u){var f=u.sys,v=f.settings;f.sceneUpdate=n,u.init&&(u.init.call(u,v.data),v.status=g.INIT,v.isTransition&&f.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var m;f.load&&(m=f.load,m.reset()),m&&u.preload?(u.preload.call(u),v.status=g.LOADING,m.once(e.COMPLETE,this.loadComplete,this),m.start()):this.create(u)},loadComplete:function(u){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,f){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var m=this.scenes[v].sys;m.settings.status>g.START&&m.settings.status<=g.RUNNING&&m.step(u,f),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(u,f)}},render:function(u){for(var f=0;f<this.scenes.length;f++){var v=this.scenes[f].sys;v.settings.visible&&v.settings.status>=g.LOADING&&v.settings.status<g.SLEEPING&&v.render(u)}this.isProcessing=!1},create:function(u){var f=u.sys,v=f.settings;u.create&&(v.status=g.CREATING,u.create.call(u,v.data),v.status===g.DESTROYED)||(v.isTransition&&f.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),u.update&&(f.sceneUpdate=u.update),v.status=g.RUNNING,f.events.emit(o.CREATE,u))},createSceneFromFunction:function(u,f){var v=new f;if(v instanceof l){var m=v.sys.settings.key;if(m!==""&&(u=m),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return this.createSceneFromInstance(u,v)}else return v.sys=new i(v),v.sys.settings.key=u,v.sys.init(this.game),v},createSceneFromInstance:function(u,f){var v=f.sys.settings.key;return v===""&&(f.sys.settings.key=u),f.sys.init(this.game),f},createSceneFromObject:function(u,f){var v=new l(f),m=v.sys.settings.key;m!==""?u=m:v.sys.settings.key=u,v.sys.init(this.game);for(var T=["init","preload","create","update","render"],C=0;C<T.length;C++){var S=r(f,T[C],null);S&&(v[T[C]]=S)}if(f.hasOwnProperty("extend")){for(var P in f.extend)if(f.extend.hasOwnProperty(P)){var A=f.extend[P];P==="data"&&v.hasOwnProperty("data")&&typeof A=="object"?v.data.merge(A):P!=="sys"&&(v[P]=A)}}return v},getKey:function(u,f){if(u||(u="default"),typeof f=="function")return u;if(f instanceof l?u=f.sys.settings.key:typeof f=="object"&&f.hasOwnProperty("key")&&(u=f.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return u},getScenes:function(u,f){u===void 0&&(u=!0),f===void 0&&(f=!1);for(var v=[],m=this.scenes,T=0;T<m.length;T++){var C=m[T];C&&(!u||u&&C.sys.isActive())&&v.push(C)}return f?v.reverse():v},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var f=0;f<this.scenes.length;f++)if(u===this.scenes[f])return u;return null},isActive:function(u){var f=this.getScene(u);return f?f.sys.isActive():null},isPaused:function(u){var f=this.getScene(u);return f?f.sys.isPaused():null},isVisible:function(u){var f=this.getScene(u);return f?f.sys.isVisible():null},isSleeping:function(u){var f=this.getScene(u);return f?f.sys.isSleeping():null},pause:function(u,f){var v=this.getScene(u);return v&&v.sys.pause(f),this},resume:function(u,f){var v=this.getScene(u);return v&&v.sys.resume(f),this},sleep:function(u,f){var v=this.getScene(u);return v&&!v.sys.isTransitioning()&&v.sys.sleep(f),this},wake:function(u,f){var v=this.getScene(u);return v&&v.sys.wake(f),this},run:function(u,f){var v=this.getScene(u);if(!v){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===u){this.queueOp("start",u,f);break}return this}v.sys.isSleeping()?v.sys.wake(f):v.sys.isPaused()?v.sys.resume(f):this.start(u,f)},start:function(u,f){if(!this.isBooted)return this._data[u]={autoStart:!0,data:f},this;var v=this.getScene(u);if(!v)return console.warn("Scene not found for key: "+u),this;var m=v.sys,T=m.settings.status;if(T>=g.START&&T<=g.CREATING)return this;if(T>=g.RUNNING&&T<=g.SLEEPING)m.shutdown(),m.sceneUpdate=n,m.start(f);else{m.sceneUpdate=n,m.start(f);var C;if(m.load&&(C=m.load),C&&m.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:m.settings.pack})))return m.settings.status=g.LOADING,C.once(e.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(v),this},stop:function(u,f){var v=this.getScene(u);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==g.SHUTDOWN){var m=v.sys.load;m&&(m.off(e.COMPLETE,this.loadComplete,this),m.off(e.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(f)}return this},switch:function(u,f){var v=this.getScene(u),m=this.getScene(f);return v&&m&&v!==m&&(this.sleep(u),this.isSleeping(f)?this.wake(f):this.start(f)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var f=this.getScene(u);return this.scenes.indexOf(f)},bringToTop:function(u){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:u,keyB:null});else{var f=this.getIndex(u);if(f!==-1&&f<this.scenes.length){var v=this.getScene(u);this.scenes.splice(f,1),this.scenes.push(v)}}return this},sendToBack:function(u){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:u,keyB:null});else{var f=this.getIndex(u);if(f!==-1&&f>0){var v=this.getScene(u);this.scenes.splice(f,1),this.scenes.unshift(v)}}return this},moveDown:function(u){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:u,keyB:null});else{var f=this.getIndex(u);if(f>0){var v=f-1,m=this.getScene(u),T=this.getAt(v);this.scenes[f]=T,this.scenes[v]=m}}return this},moveUp:function(u){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:u,keyB:null});else{var f=this.getIndex(u);if(f<this.scenes.length-1){var v=f+1,m=this.getScene(u),T=this.getAt(v);this.scenes[f]=T,this.scenes[v]=m}}return this},moveAbove:function(u,f){if(u===f)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:u,keyB:f});else{var v=this.getIndex(u),m=this.getIndex(f);if(v!==-1&&m!==-1&&m<v){var T=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(v+(m>v),0,T)}}return this},moveBelow:function(u,f){if(u===f)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:u,keyB:f});else{var v=this.getIndex(u),m=this.getIndex(f);if(v!==-1&&m!==-1&&m>v){var T=this.getAt(m);this.scenes.splice(m,1),v===0?this.scenes.unshift(T):this.scenes.splice(v-(m<v),0,T)}}return this},queueOp:function(u,f,v){return this._queue.push({op:u,keyA:f,keyB:v}),this},swapPosition:function(u,f){if(u===f)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:u,keyB:f});else{var v=this.getIndex(u),m=this.getIndex(f);if(v!==m&&v!==-1&&m!==-1){var T=this.getAt(v);this.scenes[v]=this.scenes[m],this.scenes[m]=T}}return this},dump:function(){for(var u=[],f=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys,T=m.settings.visible&&(m.settings.status===g.RUNNING||m.settings.status===g.PAUSED)?"[*] ":"[-] ";T+=m.settings.key+" ("+f[m.settings.status]+")",u.push(T)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var f=this.scenes[u].sys;f.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=h},52209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(44594),s=t(95540),r=t(37277),e=new g({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=s(n,"target",!1),i=this.manager.getScene(l);if(!l||!this.checkValidTransition(i))return!1;var h=s(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=h,this._willSleep=s(n,"sleep",!1),this._willRemove=s(n,"remove",!1);var u=s(n,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=s(n,"onUpdateScope",this.scene));var f=s(n,"allowInput",!1);this.settings.transitionAllowInput=f;var v=i.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=h,v.transitionAllowInput=f,s(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),i.sys.isSleeping()?i.sys.wake(s(n,"data")):this.manager.start(l,s(n,"data"));var m=s(n,"onStart",null),T=s(n,"onStartScope",this.scene);return m&&m.call(T,this.scene,i,h),this.systems.events.emit(o.TRANSITION_OUT,i,h),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,i,h){return this.manager.add(n,l,i,h)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n){return n!==this.key&&this.manager.queueOp("switch",this.key,n),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,i){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(n,i),this},setVisible:function(n,l){l===void 0&&(l=this.key);var i=this.manager.getScene(l);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89993),g=t(35154),o=t(46975),s=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:a.PENDING,key:g(e,"key",""),active:g(e,"active",!1),visible:g(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(e,"pack",!1),cameras:g(e,"cameras",null),map:g(e,"map",o(s,g(e,"mapAdd",{}))),physics:g(e,"physics",{}),loader:g(e,"loader",{}),plugins:g(e,"plugins",!1),input:g(e,"input",{})}}};c.exports=r},2368:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(89993),o=t(42363),s=t(44594),r=t(27397),e=t(52106),n=t(29747),l=t(55681),i=new a({initialize:function(u,f){this.scene=u,this.game,this.renderer,this.config=f,this.settings=l.create(f),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(h){this.settings.status=g.INIT,this.sceneUpdate=n,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var u=h.plugins;this.plugins=u,u.addToScene(this,o.Global,[o.CoreScene,e(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(h,u){var f=this.events;f.emit(s.PRE_UPDATE,h,u),f.emit(s.UPDATE,h,u),this.sceneUpdate.call(this.scene,h,u),f.emit(s.POST_UPDATE,h,u)},render:function(h){var u=this.displayList;u.depthSort(),this.events.emit(s.PRE_RENDER,h),this.cameras.render(h,u),this.events.emit(s.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var u=this.settings,f=this.getStatus();return f!==g.CREATING&&f!==g.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=g.PAUSED,u.active=!1,this.events.emit(s.PAUSE,this,h)),this},resume:function(h){var u=this.events,f=this.settings;return this.settings.active||(f.status=g.RUNNING,f.active=!0,u.emit(s.RESUME,this,h)),this},sleep:function(h){var u=this.settings,f=this.getStatus();return f!==g.CREATING&&f!==g.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=g.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(s.SLEEP,this,h)),this},wake:function(h){var u=this.events,f=this.settings;return f.status=g.RUNNING,f.active=!0,f.visible=!0,u.emit(s.WAKE,this,h),f.isTransition&&u.emit(s.TRANSITION_WAKE,f.transitionFrom,f.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>g.PENDING&&h<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,u){return h?this.resume(u):this.pause(u)},start:function(h){var u=this.events,f=this.settings;h&&(f.data=h),f.status=g.START,f.active=!0,f.visible=!0,u.emit(s.START,this),u.emit(s.READY,this,h)},shutdown:function(h){var u=this.events,f=this.settings;u.off(s.TRANSITION_INIT),u.off(s.TRANSITION_START),u.off(s.TRANSITION_COMPLETE),u.off(s.TRANSITION_OUT),f.status=g.SHUTDOWN,f.active=!1,f.visible=!1,u.emit(s.SHUTDOWN,this,h)},destroy:function(){var h=this.events,u=this.settings;u.status=g.DESTROYED,u.active=!1,u.visible=!1,h.emit(s.DESTROY,this),h.removeAllListeners();for(var f=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<f.length;v++)this[f[v]]=null}});c.exports=i},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=x},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89993),g=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=g(!1,o,a),c.exports=o},30341:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(14463),s=t(79291),r=t(29747),e=new a({Extends:g,initialize:function(l,i,h){g.call(this),this.manager=l,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=s(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=s(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(41786),o=t(50792),s=t(14463),r=t(8443),e=t(46710),n=t(58731),l=t(29747),i=t(26099),h=new a({Extends:o,initialize:function(f){o.call(this),this.game=f,this.jsonCache=f.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,f.events.on(r.BLUR,this.onGameBlur,this),f.events.on(r.FOCUS,this.onGameFocus,this),f.events.on(r.PRE_STEP,this.update,this),f.events.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(u,f){f===void 0&&(f={});var v=this.add(u,f);v.spritemap=this.jsonCache.get(u).spritemap;for(var m in v.spritemap)if(v.spritemap.hasOwnProperty(m)){var T=g(f),C=v.spritemap[m];T.loop=C.hasOwnProperty("loop")?C.loop:!1,v.addMarker({name:m,start:C.start,duration:C.end-C.start,config:T})}return v},get:function(u){return n(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,f){var v=this.add(u);return v.once(s.COMPLETE,v.destroy,v),f?f.name?(v.addMarker(f),v.play(f.name)):v.play(f):v.play()},playAudioSprite:function(u,f,v){var m=this.addAudioSprite(u);return m.once(s.COMPLETE,m.destroy,m),m.play(f,v)},remove:function(u){var f=this.sounds.indexOf(u);return f!==-1?(u.destroy(),this.sounds.splice(f,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var f=0,v=this.sounds.length-1;v>=0;v--){var m=this.sounds[v];m.key===u&&(m.destroy(),this.sounds.splice(v,1),f++)}return f},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(u){var f=0;return this.getAll(u).forEach(function(v){v.stop()&&f++}),f},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,f){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(m){m.update(u,f)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,f){var v=this;this.sounds.forEach(function(m,T){m&&!m.pendingRemove&&u.call(f||v,m,T,v.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(s.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,u)}}});c.exports=h},14747:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33684),g=t(25960),o=t(57490),s={create:function(r){var e=r.config.audio,n=r.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new g(r):n.webAudio&&!e.disableWebAudio?new o(r):new a(r)}};c.exports=s},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),g=t(83419),o=t(14463),s=t(45319),r=new g({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,n,l,i)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!a.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,u){return h.loop===u.loop?u.seek/u.duration-h.seek/h.duration:h.loop?1:-1});var i=l[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-l),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(o.LOOPED,this);else if(i>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=i}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},33684:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85034),g=t(83419),o=t(14463),s=t(64895),r=new g({Extends:a,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,n)},add:function(e,n){var l=new s(this,e,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,u){for(var f=0;f<u.length;f++)if(u[f].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",i);var h=[];if(e.game.cache.audio.entries.each(function(f,v){for(var m=0;m<v.length;m++){var T=v[m];T.dataset.locked==="true"&&h.push(T)}return!0}),h.length!==0){var u=h[h.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,h.forEach(function(f){f.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(f){f.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});c.exports=r},23717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),g=t(83419),o=t(50792),s=t(79291),r=t(29747),e=function(){return!1},n=function(){return null},l=function(){return this},i=new g({Extends:o,initialize:function(u,f,v){v===void 0&&(v={}),o.call(this),this.manager=u,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){a.prototype.destroy.call(this)}});c.exports=i},25960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85034),g=t(83419),o=t(50792),s=t(4603),r=t(29747),e=new g({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var i=new s(this,n,l);return this.sounds.push(i),i},addAudioSprite:function(n,l){var i=this.add(n,l);return i.spritemap={},i},get:function(n){return a.prototype.get.call(this,n)},getAll:function(n){return a.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,i){return!1},remove:function(n){return a.prototype.remove.call(this,n)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(n){return a.prototype.removeByKey.call(this,n)},stopByKey:function(n){return a.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){a.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){a.prototype.destroy.call(this)}});c.exports=e},71741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),g=t(83419),o=t(14463),s=t(95540),r=new g({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,n,l,i)},play:function(e,n){return a.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,i),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=s(e,"panningModel","equalpower"),n.distanceModel=s(e,"distanceModel","inverse"),n.orientationX.value=s(e,"orientationX",0),n.orientationY.value=s(e,"orientationY",0),n.orientationZ.value=s(e,"orientationZ",-1),n.refDistance=s(e,"refDistance",1),n.maxDistance=s(e,"maxDistance",1e4),n.rolloffFactor=s(e,"rolloffFactor",1),n.coneInnerAngle=s(e,"coneInnerAngle",360),n.coneOuterAngle=s(e,"coneOuterAngle",0),n.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(n.positionX.value=s(e,"x",0),n.positionY.value=s(e,"y",0),n.positionZ.value=s(e,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),n=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},57490:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(53134),g=t(85034),o=t(83419),s=t(14463),r=t(8443),e=t(71741),n=t(95540),l=new o({Extends:g,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),g.call(this,h),this.locked&&h.isBooted?this.unlock():h.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(i){var h=i.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,h){var u=new e(this,i,h);return this.sounds.push(u),u},decodeAudio:function(i,h){var u;Array.isArray(i)?u=i:u=[{key:i,data:h}];for(var f=this.game.cache.audio,v=u.length,m=0;m<u.length;m++){var T=u[m],C=T.key,S=T.data;typeof S=="string"&&(S=a(S));var P=(function(L,F){f.add(L,F),this.emit(s.DECODED,L),v--,v===0&&this.emit(s.DECODED_ALL)}).bind(this,C),A=(function(L,F){console.error("Error decoding audio: "+L+" - ",F?F.message:""),v--,v===0&&this.emit(s.DECODED_ALL)}).bind(this,C);this.context.decodeAudioData(S,P,A)}},setListenerPosition:function(i,h){return i===void 0&&(i=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(i,h),this},unlock:function(){var i=this,h=document.body,u=function f(){if(i.context&&h){var v=h.removeEventListener.bind(h);i.context.resume().then(function(){v("touchstart",f),v("touchend",f),v("click",f),v("keydown",f),i.unlocked=!0},function(){v("touchstart",f),v("touchend",f),v("click",f),v("keydown",f)})}};h&&(h.addEventListener("touchstart",u,!1),h.addEventListener("touchend",u,!1),h.addEventListener("click",u,!1),h.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,h){var u=this.context.listener;if(u&&u.positionX!==void 0){var f=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);f&&f!==this._spatialx&&(this._spatialx=u.positionX.value=f),v&&v!==this._spatialy&&(this._spatialy=u.positionY.value=v)}g.prototype.update.call(this,i,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}g.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(s.GLOBAL_VOLUME,this,i)}}});c.exports=l},73162:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),g=t(83419),o=t(29747),s=t(19186),r=new g({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,n){return n?a.Add(this.list,e):a.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,l){return l?a.AddAt(this.list,e,n):a.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(l,i){return l[e]-i[e]}),s(this.list,n),this):this},getByName:function(e){return a.GetFirst(this.list,"name",e)},getRandom:function(e,n){return a.GetRandom(this.list,e,n)},getFirst:function(e,n,l,i){return a.GetFirst(this.list,e,n,l,i)},getAll:function(e,n,l,i){return a.GetAll(this.list,e,n,l,i)},count:function(e,n){return a.CountAllMatching(this.list,e,n)},swap:function(e,n){a.Swap(this.list,e,n)},moveTo:function(e,n){return a.MoveTo(this.list,e,n)},moveAbove:function(e,n){return a.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return a.MoveBelow(this.list,e,n)},remove:function(e,n){return n?a.Remove(this.list,e):a.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?a.RemoveAt(this.list,e):a.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,l){return l?a.RemoveBetween(this.list,e,n):a.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return a.BringToTop(this.list,e)},sendToBack:function(e){return a.SendToBack(this.list,e)},moveUp:function(e){return a.MoveUp(this.list,e),e},moveDown:function(e){return a.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(e,n){return a.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,l,i){return a.SetAll(this.list,e,n,l,i),this},each:function(e,n){for(var l=[null],i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;i<this.list.length;i++)l[0]=this.list[i],e.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=r},90330:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(o){if(Array.isArray(o))for(var s=0;s<o.length;s++)this.set(o[s][0],o[s][1]);return this},set:function(o,s){return this.has(o)||this.size++,this.entries[o]=s,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var s in o)console.log(s,o[s]);console.groupEnd()},each:function(o){var s=this.entries;for(var r in s)if(o(r,s[r])===!1)break;return this},contains:function(o){var s=this.entries;for(var r in s)if(s[r]===o)return!0;return!1},merge:function(o,s){s===void 0&&(s=!1);var r=this.entries,e=o.entries;for(var n in e)r.hasOwnProperty(n)&&s?r[n]=e[n]:this.set(n,e[n]);return this}});c.exports=g},25774:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(82348),s=new a({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,n=e.indexOf(r);n!==-1&&e.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,n=r.length;n--;)e.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var i=e.indexOf(l);i!==-1&&(e.splice(i,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=s},59542:(c,x,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43886);function g(S){if(!(this instanceof g))return new g(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(S){var P=this.data,A=[],L=this.toBBox;if(!m(S,P))return A;for(var F=[],B,D,I,G;P;){for(B=0,D=P.children.length;B<D;B++)I=P.children[B],G=P.leaf?L(I):I,m(S,G)&&(P.leaf?A.push(I):v(S,G)?this._all(I,A):F.push(I));P=F.pop()}return A},collides:function(S){var P=this.data,A=this.toBBox;if(!m(S,P))return!1;for(var L=[],F,B,D,I;P;){for(F=0,B=P.children.length;F<B;F++)if(D=P.children[F],I=P.leaf?A(D):D,m(S,I)){if(P.leaf||v(S,I))return!0;L.push(D)}P=L.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var P=0,A=S.length;P<A;P++)this.insert(S[P]);return this}var L=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var F=this.data;this.data=L,L=F}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(S,P){if(!S)return this;for(var A=this.data,L=this.toBBox(S),F=[],B=[],D,I,G,z;A||F.length;){if(A||(A=F.pop(),I=F[F.length-1],D=B.pop(),z=!0),A.leaf&&(G=o(S,A.children,P),G!==-1))return A.children.splice(G,1),F.push(A),this._condense(F),this;!z&&!A.leaf&&v(A,L)?(F.push(A),B.push(D),D=0,I=A,A=A.children[0]):I?(D++,A=I.children[D],z=!1):A=null}return this},toBBox:function(S){return S},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,P){for(var A=[];S;)S.leaf?P.push.apply(P,S.children):A.push.apply(A,S.children),S=A.pop();return P},_build:function(S,P,A,L){var F=A-P+1,B=this._maxEntries,D;if(F<=B)return D=T(S.slice(P,A+1)),s(D,this.toBBox),D;L||(L=Math.ceil(Math.log(F)/Math.log(B)),B=Math.ceil(F/Math.pow(B,L-1))),D=T([]),D.leaf=!1,D.height=L;var I=Math.ceil(F/B),G=I*Math.ceil(Math.sqrt(B)),z,W,Y,K;for(C(S,P,A,G,this.compareMinX),z=P;z<=A;z+=G)for(Y=Math.min(z+G-1,A),C(S,z,Y,I,this.compareMinY),W=z;W<=Y;W+=I)K=Math.min(W+I-1,Y),D.children.push(this._build(S,W,K,L-1));return s(D,this.toBBox),D},_chooseSubtree:function(S,P,A,L){for(var F,B,D,I,G,z,W,Y;L.push(P),!(P.leaf||L.length-1===A);){for(W=Y=1/0,F=0,B=P.children.length;F<B;F++)D=P.children[F],G=i(D),z=u(S,D)-G,z<Y?(Y=z,W=G<W?G:W,I=D):z===Y&&G<W&&(W=G,I=D);P=I||P.children[0]}return P},_insert:function(S,P,A){var L=this.toBBox,F=A?S:L(S),B=[],D=this._chooseSubtree(F,this.data,P,B);for(D.children.push(S),e(D,F);P>=0&&B[P].children.length>this._maxEntries;)this._split(B,P),P--;this._adjustParentBBoxes(F,B,P)},_split:function(S,P){var A=S[P],L=A.children.length,F=this._minEntries;this._chooseSplitAxis(A,F,L);var B=this._chooseSplitIndex(A,F,L),D=T(A.children.splice(B,A.children.length-B));D.height=A.height,D.leaf=A.leaf,s(A,this.toBBox),s(D,this.toBBox),P?S[P-1].children.push(D):this._splitRoot(A,D)},_splitRoot:function(S,P){this.data=T([S,P]),this.data.height=S.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(S,P,A){var L,F,B,D,I,G,z,W;for(G=z=1/0,L=P;L<=A-P;L++)F=r(S,0,L,this.toBBox),B=r(S,L,A,this.toBBox),D=f(F,B),I=i(F)+i(B),D<G?(G=D,W=L,z=I<z?I:z):D===G&&I<z&&(z=I,W=L);return W},_chooseSplitAxis:function(S,P,A){var L=S.leaf?this.compareMinX:n,F=S.leaf?this.compareMinY:l,B=this._allDistMargin(S,P,A,L),D=this._allDistMargin(S,P,A,F);B<D&&S.children.sort(L)},_allDistMargin:function(S,P,A,L){S.children.sort(L);var F=this.toBBox,B=r(S,0,P,F),D=r(S,A-P,A,F),I=h(B)+h(D),G,z;for(G=P;G<A-P;G++)z=S.children[G],e(B,S.leaf?F(z):z),I+=h(B);for(G=A-P-1;G>=P;G--)z=S.children[G],e(D,S.leaf?F(z):z),I+=h(D);return I},_adjustParentBBoxes:function(S,P,A){for(var L=A;L>=0;L--)e(P[L],S)},_condense:function(S){for(var P=S.length-1,A;P>=0;P--)S[P].children.length===0?P>0?(A=S[P-1].children,A.splice(A.indexOf(S[P]),1)):this.clear():s(S[P],this.toBBox)},compareMinX:function(S,P){return S.left-P.left},compareMinY:function(S,P){return S.top-P.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function o(S,P,A){if(!A)return P.indexOf(S);for(var L=0;L<P.length;L++)if(A(S,P[L]))return L;return-1}function s(S,P){r(S,0,S.children.length,P,S)}function r(S,P,A,L,F){F||(F=T(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var B=P,D;B<A;B++)D=S.children[B],e(F,S.leaf?L(D):D);return F}function e(S,P){return S.minX=Math.min(S.minX,P.minX),S.minY=Math.min(S.minY,P.minY),S.maxX=Math.max(S.maxX,P.maxX),S.maxY=Math.max(S.maxY,P.maxY),S}function n(S,P){return S.minX-P.minX}function l(S,P){return S.minY-P.minY}function i(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function h(S){return S.maxX-S.minX+(S.maxY-S.minY)}function u(S,P){return(Math.max(P.maxX,S.maxX)-Math.min(P.minX,S.minX))*(Math.max(P.maxY,S.maxY)-Math.min(P.minY,S.minY))}function f(S,P){var A=Math.max(S.minX,P.minX),L=Math.max(S.minY,P.minY),F=Math.min(S.maxX,P.maxX),B=Math.min(S.maxY,P.maxY);return Math.max(0,F-A)*Math.max(0,B-L)}function v(S,P){return S.minX<=P.minX&&S.minY<=P.minY&&P.maxX<=S.maxX&&P.maxY<=S.maxY}function m(S,P){return P.minX<=S.maxX&&P.minY<=S.maxY&&P.maxX>=S.minX&&P.maxY>=S.minY}function T(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(S,P,A,L,F){for(var B=[P,A],D;B.length;)A=B.pop(),P=B.pop(),!(A-P<=L)&&(D=P+Math.ceil((A-P)/L/2)*L,a(S,D,P,A,F),B.push(P,D,D,A))}c.exports=g},35072:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,s){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[o]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var s=this.entries.indexOf(o);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var s=this.entries[o];console.log(s)}console.groupEnd()},each:function(o,s){var r,e=this.entries.slice(),n=e.length;if(s)for(r=0;r<n&&o.call(s,e[r],r)!==!1;r++);else for(r=0;r<n&&o(e[r],r)!==!1;r++);return this},iterate:function(o,s){var r,e=this.entries.length;if(s)for(r=0;r<e&&o.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var n=this.entries[s];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var s=new g;return o.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(o){var s=new g;return this.entries.forEach(function(r){o.contains(r)&&s.set(r)}),s},difference:function(o){var s=new g;return this.entries.forEach(function(r){o.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});c.exports=g},86555:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),g=t(83419),o=t(56583),s=t(26099),r=new g({initialize:function(n,l,i,h){n===void 0&&(n=0),l===void 0&&(l=n),i===void 0&&(i=0),h===void 0&&(h=null),this._width=n,this._height=l,this._parent=h,this.aspectMode=i,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=a(e,0,this.maxWidth),this.minHeight=a(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=a(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,n,!0);break;case r.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,l){e===void 0&&(e=0),n===void 0&&(n=e),l===void 0&&(l=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var i=this.snapTo,h=n===0?1:e/n;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(e=o(e,i.x),n=e/this.aspectRatio,i.y>0&&(n=o(n,i.y),e=n*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(n=o(n,i.y),e=n*this.aspectRatio,i.x>0&&(e=o(e,i.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,c.exports=r},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(45319),o=t(40987),s=t(8054),r=t(50030),e=t(79237),n=new a({Extends:e,initialize:function(i,h,u,f,v){e.call(this,i,h,u,f,v),this.add("__BASE",0,0,0,f,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=f,this.height=v,this.imageData=this.context.getImageData(0,0,f,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,i,h,u){return u===void 0&&(u=!0),this.context.drawImage(h,l,i),u&&this.update(),this},drawFrame:function(l,i,h,u,f){h===void 0&&(h=0),u===void 0&&(u=0),f===void 0&&(f=!0);var v=this.manager.getFrame(l,i);if(v){var m=v.canvasData,T=v.cutWidth,C=v.cutHeight,S=v.source.resolution;this.context.drawImage(v.source.image,m.x,m.y,T,C,h,u,T/S,C/S),f&&this.update()}return this},setPixel:function(l,i,h,u,f,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),i=Math.abs(Math.floor(i));var m=this.getIndex(l,i);if(m>-1){var T=this.context.getImageData(l,i,1,1);T.data[0]=h,T.data[1]=u,T.data[2]=f,T.data[3]=v,this.context.putImageData(T,l,i)}return this},putData:function(l,i,h,u,f,v,m){return u===void 0&&(u=0),f===void 0&&(f=0),v===void 0&&(v=l.width),m===void 0&&(m=l.height),this.context.putImageData(l,i,h,u,f,v,m),this},getData:function(l,i,h,u){l=g(Math.floor(l),0,this.width-1),i=g(Math.floor(i),0,this.height-1),h=g(h,1,this.width-l),u=g(u,1,this.height-i);var f=this.context.getImageData(l,i,h,u);return f},getPixel:function(l,i,h){h||(h=new o);var u=this.getIndex(l,i);if(u>-1){var f=this.data,v=f[u+0],m=f[u+1],T=f[u+2],C=f[u+3];h.setTo(v,m,T,C)}return h},getPixels:function(l,i,h,u){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=h),l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i));for(var f=g(l,0,this.width),v=g(l+h,0,this.width),m=g(i,0,this.height),T=g(i+u,0,this.height),C=new o,S=[],P=m;P<T;P++){for(var A=[],L=f;L<v;L++)C=this.getPixel(L,P,C),A.push({x:L,y:P,color:C.color,alpha:C.alphaGL});S.push(A)}return S},getIndex:function(l,i){return l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i)),l<this.width&&i<this.height?(l+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,i,h,u,f){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=this.height),f===void 0&&(f=!0),this.context.clearRect(l,i,h,u),f&&this.update(),this},setSize:function(l,i){return i===void 0&&(i=l),(l!==this.width||i!==this.height)&&(this.canvas.width=l,this.canvas.height=i,this._source.width=l,this._source.height=i,this._source.isPowerOf2=r(l,i),this.frames.__BASE.setSize(l,i,0,0),this.width=l,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=n},81320:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),g=t(71911),o=t(27919),s=t(83419),r=t(8054),e=t(4327),n=t(95540),l=t(36060),i=t(32302),h=t(79237),u=t(70554),f=new s({Extends:h,initialize:function(m,T,C,S){C===void 0&&(C=256),S===void 0&&(S=256),this.type="DynamicTexture";var P=m.game.renderer,A=P&&P.type===r.CANVAS,L=A?o.create2D(this,C,S):[this];h.call(this,m,T,L,C,S),this.add("__BASE",0,0,0,C,S),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?L:null,this.context=A?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,C,S).setScene(m.game.scene.systemScene,!1),this.renderTarget=A?null:new i(P,C,S,1,0,!1,!0,!0,!1),this.pipeline=A?null:P.pipelines.get(l.SINGLE_PIPELINE),this.setSize(C,S)},setSize:function(v,m){m===void 0&&(m=v);var T=this.get(),C=T.source;if(v!==this.width||m!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=m);var S=this.renderTarget;S&&(S.willResize(v,m)&&S.resize(v,m),S.texture!==C.glTexture&&this.renderer.deleteTexture(C.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,m),C.width=v,C.height=m,T.setSize(v,m),this.width=v,this.height=m}else{var P=this.getSourceImage();T.cutX+v>P.width&&(v=P.width-T.cutX),T.cutY+m>P.height&&(m=P.height-T.cutY),T.setSize(v,m,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),m=v.source,T=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=T.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,m,T,C,S,P){var A=this.camera,L=this.renderer;m===void 0&&(m=1),T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=this.width),P===void 0&&(P=this.height);var F=v>>16&255,B=v>>8&255,D=v&255,I=this.renderTarget;if(A.preRender(),I){I.bind(!0);var G=this.pipeline.manager.set(this.pipeline),z=L.width/I.width,W=L.height/I.height,Y=I.height-(C+P);G.drawFillRect(T*z,Y*W,S*z,P*W,u.getTintFromFloats(D/255,B/255,F/255,1),m),I.unbind(!0)}else{var K=this.context;L.setContext(K),K.globalCompositeOperation="source-over",K.fillStyle="rgba("+F+","+B+","+D+","+m+")",K.fillRect(T,C,S,P),L.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var v=this.context,m=this.renderTarget;m?m.clear():v&&(v.save(),v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,this.width,this.height),v.restore()),this.dirty=!1}return this},stamp:function(v,m,T,C,S){T===void 0&&(T=0),C===void 0&&(C=0);var P=n(S,"alpha",1),A=n(S,"tint",16777215),L=n(S,"angle",0),F=n(S,"rotation",0),B=n(S,"scale",1),D=n(S,"scaleX",B),I=n(S,"scaleY",B),G=n(S,"originX",.5),z=n(S,"originY",.5),W=n(S,"blendMode",0),Y=n(S,"erase",!1),K=n(S,"skipBatch",!1),Z=this.manager.resetStamp(P,A);return Z.setAngle(0),L!==0?Z.setAngle(L):F!==0&&Z.setRotation(F),Z.setScale(D,I),Z.setTexture(v,m),Z.setOrigin(G,z),Z.setBlendMode(W),Y&&(this._eraseMode=!0),K?this.batchGameObject(Z,T,C):this.draw(Z,T,C),Y&&(this._eraseMode=!1),this},erase:function(v,m,T){return this._eraseMode=!0,this.draw(v,m,T),this._eraseMode=!1,this},draw:function(v,m,T,C,S){return this.beginDraw(),this.batchDraw(v,m,T,C,S),this.endDraw(),this},drawFrame:function(v,m,T,C,S,P){return this.beginDraw(),this.batchDrawFrame(v,m,T,C,S,P),this.endDraw(),this},repeat:function(v,m,T,C,S,P,A,L,F){if(T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=this.width),P===void 0&&(P=this.height),A===void 0&&(A=1),L===void 0&&(L=16777215),F===void 0&&(F=!1),v instanceof e?m=v:m=this.manager.getFrame(v,m),!m)return this;var B=this.manager.resetStamp(A,L);B.setFrame(m),B.setOrigin(0);var D=m.width,I=m.height;S=Math.floor(S),P=Math.floor(P);var G=Math.ceil(S/D),z=Math.ceil(P/I),W=G*D-S,Y=z*I-P;W>0&&(W=D-W),Y>0&&(Y=I-Y),T<0&&(G+=Math.ceil(Math.abs(T)/D)),C<0&&(z+=Math.ceil(Math.abs(C)/I));var K=T,Z=C,V=!1,H=this.manager.stampCrop.setTo(0,0,D,I);F||this.beginDraw();for(var N=0;N<z;N++){if(Z+I<0){Z+=I;continue}for(var b=0;b<G;b++){if(V=!1,K+D<0){K+=D;continue}else K<0&&(V=!0,H.width=D+K,H.x=D-H.width);Z<0&&(V=!0,H.height=I+Z,H.y=I-H.height),W>0&&b===G-1&&(V=!0,H.width=W),Y>0&&N===z-1&&(V=!0,H.height=Y),V&&B.setCrop(H),this.batchGameObject(B,K,Z),B.isCropped=!1,H.setTo(0,0,D,I),K+=D}K=T,Z+=I}return F||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,m=this.renderer,T=this.renderTarget;v.preRender(),T?m.beginCapture(T.width,T.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,m,T,C,S){return Array.isArray(v)||(v=[v]),this.batchList(v,m,T,C,S),this},batchDrawFrame:function(v,m,T,C,S,P){T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=1),P===void 0&&(P=16777215);var A=this.manager.getFrame(v,m);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,T,C,P,S,this.camera.matrix,null):this.batchTextureFrame(A,T,C,S,P)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var m=this.renderer,T=this.renderTarget;if(T){var C=m.endCapture(),S=m.pipelines.setUtility();S.blitFrame(C,T,1,!1,!1,v,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,m,T,C,S){var P=v.length;if(P!==0)for(var A=0;A<P;A++){var L=v[A];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,m,T):L.isParent||L.list?this.batchGroup(L.getChildren(),m,T):typeof L=="string"?this.batchTextureFrameKey(L,null,m,T,C,S):L instanceof e?this.batchTextureFrame(L,m,T,C,S):Array.isArray(L)&&this.batchList(L,m,T,C,S))}},batchGroup:function(v,m,T){m===void 0&&(m=0),T===void 0&&(T=0);for(var C=0;C<v.length;C++){var S=v[C];S.willRender(this.camera)&&this.batchGameObject(S,S.x+m,S.y+T)}},batchGameObject:function(v,m,T){m===void 0&&(m=v.x),T===void 0&&(T=v.y);var C=v.x,S=v.y,P=this.camera,A=this.renderer,L=this._eraseMode,F=v.mask;if(v.setPosition(m,T),this.canvas){if(L){var B=v.blendMode;v.blendMode=a.ERASE}F&&F.preRenderCanvas(A,v,P),v.renderCanvas(A,v,P,null),F&&F.postRenderCanvas(A,v,P),L&&(v.blendMode=B)}else A&&(F&&F.preRenderWebGL(A,v,P),L||A.setBlendMode(v.blendMode),v.renderWebGL(A,v,P),F&&F.postRenderWebGL(A,P,this.renderTarget));v.setPosition(C,S)},batchTextureFrameKey:function(v,m,T,C,S,P){var A=this.manager.getFrame(v,m);A&&this.batchTextureFrame(A,T,C,S,P)},batchTextureFrame:function(v,m,T,C,S){m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=1),S===void 0&&(S=16777215);var P=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(v,m,T,S,C,P,null);else{var L=this.context,F=v.canvasData,B=v.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=C,P.setToContext(L),F.width>0&&F.height>0&&L.drawImage(B,F.x,F.y,F.width,F.height,m,T,F.width,F.height),L.restore()}},snapshotArea:function(v,m,T,C,S,P,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,v,m,T,C,P,A):this.renderer.snapshotCanvas(this.canvas,S,!1,v,m,T,C,P,A),this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.width,this.height,v,m,T)},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,m,T,C){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(v,S,T,C)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=f},4327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(45319),o=t(79291),s=new a({initialize:function(e,n,l,i,h,u,f){this.texture=e,this.name=n,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,f,i,h)},setSize:function(r,e,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.cutX=n,this.cutY=l,this.cutWidth=r,this.cutHeight=e,this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var i=this.data,h=i.cut;h.x=n,h.y=l,h.w=r,h.h=e,h.r=n+r,h.b=l+e,i.sourceSize.w=r,i.sourceSize.h=e,i.spriteSourceSize.w=r,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(r*r+e*e);var u=i.drawImage;return u.x=n,u.y=l,u.width=r,u.height=e,this.updateUVs()},setTrim:function(r,e,n,l,i,h){var u=this.data,f=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=r,u.sourceSize.h=e,f.x=n,f.y=l,f.w=i,f.h=h,f.r=n+i,f.b=l+h,this.x=n,this.y=l,this.width=i,this.height=h,this.halfWidth=i*.5,this.halfHeight=h*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(r,e,n,l){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&l===this.height,i.scale9Borders.x=r,i.scale9Borders.y=e,i.scale9Borders.w=n,i.scale9Borders.h=l,this},setCropUVs:function(r,e,n,l,i,h,u){var f=this.cutX,v=this.cutY,m=this.cutWidth,T=this.cutHeight,C=this.realWidth,S=this.realHeight;e=g(e,0,C),n=g(n,0,S),l=g(l,0,C-e),i=g(i,0,S-n);var P=f+e,A=v+n,L=l,F=i,B=this.data;if(B.trim){var D=B.spriteSourceSize;l=g(l,0,m-e),i=g(i,0,T-n);var I=e+l,G=n+i,z=!(D.r<e||D.b<n||D.x>I||D.y>G);if(z){var W=Math.max(D.x,e),Y=Math.max(D.y,n),K=Math.min(D.r,I)-W,Z=Math.min(D.b,G)-Y;L=K,F=Z,h?P=f+(m-(W-D.x)-K):P=f+(W-D.x),u?A=v+(T-(Y-D.y)-Z):A=v+(Y-D.y),e=W,n=Y,l=K,i=Z}else P=0,A=0,L=0,F=0}else h&&(P=f+(m-e-l)),u&&(A=v+(T-n-i));var V=this.source.width,H=this.source.height;return r.u0=Math.max(0,P/V),r.v0=Math.max(0,A/H),r.u1=Math.min(1,(P+L)/V),r.v1=Math.min(1,(A+F)/H),r.x=e,r.y=n,r.cx=P,r.cy=A,r.cw=L,r.ch=F,r.width=l,r.height=i,r.flipX=h,r.flipY=u,r},updateCropUVs:function(r,e,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,n)},setUVs:function(r,e,n,l,i,h){var u=this.data.drawImage;return u.width=r,u.height=e,this.u0=n,this.v0=l,this.u1=i,this.v1=h,this},updateUVs:function(){var r=this.cutX,e=this.cutY,n=this.cutWidth,l=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=l;var h=this.source.width,u=this.source.height;return this.u0=r/h,this.v0=e/u,this.u1=(r+n)/h,this.v1=(e+l)/u,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=s},79237:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(4327),o=t(11876),s='Texture "%s" has no frame "%s"',r=new a({initialize:function(n,l,i,h,u){Array.isArray(i)||(i=[i]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var f=0;f<i.length;f++)this.source.push(new o(this,i[f],h,u))},add:function(e,n,l,i,h,u){if(this.has(e))return null;var f=new g(this,e,n,l,i,h,u);return this.frames[e]=f,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,f},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(s,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var l=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var h=this.frames[i];h.sourceIndex===e&&l.push(h)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e),l=1/0,i=1/0,h=0,u=0,f=0;f<n.length;f++){var v=n[f];v.cutX<l&&(l=v.cutX),v.cutY<i&&(i=v.cutY),v.cutX+v.cutWidth>h&&(h=v.cutX+v.cutWidth),v.cutY+v.cutHeight>u&&(u=v.cutY+v.cutHeight)}return{x:l,y:i,width:h-l,height:u-i}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],l;return n?l=n.sourceIndex:(console.warn(s,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var l=this.source[n];this.dataSource.push(new o(this,e[n],l.width,l.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,l=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var i in this.frames){var h=this.frames[i];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=r},17130:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g=t(57382),o=t(83419),s=t(40987),r=t(8054),e=t(81320),n=t(50792),l=t(69442),i=t(4327),h=t(8443),u=t(99584),f=t(35154),v=t(88571),m=t(41212),T=t(61309),C=t(87841),S=t(79237),P=new o({Extends:n,initialize:function(L){n.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,L.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(L){this.stamp=new v(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var L=A.key;return this.list.hasOwnProperty(L)&&(A.destroy(),this.emit(l.REMOVE,L),this.emit(l.REMOVE_KEY+L)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,L){if(this.checkKey(A)){var F=this,B=new Image;B.onerror=function(){F.emit(l.ERROR,A)},B.onload=function(){var D=F.create(A,B);T.Image(D,0),F.emit(l.ADD,A,D),F.emit(l.ADD_KEY+A,D),F.emit(l.LOAD,A,D)},B.src=L}return this},getBase64:function(A,L,F,B){F===void 0&&(F="image/png"),B===void 0&&(B=.92);var D="",I=this.getFrame(A,L);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var G=I.canvasData,z=a.create2D(this,G.width,G.height),W=z.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&W.drawImage(I.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),D=z.toDataURL(F,B),a.remove(z)}return D},addImage:function(A,L,F){var B=null;return this.checkKey(A)&&(B=this.create(A,L),T.Image(B,0),F&&B.setDataSource(F),this.emit(l.ADD,A,B),this.emit(l.ADD_KEY+A,B)),B},addGLTexture:function(A,L){var F=null;if(this.checkKey(A)){var B=L.width,D=L.height;F=this.create(A,L,B,D),F.add("__BASE",0,0,0,B,D),this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)}return F},addCompressedTexture:function(A,L,F){var B=null;if(this.checkKey(A)){if(B=this.create(A,L),B.add("__BASE",0,0,0,L.width,L.height),F){var D=function(G,z,W){Array.isArray(W.textures)||Array.isArray(W.frames)?T.JSONArray(G,z,W):T.JSONHash(G,z,W)};if(Array.isArray(F))for(var I=0;I<F.length;I++)D(B,I,F[I]);else D(B,0,F)}this.emit(l.ADD,A,B),this.emit(l.ADD_KEY+A,B)}return B},addRenderTexture:function(A,L){var F=null;return this.checkKey(A)&&(F=this.create(A,L),F.add("__BASE",0,0,0,L.width,L.height),this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)),F},generate:function(A,L){if(this.checkKey(A)){var F=a.create(this,1,1);return L.canvas=F,u(L),this.addCanvas(A,F)}else return null},createCanvas:function(A,L,F){if(L===void 0&&(L=256),F===void 0&&(F=256),this.checkKey(A)){var B=a.create(this,L,F,r.CANVAS,!0);return this.addCanvas(A,B)}return null},addCanvas:function(A,L,F){F===void 0&&(F=!1);var B=null;return F?B=new g(this,A,L,L.width,L.height):this.checkKey(A)&&(B=new g(this,A,L,L.width,L.height),this.list[A]=B,this.emit(l.ADD,A,B),this.emit(l.ADD_KEY+A,B)),B},addDynamicTexture:function(A,L,F){var B=null;return typeof A=="string"&&!this.exists(A)?B=new e(this,A,L,F):(B=A,A=B.key),this.checkKey(A)?(this.list[A]=B,this.emit(l.ADD,A,B),this.emit(l.ADD_KEY+A,B)):B=null,B},addAtlas:function(A,L,F,B){return Array.isArray(F.textures)||Array.isArray(F.frames)?this.addAtlasJSONArray(A,L,F,B):this.addAtlasJSONHash(A,L,F,B)},addAtlasJSONArray:function(A,L,F,B){var D=null;if(L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D){if(Array.isArray(F))for(var I=F.length===1,G=0;G<D.source.length;G++){var z=I?F[0]:F[G];T.JSONArray(D,G,z)}else T.JSONArray(D,0,F);B&&D.setDataSource(B),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)}return D},addAtlasJSONHash:function(A,L,F,B){var D=null;if(L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D){if(Array.isArray(F))for(var I=0;I<F.length;I++)T.JSONHash(D,I,F[I]);else T.JSONHash(D,0,F);B&&D.setDataSource(B),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)}return D},addAtlasXML:function(A,L,F,B){var D=null;return L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D&&(T.AtlasXML(D,0,F),B&&D.setDataSource(B),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)),D},addUnityAtlas:function(A,L,F,B){var D=null;return L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D&&(T.UnityYAML(D,0,F),B&&D.setDataSource(B),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)),D},addSpriteSheet:function(A,L,F,B){var D=null;if(L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D){var I=D.source[0].width,G=D.source[0].height;T.SpriteSheet(D,0,0,0,I,G,F),B&&D.setDataSource(B),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)}return D},addSpriteSheetFromAtlas:function(A,L){if(!this.checkKey(A))return null;var F=f(L,"atlas",null),B=f(L,"frame",null);if(!(!F||!B)){var D=this.get(F),I=D.get(B);if(I){var G=I.source.image;G||(G=I.source.glTexture);var z=this.create(A,G);return I.trimmed?T.SpriteSheetFromAtlas(z,I,L):T.SpriteSheet(z,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,L),this.emit(l.ADD,A,z),this.emit(l.ADD_KEY+A,z),z}}},addUint8Array:function(A,L,F,B){if(!this.checkKey(A)||L.length/4!==F*B)return null;var D=this.create(A,L,F,B);return D.add("__BASE",0,0,0,F,B),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D),D},create:function(A,L,F,B){var D=null;return this.checkKey(A)&&(D=new S(this,A,L,F,B),this.list[A]=D),D},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof S?A:A instanceof i?A.texture:this.list.__MISSING},cloneFrame:function(A,L){if(this.list[A])return this.list[A].get(L).clone()},getFrame:function(A,L){if(this.list[A])return this.list[A].get(L)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(m(A))return this.getFrame(A.key,A.frame);if(A instanceof S)return A.get();if(A instanceof i)return A}else return},getTextureKeys:function(){var A=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&A.push(L);return A},getPixel:function(A,L,F,B){var D=this.getFrame(F,B);if(D){A-=D.x,L-=D.y;var I=D.data.cut;if(A+=I.x,L+=I.y,A>=I.x&&A<I.r&&L>=I.y&&L<I.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(D.source.image,A,L,1,1,0,0,1,1);var z=G.getImageData(0,0,1,1);return new s(z.data[0],z.data[1],z.data[2],z.data[3])}}return null},getPixelAlpha:function(A,L,F,B){var D=this.getFrame(F,B);if(D){A-=D.x,L-=D.y;var I=D.data.cut;if(A+=I.x,L+=I.y,A>=I.x&&A<I.r&&L>=I.y&&L<I.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(D.source.image,A,L,1,1,0,0,1,1);var z=G.getImageData(0,0,1,1);return z.data[3]}}return null},setTexture:function(A,L,F){return this.list[L]&&(A.texture=this.list[L],A.frame=A.texture.get(F)),A},renameTexture:function(A,L){var F=this.get(A);return F&&A!==L?(F.key=L,this.list[L]=F,delete this.list[A],!0):!1},each:function(A,L){for(var F=[null],B=1;B<arguments.length;B++)F.push(arguments[B]);for(var D in this.list)F[0]=this.list[D],A.apply(L,F)},resetStamp:function(A,L){A===void 0&&(A=1),L===void 0&&(L=16777215);var F=this.stamp;return F.setCrop(),F.setPosition(0),F.setAngle(0),F.setScale(1),F.setAlpha(A),F.setTint(L),F.setTexture("__WHITE"),F},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});c.exports=P},11876:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),g=t(83419),o=t(50030),s=t(29795),r=t(82751),e=new g({initialize:function(l,i,h,u,f){f===void 0&&(f=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=h||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(v)},init:function(n){var l=this.renderer;if(l){var i=this.source;if(l.gl){var h=this.image,u=this.flipY,f=this.width,v=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(h,!1,u):this.isVideo?this.glTexture=l.createVideoTexture(h,!1,u):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,f,v,m):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(i,void 0,void 0,m):i instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(i,f,v,m):this.glTexture=l.createTextureFromSource(h,f,v,m)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,i=this.flipY,h=n.gl;h&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,i):h&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};c.exports=x},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),g=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:g,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=a(!1,o,g),c.exports=o},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[a];t.add("__BASE",a,0,0,o.width,o.height);for(var s=g.getElementsByTagName("SubTexture"),r,e=0;e<s.length;e++){var n=s[e].attributes,l=n.name.value,i=parseInt(n.x.value,10),h=parseInt(n.y.value,10),u=parseInt(n.width.value,10),f=parseInt(n.height.value,10);if(r=t.add(l,a,i,h,u,f),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),m=Math.abs(parseInt(n.frameY.value,10)),T=parseInt(n.frameWidth.value,10),C=parseInt(n.frameHeight.value,10);r.setTrim(u,f,v,m,T,C)}}return t};c.exports=x},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.source[a];return t.add("__BASE",a,0,0,g.width,g.height),t};c.exports=x},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.source[a];return t.add("__BASE",a,0,0,g.width,g.height),t};c.exports=x},78566:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),g=function(o,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);for(var n=Array.isArray(r.textures)?r.textures[s].frames:r.frames,l,i=0;i<n.length;i++){var h=n[i];if(l=o.add(h.filename,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=h.anchor||h.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var f in r)f!=="frames"&&(Array.isArray(r[f])?o.customData[f]=r[f].slice(0):o.customData[f]=r[f]);return o};c.exports=g},39711:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),g=function(o,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);var n=r.frames,l;for(var i in n)if(n.hasOwnProperty(i)){var h=n[i];if(l=o.add(i,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+i);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=h.anchor||h.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var f in r)f!=="frames"&&(Array.isArray(r[f])?o.customData[f]=r[f].slice(0):o.customData[f]=r[f]);return o};c.exports=g},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],g,o=new Uint8Array(t,0,12);for(g=0;g<o.length;g++)if(o[g]!==a[g]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*s),e=r.getUint32(0,!0)===67305985,n=r.getUint32(1*s,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*s,e),i=r.getUint32(6*s,e),h=r.getUint32(7*s,e),u=Math.max(1,r.getUint32(11*s,e)),f=r.getUint32(12*s,e),v=new Array(u),m=12+13*4+f,T=i,C=h;for(g=0;g<u;g++){var S=new Int32Array(t,m,1)[0];m+=4,v[g]={data:new Uint8Array(t,m,S),width:T,height:C},T=Math.max(1,T>>1),C=Math.max(1,C>>1),m+=S}return{mipmaps:v,width:i,height:h,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=x},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(L,F,B,D,I,G,z){return z===void 0&&(z=16),Math.floor((L+B)/I)*Math.floor((F+D)/G)*z}function t(L,F){return L=Math.max(L,16),F=Math.max(F,8),L*F/4}function a(L,F){return L=Math.max(L,8),F=Math.max(F,8),L*F/2}function g(L,F){return Math.ceil(L/4)*Math.ceil(F/4)*16}function o(L,F){return x(L,F,3,3,4,4,8)}function s(L,F){return x(L,F,3,3,4,4)}function r(L,F){return x(L,F,4,3,5,4)}function e(L,F){return x(L,F,4,4,5,5)}function n(L,F){return x(L,F,5,4,6,5)}function l(L,F){return x(L,F,5,5,6,6)}function i(L,F){return x(L,F,7,4,8,5)}function h(L,F){return x(L,F,7,5,8,6)}function u(L,F){return x(L,F,7,7,8,8)}function f(L,F){return x(L,F,9,4,10,5)}function v(L,F){return x(L,F,9,5,10,6)}function m(L,F){return x(L,F,9,7,10,8)}function T(L,F){return x(L,F,9,9,10,10)}function C(L,F){return x(L,F,11,9,12,10)}function S(L,F){return x(L,F,11,11,12,12)}var P={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:f,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:T,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},A=function(L){for(var F=new Uint32Array(L,0,13),B=F[0],D=B===55727696,I=D?F[2]:F[3],G=F[4],z=P[I].glFormat[G],W=P[I].sizeFunc,Y=F[11],K=F[7],Z=F[6],V=52+F[12],H=new Uint8Array(L,V),N=new Array(Y),b=0,X=K,$=Z,Q=0;Q<Y;Q++){var k=W(X,$);N[Q]={data:new Uint8Array(H.buffer,H.byteOffset+b,k),width:X,height:$},X=Math.max(1,X>>1),$=Math.max(1,$>>1),b+=k}return{mipmaps:N,width:K,height:Z,internalFormat:z,compressed:!0,generateMipmap:!1}};c.exports=A},75549:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=function(o,s,r,e,n,l,i){var h=a(i,"frameWidth",null),u=a(i,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var f=o.source[s];o.add("__BASE",s,0,0,f.width,f.height);var v=a(i,"startFrame",0),m=a(i,"endFrame",-1),T=a(i,"margin",0),C=a(i,"spacing",0),S=Math.floor((n-T+C)/(h+C)),P=Math.floor((l-T+C)/(u+C)),A=S*P;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>A||v<-A)&&(v=0),v<0&&(v=A+v),(m===-1||m>A||m<v)&&(m=A);for(var L=T,F=T,B=0,D=0,I=0,G=0;G<A;G++){B=0,D=0;var z=L+h,W=F+u;z>n&&(B=z-n),W>l&&(D=W-l),G>=v&&G<=m&&(o.add(I,s,r+L,e+F,h-B,u-D),I++),L+=h+C,L+h>n&&(L=T,F+=u+C)}return o};c.exports=g},47534:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=function(o,s,r){var e=a(r,"frameWidth",null),n=a(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),a(r,"startFrame",0),a(r,"endFrame",-1);for(var i=a(r,"margin",0),h=a(r,"spacing",0),u=s.cutX,f=s.cutY,v=s.cutWidth,m=s.cutHeight,T=s.realWidth,C=s.realHeight,S=Math.floor((T-i+h)/(e+h)),P=Math.floor((C-i+h)/(n+h)),A=s.x,L=e-A,F=e-(T-v-A),B=s.y,D=n-B,I=n-(C-m-B),G,z=i,W=i,Y=0,K=0,Z=0;Z<P;Z++){for(var V=Z===0,H=Z===P-1,N=0;N<S;N++){var b=N===0,X=N===S-1;if(G=o.add(Y,K,u+z,f+W,e,n),b||V||X||H){var $=b?A:0,Q=V?B:0,k=0,J=0;b&&(k+=e-L),X&&(k+=e-F),V&&(J+=n-D),H&&(J+=n-I);var et=e-k,nt=n-J;G.cutWidth=et,G.cutHeight=nt,G.setTrim(e,n,$,Q,et,nt)}z+=h,b?z+=L:X?z+=F:z+=e,Y++}z=i,W+=h,V?W+=D:H?W+=I:W+=n}return o};c.exports=g},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,t=function(g,o,s,r){var e=x-r.y-r.height;g.add(s,o,r.x,e,r.width,r.height)},a=function(g,o,s){var r=g.source[o];g.add("__BASE",o,0,0,r.width,r.height),x=r.height;for(var e=s.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",i="",h={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var f=e[u].match(n);if(f){var v=f[1]==="- ",m=f[2],T=f[3];if(v&&(i!==l&&(t(g,o,i,h),l=i),h={x:0,y:0,width:0,height:0}),m==="name"){i=T;continue}switch(m){case"x":case"y":case"width":case"height":h[m]=parseInt(T,10);break}}}return i!==l&&t(g,o,i,h),g};c.exports=a},55222:(c,x,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(50030),g=function(l){for(var i=l.mipmaps,h=1;h<i.length;h++){var u=i[h].width,f=i[h].height;if(!a(u,f))return console.warn("Mip level "+h+" is not a power-of-two size: "+u+"x"+f),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var i=l.mipmaps,h=0;h<i.length;h++){var u=i[h].width,f=i[h].height;if((u<<h)%4!==0||(f<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+u+"x"+f),!1}return!0}function s(){return!0}function r(l){var i=l.mipmaps,h=i[0];return a(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(l){var i=l.mipmaps,h=i[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var n={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:e,35917:e,35918:e,35919:e};c.exports=g},61309:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s,r,e,n,l,i,h){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),i===void 0&&(i=0),this.name=s,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=i|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,s){return this.images.push({gid:o,image:s}),this.total++,this}});c.exports=g},27462:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=new a({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var e=s[r],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var s=this.gids[o.gid];if(s){var r=s.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,s,r,e){if(s===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(s===null&&n.image!==void 0&&(s=n.image.key),r===null&&(r=e.gid-n.firstgid),o.scene.textures.getFrame(s,r)||(s=null,r=null))}o.setTexture(s,r)},setPropertiesFromTiledObject:function(o,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(s.gid))}this.setFromJSON(o,s.properties)},setFromJSON:function(o,s){if(s){if(Array.isArray(s)){for(var r=0;r<s.length;r++){var e=s[r];o[e.name]!==void 0?o[e.name]=e.value:o.setData(e.name,e.value)}return}for(var n in s)o[n]!==void 0?o[n]=s[n]:o.setData(n,s[n])}}});c.exports=g},31989:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),g=t(87010),o=t(46177),s=t(49075),r=function(e,n,l,i,h,u,f,v){l===void 0&&(l=32),i===void 0&&(i=32),h===void 0&&(h=10),u===void 0&&(u=10),v===void 0&&(v=!1);var m=null;if(Array.isArray(f)){var T=n!==void 0?n:"map";m=o(T,a.ARRAY_2D,f,l,i,v)}else if(n!==void 0){var C=e.cache.tilemap.get(n);C?m=o(n,C.format,C.data,l,i,v):console.warn("No map data found for key "+n)}return m===null&&(m=new g({tileWidth:l,tileHeight:i,width:h,height:u})),new s(e,m)};c.exports=r},23029:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(31401),o=t(91907),s=t(62644),r=t(93232),e=new a({Mixins:[g.AlphaSingle,g.Flip,g.Visible],initialize:function(l,i,h,u,f,v,m,T){this.layer=l,this.index=i,this.x=h,this.y=u,this.width=f,this.height=v,this.right,this.bottom,this.baseWidth=m!==void 0?m:f,this.baseHeight=T!==void 0?T:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=s(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,i,h){return!(i<=this.pixelX||h<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,i,h,u){if(l===void 0&&(l=n),i===void 0&&(i=n),h===void 0&&(h=n),u===void 0&&(u=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=i,this.collideDown=h,this.faceLeft=n,this.faceRight=l,this.faceTop=i,this.faceBottom=h,u){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,i,h){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),i!==void 0&&(this.baseWidth=i),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,i=this.layer.staggerIndex,h=this.layer.hexSideLength,u,f;l==="y"?(f=(this.baseHeight-h)/2+h,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*f):l==="x"&&(u=(this.baseWidth-h)/2+h,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});c.exports=e},49075:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84101),g=t(83419),o=t(39506),s=t(80341),r=t(95540),e=t(14977),n=t(27462),l=t(91907),i=t(36305),h=t(19133),u=t(68287),f=t(23029),v=t(81086),m=t(20442),T=t(33629),C=new g({initialize:function(P,A){this.scene=P,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(L),WorldToTileX:v.GetWorldToTileXFunction(L),WorldToTileY:v.GetWorldToTileYFunction(L),TileToWorldXY:v.GetTileToWorldXYFunction(L),TileToWorldX:v.GetTileToWorldXFunction(L),TileToWorldY:v.GetTileToWorldYFunction(L),GetTileCorners:v.GetTileCornersFunction(L)}},setRenderOrder:function(S){var P=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=P[S]),P.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,P,A,L,F,B,D,I){if(S===void 0)return null;P==null&&(P=S);var G=this.scene.sys.textures;if(!G.exists(P))return console.warn('Texture key "%s" not found',P),null;var z=G.get(P),W=this.getTilesetIndex(S);if(W===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var Y=this.tilesets[W];return Y?(Y.setTileSize(A,L),Y.setSpacing(F,B),Y.setImage(z),Y):(A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight),F===void 0&&(F=0),B===void 0&&(B=0),D===void 0&&(D=0),I===void 0&&(I={x:0,y:0}),Y=new T(S,D,A,L,F,B,void 0,void 0,I),Y.setImage(z),this.tilesets.push(Y),this.tiles=a(this),Y)},copy:function(S,P,A,L,F,B,D,I){return I=this.getLayer(I),I!==null?(v.Copy(S,P,A,L,F,B,D,I),this):null},createBlankLayer:function(S,P,A,L,F,B,D,I){A===void 0&&(A=0),L===void 0&&(L=0),F===void 0&&(F=this.width),B===void 0&&(B=this.height),D===void 0&&(D=this.tileWidth),I===void 0&&(I=this.tileHeight);var G=this.getLayerIndex(S);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var z=new e({name:S,tileWidth:D,tileHeight:I,width:F,height:B,orientation:this.orientation}),W,Y=0;Y<B;Y++){W=[];for(var K=0;K<F;K++)W.push(new f(z,-1,K,Y,D,I,this.tileWidth,this.tileHeight));z.data.push(W)}this.layers.push(z),this.currentLayerIndex=this.layers.length-1;var Z=new m(this.scene,this,this.currentLayerIndex,P,A,L);return Z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Z),Z},createLayer:function(S,P,A,L){var F=this.getLayerIndex(S);if(F===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var B=this.layers[F];if(B.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=F,A===void 0&&(A=B.x),L===void 0&&(L=B.y);var D=new m(this.scene,this,F,P,A,L);return D.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(D),D},createFromObjects:function(S,P,A){A===void 0&&(A=!0);var L=[],F=this.getObjectLayer(S);if(!F)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),L;var B=new n(A?this.tilesets:void 0);Array.isArray(P)||(P=[P]);for(var D=F.objects,I=0;I<P.length;I++){var G=P[I],z=r(G,"id",null),W=r(G,"gid",null),Y=r(G,"name",null),K=r(G,"type",null);B.enabled=!r(G,"ignoreTileset",null);for(var Z,V=[],H=0;H<D.length;H++)Z=D[H],(z===null&&W===null&&Y===null&&K===null||z!==null&&Z.id===z||W!==null&&Z.gid===W||Y!==null&&Z.name===Y||K!==null&&B.getTypeIncludingTile(Z)===K)&&V.push(Z);for(var N=r(G,"classType",u),b=r(G,"scene",this.scene),X=r(G,"container",null),$=r(G,"key",null),Q=r(G,"frame",null),k=0;k<V.length;k++){Z=V[k];var J=new N(b);if(J.setName(Z.name),J.setPosition(Z.x,Z.y),B.setTextureAndFrame(J,$,Q,Z),Z.width&&(J.displayWidth=Z.width),Z.height&&(J.displayHeight=Z.height),this.orientation===l.ISOMETRIC){var et=this.tileWidth/this.tileHeight,nt={x:J.x-J.y,y:(J.x+J.y)/et};J.x=nt.x,J.y=nt.y}var st={x:J.originX*Z.width,y:(J.originY-(Z.gid?1:0))*Z.height};if(Z.rotation){var ot=o(Z.rotation);i(st,ot),J.rotation=ot}J.x+=st.x,J.y+=st.y,(Z.flippedHorizontal!==void 0||Z.flippedVertical!==void 0)&&J.setFlip(Z.flippedHorizontal,Z.flippedVertical),Z.visible||(J.visible=!1),B.setPropertiesFromTiledObject(J,Z),X?X.add(J):b.add.existing(J),L.push(J)}}return L},createFromTiles:function(S,P,A,L,F,B){return B=this.getLayer(B),B===null?null:v.CreateFromTiles(S,P,A,L,F,B)},fill:function(S,P,A,L,F,B,D){return B===void 0&&(B=!0),D=this.getLayer(D),D===null?null:(v.Fill(S,P,A,L,F,B,D),this)},filterObjects:function(S,P,A){if(typeof S=="string"){var L=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+L),null}return S.objects.filter(P,A)},filterTiles:function(S,P,A,L,F,B,D,I){return I=this.getLayer(I),I===null?null:v.FilterTiles(S,P,A,L,F,B,D,I)},findByIndex:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.FindByIndex(S,P,A,L)},findObject:function(S,P,A){if(typeof S=="string"){var L=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+L),null}return S.objects.find(P,A)||null},findTile:function(S,P,A,L,F,B,D,I){return I=this.getLayer(I),I===null?null:v.FindTile(S,P,A,L,F,B,D,I)},forEachTile:function(S,P,A,L,F,B,D,I){return I=this.getLayer(I),I===null?null:(v.ForEachTile(S,P,A,L,F,B,D,I),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,P){for(var A=0;A<S.length;A++)if(S[A].name===P)return A;return null},getLayer:function(S){var P=this.getLayerIndex(S);return P!==null?this.layers[P]:null},getObjectLayer:function(S){var P=this.getIndex(this.objects,S);return P!==null?this.objects[P]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof m&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.GetTileAt(S,P,A,L)},getTileAtWorldXY:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:v.GetTileAtWorldXY(S,P,A,L,F)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,P,A,L,F,B){return B=this.getLayer(B),B===null?null:v.GetTilesWithin(S,P,A,L,F,B)},getTilesWithinShape:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.GetTilesWithinShape(S,P,A,L)},getTilesWithinWorldXY:function(S,P,A,L,F,B,D){return D=this.getLayer(D),D===null?null:v.GetTilesWithinWorldXY(S,P,A,L,F,B,D)},getTileset:function(S){var P=this.getIndex(this.tilesets,S);return P!==null?this.tilesets[P]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,P,A){return A=this.getLayer(A),A===null?null:v.HasTileAt(S,P,A)},hasTileAtWorldXY:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.HasTileAtWorldXY(S,P,A,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,P,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:v.PutTileAt(S,P,A,L,F)},putTileAtWorldXY:function(S,P,A,L,F,B){return L===void 0&&(L=!0),B=this.getLayer(B),B===null?null:v.PutTileAtWorldXY(S,P,A,L,F,B)},putTilesAt:function(S,P,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(v.PutTilesAt(S,P,A,L,F),this)},randomize:function(S,P,A,L,F,B){return B=this.getLayer(B),B===null?null:(v.Randomize(S,P,A,L,F,B),this)},calculateFacesAt:function(S,P,A){return A=this.getLayer(A),A===null?null:(v.CalculateFacesAt(S,P,A),this)},calculateFacesWithin:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:(v.CalculateFacesWithin(S,P,A,L,F),this)},removeLayer:function(S){var P=this.getLayerIndex(S);if(P!==null){h(this.layers,P);for(var A=P;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===P&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var P=this.getLayerIndex(S);return P!==null?(S=this.layers[P],S.tilemapLayer.destroy(),h(this.layers,P),this.currentLayerIndex===P&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,P=0;P<S.length;P++)S[P].tilemapLayer&&S[P].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,P,A){P===void 0&&(P=-1),A===void 0&&(A=!0);var L=[];Array.isArray(S)||(S=[S]);for(var F=0;F<S.length;F++){var B=S[F];L.push(this.removeTileAt(B.x,B.y,!0,A,B.tilemapLayer)),P>-1&&this.putTileAt(P,B.x,B.y,A,B.tilemapLayer)}return L},removeTileAt:function(S,P,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:v.RemoveTileAt(S,P,A,L,F)},removeTileAtWorldXY:function(S,P,A,L,F,B){return A===void 0&&(A=!0),L===void 0&&(L=!0),B=this.getLayer(B),B===null?null:v.RemoveTileAtWorldXY(S,P,A,L,F,B)},renderDebug:function(S,P,A){return A=this.getLayer(A),A===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(S,P,A),this)},renderDebugFull:function(S,P){for(var A=this.layers,L=0;L<A.length;L++)v.RenderDebug(S,P,A[L]);return this},replaceByIndex:function(S,P,A,L,F,B,D){return D=this.getLayer(D),D===null?null:(v.ReplaceByIndex(S,P,A,L,F,B,D),this)},setCollision:function(S,P,A,L,F){return P===void 0&&(P=!0),A===void 0&&(A=!0),F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(v.SetCollision(S,P,A,L,F),this)},setCollisionBetween:function(S,P,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(v.SetCollisionBetween(S,P,A,L,F),this)},setCollisionByProperty:function(S,P,A,L){return P===void 0&&(P=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionByProperty(S,P,A,L),this)},setCollisionByExclusion:function(S,P,A,L){return P===void 0&&(P=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionByExclusion(S,P,A,L),this)},setCollisionFromCollisionGroup:function(S,P,A){return S===void 0&&(S=!0),P===void 0&&(P=!0),A=this.getLayer(A),A===null?null:(v.SetCollisionFromCollisionGroup(S,P,A),this)},setTileIndexCallback:function(S,P,A,L){return L=this.getLayer(L),L===null?null:(v.SetTileIndexCallback(S,P,A,L),this)},setTileLocationCallback:function(S,P,A,L,F,B,D){return D=this.getLayer(D),D===null?null:(v.SetTileLocationCallback(S,P,A,L,F,B,D),this)},setLayer:function(S){var P=this.getLayerIndex(S);return P!==null&&(this.currentLayerIndex=P),this},setBaseTileSize:function(S,P){this.tileWidth=S,this.tileHeight=P,this.widthInPixels=this.width*S,this.heightInPixels=this.height*P;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=S,this.layers[A].baseTileHeight=P;for(var L=this.layers[A].data,F=this.layers[A].width,B=this.layers[A].height,D=0;D<B;D++)for(var I=0;I<F;I++){var G=L[D][I];G!==null&&G.setSize(void 0,void 0,S,P)}}return this},setLayerTileSize:function(S,P,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=S,A.tileHeight=P;for(var L=A.data,F=A.width,B=A.height,D=0;D<B;D++)for(var I=0;I<F;I++){var G=L[D][I];G!==null&&G.setSize(S,P)}return this},shuffle:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:(v.Shuffle(S,P,A,L,F),this)},swapByIndex:function(S,P,A,L,F,B,D){return D=this.getLayer(D),D===null?null:(v.SwapByIndex(S,P,A,L,F,B,D),this)},tileToWorldX:function(S,P,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(S,P,A)},tileToWorldY:function(S,P,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(S,P,A)},tileToWorldXY:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.TileToWorldXY(S,P,A,L,F)},getTileCorners:function(S,P,A,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(S,P,A,L)},weightedRandomize:function(S,P,A,L,F,B){return B=this.getLayer(B),B===null?null:(v.WeightedRandomize(P,A,L,F,S,B),this)},worldToTileX:function(S,P,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(S,P,A,L)},worldToTileY:function(S,P,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(S,P,A,L)},worldToTileXY:function(S,P,A,L,F,B){return B=this.getLayer(B),B===null?null:this._convert.WorldToTileXY(S,P,A,L,F,B)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=C},45939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),g=t(31989);a.register("tilemap",function(o){var s=o!==void 0?o:{};return g(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),g=t(31989);a.register("tilemap",function(o,s,r,e,n,l,i){return o===null&&(o=void 0),s===null&&(s=void 0),r===null&&(r=void 0),e===null&&(e=void 0),n===null&&(n=void 0),g(this.scene,o,s,r,e,n,l,i)})},20442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(78389),o=t(31401),s=t(95643),r=t(81086),e=t(19218),n=t(26099),l=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,g,e],initialize:function(h,u,f,v,m,T){s.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=f,this.layer=u.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,T),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var h=[],u=[],f=this.tilemap;Array.isArray(i)||(i=[i]);for(var v=0;v<i.length;v++){var m=i[v];if(typeof m=="string"&&(m=f.getTileset(m)),m){u.push(m);for(var T=m.firstgid,C=0;C<m.total;C++)h[T+C]=m}}this.gidMap=h,this.tileset=u},setRenderOrder:function(i){var h=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=h.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,h){return r.CalculateFacesAt(i,h,this.layer),this},calculateFacesWithin:function(i,h,u,f){return r.CalculateFacesWithin(i,h,u,f,this.layer),this},createFromTiles:function(i,h,u,f,v){return r.CreateFromTiles(i,h,u,f,v,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,h,u,f,v,m,T){return r.Copy(i,h,u,f,v,m,T,this.layer),this},fill:function(i,h,u,f,v,m){return r.Fill(i,h,u,f,v,m,this.layer),this},filterTiles:function(i,h,u,f,v,m,T){return r.FilterTiles(i,h,u,f,v,m,T,this.layer)},findByIndex:function(i,h,u){return r.FindByIndex(i,h,u,this.layer)},findTile:function(i,h,u,f,v,m,T){return r.FindTile(i,h,u,f,v,m,T,this.layer)},forEachTile:function(i,h,u,f,v,m,T){return r.ForEachTile(i,h,u,f,v,m,T,this.layer),this},setTint:function(i,h,u,f,v,m){i===void 0&&(i=16777215);var T=function(C){C.tint=i,C.tintFill=!1};return this.forEachTile(T,this,h,u,f,v,m)},setTintFill:function(i,h,u,f,v,m){i===void 0&&(i=16777215);var T=function(C){C.tint=i,C.tintFill=!0};return this.forEachTile(T,this,h,u,f,v,m)},getTileAt:function(i,h,u){return r.GetTileAt(i,h,u,this.layer)},getTileAtWorldXY:function(i,h,u,f){return r.GetTileAtWorldXY(i,h,u,f,this.layer)},getIsoTileAtWorldXY:function(i,h,u,f,v){u===void 0&&(u=!0);var m=this.tempVec;return r.IsometricWorldToTileXY(i,h,!0,m,v,this.layer,u),this.getTileAt(m.x,m.y,f)},getTilesWithin:function(i,h,u,f,v){return r.GetTilesWithin(i,h,u,f,v,this.layer)},getTilesWithinShape:function(i,h,u){return r.GetTilesWithinShape(i,h,u,this.layer)},getTilesWithinWorldXY:function(i,h,u,f,v,m){return r.GetTilesWithinWorldXY(i,h,u,f,v,m,this.layer)},hasTileAt:function(i,h){return r.HasTileAt(i,h,this.layer)},hasTileAtWorldXY:function(i,h,u){return r.HasTileAtWorldXY(i,h,u,this.layer)},putTileAt:function(i,h,u,f){return r.PutTileAt(i,h,u,f,this.layer)},putTileAtWorldXY:function(i,h,u,f,v){return r.PutTileAtWorldXY(i,h,u,f,v,this.layer)},putTilesAt:function(i,h,u,f){return r.PutTilesAt(i,h,u,f,this.layer),this},randomize:function(i,h,u,f,v){return r.Randomize(i,h,u,f,v,this.layer),this},removeTileAt:function(i,h,u,f){return r.RemoveTileAt(i,h,u,f,this.layer)},removeTileAtWorldXY:function(i,h,u,f,v){return r.RemoveTileAtWorldXY(i,h,u,f,v,this.layer)},renderDebug:function(i,h){return r.RenderDebug(i,h,this.layer),this},replaceByIndex:function(i,h,u,f,v,m){return r.ReplaceByIndex(i,h,u,f,v,m,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=1),this.cullPaddingX=i,this.cullPaddingY=h,this},setCollision:function(i,h,u,f){return r.SetCollision(i,h,u,this.layer,f),this},setCollisionBetween:function(i,h,u,f){return r.SetCollisionBetween(i,h,u,f,this.layer),this},setCollisionByProperty:function(i,h,u){return r.SetCollisionByProperty(i,h,u,this.layer),this},setCollisionByExclusion:function(i,h,u){return r.SetCollisionByExclusion(i,h,u,this.layer),this},setCollisionFromCollisionGroup:function(i,h){return r.SetCollisionFromCollisionGroup(i,h,this.layer),this},setTileIndexCallback:function(i,h,u){return r.SetTileIndexCallback(i,h,u,this.layer),this},setTileLocationCallback:function(i,h,u,f,v,m){return r.SetTileLocationCallback(i,h,u,f,v,m,this.layer),this},shuffle:function(i,h,u,f){return r.Shuffle(i,h,u,f,this.layer),this},swapByIndex:function(i,h,u,f,v,m){return r.SwapByIndex(i,h,u,f,v,m,this.layer),this},tileToWorldX:function(i,h){return this.tilemap.tileToWorldX(i,h,this)},tileToWorldY:function(i,h){return this.tilemap.tileToWorldY(i,h,this)},tileToWorldXY:function(i,h,u,f){return this.tilemap.tileToWorldXY(i,h,u,f,this)},getTileCorners:function(i,h,u){return this.tilemap.getTileCorners(i,h,u,this)},weightedRandomize:function(i,h,u,f,v){return r.WeightedRandomize(h,u,f,v,i,this.layer),this},worldToTileX:function(i,h,u){return this.tilemap.worldToTileX(i,h,u,this)},worldToTileY:function(i,h,u){return this.tilemap.worldToTileY(i,h,u,this)},worldToTileXY:function(i,h,u,f,v){return this.tilemap.worldToTileXY(i,h,u,f,v,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});c.exports=l},16153:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),g=new a,o=new a,s=new a,r=function(e,n,l,i){var h=n.cull(l),u=h.length,f=l.alpha*n.alpha;if(!(u===0||f<=0)){var v=g,m=o,T=s;m.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var C=e.currentContext,S=n.gidMap;C.save(),i?(v.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),m.e=n.x,m.f=n.y,v.multiply(m,T),T.copyToContext(C)):(m.e-=l.scrollX*n.scrollFactorX,m.f-=l.scrollY*n.scrollFactorY,m.copyToContext(C)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var P=0;P<u;P++){var A=h[P],L=S[A.index];if(L){var F=L.image.getSourceImage(),B=L.getTileTextureCoordinates(A.index),D=L.tileWidth,I=L.tileHeight;if(!(B===null||D===0||I===0)){var G=D*.5,z=I*.5;B.x+=L.tileOffset.x,B.y+=L.tileOffset.y,C.save(),C.translate(A.pixelX+G,A.pixelY+z),A.rotation!==0&&C.rotate(A.rotation),(A.flipX||A.flipY)&&C.scale(A.flipX?-1:1,A.flipY?-1:1),C.globalAlpha=f*A.alpha,C.drawImage(F,B.x,B.y,D,I,-G,-z,D,I),C.restore()}}}C.restore()}};c.exports=r},19218:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),g=a,o=a;g=t(99558),o=t(16153),c.exports={renderWebGL:g,renderCanvas:o}},99558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),g=function(o,s,r){var e=s.cull(r),n=e.length,l=r.alpha*s.alpha;if(!(n===0||l<=0)){var i=s.gidMap,h=o.pipelines.set(s.pipeline,s),u=a.getTintAppendFloatAlpha,f=s.scrollFactorX,v=s.scrollFactorY,m=s.x,T=s.y,C=s.scaleX,S=s.scaleY;o.pipelines.preBatch(s);for(var P=0;P<n;P++){var A=e[P],L=i[A.index];if(L){var F=L.getTileTextureCoordinates(A.index),B=L.tileWidth,D=L.tileHeight;if(!(!F||B===0||D===0)){var I=B*.5,G=D*.5,z=L.glTexture,W=h.setTexture2D(z,s),Y=B,K=D,Z=F.x,V=F.y,H=L.tileOffset.x,N=L.tileOffset.y,b=u(A.tint,l*A.alpha);h.batchTexture(s,z,z.width,z.height,m+A.pixelX*C+(I*C-H),T+A.pixelY*S+(G*S-N),B,D,C,S,A.rotation,A.flipX,A.flipY,f,v,I,G,Z,V,Y,K,b,b,b,b,A.tintFill,0,0,r,null,!0,W,!0)}}}o.pipelines.postBatch(s)}};c.exports=g},33629:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(26099),o=new a({initialize:function(r,e,n,l,i,h,u,f,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u={}),f===void 0&&(f={}),this.name=r,this.firstgid=e,this.tileWidth=n,this.tileHeight=l,this.tileMargin=i,this.tileSpacing=h,this.tileProperties=u,this.tileData=f,this.tileOffset=new g,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var r=s.get(),e=s.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),i=Math.floor(i),this.rows=l,this.columns=i,this.total=l*i,this.texCoordinates.length=0;for(var h=this.tileMargin+e,u=this.tileMargin+n,f=0;f<this.rows;f++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:h,y:u}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});c.exports=o},72023:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),g=function(o,s,r){var e=a(o,s,!0,r),n=a(o,s-1,!0,r),l=a(o,s+1,!0,r),i=a(o-1,s,!0,r),h=a(o+1,s,!0,r),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(u&&(e.faceTop=!1),n.faceBottom=!u),l&&l.collides&&(u&&(e.faceBottom=!1),l.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),h&&h.collides&&(u&&(e.faceRight=!1),h.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};c.exports=g},42573:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),g=t(7386),o=function(s,r,e,n,l){for(var i=null,h=null,u=null,f=null,v=g(s,r,e,n,null,l),m=0;m<v.length;m++){var T=v[m];T&&(T.collides?(i=a(T.x,T.y-1,!0,l),h=a(T.x,T.y+1,!0,l),u=a(T.x-1,T.y,!0,l),f=a(T.x+1,T.y,!0,l),T.faceTop=!(i&&i.collides),T.faceBottom=!(h&&h.collides),T.faceLeft=!(u&&u.collides),T.faceRight=!(f&&f.collides)):T.resetFaces())}};c.exports=o},33528:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=new a,o=function(s,r,e,n){var l=e.tilemapLayer,i=l.cullPaddingX,h=l.cullPaddingY,u=l.tilemap.tileToWorldXY(s,r,g,n,l);return u.x>n.worldView.x+l.scaleX*e.tileWidth*(-i-.5)&&u.x<n.worldView.right+l.scaleX*e.tileWidth*(i-.5)&&u.y>n.worldView.y+l.scaleY*e.tileHeight*(-h-1)&&u.y<n.worldView.bottom+l.scaleY*e.tileHeight*(h-.5)};c.exports=o},1785:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42573),g=t(7386),o=t(62991),s=t(23029),r=function(e,n,l,i,h,u,f,v){f===void 0&&(f=!0);var m=g(e,n,l,i,null,v),T=[];m.forEach(function(B){var D=new s(B.layer,B.index,B.x,B.y,B.width,B.height,B.baseWidth,B.baseHeight);D.copy(B),T.push(D)});for(var C=h-e,S=u-n,P=0;P<T.length;P++){var A=T[P],L=A.x+C,F=A.y+S;o(L,F,v)&&v.data[F][L]&&(A.x=L,A.y=F,A.updatePixelXY(),v.data[F][L]=A)}f&&a(h-1,u-1,l+2,i+2,v),m.length=0,T.length=0};c.exports=r},78419:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),g=t(7386),o=t(27987),s=function(r,e,n,l,i,h){n||(n={}),Array.isArray(r)||(r=[r]);var u=h.tilemapLayer;l||(l=u.scene),i||(i=l.cameras.main);var f=h.width,v=h.height,m=g(0,0,f,v,null,h),T=[],C,S=function(F,B,D){for(var I=0;I<D.length;I++){var G=D[I];F.hasOwnProperty(G)||(F[G]=B[G])}};for(C=0;C<m.length;C++){var P=m[C],A=a(n);if(r.indexOf(P.index)!==-1){var L=u.tileToWorldXY(P.x,P.y,void 0,i,h);A.x=L.x,A.y=L.y,S(A,P,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=P.width*.5,A.y+=P.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=P.tileset.image,A.frame=P.index-1),T.push(l.make.sprite(A))}}if(Array.isArray(e))for(C=0;C<r.length;C++)o(r[C],e[C],0,0,f,v,h);else if(e!==null)for(C=0;C<r.length;C++)o(r[C],e,0,0,f,v,h);return T};c.exports=s},19545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),g=t(63448),o=t(56583),s=new a,r=function(e,n){var l=e.tilemapLayer.tilemap,i=e.tilemapLayer,h=Math.floor(l.tileWidth*i.scaleX),u=Math.floor(l.tileHeight*i.scaleY),f=o(n.worldView.x-i.x,h,0,!0)-i.cullPaddingX,v=g(n.worldView.right-i.x,h,0,!0)+i.cullPaddingX,m=o(n.worldView.y-i.y,u,0,!0)-i.cullPaddingY,T=g(n.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return s.setTo(f,m,v-f,T-m)};c.exports=r},30003:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19545),g=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),g(s,i,n,e),e};c.exports=o},35137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=t(42573),o=t(20576),s=function(r,e,n,l,i,h,u){for(var f=u.collideIndexes.indexOf(r)!==-1,v=a(e,n,l,i,null,u),m=0;m<v.length;m++)v[m].index=r,o(v[m],f);h&&g(e-1,n-1,l+2,i+2,u)};c.exports=s},40253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=function(o,s,r,e,n,l,i,h){var u=a(r,e,n,l,i,h);return u.filter(o,s)};c.exports=g},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a===void 0&&(a=0),g===void 0&&(g=!1);var s=0,r,e,n;if(g){for(e=o.height-1;e>=0;e--)for(r=o.width-1;r>=0;r--)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}}else for(e=0;e<o.height;e++)for(r=0;r<o.width;r++)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}return null};c.exports=x},66151:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=function(o,s,r,e,n,l,i,h){var u=a(r,e,n,l,i,h);return u.find(o,s)||null};c.exports=g},97560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=function(o,s,r,e,n,l,i,h){var u=a(r,e,n,l,i,h);u.forEach(o,s)};c.exports=g},43305:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(30003),o=t(9474),s=t(14018),r=t(29747),e=t(54503),n=function(l){return l===a.ORTHOGONAL?g:l===a.HEXAGONAL?o:l===a.STAGGERED?e:l===a.ISOMETRIC?s:r};c.exports=n},7423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62991),g=function(o,s,r,e){if(r===void 0&&(r=!1),a(o,s,e)){var n=e.data[s][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};c.exports=g},60540:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),g=t(26099),o=new g,s=function(r,e,n,l,i){return i.tilemapLayer.worldToTileXY(r,e,!0,o,l),a(o.x,o.y,n,i)};c.exports=s},55826:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e){var n=e.baseTileWidth,l=e.baseTileHeight,i=e.tilemapLayer,h=0,u=0;i&&(r||(r=i.scene.cameras.main),h=i.x+r.scrollX*(1-i.scrollFactorX),u=i.y+r.scrollY*(1-i.scrollFactorY),n*=i.scaleX,l*=i.scaleY);var f=h+o*n,v=u+s*l;return[new a(f,v),new a(f+n,v),new a(f+n,v+l),new a(f,v+l)]};c.exports=g},11758:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(27229),o=t(29747),s=t(55826),r=function(e){return e===a.ORTHOGONAL?s:e===a.ISOMETRIC?o:e===a.HEXAGONAL?g:(e===a.STAGGERED,o)};c.exports=r},39167:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(29747),o=t(97281),s=function(r){return r===a.ORTHOGONAL?o:g};c.exports=s},62e3:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(19951),o=t(14127),s=t(29747),r=t(97202),e=t(70326),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?g:l===a.STAGGERED?r:s};c.exports=n},5984:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(29747),o=t(28054),s=t(29650),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:g};c.exports=r},7386:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=function(o,s,r,e,n,l){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),n||(n={});var i=a(n,"isNotEmpty",!1),h=a(n,"isColliding",!1),u=a(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),s<0&&(e+=s,s=0),o+r>l.width&&(r=Math.max(l.width-o,0)),s+e>l.height&&(e=Math.max(l.height-s,0));for(var f=[],v=s;v<s+e;v++)for(var m=o;m<o+r;m++){var T=l.data[v][m];if(T!==null){if(i&&T.index===-1||h&&!T.collides||u&&!T.hasInterestingFace)continue;f.push(T)}}return f};c.exports=g},91141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55738),g=t(7386),o=t(91865),s=t(29747),r=t(26099),e=function(u,f){return o.RectangleToTriangle(f,u)},n=new r,l=new r,i=new r,h=function(u,f,v,m){if(u===void 0)return[];var T=s;u instanceof a.Circle?T=o.CircleToRectangle:u instanceof a.Rectangle?T=o.RectangleToRectangle:u instanceof a.Triangle?T=e:u instanceof a.Line&&(T=o.LineToRectangle),m.tilemapLayer.worldToTileXY(u.left,u.top,!0,l,v);var C=l.x,S=l.y;m.tilemapLayer.worldToTileXY(u.right,u.bottom,!1,i,v);var P=Math.ceil(i.x),A=Math.ceil(i.y),L=Math.max(P-C,1),F=Math.max(A-S,1),B=g(C,S,L,F,f,m),D=m.tileWidth,I=m.tileHeight;m.tilemapLayer&&(D*=m.tilemapLayer.scaleX,I*=m.tilemapLayer.scaleY);for(var G=[],z=new a.Rectangle(0,0,D,I),W=0;W<B.length;W++){var Y=B[W];m.tilemapLayer.tileToWorldXY(Y.x,Y.y,n,v),z.x=n.x,z.y=n.y,T(u,z)&&G.push(Y)}return G};c.exports=h},96523:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=t(26099),o=new g,s=new g,r=function(e,n,l,i,h,u,f){var v=f.tilemapLayer.tilemap._convert.WorldToTileXY;v(e,n,!0,o,u,f);var m=o.x,T=o.y;v(e+l,n+i,!1,s,u,f);var C=Math.ceil(s.x),S=Math.ceil(s.y);return a(m,T,C-m,S-T,h,f)};c.exports=r},96113:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(20242),o=t(10095),s=function(r){return r===a.ORTHOGONAL?o:g};c.exports=s},16926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(86625),o=t(96897),s=t(29747),r=t(15108),e=t(85896),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?g:l===a.STAGGERED?r:s};c.exports=n},55762:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=t(20242),o=t(51900),s=t(63288),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:g};c.exports=r},45091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62991),g=function(o,s,r){if(a(o,s,r)){var e=r.data[s][o];return e!==null&&e.index>-1}else return!1};c.exports=g},24152:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45091),g=t(26099),o=new g,s=function(r,e,n,l){l.tilemapLayer.worldToTileXY(r,e,!0,o,n);var i=o.x,h=o.y;return a(i,h,l)};c.exports=s},90454:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63448),g=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=s.hexSideLength,u,f,v,m;if(s.staggerAxis==="y"){var T=(i-h)/2+h;u=g(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=g(r.worldView.y-n.y,T,0,!0)-n.cullPaddingY,m=a(r.worldView.bottom-n.y,T,0,!0)+n.cullPaddingY}else{var C=(l-h)/2+h;u=g(r.worldView.x-n.x,C,0,!0)-n.cullPaddingX,f=a(r.worldView.right-n.x,C,0,!0)+n.cullPaddingX,v=g(r.worldView.y-n.y,i,0,!0)-n.cullPaddingY,m=a(r.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:u,right:f,top:v,bottom:m}};c.exports=o},9474:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90454),g=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),g(s,i,n,e),e};c.exports=o},27229:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19951),g=t(26099),o=new g,s=function(r,e,n,l){var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(i*=u.scaleX,h*=u.scaleY);var f=a(r,e,o,n,l),v=[],m=.5773502691896257,T,C;l.staggerAxis==="y"?(T=m*i,C=h/2):(T=i/2,C=m*h);for(var S=0;S<6;S++){var P=2*Math.PI*(.5-S)/6;v.push(new g(f.x+T*Math.cos(P),f.y+C*Math.sin(P)))}return v};c.exports=s},19951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,u=0,f=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),f=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleX,i*=h.scaleY);var v=l/2,m=i/2,T,C;return n.staggerAxis==="y"?(T=u+l*o+l,C=f+1.5*s*m+m,s%2===0&&(this.staggerIndex==="odd"?T-=v:T+=v)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(T=u+1.5*o*v+v,C=f+i*o+i,o%2===0&&(this.staggerIndex==="odd"?C-=m:C+=m)),r.set(T,C)};c.exports=g},86625:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(n||(n=u.scene.cameras.main),o=o-(u.x+n.scrollX*(1-u.scrollFactorX)),s=s-(u.y+n.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var f=.5773502691896257,v=-.3333333333333333,m=0,T=.6666666666666666,C=i/2,S=h/2,P,A,L,F,B;l.staggerAxis==="y"?(P=(o-C)/(f*i),A=(s-S)/S,L=f*P+v*A,F=m*P+T*A):(P=(o-C)/C,A=(s-S)/(f*h),L=v*P+f*A,F=T*P+m*A),B=-L-F;var D=Math.round(L),I=Math.round(F),G=Math.round(B),z=Math.abs(D-L),W=Math.abs(I-F),Y=Math.abs(G-B);z>W&&z>Y?D=-I-G:W>Y&&(I=-D-G);var K,Z=I;return l.staggerIndex==="odd"?K=Z%2===0?I/2+D:I/2+D-.5:K=Z%2===0?I/2+D:I/2+D+.5,e.set(K,Z)};c.exports=g},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t>=0&&t<g.width&&a>=0&&a<g.height};c.exports=x},14018:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33528),g=function(o,s,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var n=o.tilemapLayer,l=o.data,i=o.width,h=o.height,u=n.skipCull,f=0,v=i,m=0,T=h,C,S,P;if(e===0)for(S=m;S<T;S++)for(C=f;C<v;C++)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));else if(e===1)for(S=m;S<T;S++)for(C=v;C>=f;C--)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));else if(e===2)for(S=T;S>=m;S--)for(C=f;C<v;C++)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));else if(e===3)for(S=T;S>=m;S--)for(C=v;C>=f;C--)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));return n.tilesDrawn=r.length,n.tilesTotal=i*h,r};c.exports=g},14127:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,u=0,f=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,f=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var v=u+(o-s)*(l/2),m=f+(o+s)*(i/2);return r.set(v,m)};c.exports=g},96897:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n,l,i){e||(e=new a);var h=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),h*=f.scaleX);var v=h/2,m=u/2;o=o-v,i||(s=s-u);var T=.5*(o/v+s/m),C=.5*(-o/v+s/m);return r&&(T=Math.floor(T),C=Math.floor(C)),e.set(T,C)};c.exports=g},71558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23029),g=t(62991),o=t(72023),s=t(20576),r=function(e,n,l,i,h){if(i===void 0&&(i=!0),!g(n,l,h))return null;var u,f=h.data[l][n],v=f&&f.collides;e instanceof a?(h.data[l][n]===null&&(h.data[l][n]=new a(h,e.index,n,l,h.tileWidth,h.tileHeight)),h.data[l][n].copy(e)):(u=e,h.data[l][n]===null?h.data[l][n]=new a(h,u,n,l,h.tileWidth,h.tileHeight):h.data[l][n].index=u);var m=h.data[l][n],T=h.collideIndexes.indexOf(m.index)!==-1;if(u=e instanceof a?e.index:e,u===-1)m.width=h.tileWidth,m.height=h.tileHeight;else{var C=h.tilemapLayer.tilemap,S=C.tiles,P=S[u][2],A=C.tilesets[P];m.width=A.tileWidth,m.height=A.tileHeight}return s(m,T),i&&v!==m.collides&&o(n,l,h),m};c.exports=r},26303:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71558),g=t(26099),o=new g,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(e,n,!0,o,i,h),a(r,o.x,o.y,l,h)};c.exports=s},14051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42573),g=t(71558),o=function(s,r,e,n,l){if(n===void 0&&(n=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var i=s.length,h=s[0].length,u=0;u<i;u++)for(var f=0;f<h;f++){var v=s[u][f];g(v,r+f,e+u,!1,l)}n&&a(r-1,e-1,h+2,i+2,l)};c.exports=o},77389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=t(26546),o=function(s,r,e,n,l,i){var h,u=a(s,r,e,n,{},i);if(!l)for(l=[],h=0;h<u.length;h++)l.indexOf(u[h].index)===-1&&l.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=g(l)};c.exports=o},63557:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23029),g=t(62991),o=t(72023),s=function(r,e,n,l,i){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!g(r,e,i))return null;var h=i.data[e][r];if(h)i.data[e][r]=n?null:new a(i,-1,r,e,i.tileWidth,i.tileHeight);else return null;return l&&h&&h.collides&&o(r,e,i),h};c.exports=s},94178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63557),g=t(26099),o=new g,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(r,e,!0,o,i,h),a(o.x,o.y,n,l,h)};c.exports=s},15533:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=t(3956),o=new g(105,210,231,150),s=new g(243,134,48,200),r=new g(40,39,37,150),e=function(n,l,i){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:o,u=l.collidingTileColor!==void 0?l.collidingTileColor:s,f=l.faceColor!==void 0?l.faceColor:r,v=a(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var m=0;m<v.length;m++){var T=v[m],C=T.width,S=T.height,P=T.pixelX,A=T.pixelY,L=T.collides?u:h;L!==null&&(n.fillStyle(L.color,L.alpha/255),n.fillRect(P,A,C,S)),P+=1,A+=1,C-=2,S-=2,f!==null&&(n.lineStyle(1,f.color,f.alpha/255),T.faceTop&&n.lineBetween(P,A,P+C,A),T.faceRight&&n.lineBetween(P+C,A,P+C,A+S),T.faceBottom&&n.lineBetween(P,A+S,P+C,A+S),T.faceLeft&&n.lineBetween(P,A,P,A+S))}};c.exports=e},27987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),u=0;u<h.length;u++)h[u]&&h[u].index===o&&(h[u].index=s)};c.exports=g},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=t.data,r=t.width,e=t.height,n=t.tilemapLayer,l=Math.max(0,a.left),i=Math.min(r,a.right),h=Math.max(0,a.top),u=Math.min(e,a.bottom),f,v,m;if(g===0)for(v=h;v<u;v++)for(f=l;s[v]&&f<i;f++)m=s[v][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(g===1)for(v=h;v<u;v++)for(f=i;s[v]&&f>=l;f--)m=s[v][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(g===2)for(v=u;v>=h;v--)for(f=l;s[v]&&f<i;f++)m=s[v][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(g===3)for(v=u;v>=h;v--)for(f=i;s[v]&&f>=l;f--)m=s[v][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);return n.tilesDrawn=o.length,n.tilesTotal=r*e,o};c.exports=x},57068:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),g=t(42573),o=t(9589),s=function(r,e,n,l,i){e===void 0&&(e=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++)o(r[h],e,l);if(i)for(var u=0;u<l.height;u++)for(var f=0;f<l.width;f++){var v=l.data[u][f];v&&r.indexOf(v.index)!==-1&&a(v,e)}n&&g(0,0,l.width,l.height,l)};c.exports=s},37266:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),g=t(42573),o=t(9589),s=function(r,e,n,l,i,h){if(n===void 0&&(n=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(r>e)){for(var u=r;u<=e;u++)o(u,n,i);if(h)for(var f=0;f<i.height;f++)for(var v=0;v<i.width;v++){var m=i.data[f][v];m&&m.index>=r&&m.index<=e&&a(m,n)}l&&g(0,0,i.width,i.height,i)}};c.exports=s},75661:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),g=t(42573),o=t(9589),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var u=l.data[i][h];u&&r.indexOf(u.index)===-1&&(a(u,e),o(u.index,e,l))}n&&g(0,0,l.width,l.height,l)};c.exports=s},64740:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),g=t(42573),o=t(97022),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var u=l.data[i][h];if(u){for(var f in r)if(o(u.properties,f)){var v=r[f];Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)u.properties[f]===v[m]&&a(u,e)}}}n&&g(0,0,l.width,l.height,l)};c.exports=s},63307:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),g=t(42573),o=function(s,r,e){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var n=0;n<e.height;n++)for(var l=0;l<e.width;l++){var i=e.data[n][l];if(i){var h=i.getCollisionGroup();h&&h.objects&&h.objects.length>0&&a(i,s)}}r&&g(0,0,e.width,e.height,e)};c.exports=o},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=g.collideIndexes.indexOf(t);a&&o===-1?g.collideIndexes.push(t):!a&&o!==-1&&g.collideIndexes.splice(o,1)};c.exports=x},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=x},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){if(typeof t=="number")o.callbacks[t]=a!==null?{callback:a,callbackContext:g}:void 0;else for(var s=0,r=t.length;s<r;s++)o.callbacks[t[s]]=a!==null?{callback:a,callbackContext:g}:void 0};c.exports=x},93254:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=function(o,s,r,e,n,l,i){for(var h=a(o,s,r,e,null,i),u=0;u<h.length;u++)h[u].setCollisionCallback(n,l)};c.exports=g},32903:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=t(33680),o=function(s,r,e,n,l){var i=a(s,r,e,n,null,l),h=i.map(function(f){return f.index});g(h);for(var u=0;u<i.length;u++)i[u].index=h[u]};c.exports=o},61325:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63448),g=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=g(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,u=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,f=g(r.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,v=a(r.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:h,right:u,top:f,bottom:v}};c.exports=o},54503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61325),g=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),g(s,i,n,e),e};c.exports=o},97202:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,u=0,f=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,f=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var v=u+o*l+s%2*(l/2),m=f+s*(i/2);return r.set(v,m)};c.exports=g},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=g.baseTileHeight,s=g.tilemapLayer,r=0;return s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*(o/2)+o};c.exports=x},15108:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(n||(n=u.scene.cameras.main),s=s-(u.y+n.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,o=o-(u.x+n.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var f=r?Math.floor(s/(h/2)):s/(h/2),v=r?Math.floor((o+f%2*.5*i)/i):(o+f%2*.5*i)/i;return e.set(v,f)};c.exports=g},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=o.baseTileHeight,r=o.tilemapLayer;return r&&(g||(g=r.scene.cameras.main),t=t-(r.y+g.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),a?Math.floor(t/(s/2)):t/(s/2)};c.exports=x},86560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),u=0;u<h.length;u++)h[u]&&(h[u].index===o?h[u].index=s:h[u].index===s&&(h[u].index=o))};c.exports=g},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=g.baseTileWidth,s=g.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.x+a.scrollX*(1-s.scrollFactorX),o*=s.scaleX),r+t*o};c.exports=x},70326:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97281),g=t(29650),o=t(26099),s=function(r,e,n,l,i){return n||(n=new o(0,0)),n.x=a(r,l,i),n.y=g(e,l,i),n};c.exports=s},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=g.baseTileHeight,s=g.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*o};c.exports=x},77366:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),g=t(75508),o=function(s,r,e,n,l,i){if(l){var h,u=a(s,r,e,n,null,i),f=0;for(h=0;h<l.length;h++)f+=l[h].weight;if(!(f<=0))for(h=0;h<u.length;h++){for(var v=g.RND.frac()*f,m=0,T=-1,C=0;C<l.length;C++)if(m+=l[C].weight,v<=m){var S=l[C].index;T=Array.isArray(S)?S[Math.floor(g.RND.frac()*S.length)]:S;break}u[h].index=T}}};c.exports=o},10095:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85896),g=t(26099),o=new g,s=function(r,e,n,l){return a(r,0,e,o,n,l),o.x};c.exports=s},85896:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),g=function(o,s,r,e,n,l){r===void 0&&(r=!0),e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(n||(n=u.scene.cameras.main),o=o-(u.x+n.scrollX*(1-u.scrollFactorX)),s=s-(u.y+n.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var f=o/i,v=s/h;return r&&(f=Math.floor(f),v=Math.floor(v)),e.set(f,v)};c.exports=g},63288:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85896),g=t(26099),o=new g,s=function(r,e,n,l){return a(0,r,e,o,n,l),o.y};c.exports=s},81086:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:t(91907)};c.exports=a},62501:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),g=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=a(!1,o,g.ORIENTATION),c.exports=o},14977:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.id=o(e,"id",0),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",g.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=s},87010:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",g.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=s},48700:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=new a({initialize:function(r){r===void 0&&(r={}),this.name=g(r,"name","object layer"),this.id=g(r,"id",0),this.opacity=g(r,"opacity",1),this.properties=g(r,"properties",{}),this.propertyTypes=g(r,"propertytypes",{}),this.type=g(r,"type","objectgroup"),this.visible=g(r,"visible",!0),this.objects=g(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=o},6641:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),g=function(o){return o=o.toLowerCase(),o==="isometric"?a.ISOMETRIC:o==="staggered"?a.STAGGERED:o==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};c.exports=g},46177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),g=t(2342),o=t(82593),s=t(46594),r=t(87021),e=function(n,l,i,h,u,f){var v;switch(l){case a.ARRAY_2D:v=g(n,i,h,u,f);break;case a.CSV:v=o(n,i,h,u,f);break;case a.TILED_JSON:v=s(n,i,f);break;case a.WELTMEISTER:v=r(n,i,f);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};c.exports=e},2342:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),g=t(14977),o=t(87010),s=t(23029),r=function(e,n,l,i,h){for(var u=new g({tileWidth:l,tileHeight:i}),f=new o({name:e,tileWidth:l,tileHeight:i,format:a.ARRAY_2D,layers:[u]}),v=[],m=n.length,T=0,C=0;C<n.length;C++){v[C]=[];for(var S=n[C],P=0;P<S.length;P++){var A=parseInt(S[P],10);isNaN(A)||A===-1?v[C][P]=h?null:new s(u,-1,P,C,l,i):v[C][P]=new s(u,A,P,C,l,i)}T===0&&(T=S.length)}return f.width=u.width=T,f.height=u.height=m,f.widthInPixels=u.widthInPixels=T*l,f.heightInPixels=u.heightInPixels=m*i,u.data=v,f};c.exports=r},82593:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),g=t(2342),o=function(s,r,e,n,l){var i=r.trim().split(`
`).map(function(u){return u.split(",")}),h=g(s,i,e,n,l);return h.format=a.CSV,h};c.exports=o},6656:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14977),g=t(23029),o=function(s,r){for(var e=[],n=0;n<s.layer.length;n++){for(var l=s.layer[n],i=new a({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],u=[],f=0;f<l.data.length;f++){for(var v=0;v<l.data[f].length;v++){var m=l.data[f][v]-1,T;m>-1?T=new g(i,m,v,f,l.tilesize,l.tilesize):T=r?null:new g(i,-1,v,f,l.tilesize,l.tilesize),h.push(T)}u.push(h),h=[]}i.data=u,e.push(i)}return e};c.exports=o},96483:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),g=function(o){for(var s=[],r=[],e=0;e<o.layer.length;e++){var n=o.layer[e],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),s.push(new a(l,0,n.tilesize,n.tilesize,0,0)))}return s};c.exports=g},87021:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),g=t(87010),o=t(6656),s=t(96483),r=function(e,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,h=0,u=0;u<n.layer.length;u++)n.layer[u].width>i&&(i=n.layer[u].width),n.layer[u].height>h&&(h=n.layer[u].height);var f=new g({width:i,height:h,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:a.WELTMEISTER});return f.layers=o(n,l),f.tilesets=s(n),f};c.exports=r},52833:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),g=function(o){for(var s,r,e,n,l,i=0;i<o.layers.length;i++){s=o.layers[i],n=null;for(var h=0;h<s.data.length;h++){l=s.data[h];for(var u=0;u<l.length;u++)r=l[u],!(r===null||r.index<0)&&(e=o.tiles[r.index][2],n=o.tilesets[e],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=a(r.properties,n.tileProperties[r.index-n.firstgid])))}}};c.exports=g},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=window.atob(t),g=a.length,o=new Array(g/4),s=0;s<g;s+=4)o[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return o};c.exports=x},84101:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),g=function(o){var s,r,e=[];for(s=0;s<o.imageCollections.length;s++)for(var n=o.imageCollections[s],l=n.images,i=0;i<l.length;i++){var h=l[i];r=new a(h.image,h.gid,n.imageWidth,n.imageHeight,0,0),r.updateTileData(n.imageWidth,n.imageHeight),o.tilesets.push(r)}for(s=0;s<o.tilesets.length;s++){r=o.tilesets[s];for(var u=r.tileMargin,f=r.tileMargin,v=0,m=0,T=0,C=r.firstgid;C<r.firstgid+r.total&&(e[C]=[u,f,s],u+=r.tileWidth+r.tileSpacing,v++,!(v===r.total||(m++,m===r.columns&&(u=r.tileMargin,f+=r.tileHeight+r.tileSpacing,m=0,T++,T===r.rows))));C++);}return e};c.exports=g},79677:(c,x,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=function(o,s,r){if(!s)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+a(s,"startx",0)*o.tilewidth+a(s,"offsetx",0),n=s.y+a(s,"starty",0)*o.tileheight+a(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+e,y:r.y+n}};c.exports=g},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,t=1073741824,a=536870912,g=function(o){var s=!!(o&x),r=!!(o&t),e=!!(o&a);o=o&~(x|t|a);var n=0,l=!1;return s&&r&&e?(n=Math.PI/2,l=!0):s&&r&&!e?(n=Math.PI,l=!1):s&&!r&&e?(n=Math.PI/2,l=!1):s&&!r&&!e?(n=0,l=!0):!s&&r&&e?(n=3*Math.PI/2,l=!1):!s&&r&&!e?(n=Math.PI,l=!0):!s&&!r&&e?(n=3*Math.PI/2,l=!0):!s&&!r&&!e&&(n=0,l=!1),{gid:o,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:e,rotation:n,flipped:l}};c.exports=g},12635:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=t(79677),o=function(s){for(var r=[],e=[],n=g(s);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var i=g(s,l,n);e.push(n),n=i}continue}var h=a(l,"offsetx",0)+a(l,"startx",0),u=a(l,"offsety",0)+a(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+h+l.x,y:n.y+u+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:a(l,"properties",{})})}return r};c.exports=o},46594:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(51233),g=t(84101),o=t(91907),s=t(62644),r=t(80341),e=t(6641),n=t(87010),l=t(12635),i=t(22611),h=t(28200),u=t(24619),f=function(v,m,T){var C=s(m),S=new n({width:C.width,height:C.height,name:v,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:e(C.orientation),format:r.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});S.orientation===o.HEXAGONAL&&(S.hexSideLength=C.hexsidelength,S.staggerAxis=C.staggeraxis,S.staggerIndex=C.staggerindex),S.layers=h(C,T),S.images=l(C);var P=u(C);return S.tilesets=P.tilesets,S.imageCollections=P.imageCollections,S.objects=i(C),S.tiles=g(S),a(S),S};c.exports=f},52205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(18254),g=t(29920),o=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var i=a(e,s);if(i.x+=n,i.y+=l,e.gid){var h=g(e.gid);i.gid=h.gid,i.flippedHorizontal=h.flippedHorizontal,i.flippedVertical=h.flippedVertical,i.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(o):e.polygon?i.polygon=e.polygon.map(o):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};c.exports=r},22611:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),g=t(52205),o=t(48700),s=t(79677),r=function(e){for(var n=[],l=[],i=s(e);i.i<i.layers.length||l.length>0;){if(i.i>=i.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=l.pop();continue}var h=i.layers[i.i];if(i.i++,h.opacity*=i.opacity,h.visible=i.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var u=s(e,h,i);l.push(i),i=u}continue}h.name=i.name+h.name;for(var f=i.x+a(h,"startx",0)+a(h,"offsetx",0),v=i.y+a(h,"starty",0)+a(h,"offsety",0),m=[],T=0;T<h.objects.length;T++){var C=g(h.objects[T],f,v);m.push(C)}var S=new o(h);S.objects=m,n.push(S)}return n};c.exports=r},28200:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41868),g=t(91907),o=t(79677),s=t(6641),r=t(95540),e=t(14977),n=t(29920),l=t(23029),i=function(h,u){for(var f=r(h,"infinite",!1),v=[],m=[],T=o(h);T.i<T.layers.length||m.length>0;){if(T.i>=T.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=m.pop();continue}var C=T.layers[T.i];if(T.i++,C.type!=="tilelayer"){if(C.type==="group"){var S=o(h,C,T);m.push(T),T=S}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var P=0;P<C.chunks.length;P++)C.chunks[P].data=a(C.chunks[P].data);C.data&&(C.data=a(C.data)),delete C.encoding}var A,L,F,B,D=[],I=0;if(f){var G=r(C,"startx",0)+C.x,z=r(C,"starty",0)+C.y;A=new e({name:T.name+C.name,id:C.id,x:T.x+r(C,"offsetx",0)+G*h.tilewidth,y:T.y+r(C,"offsety",0)+z*h.tileheight,width:C.width,height:C.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:T.opacity*C.opacity,visible:T.visible&&C.visible,properties:r(C,"properties",[]),orientation:s(h.orientation)}),A.orientation===g.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var W=0;W<C.height;W++){D[W]=[null];for(var Y=0;Y<C.width;Y++)D[W][Y]=null}for(W=0,J=C.chunks.length;W<J;W++)for(var K=C.chunks[W],Z=K.x-G,V=K.y-z,H=0,N=0,b=K.data.length;N<b;N++){var X=I+Z,$=H+V;L=n(K.data[N]),L.gid>0?(F=new l(A,L.gid,X,$,h.tilewidth,h.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,D[$][X]=F):(B=u?null:new l(A,-1,X,$,h.tilewidth,h.tileheight),D[$][X]=B),I++,I===K.width&&(H++,I=0)}}else{A=new e({name:T.name+C.name,id:C.id,x:T.x+r(C,"offsetx",0)+C.x,y:T.y+r(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:T.opacity*C.opacity,visible:T.visible&&C.visible,properties:r(C,"properties",[]),orientation:s(h.orientation)}),A.orientation===g.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var Q=[],k=0,J=C.data.length;k<J;k++)L=n(C.data[k]),L.gid>0?(F=new l(A,L.gid,I,D.length,h.tilewidth,h.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,Q.push(F)):(B=u?null:new l(A,-1,I,D.length,h.tilewidth,h.tileheight),Q.push(B)),I++,I===C.width&&(D.push(Q),I=0,Q=[])}A.data=D,v.push(A)}return v};c.exports=i},24619:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),g=t(16536),o=t(52205),s=t(57880),r=function(e){for(var n=[],l=[],i=null,h,u=0;u<e.tilesets.length;u++){var f=e.tilesets[u];if(f.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(f.image){var v=new a(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,void 0,void 0,f.tileoffset);if(e.version>1){var m=void 0,T=void 0;if(Array.isArray(f.tiles)){m=m||{},T=T||{};for(var C=0;C<f.tiles.length;C++){var S=f.tiles[C];if(S.properties){var P={};S.properties.forEach(function(W){P[W.name]=W.value}),T[S.id]=P}if(S.objectgroup&&((m[S.id]||(m[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var A=S.objectgroup.objects.map(function(W){return o(W)});m[S.id].objectgroup.objects=A}S.animation&&((m[S.id]||(m[S.id]={})).animation=S.animation),S.type&&((m[S.id]||(m[S.id]={})).type=S.type)}}Array.isArray(f.wangsets)&&(m=m||{},T=T||{},s(f.wangsets,m)),m&&(v.tileData=m,v.tileProperties=T)}else if(f.tileproperties&&(v.tileProperties=f.tileproperties),f.tiles){v.tileData=f.tiles;for(h in v.tileData){var L=v.tileData[h].objectgroup;if(L&&L.objects){var F=L.objects.map(function(W){return o(W)});v.tileData[h].objectgroup.objects=F}}}v.updateTileData(f.imagewidth,f.imageheight),n.push(v)}else{var B=new g(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,f.properties),D=0;for(C=0;C<f.tiles.length;C++){S=f.tiles[C];var I=S.image,G=parseInt(S.id,10),z=f.firstgid+G;B.addImage(z,I),D=Math.max(G,D)}B.maxId=D,l.push(B)}i&&(i.lastgid=f.firstgid-1),i=f}return{tilesets:n,imageCollections:l}};c.exports=r},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var g=0;g<t.length;g++){var o=t[g],s=g;if(o.name&&o.name!==""&&(s=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},e={},n,l,i;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)i=1+n,l=o.edgecolors[n],l.name!==""&&(r[i]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)i=1+n,l=o.cornercolors[n],l.name!==""&&(e[i]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],i=1+n,l.name!==""&&(r[i]=e[i]=l.name);for(var h=[r,e,r,e,r,e,r,e],u=0;u<o.wangtiles.length;u++){var f=o.wangtiles[u],v=a[f.tileid]||(a[f.tileid]={});v=v.wangid||(v.wangid={});for(var m=[],T=0;T<Math.min(h.length,f.wangid.length);T++){if(l=f.wangid[T],l===0){m.push(void 0);continue}var C=h[T][l];if(C!==void 0){m.push(C);continue}m.push(l)}v[s]=m}}}};c.exports=x},96761:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(37277),o=t(44594),s=t(94880),r=t(72905),e=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;return n instanceof s?(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new s(n),this._pendingInsertion.push(l),l},delayedCall:function(n,l,i,h){return this.addEvent({delay:n,callback:l,args:i,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=n[l];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var i,h;for(i=0;i<n;i++){h=this._pendingRemoval[i];var u=this._active.indexOf(h);u>-1&&this._active.splice(u,1),h.destroy()}for(i=0;i<l;i++)h=this._pendingInsertion[i],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var i=0;i<this._active.length;i++){var h=this._active[i];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var u=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,u>=h.delay)for(;u>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),u-=h.delay,h.repeatCount--;h.elapsed=u,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",e,"time"),c.exports=e},96120:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(39429),s=t(95540),r=t(44594),e=t(89809),n=new a({Extends:g,initialize:function(i,h){g.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(r.PRE_UPDATE,this.preUpdate,this),u.on(r.UPDATE,this.update,this),u.once(r.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(l,i){this.paused||(this.elapsed+=i)},update:function(){if(!(this.paused||this.complete)){var l,i=this.events,h=!1,u=this.systems,f;for(l=0;l<i.length;l++){var v=i[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,f=v.target?v.target:this,v.if&&!v.if.call(f,v))continue;if(v.once&&(h=!0),v.set&&v.target)for(var m in v.set)v.target[m]=v.set[m];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(f),v.tween&&u.tweens.add(v.tween),v.sound&&(typeof v.sound=="string"?u.sound.play(v.sound):u.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,f),v.run&&v.run.call(f),v.stop&&this.stop()}}if(h)for(l=0;l<i.length;l++)i[l].complete&&i[l].once&&(i.splice(l,1),l--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var i=0;i<this.events.length;i++)this.events[i].complete=!1,l||(this.events[i].repeat=0);return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var i=this.events,h=0;i.length>0&&(h=i[i.length-1].time);for(var u=0;u<l.length;u++){var f=l[u],v=s(f,"at",0),m=s(f,"in",null);m!==null&&(v=this.elapsed+m);var T=s(f,"from",null);T!==null&&(v=h+T),i.push({complete:!1,time:v,repeat:0,if:s(f,"if",null),run:s(f,"run",null),loop:s(f,"loop",null),event:s(f,"event",null),target:s(f,"target",null),set:s(f,"set",null),tween:s(f,"tween",null),sound:s(f,"sound",null),once:s(f,"once",!1),stop:s(f,"stop",!1)}),h=v}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});o.register("timeline",function(l){return new n(this.scene,l)}),c.exports=n},94880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(95540),o=new a({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=g(s,"delay",0),this.repeat=g(s,"repeat",0),this.loop=g(s,"loop",!1),this.callback=g(s,"callback",void 0),this.callbackScope=g(s,"callbackScope",this),this.args=g(s,"args",[]),this.timeScale=g(s,"timeScale",1),this.startAt=g(s,"startAt",0),this.paused=g(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=o},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),g=t(83419),o=t(43491),s=t(88032),r=t(37277),e=t(44594),n=t(93109),l=t(86081),i=t(8357),h=t(43960),u=t(26012),f=new g({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var m=[],T=0;T<v.length;T++){var C=v[T];C instanceof l||C instanceof h?m.push(C):Array.isArray(C.tweens)?m.push(u(this,C)):m.push(i(this,C))}return m.length===1?m[0]:m},add:function(v){var m=v,T=this.tweens;return m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=u(this,m):m=i(this,m)),T.push(m.reset()),m},addMultiple:function(v){for(var m,T=[],C=this.tweens,S=0;S<v.length;S++)m=v[S],m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=u(this,m):m=i(this,m)),C.push(m.reset()),T.push(m);return T},chain:function(v){var m=u(this,v);return this.tweens.push(m.init()),m},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var m=s(this,v);return this.tweens.push(m.reset()),m},stagger:function(v,m){return n(v,m)},setLagSmooth:function(v,m){return v===void 0&&(v=1/1e-8),m===void 0&&(m=0),this.maxLag=v,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var T=this.prevTime-this.startTime,C=T-this.nextTime,S=T-this.time*1e3;return C>0||v?(T/=1e3,this.time=T,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var m=this.getDelta(v);if(!(m<=0)){this.processing=!0;var T,C,S=[],P=this.tweens;for(T=0;T<P.length;T++)C=P[T],C.update(m)&&S.push(C);var A=S.length;if(A&&P.length>0){for(T=0;T<A;T++){C=S[T];var L=P.indexOf(C);L>-1&&(C.isPendingRemove()||C.isDestroyed())&&(P.splice(L,1),C.destroy())}S.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(a(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,m){var T,C=[null];for(T=1;T<arguments.length;T++)C.push(arguments[T]);return this.tweens.forEach(function(S){C[0]=S,v.apply(m,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var m=[],T=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var C=v.length,S=0;S<T.length;S++)for(var P=T[S],A=0;A<C;A++)!P.isDestroyed()&&P.hasTarget(v[A])&&m.push(P);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var m=this.tweens,T,C=0;C<m.length;C++)if(T=m[C],T.isPlaying()&&T.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,m=0;m<v.length;m++)v[m].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var m=this.getTweensOf(v),T=0;T<m.length;T++)m[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",f,"tweens"),c.exports=f},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){return t&&t.hasOwnProperty(a)?t[a]:g};c.exports=x},6113:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62640),g=t(35355),o=function(s,r){var e=a.Power0;if(typeof s=="string")if(a.hasOwnProperty(s))e=a[s];else{var n="";if(s.indexOf(".")){n=s.substring(s.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}s=g(s.substring(0,s.indexOf(".")+1)+n),a.hasOwnProperty(s)&&(e=a[s])}else typeof s=="function"&&(e=s);if(!r)return e;var i=r.slice(0);return i.unshift(0),function(h){return i[0]=h,e.apply(this,i)}};c.exports=o},91389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89318),g=t(77259),o=t(28392),s={bezier:a,catmull:g,catmullrom:g,linear:o},r=function(e){if(e===null)return null;var n=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(n=s[e]):typeof e=="function"&&(n=e),n};c.exports=r},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o;if(t.hasOwnProperty(a)){var s=typeof t[a];s==="function"?o=function(r,e,n,l,i,h){return t[a](r,e,n,l,i,h)}:o=function(){return t[a]}}else typeof g=="function"?o=g:o=function(){return g};return o};c.exports=x},82985:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81076),g=function(o){var s,r=[];if(o.hasOwnProperty("props"))for(s in o.props)s.substring(0,1)!=="_"&&r.push({key:s,value:o.props[s]});else for(s in o)a.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:o[s]});return r};c.exports=g},62329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),g=function(o){var s=a(o,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};c.exports=g},17777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),g=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function s(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return s(l)||r(l)||o(l)}var n=function(l,i){var h,u=function(K,Z,V){return V},f=function(K,Z,V){return V},v=null,m=typeof i;if(m==="number")u=function(){return i};else if(Array.isArray(i))f=function(){return i[0]},u=function(){return i[i.length-1]};else if(m==="string"){var T=i.toLowerCase(),C=T.substring(0,6)==="random",S=T.substring(0,3)==="int";if(C||S){var P=T.indexOf("("),A=T.indexOf(")"),L=T.indexOf(",");if(P&&A&&L){var F=parseFloat(T.substring(P+1,L)),B=parseFloat(T.substring(L+1,A));C?u=function(){return g(F,B)}:u=function(){return a(F,B)}}else throw new Error("invalid random() format")}else{T=T[0];var D=parseFloat(i.substr(2));switch(T){case"+":u=function(K,Z,V){return V+D};break;case"-":u=function(K,Z,V){return V-D};break;case"*":u=function(K,Z,V){return V*D};break;case"/":u=function(K,Z,V){return V/D};break;default:u=function(){return parseFloat(i)}}}}else if(m==="function")u=i;else if(m==="object")if(e(i))o(i)&&(v=i.getActive),r(i)&&(u=i.getEnd),s(i)&&(f=i.getStart);else if(i.hasOwnProperty("value"))h=n(l,i.value);else{var I=i.hasOwnProperty("to"),G=i.hasOwnProperty("from"),z=i.hasOwnProperty("start");if(I&&(G||z)){if(h=n(l,i.to),z){var W=n(l,i.start);h.getActive=W.getEnd}if(G){var Y=n(l,i.from);h.getStart=Y.getEnd}}}return h||(h={getActive:v,getEnd:u,getStart:f}),h};c.exports=n},88032:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),g=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(55292),n=t(35154),l=t(17777),i=t(269),h=t(86081),u=function(f,v,m){if(v instanceof h)return v.parent=f,v;m===void 0?m=g:m=i(g,m);var T=n(v,"from",0),C=n(v,"to",1),S=[{value:T}],P=n(v,"delay",m.delay),A=n(v,"easeParams",m.easeParams),L=n(v,"ease",m.ease),F=l("value",C),B=new h(f,S),D=B.add(0,"value",F.getEnd,F.getStart,F.getActive,r(n(v,"ease",L),n(v,"easeParams",A)),e(v,"delay",P),n(v,"duration",m.duration),s(v,"yoyo",m.yoyo),n(v,"hold",m.hold),n(v,"repeat",m.repeat),n(v,"repeatDelay",m.repeatDelay),!1,!1);D.start=T,D.current=T,B.completeDelay=o(v,"completeDelay",0),B.loop=Math.round(o(v,"loop",0)),B.loopDelay=Math.round(o(v,"loopDelay",0)),B.paused=s(v,"paused",!1),B.persist=s(v,"persist",!1),B.callbackScope=n(v,"callbackScope",B);for(var I=a.TYPES,G=0;G<I.length;G++){var z=I[G],W=n(v,z,!1);if(W){var Y=n(v,z+"Params",[]);B.setCallback(z,W,Y)}}return B};c.exports=u},93109:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6113),g=t(35154),o=t(36383),s=function(r,e){e===void 0&&(e={});var n,l=g(e,"start",0),i=g(e,"ease",null),h=g(e,"grid",null),u=g(e,"from",0),f=u==="first",v=u==="center",m=u==="last",T=typeof u=="number",C=Array.isArray(r),S=parseFloat(C?r[0]:r),P=C?parseFloat(r[1]):0,A=Math.max(S,P);if(C&&(l+=S),h){var L=h[0],F=h[1],B=0,D=0,I=0,G=0,z=[];m?(B=L-1,D=F-1):T?(B=u%L,D=Math.floor(u/L)):v&&(B=(L-1)/2,D=(F-1)/2);for(var W=o.MIN_SAFE_INTEGER,Y=0;Y<F;Y++){z[Y]=[];for(var K=0;K<L;K++){I=B-K,G=D-Y;var Z=Math.sqrt(I*I+G*G);Z>W&&(W=Z),z[Y][K]=Z}}}var V=i?a(i):null;return h?n=function(H,N,b,X){var $=0,Q=X%L,k=Math.floor(X/L);Q>=0&&Q<L&&k>=0&&k<F&&($=z[k][Q]);var J;if(C){var et=P-S;V?J=$/W*et*V($/W):J=$/W*et}else V?J=$*S*V($/W):J=$*S;return J+l}:n=function(H,N,b,X,$){$--;var Q;f?Q=X:v?Q=Math.abs($/2-X):m?Q=$-X:T&&(Q=Math.abs(u-X));var k;if(C){var J;v?J=(P-S)/$*(Q*2):J=(P-S)/$*Q,V?k=J*V(Q/$):k=J}else V?k=$*A*V(Q/$):k=Q*S;return k+l},n};c.exports=s},8357:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),g=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(91389),n=t(55292),l=t(82985),i=t(62329),h=t(35154),u=t(17777),f=t(269),v=t(86081),m=function(T,C,S){if(C instanceof v)return C.parent=T,C;S===void 0?S=g:S=f(g,S);var P=i(C);!P&&S.targets&&(P=S.targets);for(var A=l(C),L=h(C,"delay",S.delay),F=h(C,"duration",S.duration),B=h(C,"easeParams",S.easeParams),D=h(C,"ease",S.ease),I=h(C,"hold",S.hold),G=h(C,"repeat",S.repeat),z=h(C,"repeatDelay",S.repeatDelay),W=s(C,"yoyo",S.yoyo),Y=s(C,"flipX",S.flipX),K=s(C,"flipY",S.flipY),Z=h(C,"interpolation",S.interpolation),V=function(st,ot,ut,at){if(ut==="texture"){var ct=at,Pt=void 0;Array.isArray(at)?(ct=at[0],Pt=at[1]):at.hasOwnProperty("value")?(ct=at.value,Array.isArray(at.value)?(ct=at.value[0],Pt=at.value[1]):typeof at.value=="string"&&(ct=at.value)):typeof at=="string"&&(ct=at),st.addFrame(ot,ct,Pt,n(at,"delay",L),h(at,"duration",F),h(at,"hold",I),h(at,"repeat",G),h(at,"repeatDelay",z),s(at,"flipX",Y),s(at,"flipY",K))}else{var Ct=u(ut,at),Et=e(h(at,"interpolation",Z));st.add(ot,ut,Ct.getEnd,Ct.getStart,Ct.getActive,r(h(at,"ease",D),h(at,"easeParams",B)),n(at,"delay",L),h(at,"duration",F),s(at,"yoyo",W),h(at,"hold",I),h(at,"repeat",G),h(at,"repeatDelay",z),s(at,"flipX",Y),s(at,"flipY",K),Et,Et?at:null)}},H=new v(T,P),N=0;N<A.length;N++)for(var b=A[N].key,X=A[N].value,$=0;$<P.length;$++)b==="scale"&&!P[$].hasOwnProperty("scale")?(V(H,$,"scaleX",X),V(H,$,"scaleY",X)):V(H,$,b,X);H.completeDelay=o(C,"completeDelay",0),H.loop=Math.round(o(C,"loop",0)),H.loopDelay=Math.round(o(C,"loopDelay",0)),H.paused=s(C,"paused",!1),H.persist=s(C,"persist",!1),H.callbackScope=h(C,"callbackScope",H);for(var Q=a.TYPES,k=0;k<Q.length;k++){var J=Q[k],et=h(C,J,!1);if(et){var nt=h(C,J+"Params",[]);H.setCallback(J,et,nt)}}return H};c.exports=m},26012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),g=t(23568),o=t(57355),s=t(62329),r=t(35154),e=t(8357),n=t(43960),l=function(i,h){if(h instanceof n)return h.parent=i,h;var u=new n(i);u.startDelay=r(h,"delay",0),u.completeDelay=g(h,"completeDelay",0),u.loop=Math.round(g(h,"loop",r(h,"repeat",0))),u.loopDelay=Math.round(g(h,"loopDelay",r(h,"repeatDelay",0))),u.paused=o(h,"paused",!1),u.persist=o(h,"persist",!1),u.callbackScope=r(h,"callbackScope",u);var f,v=a.TYPES;for(f=0;f<v.length;f++){var m=v[f],T=r(h,m,!1);if(T){var C=r(h,m+"Params",[]);u.setCallback(m,T,C)}}var S=r(h,"tweens",null);if(Array.isArray(S)){var P=[],A=s(h),L=void 0;for(A&&(L={targets:A}),f=0;f<S.length;f++)P.push(e(u,S[f],L));u.add(P)}return u};c.exports=l},30231:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=a},70402:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(50792),o=t(842),s=t(86353),r=new a({Extends:g,initialize:function(n){g.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:l}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=r},95042:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),g=t(842),o=t(86353),s=new a({initialize:function(e,n,l,i,h,u,f,v,m,T){this.tween=e,this.targetIndex=n,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=h,this.hold=u,this.repeat=f,this.repeatDelay=v,this.repeatCounter=0,this.flipX=m,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,n=this.targetIndex,l=r.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,i,0,n,e,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var u=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=u*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,n){var l=this.tween,i=l.totalTargets,h=this.targetIndex,u=l.targets[h],f=this.key,v=f!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),v&&(e||n)&&(this.start=this.getStartValue(u,f,this.start,h,i,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(u,f,this.start,h,i,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,v&&(this.current=this.start,u[f]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=s},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=x},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),g=t(83419),o=t(842),s=t(44603),r=t(39429),e=t(36383),n=t(86353),l=t(48177),i=t(42220),h=new g({Extends:a,initialize:function(f,v){a.call(this,f),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(u,f,v,m,T,C,S,P,A,L,F,B,D,I,G,z){var W=new l(this,u,f,v,m,T,C,S,P,A,L,F,B,D,I,G,z);return this.totalData=this.data.push(W),W},addFrame:function(u,f,v,m,T,C,S,P,A,L){var F=new i(this,u,f,v,m,T,C,S,P,A,L);return this.totalData=this.data.push(F),F},getValue:function(u){u===void 0&&(u=0);var f=null;return this.data&&(f=this.data[u].current),f},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,f,v){if(v===void 0&&(v=!1),u!=="texture")for(var m=0;m<this.totalData;m++){var T=this.data[m];T.key===u&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=f,v&&(T.start=T.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,f,v){if(u===void 0&&(u=0),f===void 0&&(f=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,u>0){for(var T=Math.floor(u/f),C=u-T*f,S=0;S<T;S++)this.update(f);C>0&&this.update(C)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var f=this.data,v=0;v<this.totalData;v++)f[v].reset(u);this.duration=Math.max(this.duration,.01);var m=this.duration,T=this.completeDelay,C=this.loopCounter,S=this.loopDelay;C>0?this.totalDuration=m+T+(m+S)*C:this.totalDuration=m+T},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),u=0));var f=!1;if(this.isActive())for(var v=this.data,m=0;m<this.totalData;m++)v[m].update(u)&&(f=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),f||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,f){if(!this.isSeeking){this.emit(u,this,this.targets);var v=this.callbacks[f];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(u){return this.scene.sys.tweens.add(u)}),s.register("tween",function(u){return this.scene.sys.tweens.create(u)}),c.exports=h},43960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),g=t(70402),o=t(83419),s=t(842),r=t(44603),e=t(39429),n=t(86353),l=new o({Extends:g,initialize:function(h){g.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive"),this},add:function(i){var h=this.parent.create(i);Array.isArray(h)||(h=[h]);for(var u=this.data,f=0;f<h.length;f++){var v=h[f];v.parent=this,u.push(v.reset())}return this.totalData=u.length,this},remove:function(i){return a(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var h=this.data,u=0;u<this.totalData;u++)if(h[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,h=this.totalData,u=0;u<h;u++)i[u].reset(!1);this.currentIndex=0,this.currentTween=i[0]},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(i,h){this.emit(i,this);var u=this.callbacks[h];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),c.exports=l},48177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95042),g=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,u,f,v,m,T,C,S,P,A,L,F,B,D){a.call(this,n,l,m,T,C,S,P,A,L,F),this.key=i,this.getActiveValue=f,this.getEndValue=h,this.getStartValue=u,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=B,this.interpolationData=D},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;e&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(e){var n=this.tween,l=n.totalTargets,i=this.targetIndex,h=n.targets[i],u=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,u,h[u],i,l,n),this.end=this.getEndValue(h,u,this.start,i,l,n),this.current=this.start,h[u]=this.start,this.setPlayingForwardState(),!0;var f=this.isPlayingForward(),v=this.isPlayingBackward();if(f||v){var m=this.elapsed,T=this.duration,C=0,S=!1;m+=e,m>=T?(C=m-T,m=T,S=!0):m<0&&(m=0);var P=g(m/T,0,1);if(this.elapsed=m,this.progress=P,this.previous=this.current,S)f?(this.current=this.end,h[u]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(this.current=this.start,h[u]=this.start,this.setStateFromStart(C));else{f||(P=1-P);var A=this.ease(P);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,h[u]=this.current}this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key,u=this.current,f=this.previous;l.emit(e,l,h,i,u,f);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,i,h,u,f].concat(v.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=r},42220:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95042),g=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,u,f,v,m,T,C,S){a.call(this,n,l,u,f,!1,v,m,T,C,S),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=h,this.yoyo=m!==0},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,l=this.targetIndex,i=n.targets[l];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),u=this.isPlayingBackward();if(h||u){var f=this.elapsed,v=this.duration,m=0,T=!1;f+=e,f>=v?(m=f-v,f=v,T=!0):f<0&&(f=0);var C=g(f/v,0,1);this.elapsed=f,this.progress=C,T&&(h?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key;l.emit(e,l,h,i);var u=l.callbacks[n];u&&u.func.apply(l.callbackScope,[l,i,h].concat(u.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=r},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=x},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,n){var l=n?r[e]:Object.getOwnPropertyDescriptor(r,e);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&x(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function a(r,e){var n=Object.getOwnPropertyDescriptor(r,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function g(r,e,n,l){for(var i in e)if(e.hasOwnProperty(i)){var h=t(e,i,n);if(h!==!1){var u=l||r;if(a(u.prototype,i)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,h)}else r.prototype[i]=e[i]}}function o(r,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)g(r,e[n].prototype||e[n])}}function s(r){r||(r={});var e,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,n=r.Extends,delete r.Extends):e.prototype.constructor=e;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),o(e,i),g(e,r,!0,n),e}s.extend=g,s.mixin=o,s.ignoreFinals=!1,c.exports=s},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};c.exports=x},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s){if(s===void 0&&(s=t),g>0){var r=g-t.length;if(r<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),o&&o.call(s,a),a):null;for(var e=a.length-1;e>=0;)t.indexOf(a[e])!==-1&&a.splice(e,1),e--;if(e=a.length,e===0)return null;g>0&&e>r&&(a.splice(r),e=r);for(var n=0;n<e;n++){var l=a[n];t.push(l),o&&o.call(s,l)}return a};c.exports=x},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o,s,r){if(g===void 0&&(g=0),r===void 0&&(r=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(g,0,a),s&&s.call(r,a),a):null;for(var n=a.length-1;n>=0;)t.indexOf(a[n])!==-1&&a.pop(),n--;if(n=a.length,n===0)return null;o>0&&n>e&&(a.splice(e),n=e);for(var l=n-1;l>=0;l--){var i=a[l];t.splice(g,0,i),s&&s.call(r,i)}return a};c.exports=x},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.indexOf(a);return g!==-1&&g<t.length&&(t.splice(g,1),t.push(a)),a};c.exports=x},21612:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),g=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=0;if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];h[s]===r&&l++}return l};c.exports=g},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o,s=[null];for(o=3;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t.length;o++)s[0]=t[o],a.apply(g,s);return t};c.exports=x},36914:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),g=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n)){var l,i=[null];for(l=5;l<arguments.length;l++)i.push(arguments[l]);for(l=e;l<n;l++)i[0]=o[l],s.apply(r,i)}return o};c.exports=g},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a.length){if(a.length===1)return a[0]}else return NaN;var o=1,s,r;if(g){if(t<a[0][g])return a[0];for(;a[o][g]<t;)o++}else for(;a[o]<t;)o++;return o>a.length&&(o=a.length),g?(s=a[o-1][g],r=a[o][g],r-t<=t-s?a[o]:a[o-1]):(s=a[o-1],r=a[o],r-t<=t-s?r:s)};c.exports=x},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=[]);for(var g=0;g<t.length;g++)Array.isArray(t[g])?x(t[g],a):a.push(t[g]);return a};c.exports=x},46710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),g=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=[];if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];(!s||s&&r===void 0&&h.hasOwnProperty(s)||s&&r!==void 0&&h[s]===r)&&l.push(h)}return l};c.exports=g},58731:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),g=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n))for(var l=e;l<n;l++){var i=o[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}return null};c.exports=g},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=t.length);var o=a+Math.floor(Math.random()*g);return t[o]===void 0?null:t[o]};c.exports=x},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a===g)return t;var o=t.indexOf(a),s=t.indexOf(g);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o>s||(t.splice(o,1),s===t.length-1?t.push(a):t.splice(s,0,a)),t};c.exports=x},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a===g)return t;var o=t.indexOf(a),s=t.indexOf(g);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o<s||(t.splice(o,1),s===0?t.unshift(a):t.splice(s,0,a)),t};c.exports=x},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.indexOf(a);if(g>0){var o=t[g-1],s=t.indexOf(o);t[g]=o,t[s]=a}return t};c.exports=x},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=t.indexOf(a);if(o===-1||g<0||g>=t.length)throw new Error("Supplied index out of bounds");return o!==g&&(t.splice(o,1),t.splice(g,0,a)),a};c.exports=x},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.indexOf(a);if(g!==-1&&g<t.length-1){var o=t[g+1],s=t.indexOf(o);t[g]=o,t[s]=a}return t};c.exports=x},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=[],r,e=!1;if((g||o)&&(e=!0,g||(g=""),o||(o="")),a<t)for(r=t;r>=a;r--)e?s.push(g+r.toString()+o):s.push(r);else for(r=t;r<=a;r++)e?s.push(g+r.toString()+o):s.push(r);return s};c.exports=x},593:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2284),g=function(o,s,r){o===void 0&&(o=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=o,o=0);for(var e=[],n=Math.max(a((s-o)/(r||1)),0),l=0;l<n;l++)e.push(o),o+=r;return e};c.exports=g},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(g,o,s){var r=g[o];g[o]=g[s],g[s]=r}function t(g,o){return g<o?-1:g>o?1:0}var a=function(g,o,s,r,e){for(s===void 0&&(s=0),r===void 0&&(r=g.length-1),e===void 0&&(e=t);r>s;){if(r-s>600){var n=r-s+1,l=o-s+1,i=Math.log(n),h=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*h*(n-h)/n)*(l-n/2<0?-1:1),f=Math.max(s,Math.floor(o-l*h/n+u)),v=Math.min(r,Math.floor(o+(n-l)*h/n+u));a(g,o,f,v,e)}var m=g[o],T=s,C=r;for(x(g,s,o),e(g[r],m)>0&&x(g,s,r);T<C;){for(x(g,T,C),T++,C--;e(g[T],m)<0;)T++;for(;e(g[C],m)>0;)C--}e(g[s],m)===0?x(g,s,C):(C++,x(g,C,r)),C<=o&&(s=C+1),o<=C&&(r=C-1)}};c.exports=a},88492:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),g=t(33680),o=function(r,e,n){for(var l=[],i=0;i<r.length;i++)for(var h=0;h<e.length;h++)for(var u=0;u<n;u++)l.push({a:r[i],b:e[h]});return l},s=function(r,e,n){var l=a(n,"max",0),i=a(n,"qty",1),h=a(n,"random",!1),u=a(n,"randomB",!1),f=a(n,"repeat",0),v=a(n,"yoyo",!1),m=[];if(u&&g(e),f===-1)if(l===0)f=0;else{var T=r.length*e.length*i;v&&(T*=2),f=Math.ceil(l/T)}for(var C=0;C<=f;C++){var S=o(r,e,i);h&&g(S),m=m.concat(S),v&&(S.reverse(),m=m.concat(S))}return l&&m.splice(l),m};c.exports=s},72905:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),g=function(o,s,r,e){e===void 0&&(e=o);var n;if(!Array.isArray(s))return n=o.indexOf(s),n!==-1?(a(o,n),r&&r.call(e,s),s):null;for(var l=s.length-1,i=[];l>=0;){var h=s[l];n=o.indexOf(h),n!==-1&&(a(o,n),i.push(h),r&&r.call(e,h)),l--}return i};c.exports=g},60248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),g=function(o,s,r,e){if(e===void 0&&(e=o),s<0||s>o.length-1)throw new Error("Index out of bounds");var n=a(o,s);return r&&r.call(e,n),n};c.exports=g},81409:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),g=function(o,s,r,e,n){if(s===void 0&&(s=0),r===void 0&&(r=o.length),n===void 0&&(n=o),a(o,s,r)){var l=r-s,i=o.splice(s,l);if(e)for(var h=0;h<i.length;h++){var u=i[h];e.call(n,u)}return i}else return[]};c.exports=g},31856:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),g=function(o,s,r){s===void 0&&(s=0),r===void 0&&(r=o.length);var e=s+Math.floor(Math.random()*r);return a(o,e)};c.exports=g},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=t.indexOf(a),s=t.indexOf(g);return o!==-1&&s===-1?(t[o]=g,!0):!1};c.exports=x},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);for(var g=null,o=0;o<a;o++)g=t.shift(),t.push(g);return g};c.exports=x},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);for(var g=null,o=0;o<a;o++)g=t.pop(),t.unshift(g);return g};c.exports=x},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){var s=t.length;if(a<0||a>s||a>=g||g>s){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=x},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var g=t.indexOf(a);return g!==-1&&g>0&&(t.splice(g,1),t.unshift(a)),a};c.exports=x},17810:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),g=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n))for(var l=e;l<n;l++){var i=o[l];i.hasOwnProperty(s)&&(i[s]=r)}return o};c.exports=g},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=t.length-1;a>0;a--){var g=Math.floor(Math.random()*(a+1)),o=t[a];t[a]=t[g],t[g]=o}return t};c.exports=x},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=/\D/g;return t.sort(function(g,o){return parseInt(g.replace(a,""),10)-parseInt(o.replace(a,""),10)}),t};c.exports=x},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){if(!(a>=t.length)){for(var g=t.length-1,o=t[a],s=a;s<g;s++)t[s]=t[s+1];return t.length=g,o}};c.exports=x},19186:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82264);function g(e,n){return String(e).localeCompare(n)}function o(e,n){var l=e.length;if(l<=1)return e;for(var i=new Array(l),h=1;h<l;h*=2){s(e,n,h,i);var u=e;e=i,i=u}return e}function s(e,n,l,i){var h=e.length,u=0,f=l*2,v,m,T,C,S;for(v=0;v<h;v+=f)for(m=v+l,T=m+l,m>h&&(m=h),T>h&&(T=h),C=v,S=m;;)if(C<m&&S<T)n(e[C],e[S])<=0?i[u++]=e[C++]:i[u++]=e[S++];else if(C<m)i[u++]=e[C++];else if(S<T)i[u++]=e[S++];else break}var r=function(e,n){if(n===void 0&&(n=g),!e||e.length<2)return e;if(a.features.stableSort)return e.sort(n);var l=o(e,n);return l!==e&&s(l,null,e.length,e),e};c.exports=r},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(a===g)return t;var o=t.indexOf(a),s=t.indexOf(g);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[o]=g,t[s]=a,t};c.exports=x},37105:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,g=1;g<t.length;g++)if(t[g].length!==a)return!1;return!0};c.exports=x},63362:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41836),g=t(86922),o=function(s){var r="";if(!g(s))return r;for(var e=0;e<s.length;e++){for(var n=0;n<s[e].length;n++){var l=s[e][n].toString();l!=="undefined"?r+=a(l,2):r+="?",n<s[e].length-1&&(r+=" |")}if(e<s.length-1){r+=`
`;for(var i=0;i<s[e].length;i++)r+="---",i<s[e].length-1&&(r+="+");r+=`
`}}return r};c.exports=o},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.reverse()};c.exports=x},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};c.exports=x},98717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),g=function(o){return a(o,180)};c.exports=g},44657:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),g=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,90);return o};c.exports=g},37829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86922),g=t(2429),o=function(s,r){if(r===void 0&&(r=90),!a(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=g(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=g(s);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};c.exports=o},92632:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),g=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,-90);return o};c.exports=g},69512:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86003),g=t(49498),o=function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?a(s,Math.abs(e)):g(s,e)),r!==0)for(var n=0;n<s.length;n++){var l=s[n];r<0?a(l,Math.abs(r)):g(l,r)}return s};c.exports=o},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=t.length,g=t[0].length,o=new Array(g),s=0;s<g;s++){o[s]=new Array(a);for(var r=a-1;r>-1;r--)o[s][r]=t[r][s]}return o};c.exports=x},54915:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,g){for(var o=new Uint8Array(a),s=o.length,r=g?"data:"+g+";base64,":"",e=0;e<s;e+=3)r+=x[o[e]>>2],r+=x[(o[e]&3)<<4|o[e+1]>>4],r+=x[(o[e+1]&15)<<2|o[e+2]>>6],r+=x[o[e+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<x.length;a++)t[x.charCodeAt(a)]=a;var g=function(o){o=o.substr(o.indexOf(",")+1);var s=o.length,r=s*.75,e=0,n,l,i,h;o[s-1]==="="&&(r--,o[s-2]==="="&&r--);for(var u=new ArrayBuffer(r),f=new Uint8Array(u),v=0;v<s;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],i=t[o.charCodeAt(v+2)],h=t[o.charCodeAt(v+3)],f[e++]=n<<2|l>>4,f[e++]=(l&15)<<4|i>>2,f[e++]=(i&3)<<6|h&63;return u};c.exports=g},65839:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={};for(var g in t)Array.isArray(t[g])?a[g]=t[g].slice(0):a[g]=t[g];return a};c.exports=x},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a,g,o;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(o in t)g=t[o],a[o]=x(g);return a};c.exports=x},79291:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41212),g=function(){var o,s,r,e,n,l,i=arguments[0]||{},h=1,u=arguments.length,f=!1;for(typeof i=="boolean"&&(f=i,i=arguments[1]||{},h=2),u===h&&(i=this,--h);h<u;h++)if((o=arguments[h])!=null)for(s in o)r=i[s],e=o[s],i!==e&&(f&&e&&(a(e)||(n=Array.isArray(e)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&a(r)?r:{},i[s]=g(f,l,e)):e!==void 0&&(i[s]=e));return i};c.exports=g},23568:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(75508),g=t(35154),o=function(s,r,e){var n=g(s,r,null);if(n===null)return e;if(Array.isArray(n))return a.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return a.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return a.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};c.exports=o},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){var o=typeof t;return!t||o==="number"||o==="string"?g:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:g};c.exports=x},82840:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),g=t(45319),o=function(s,r,e,n,l){l===void 0&&(l=e);var i=a(s,r,l);return g(i,e,n)};c.exports=o},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){if(!t&&!o||typeof t=="number")return g;if(t&&t.hasOwnProperty(a))return t[a];if(o&&o.hasOwnProperty(a))return o[a];if(a.indexOf(".")!==-1){for(var s=a.split("."),r=t,e=o,n=g,l=g,i=!0,h=!0,u=0;u<s.length;u++)r&&r.hasOwnProperty(s[u])?(n=r[s[u]],r=r[s[u]]):i=!1,e&&e.hasOwnProperty(s[u])?(l=e[s[u]],e=e[s[u]]):h=!1;return i?n:h?l:g}else return g};c.exports=x},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var g=0;g<a.length;g++)if(!t.hasOwnProperty(a[g]))return!1;return!0};c.exports=x},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var g=0;g<a.length;g++)if(t.hasOwnProperty(a[g]))return!0;return!1};c.exports=x},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.hasOwnProperty(a)};c.exports=x},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=x},46975:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),g=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)||(r[e]=s[e]);return r};c.exports=g},269:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),g=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)&&(r[e]=s[e]);return r};c.exports=g},18254:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97022),g=function(o,s){for(var r={},e=0;e<s.length;e++){var n=s[e];a(o,n)&&(r[n]=o[n])}return r};c.exports=g},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=g,!0;if(a.indexOf(".")!==-1){for(var o=a.split("."),s=t,r=t,e=0;e<o.length;e++)if(s.hasOwnProperty(o[e]))r=s,s=s[o[e]];else return!1;return r[o[o.length-1]]=g,!0}return!1};c.exports=x},1183:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.replace(/%([0-9]+)/g,function(g,o){return a[Number(o)-1]})};c.exports=x},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,g,o){a===void 0&&(a=0),g===void 0&&(g=" "),o===void 0&&(o=3),t=t.toString();var s=0;if(a+1>=t.length)switch(o){case 1:t=new Array(a+1-t.length).join(g)+t;break;case 3:var r=Math.ceil((s=a-t.length)/2),e=s-r;t=new Array(e+1).join(g)+t+new Array(r+1).join(g);break;default:t=t+new Array(a+1-t.length).join(g);break}return t};c.exports=x},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===0?t.slice(1):t.slice(0,a-1)+t.slice(a)};c.exports=x},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.split("").reverse().join("")};c.exports=x},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,g=t==="x"?a:a&3|8;return g.toString(16)})};c.exports=x},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=x},31749:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function w(c){var x=E[c];if(x!==void 0)return x.exports;var t=E[c]={exports:{}};return y[c](t,t.exports,w),t.exports}w.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var R=w(85454);return R})())})(Ux);var Vx=Ux.exports;const xt=na(Vx);var S9=Object.create,Av=Object.defineProperty,C9=Object.defineProperties,E9=Object.getOwnPropertyDescriptor,P9=Object.getOwnPropertyDescriptors,A9=Object.getOwnPropertyNames,Um=Object.getOwnPropertySymbols,w9=Object.getPrototypeOf,Wx=Object.prototype.hasOwnProperty,M9=Object.prototype.propertyIsEnumerable,Vm=(d,p,y)=>p in d?Av(d,p,{enumerable:!0,configurable:!0,writable:!0,value:y}):d[p]=y,de=(d,p)=>{for(var y in p||(p={}))Wx.call(p,y)&&Vm(d,y,p[y]);if(Um)for(var y of Um(p))M9.call(p,y)&&Vm(d,y,p[y]);return d},Tr=(d,p)=>C9(d,P9(p)),Ot=(d,p)=>()=>(p||d((p={exports:{}}).exports,p),p.exports),R9=(d,p,y,E)=>{if(p&&typeof p=="object"||typeof p=="function")for(let w of A9(p))!Wx.call(d,w)&&w!==y&&Av(d,w,{get:()=>p[w],enumerable:!(E=E9(p,w))||E.enumerable});return d},Xx=(d,p,y)=>(y=d!=null?S9(w9(d)):{},R9(p||!d||!d.__esModule?Av(y,"default",{value:d,enumerable:!0}):y,d)),du=Ot(d=>{var p=function(R,c){return R<c?-1:R>c?1:0},y=function(R,c){return R<c?1:R>c?-1:0};function E(R){return function(c,x){return R(x,c)}}function w(R){return R===2?function(c,x){return c[0]<x[0]?-1:c[0]>x[0]?1:c[1]<x[1]?-1:c[1]>x[1]?1:0}:function(c,x){for(var t=0;t<R;){if(c[t]<x[t])return-1;if(c[t]>x[t])return 1;t++}return 0}}d.DEFAULT_COMPARATOR=p,d.DEFAULT_REVERSE_COMPARATOR=y,d.reverseComparator=E,d.createTupleComparator=w}),L9=Ot(d=>{d.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",d.SYMBOL_SUPPORT=typeof Symbol<"u"}),xe=Ot((d,p)=>{var y=L9(),E=y.ARRAY_BUFFER_SUPPORT,w=y.SYMBOL_SUPPORT;p.exports=function(R,c){var x,t,a,g,o;if(!R)throw new Error("obliterator/forEach: invalid iterable.");if(typeof c!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(R)||E&&ArrayBuffer.isView(R)||typeof R=="string"||R.toString()==="[object Arguments]"){for(a=0,g=R.length;a<g;a++)c(R[a],a);return}if(typeof R.forEach=="function"){R.forEach(c);return}if(w&&Symbol.iterator in R&&typeof R.next!="function"&&(R=R[Symbol.iterator]()),typeof R.next=="function"){for(x=R,a=0;o=x.next(),o.done!==!0;)c(o.value,a),a++;return}for(t in R)R.hasOwnProperty(t)&&c(R[t],t)}}),wv=Ot((d,p)=>{var y=du(),E=xe(),w=y.DEFAULT_COMPARATOR,R=y.reverseComparator;function c(n){if(this.clear(),this.comparator=n||w,typeof this.comparator!="function")throw new Error("mnemonist/FibonacciHeap.constructor: given comparator should be a function.")}c.prototype.clear=function(){this.root=null,this.min=null,this.size=0};function x(n){return{item:n,degree:0}}function t(n,l){n.root?(l.right=n.root.right,l.left=n.root,n.root.right.left=l,n.root.right=l):n.root=l}c.prototype.push=function(n){var l=x(n);return l.left=l,l.right=l,t(this,l),(!this.min||this.comparator(l.item,this.min.item)<=0)&&(this.min=l),++this.size},c.prototype.peek=function(){return this.min?this.min.item:void 0};function a(n){for(var l=[],i=n,h=!1;!(i===n&&h);)i===n&&(h=!0),l.push(i),i=i.right;return l}function g(n,l){n.root===l&&(n.root=l.right),l.left.right=l.right,l.right.left=l.left}function o(n,l){n.child?(l.right=n.child.right,l.left=n.child,n.child.right.left=l,n.child.right=l):n.child=l}function s(n,l,i){g(n,l),l.left=l,l.right=l,o(i,l),i.degree++,l.parent=i}function r(n){var l=new Array(n.size),i=a(n.root),h,u,f,v,m,T;for(h=0,u=i.length;h<u;h++){for(f=i[h],m=f.degree;l[m];)v=l[m],n.comparator(f.item,v.item)>0&&(T=f,f=v,v=T),s(n,v,f),l[m]=null,m++;l[m]=f}for(h=0;h<n.size;h++)l[h]&&n.comparator(l[h].item,n.min.item)<=0&&(n.min=l[h])}c.prototype.pop=function(){if(this.size){var n=this.min;if(n.child){var l=a(n.child),i,h,u;for(h=0,u=l.length;h<u;h++)i=l[h],t(this,i),delete i.parent}return g(this,n),n===n.right?(this.min=null,this.root=null):(this.min=n.right,r(this)),this.size--,n.item}},c.prototype.inspect=function(){var n={size:this.size};return this.min&&"item"in this.min&&(n.top=this.min.item),Object.defineProperty(n,"constructor",{value:c,enumerable:!1}),n},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect);function e(n){if(this.clear(),this.comparator=n||w,typeof this.comparator!="function")throw new Error("mnemonist/FibonacciHeap.constructor: given comparator should be a function.");this.comparator=R(this.comparator)}e.prototype=c.prototype,c.from=function(n,l){var i=new c(l);return E(n,function(h){i.push(h)}),i},e.from=function(n,l){var i=new e(l);return E(n,function(h){i.push(h)}),i},c.MinFibonacciHeap=c,c.MaxFibonacciHeap=e,p.exports=c}),ci=Ot(d=>{var p=Math.pow(2,8)-1,y=Math.pow(2,16)-1,E=Math.pow(2,32)-1,w=Math.pow(2,7)-1,R=Math.pow(2,15)-1,c=Math.pow(2,31)-1;d.getPointerArray=function(t){var a=t-1;if(a<=p)return Uint8Array;if(a<=y)return Uint16Array;if(a<=E)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},d.getSignedPointerArray=function(t){var a=t-1;return a<=w?Int8Array:a<=R?Int16Array:a<=c?Int32Array:Float64Array},d.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var x={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};d.getMinimalRepresentation=function(t,a){var g=null,o=0,s,r,e,n,l;for(n=0,l=t.length;n<l;n++)e=a?a(t[n]):t[n],r=d.getNumberType(e),s=x[r.name],s>o&&(o=s,g=r);return g},d.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)},d.concat=function(){var t=0,a,g,o;for(a=0,o=arguments.length;a<o;a++)t+=arguments[a].length;var s=new arguments[0].constructor(t);for(a=0,g=0;a<o;a++)s.set(arguments[a],g),g+=arguments[a].length;return s},d.indices=function(t){for(var a=d.getPointerArray(t),g=new a(t),o=0;o<t;o++)g[o]=o;return g}}),Ri=Ot(d=>{var p=xe(),y=ci();function E(x){return Array.isArray(x)||y.isTypedArray(x)}function w(x){if(typeof x.length=="number")return x.length;if(typeof x.size=="number")return x.size}function R(x){var t=w(x),a=typeof t=="number"?new Array(t):[],g=0;return p(x,function(o){a[g++]=o}),a}function c(x){var t=w(x),a=typeof t=="number"?y.getPointerArray(t):Array,g=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new a(t):[],s=0;return p(x,function(r){g[s]=r,o[s]=s++}),[g,o]}d.isArrayLike=E,d.guessLength=w,d.toArray=R,d.toArrayWithIndices=c}),Mv=Ot((d,p)=>{var y=xe(),E=du(),w=Ri(),R=E.DEFAULT_COMPARATOR,c=E.reverseComparator;function x(u,f,v,m){for(var T=f[m],C,S;m>v;){if(C=m-1>>1,S=f[C],u(T,S)<0){f[m]=S,m=C;continue}break}f[m]=T}function t(u,f,v){for(var m=f.length,T=v,C=f[v],S=2*v+1,P;S<m;)P=S+1,P<m&&u(f[S],f[P])>=0&&(S=P),f[v]=f[S],v=S,S=2*v+1;f[v]=C,x(u,f,T,v)}function a(u,f,v){f.push(v),x(u,f,0,f.length-1)}function g(u,f){var v=f.pop();if(f.length!==0){var m=f[0];return f[0]=v,t(u,f,0),m}return v}function o(u,f,v){if(f.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var m=f[0];return f[0]=v,t(u,f,0),m}function s(u,f,v){var m;return f.length!==0&&u(f[0],v)<0&&(m=f[0],f[0]=v,v=m,t(u,f,0)),v}function r(u,f){for(var v=f.length,m=v>>1,T=m;--T>=0;)t(u,f,T)}function e(u,f){for(var v=f.length,m=0,T=new Array(v);m<v;)T[m++]=g(u,f);return T}function n(u,f,v){arguments.length===2&&(v=f,f=u,u=R);var m=c(u),T,C,S,P=1/0,A;if(f===1){if(w.isArrayLike(v)){for(T=0,C=v.length;T<C;T++)S=v[T],(P===1/0||u(S,P)<0)&&(P=S);return A=new v.constructor(1),A[0]=P,A}return y(v,function(F){(P===1/0||u(F,P)<0)&&(P=F)}),[P]}if(w.isArrayLike(v)){if(f>=v.length)return v.slice().sort(u);for(A=v.slice(0,f),r(m,A),T=f,C=v.length;T<C;T++)m(v[T],A[0])>0&&o(m,A,v[T]);return A.sort(u)}var L=w.guessLength(v);return L!==null&&L<f&&(f=L),A=new Array(f),T=0,y(v,function(F){T<f?A[T]=F:(T===f&&r(m,A),m(F,A[0])>0&&o(m,A,F)),T++}),A.length>T&&(A.length=T),A.sort(u)}function l(u,f,v){arguments.length===2&&(v=f,f=u,u=R);var m=c(u),T,C,S,P=-1/0,A;if(f===1){if(w.isArrayLike(v)){for(T=0,C=v.length;T<C;T++)S=v[T],(P===-1/0||u(S,P)>0)&&(P=S);return A=new v.constructor(1),A[0]=P,A}return y(v,function(F){(P===-1/0||u(F,P)>0)&&(P=F)}),[P]}if(w.isArrayLike(v)){if(f>=v.length)return v.slice().sort(m);for(A=v.slice(0,f),r(u,A),T=f,C=v.length;T<C;T++)u(v[T],A[0])>0&&o(u,A,v[T]);return A.sort(m)}var L=w.guessLength(v);return L!==null&&L<f&&(f=L),A=new Array(f),T=0,y(v,function(F){T<f?A[T]=F:(T===f&&r(u,A),u(F,A[0])>0&&o(u,A,F)),T++}),A.length>T&&(A.length=T),A.sort(m)}function i(u){if(this.clear(),this.comparator=u||R,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}i.prototype.clear=function(){this.items=[],this.size=0},i.prototype.push=function(u){return a(this.comparator,this.items,u),++this.size},i.prototype.peek=function(){return this.items[0]},i.prototype.pop=function(){return this.size!==0&&this.size--,g(this.comparator,this.items)},i.prototype.replace=function(u){return o(this.comparator,this.items,u)},i.prototype.pushpop=function(u){return s(this.comparator,this.items,u)},i.prototype.consume=function(){return this.size=0,e(this.comparator,this.items)},i.prototype.toArray=function(){return e(this.comparator,this.items.slice())},i.prototype.inspect=function(){var u=this.toArray();return Object.defineProperty(u,"constructor",{value:i,enumerable:!1}),u},typeof Symbol<"u"&&(i.prototype[Symbol.for("nodejs.util.inspect.custom")]=i.prototype.inspect);function h(u){if(this.clear(),this.comparator=u||R,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=c(this.comparator)}h.prototype=i.prototype,i.from=function(u,f){var v=new i(f),m;return w.isArrayLike(u)?m=u.slice():m=w.toArray(u),r(v.comparator,m),v.items=m,v.size=m.length,v},h.from=function(u,f){var v=new h(f),m;return w.isArrayLike(u)?m=u.slice():m=w.toArray(u),r(v.comparator,m),v.items=m,v.size=m.length,v},i.siftUp=t,i.siftDown=x,i.push=a,i.pop=g,i.replace=o,i.pushpop=s,i.heapify=r,i.consume=e,i.nsmallest=n,i.nlargest=l,i.MinHeap=i,i.MaxHeap=h,p.exports=i}),F9=Ot((d,p)=>{var y="";function E(a,g,o){for(var s=g.length,r=[],e=s,n=-1,l,i=0,h;e--;)n=Math.max(a[g[e]+o],n);for(h=n>>24&&32||n>>16&&24||n>>8&&16||8;i<h;i+=4){for(e=16;e--;)r[e]=[];for(e=s;e--;)r[a[g[e]+o]>>i&15].push(g[e]);for(l=0;l<16;l++)for(n=r[l].length;n--;)g[++e]=r[l][n]}}function w(a,g,o,s){return a[o]-a[s]||(o%3===2?a[o+1]-a[s+1]||g[o+2]-g[s+2]:g[o+1]-g[s+1])}function R(a,g){var o=[],s=[],r=2*g/3|0,e=g-r,n=r+1>>1,l=r,i=0,h,u=[],f=[];if(g===1)return[0];for(;l--;)o[l]=(l*3>>1)+1;for(l=3;l--;)E(a,o,l);for(i=s[(o[0]/3|0)+(o[0]%3===1?0:n)]=1,l=1;l<r;l++)(a[o[l]]!==a[o[l-1]]||a[o[l]+1]!==a[o[l-1]+1]||a[o[l]+2]!==a[o[l-1]+2])&&i++,s[(o[l]/3|0)+(o[l]%3===1?0:n)]=i;if(i<r)for(s=R(s,r),l=r;l--;)o[l]=s[l]<n?s[l]*3+1:(s[l]-n)*3+2;for(l=r;l--;)u[o[l]]=l;for(u[g]=-1,u[g+1]=-2,s=g%3===1?[g-1]:[],l=0;l<r;l++)o[l]%3===1&&s.push(o[l]-1);for(E(a,s,0),l=0,i=0,h=0;l<r&&i<e;)f[h++]=w(a,u,o[l],s[i])<0?o[l++]:s[i++];for(;l<r;)f[h++]=o[l++];for(;i<e;)f[h++]=s[i++];return f}function c(a){var g=a.length,o=g%3,s=new Array(g+o),r,e;if(typeof a!="string"){var n=Object.create(null);for(e=0;e<g;e++)n[a[e]]||(n[a[e]]=!0);var l=Object.create(null),i=Object.keys(n).sort();for(e=0,r=i.length;e<r;e++)l[i[e]]=e+1;for(e=0;e<g;e++)s[e]=l[a[e]]}else for(e=0;e<g;e++)s[e]=a.charCodeAt(e);for(e=g;e<g+o;e++)s[e]=0;return s}function x(a){this.hasArbitrarySequence=typeof a!="string",this.string=a,this.length=a.length,this.array=R(c(a),this.length)}x.prototype.toString=function(){return this.array.join(",")},x.prototype.toJSON=function(){return this.array},x.prototype.inspect=function(){for(var a=new Array(this.length),g=0;g<this.length;g++)a[g]=this.string.slice(this.array[g]);return Object.defineProperty(a,"constructor",{value:x,enumerable:!1}),a},typeof Symbol<"u"&&(x.prototype[Symbol.for("nodejs.util.inspect.custom")]=x.prototype.inspect);function t(a){if(this.hasArbitrarySequence=typeof a[0]!="string",this.size=a.length,this.hasArbitrarySequence){this.text=[];for(var g=0,o=this.size;g<o;g++)this.text.push.apply(this.text,a[g]),g<o-1&&this.text.push(y)}else this.text=a.join(y);this.firstLength=a[0].length,this.length=this.text.length,this.array=R(c(this.text),this.length)}t.prototype.longestCommonSubsequence=function(){var a=this.hasArbitrarySequence?[]:"",g,o,s,r,e;for(o=1;o<this.length;o++)if(r=this.array[o],e=this.array[o-1],!(r<this.firstLength&&e<this.firstLength)&&!(r>this.firstLength&&e>this.firstLength)){for(g=Math.min(this.length-r,this.length-e),s=0;s<g;s++)if(this.text[r+s]!==this.text[e+s]){g=s;break}g>a.length&&(a=this.text.slice(r,r+g))}return a},t.prototype.toString=function(){return this.array.join(",")},t.prototype.toJSON=function(){return this.array},t.prototype.inspect=function(){for(var a=new Array(this.length),g=0;g<this.length;g++)a[g]=this.text.slice(this.array[g]);return Object.defineProperty(a,"constructor",{value:t,enumerable:!1}),a},typeof Symbol<"u"&&(t.prototype[Symbol.for("nodejs.util.inspect.custom")]=t.prototype.inspect),x.GeneralizedSuffixArray=t,p.exports=x}),O9=Ot((d,p)=>{var y=xe();function E(a){this.size=0,this.items=new Map,this.inverse=a}function w(){this.size=0,this.items=new Map,this.inverse=new E(this)}function R(){this.size=0,this.items.clear(),this.inverse.items.clear()}w.prototype.clear=R,E.prototype.clear=R;function c(a,g){if(this.items.has(a)){var o=this.items.get(a);if(o===g)return this;this.inverse.items.delete(o)}if(this.inverse.items.has(g)){var s=this.inverse.items.get(g);if(s===a)return this;this.items.delete(s)}return this.items.set(a,g),this.inverse.items.set(g,a),this.size=this.items.size,this.inverse.size=this.inverse.items.size,this}w.prototype.set=c,E.prototype.set=c;function x(a){if(this.items.has(a)){var g=this.items.get(a);return this.items.delete(a),this.inverse.items.delete(g),this.size=this.items.size,this.inverse.size=this.inverse.items.size,!0}return!1}w.prototype.delete=x,E.prototype.delete=x;var t=["has","get","forEach","keys","values","entries"];t.forEach(function(a){w.prototype[a]=E.prototype[a]=function(){return Map.prototype[a].apply(this.items,arguments)}}),typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.entries,E.prototype[Symbol.iterator]=E.prototype.entries),w.prototype.inspect=function(){var a={left:this.items,right:this.inverse.items};return Object.defineProperty(a,"constructor",{value:w,enumerable:!1}),a},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),E.prototype.inspect=function(){var a={left:this.inverse.items,right:this.items};return Object.defineProperty(a,"constructor",{value:E,enumerable:!1}),a},typeof Symbol<"u"&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=E.prototype.inspect),w.from=function(a){var g=new w;return y(a,function(o,s){g.set(s,o)}),g},p.exports=w}),He=Ot((d,p)=>{function y(E){if(typeof E!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=E}typeof Symbol<"u"&&(y.prototype[Symbol.iterator]=function(){return this}),y.of=function(){var E=arguments,w=E.length,R=0;return new y(function(){return R>=w?{done:!0}:{done:!1,value:E[R++]}})},y.empty=function(){var E=new y(function(){return{done:!0}});return E},y.fromSequence=function(E){var w=0,R=E.length;return new y(function(){return w>=R?{done:!0}:{done:!1,value:E[w++]}})},y.is=function(E){return E instanceof y?!0:typeof E=="object"&&E!==null&&typeof E.next=="function"},p.exports=y}),Yx=Ot(d=>{function p(c){return c|=c>>1,c|=c>>2,c|=c>>4,c|=c>>8,c|=c>>16,c&~(c>>1)}d.msb32=p;function y(c){return c|=c>>1,c|=c>>2,c|=c>>4,c&~(c>>1)}d.msb8=y,d.test=function(c,x){return c>>x&1},d.criticalBit8=function(c,x){return y(c^x)},d.criticalBit8Mask=function(c,x){return~y(c^x)>>>0&255},d.testCriticalBit8=function(c,x){return 1+(c|x)>>8},d.criticalBit32Mask=function(c,x){return~p(c^x)>>>0&4294967295},d.popcount=function(c){return c-=c>>1&1431655765,c=(c&858993459)+(c>>2&858993459),c=c+(c>>4)&252645135,c+=c>>8,c+=c>>16,c&127};var E=new Uint8Array(Math.pow(2,8));for(w=0,R=E.length;w<R;w++)E[w]=d.popcount(w);var w,R;d.table8Popcount=function(c){return E[c&255]+E[c>>8&255]+E[c>>16&255]+E[c>>24&255]}}),D9=Ot((d,p)=>{var y=He(),E=Yx();function w(R){this.length=R,this.clear()}w.prototype.clear=function(){this.size=0,this.array=new Uint32Array(Math.ceil(this.length/32))},w.prototype.set=function(R,c){var x=R>>5,t=R&31,a=this.array[x],g;return c===0||c===!1?g=this.array[x]&=~(1<<t):g=this.array[x]|=1<<t,g=g>>>0,g>a?this.size++:g<a&&this.size--,this},w.prototype.reset=function(R){var c=R>>5,x=R&31,t=this.array[c],a;return a=this.array[c]&=~(1<<x),a<t&&this.size--,this},w.prototype.flip=function(R){var c=R>>5,x=R&31,t=this.array[c],a=this.array[c]^=1<<x;return a=a>>>0,a>t?this.size++:a<t&&this.size--,this},w.prototype.get=function(R){var c=R>>5,x=R&31;return this.array[c]>>x&1},w.prototype.test=function(R){return!!this.get(R)},w.prototype.rank=function(R){if(this.size===0)return 0;for(var c=R>>5,x=R&31,t=0,a=0;a<c;a++)t+=E.table8Popcount(this.array[a]);var g=this.array[c]&(1<<x)-1;return t+=E.table8Popcount(g),t},w.prototype.select=function(R){if(this.size===0||R>=this.length)return-1;for(var c,x=32,t=0,a=0,g=0,o=this.array.length;g<o;g++)if(c=this.array[g],c!==0){g===o-1&&(x=this.length%32||32);for(var s=0;s<x;s++,t++)if(a+=c>>s&1,a===R)return t}},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.length,t,a,g=32,o=0,s=this.array.length;o<s;o++){t=this.array[o],o===s-1&&(g=x%32||32);for(var r=0;r<g;r++)a=t>>r&1,R.call(c,a,o*32+r)}},w.prototype.values=function(){var R=this.length,c=!1,x,t,a=this.array,g=a.length,o=0,s=-1,r=32;return new y(function e(){if(!c){if(o>=g)return{done:!0};o===g-1&&(r=R%32||32),x=a[o++],c=!0,s=-1}return s++,s>=r?(c=!1,e()):(t=x>>s&1,{value:t})})},w.prototype.entries=function(){var R=this.length,c=!1,x,t,a=this.array,g,o=a.length,s=0,r=-1,e=32;return new y(function n(){if(!c){if(s>=o)return{done:!0};s===o-1&&(e=R%32||32),x=a[s++],c=!0,r=-1}return r++,g=~-s*32+r,r>=e?(c=!1,n()):(t=x>>r&1,{value:[g,t]})})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=new Uint8Array(this.length);return this.forEach(function(c,x){R[x]=c}),Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.prototype.toJSON=function(){return Array.from(this.array)},p.exports=w}),B9=Ot((d,p)=>{var y=He(),E=Yx(),w=function(x){return Math.max(1,Math.ceil(x*1.5))};function R(x){return new Uint32Array(Math.ceil(x/32))}function c(x){var t=x||0,a=w;typeof x=="object"&&(t=x.initialLength||x.initialCapacity||0,a=x.policy||a),this.size=0,this.length=t,this.capacity=Math.ceil(this.length/32)*32,this.policy=a,this.array=R(this.capacity)}c.prototype.set=function(x,t){if(this.length<x)throw new Error("BitVector.set: index out of bounds.");var a=x>>5,g=x&31,o=this.array[a],s;return t===0||t===!1?s=this.array[a]&=~(1<<g):s=this.array[a]|=1<<g,s=s>>>0,s>o?this.size++:s<o&&this.size--,this},c.prototype.reset=function(x){var t=x>>5,a=x&31,g=this.array[t],o;return o=this.array[t]&=~(1<<a),o<g&&this.size--,this},c.prototype.flip=function(x){var t=x>>5,a=x&31,g=this.array[t],o=this.array[t]^=1<<a;return o=o>>>0,o>g?this.size++:o<g&&this.size--,this},c.prototype.applyPolicy=function(x){var t=this.policy(x||this.capacity);if(typeof t!="number"||t<0)throw new Error("mnemonist/bit-vector.applyPolicy: policy returned an invalid value (expecting a positive integer).");if(t<=this.capacity)throw new Error("mnemonist/bit-vector.applyPolicy: policy returned a less or equal capacity to allocate.");return Math.ceil(t/32)*32},c.prototype.reallocate=function(x){var t=x;if(x=Math.ceil(x/32)*32,t<this.length&&(this.length=t),x===this.capacity)return this;var a=this.array,g=x/32;return g===this.array.length?this:(g>this.array.length?(this.array=new Uint32Array(g),this.array.set(a,0)):this.array=a.slice(0,g),this.capacity=x,this)},c.prototype.grow=function(x){var t;if(typeof x=="number"){if(this.capacity>=x)return this;for(t=this.capacity;t<x;)t=this.applyPolicy(t);return this.reallocate(t),this}return t=this.applyPolicy(),this.reallocate(t),this},c.prototype.resize=function(x){return x===this.length?this:x<this.length?(this.length=x,this):(this.length=x,this.reallocate(x),this)},c.prototype.push=function(x){if(this.capacity===this.length&&this.grow(),x===0||x===!1)return++this.length;this.size++;var t=this.length++,a=t>>5,g=t&31;return this.array[a]|=1<<g,this.length},c.prototype.pop=function(){if(this.length!==0){var x=--this.length,t=x>>5,a=x&31;return this.array[t]>>a&1}},c.prototype.get=function(x){if(!(this.length<x)){var t=x>>5,a=x&31;return this.array[t]>>a&1}},c.prototype.test=function(x){return this.length<x?!1:!!this.get(x)},c.prototype.rank=function(x){if(this.size===0)return 0;for(var t=x>>5,a=x&31,g=0,o=0;o<t;o++)g+=E.table8Popcount(this.array[o]);var s=this.array[t]&(1<<a)-1;return g+=E.table8Popcount(s),g},c.prototype.select=function(x){if(this.size===0||x>=this.length)return-1;for(var t,a=32,g=0,o=0,s=0,r=this.array.length;s<r;s++)if(t=this.array[s],t!==0){s===r-1&&(a=this.length%32||32);for(var e=0;e<a;e++,g++)if(o+=t>>e&1,o===x)return g}},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;for(var a=this.length,g,o,s=32,r=0,e=this.array.length;r<e;r++){g=this.array[r],r===e-1&&(s=a%32||32);for(var n=0;n<s;n++)o=g>>n&1,x.call(t,o,r*32+n)}},c.prototype.values=function(){var x=this.length,t=!1,a,g,o=this.array,s=o.length,r=0,e=-1,n=32;return new y(function l(){if(!t){if(r>=s)return{done:!0};r===s-1&&(n=x%32||32),a=o[r++],t=!0,e=-1}return e++,e>=n?(t=!1,l()):(g=a>>e&1,{value:g})})},c.prototype.entries=function(){var x=this.length,t=!1,a,g,o=this.array,s,r=o.length,e=0,n=-1,l=32;return new y(function i(){if(!t){if(e>=r)return{done:!0};e===r-1&&(l=x%32||32),a=o[e++],t=!0,n=-1}return n++,s=~-e*32+n,n>=l?(t=!1,i()):(g=a>>n&1,{value:[s,g]})})},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.values),c.prototype.inspect=function(){var x=new Uint8Array(this.length);return this.forEach(function(t,a){x[a]=t}),Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.prototype.toJSON=function(){return Array.from(this.array.slice(0,(this.length>>5)+1))},p.exports=c}),I9=Ot((d,p)=>{function y(R,c){return(R&65535)*c+(((R>>>16)*c&65535)<<16)&4294967295}function E(R,c){return(R&65535)+(c>>>16)+(((R>>>16)+c&65535)<<16)&4294967295}function w(R,c){return R<<c|R>>>32-c}p.exports=function(R,c){var x=3432918353,t=461845907,a=15,g=13,o=5,s=1801774676,r=R,e,n,l;for(n=0,l=c.length-4;n<=l;n+=4)e=c[n]|c[n+1]<<8|c[n+2]<<16|c[n+3]<<24,e=y(e,x),e=w(e,a),e=y(e,t),r^=e,r=w(r,g),r=y(r,o),r=E(r,s);switch(e=0,c.length&3){case 3:e^=c[n+2]<<16;case 2:e^=c[n+1]<<8;case 1:e^=c[n],e=y(e,x),e=w(e,a),e=y(e,t),r^=e}return r^=c.length,r^=r>>>16,r=y(r,2246822507),r^=r>>>13,r=y(r,3266489909),r^=r>>>16,r>>>0}}),N9=Ot((d,p)=>{var y=I9(),E=xe(),w=Math.LN2*Math.LN2,R={errorRate:.005};function c(a){var g=new Uint16Array(a.length),o,s;for(o=0,s=a.length;o<s;o++)g[o]=a.charCodeAt(o);return g}function x(a,g,o){var s=y(g*4221880213&4294967295,o);return s%(a*8)}function t(a){var g={};if(!a)throw new Error("mnemonist/BloomFilter.constructor: a BloomFilter must be created with a capacity.");if(typeof a=="object"?g=a:g.capacity=a,typeof g.capacity!="number"||g.capacity<=0)throw new Error("mnemonist/BloomFilter.constructor: `capacity` option should be a positive integer.");if(this.capacity=g.capacity,this.errorRate=g.errorRate||R.errorRate,typeof this.errorRate!="number"||g.errorRate<=0)throw new Error("mnemonist/BloomFilter.constructor: `errorRate` option should be a positive float.");this.clear()}t.prototype.clear=function(){var a=-1/w*this.capacity*Math.log(this.errorRate),g=a/8|0;this.hashFunctions=g*8/this.capacity*Math.LN2|0,this.data=new Uint8Array(g)},t.prototype.add=function(a){for(var g=c(a),o=0,s=this.hashFunctions;o<s;o++){var r=x(this.data.length,o,g),e=1<<(7&r);this.data[r>>3]|=e}return this},t.prototype.test=function(a){for(var g=c(a),o=0,s=this.hashFunctions;o<s;o++){var r=x(this.data.length,o,g);if(!(this.data[r>>3]&1<<(7&r)))return!1}return!0},t.prototype.toJSON=function(){return this.data},t.from=function(a,g){if(!g&&(g=a.length||a.size,typeof g!="number"))throw new Error("BloomFilter.from: could not infer the filter's capacity. Try passing it as second argument.");var o=new t(g);return E(a,function(s){o.add(s)}),o},p.exports=t}),G9=Ot((d,p)=>{var y=xe();function E(w){if(typeof w!="function")throw new Error("mnemonist/BKTree.constructor: given `distance` should be a function.");this.distance=w,this.clear()}E.prototype.add=function(w){if(!this.root)return this.root={item:w,children:{}},this.size++,this;for(var R=this.root,c;c=this.distance(w,R.item),!!R.children[c];)R=R.children[c];return R.children[c]={item:w,children:{}},this.size++,this},E.prototype.search=function(w,R){if(!this.root)return[];for(var c=[],x=[this.root],t,a,g,o,s;x.length;)for(t=x.pop(),g=this.distance(R,t.item),g<=w&&c.push({item:t.item,distance:g}),o=g-w,s=g+w+1;o<s;o++)a=t.children[o],a&&x.push(a);return c},E.prototype.clear=function(){this.size=0,this.root=null},E.prototype.toJSON=function(){return this.root},E.prototype.inspect=function(){for(var w=[],R=[this.root],c,x;R.length;)if(c=R.pop(),!!c){w.push(c.item);for(x in c.children)R.push(c.children[x])}return Object.defineProperty(w,"constructor",{value:E,enumerable:!1}),w},typeof Symbol<"u"&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=E.prototype.inspect),E.from=function(w,R){var c=new E(R);return y(w,function(x){c.add(x)}),c},p.exports=E}),Hx=Ot((d,p)=>{var y=Ri(),E=He();function w(R,c){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if(typeof c!="number"||c<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=R,this.capacity=c,this.items=new R(this.capacity),this.clear()}w.prototype.clear=function(){this.start=0,this.size=0},w.prototype.push=function(R){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var c=(this.start+this.size)%this.capacity;return this.items[c]=R,++this.size},w.prototype.unshift=function(R){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var c=this.start-1;return this.start===0&&(c=this.capacity-1),this.items[c]=R,this.start=c,++this.size},w.prototype.pop=function(){if(this.size===0)return;let R=(this.start+this.size-1)%this.capacity;return this.size--,this.items[R]},w.prototype.shift=function(){if(this.size!==0){var R=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[R]}},w.prototype.peekFirst=function(){if(this.size!==0)return this.items[this.start]},w.prototype.peekLast=function(){if(this.size!==0){var R=this.start+this.size-1;return R>this.capacity&&(R-=this.capacity),this.items[R]}},w.prototype.get=function(R){if(this.size!==0)return R=this.start+R,R>this.capacity&&(R-=this.capacity),this.items[R]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.capacity,t=this.size,a=this.start,g=0;g<t;)R.call(c,this.items[a],g,this),a++,g++,a===x&&(a=0)},w.prototype.toArray=function(){var R=this.start+this.size;if(R<this.capacity)return this.items.slice(this.start,R);for(var c=new this.ArrayClass(this.size),x=this.capacity,t=this.size,a=this.start,g=0;g<t;)c[g]=this.items[a],a++,g++,a===x&&(a=0);return c},w.prototype.values=function(){var R=this.items,c=this.capacity,x=this.size,t=this.start,a=0;return new E(function(){if(a>=x)return{done:!0};var g=R[t];return t++,a++,t===c&&(t=0),{value:g,done:!1}})},w.prototype.entries=function(){var R=this.items,c=this.capacity,x=this.size,t=this.start,a=0;return new E(function(){if(a>=x)return{done:!0};var g=R[t];return t++,t===c&&(t=0),{value:[a++,g],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=this.toArray();return R.type=this.ArrayClass.name,R.capacity=this.capacity,Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R,c,x){if(arguments.length<3&&(x=y.guessLength(R),typeof x!="number"))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var t=new w(c,x);if(y.isArrayLike(R)){var a,g;for(a=0,g=R.length;a<g;a++)t.items[a]=R[a];return t.size=g,t}return y.forEach(R,function(o){t.push(o)}),t},p.exports=w}),z9=Ot((d,p)=>{var y=Ri(),E=Hx();function w(c,x){if(arguments.length<2)throw new Error("mnemonist/circular-buffer: expecting an Array class and a capacity.");if(typeof x!="number"||x<=0)throw new Error("mnemonist/circular-buffer: `capacity` should be a positive number.");this.ArrayClass=c,this.capacity=x,this.items=new c(this.capacity),this.clear()}function R(c){w.prototype[c]=E.prototype[c]}Object.keys(E.prototype).forEach(R),typeof Symbol<"u"&&Object.getOwnPropertySymbols(E.prototype).forEach(R),w.prototype.push=function(c){var x=(this.start+this.size)%this.capacity;return this.items[x]=c,this.size===this.capacity?(this.start=(x+1)%this.capacity,this.size):++this.size},w.prototype.unshift=function(c){var x=this.start-1;return this.start===0&&(x=this.capacity-1),this.items[x]=c,this.size===this.capacity?(this.start=x,this.size):(this.start=x,++this.size)},w.from=function(c,x,t){if(arguments.length<3&&(t=y.guessLength(c),typeof t!="number"))throw new Error("mnemonist/circular-buffer.from: could not guess iterable length. Please provide desired capacity as last argument.");var a=new w(x,t);if(y.isArrayLike(c)){var g,o;for(g=0,o=c.length;g<o;g++)a.items[g]=c[g];return a.size=o,a}return y.forEach(c,function(s){a.push(s)}),a},p.exports=w}),b9=Ot((d,p)=>{function y(E){if(typeof E!="function")throw new Error("mnemonist/DefaultMap.constructor: expecting a function.");this.items=new Map,this.factory=E,this.size=0}y.prototype.clear=function(){this.items.clear(),this.size=0},y.prototype.get=function(E){var w=this.items.get(E);return typeof w>"u"&&(w=this.factory(E,this.size),this.items.set(E,w),this.size++),w},y.prototype.peek=function(E){return this.items.get(E)},y.prototype.set=function(E,w){return this.items.set(E,w),this.size=this.items.size,this},y.prototype.has=function(E){return this.items.has(E)},y.prototype.delete=function(E){var w=this.items.delete(E);return this.size=this.items.size,w},y.prototype.forEach=function(E,w){w=arguments.length>1?w:this,this.items.forEach(E,w)},y.prototype.entries=function(){return this.items.entries()},y.prototype.keys=function(){return this.items.keys()},y.prototype.values=function(){return this.items.values()},typeof Symbol<"u"&&(y.prototype[Symbol.iterator]=y.prototype.entries),y.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(y.prototype[Symbol.for("nodejs.util.inspect.custom")]=y.prototype.inspect),y.autoIncrement=function(){var E=0;return function(){return E++}},p.exports=y}),U9=Ot((d,p)=>{function y(E){if(typeof E!="function")throw new Error("mnemonist/DefaultWeakMap.constructor: expecting a function.");this.items=new WeakMap,this.factory=E}y.prototype.clear=function(){this.items=new WeakMap},y.prototype.get=function(E){var w=this.items.get(E);return typeof w>"u"&&(w=this.factory(E),this.items.set(E,w)),w},y.prototype.peek=function(E){return this.items.get(E)},y.prototype.set=function(E,w){return this.items.set(E,w),this},y.prototype.has=function(E){return this.items.has(E)},y.prototype.delete=function(E){return this.items.delete(E)},y.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(y.prototype[Symbol.for("nodejs.util.inspect.custom")]=y.prototype.inspect),p.exports=y}),V9=Ot((d,p)=>{var y=ci();function E(w){var R=y.getPointerArray(w),c=y.getPointerArray(Math.log2(w));this.size=w,this.dimension=w,this.parents=new R(w),this.ranks=new c(w);for(var x=0;x<w;x++)this.parents[x]=x}E.prototype.find=function(w){for(var R=w,c,x;c=this.parents[R],R!==c;)R=c;for(;x=this.parents[w],x!==R;)this.parents[w]=R,w=x;return R},E.prototype.union=function(w,R){var c=this.find(w),x=this.find(R);if(c===x)return this;this.dimension--;var t=this.ranks[w],a=this.ranks[R];return t<a?this.parents[c]=x:t>a?this.parents[x]=c:(this.parents[x]=c,this.ranks[c]++),this},E.prototype.connected=function(w,R){var c=this.find(w);return c===this.find(R)},E.prototype.mapping=function(){for(var w=y.getPointerArray(this.dimension),R={},c=new w(this.size),x=0,t,a=0,g=this.parents.length;a<g;a++)t=this.find(a),typeof R[t]>"u"?(c[a]=x,R[t]=x++):c[a]=R[t];return c},E.prototype.compile=function(){for(var w={},R=new Array(this.dimension),c=0,x,t=0,a=this.parents.length;t<a;t++)x=this.find(t),typeof w[x]>"u"?(R[c]=[t],w[x]=c++):R[w[x]].push(t);return R},E.prototype.inspect=function(){var w=this.compile();return Object.defineProperty(w,"constructor",{value:E,enumerable:!1}),w},typeof Symbol<"u"&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=E.prototype.inspect),p.exports=E}),Rv=Ot((d,p)=>{var y=du(),E=Mv(),w=y.DEFAULT_COMPARATOR,R=y.reverseComparator;function c(a,g,o,s){for(var r=o,e=s,n=g[s],l=2*s+1,i;l<r;)i=l+1,i<r&&a(g[l],g[i])>=0&&(l=i),g[s]=g[l],s=l,l=2*s+1;g[s]=n,E.siftDown(a,g,e,s)}function x(a,g,o,s){for(var r=s,e=r,n=new a(s),l,i;e>0;)l=o[--e],e!==0&&(i=o[0],o[0]=l,c(g,o,--s,0),l=i),n[e]=l;return n}function t(a,g,o){if(arguments.length===2&&(o=g,g=null),this.ArrayClass=a,this.capacity=o,this.items=new a(o),this.clear(),this.comparator=g||w,typeof o!="number"&&o<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if(typeof this.comparator!="function")throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=R(this.comparator)}t.prototype.clear=function(){this.size=0},t.prototype.push=function(a){return this.size<this.capacity?(this.items[this.size]=a,E.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(a,this.items[0])>0&&E.replace(this.comparator,this.items,a),this.size},t.prototype.peek=function(){return this.items[0]},t.prototype.consume=function(){var a=x(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,a},t.prototype.toArray=function(){return x(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},t.prototype.inspect=function(){var a=this.toArray();return Object.defineProperty(a,"constructor",{value:t,enumerable:!1}),a},typeof Symbol<"u"&&(t.prototype[Symbol.for("nodejs.util.inspect.custom")]=t.prototype.inspect),p.exports=t}),W9=Ot((d,p)=>{var y=xe(),E=function(R){return R};function w(R){if(this.items=new Map,this.clear(),Array.isArray(R)?(this.writeHashFunction=R[0],this.readHashFunction=R[1]):(this.writeHashFunction=R,this.readHashFunction=R),this.writeHashFunction||(this.writeHashFunction=E),this.readHashFunction||(this.readHashFunction=E),typeof this.writeHashFunction!="function")throw new Error("mnemonist/FuzzyMap.constructor: invalid hash function given.");if(typeof this.readHashFunction!="function")throw new Error("mnemonist/FuzzyMap.constructor: invalid hash function given.")}w.prototype.clear=function(){this.items.clear(),this.size=0},w.prototype.add=function(R){var c=this.writeHashFunction(R);return this.items.set(c,R),this.size=this.items.size,this},w.prototype.set=function(R,c){return R=this.writeHashFunction(R),this.items.set(R,c),this.size=this.items.size,this},w.prototype.get=function(R){return R=this.readHashFunction(R),this.items.get(R)},w.prototype.has=function(R){return R=this.readHashFunction(R),this.items.has(R)},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this,this.items.forEach(function(x){R.call(c,x,x)})},w.prototype.values=function(){return this.items.values()},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=Array.from(this.items.values());return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R,c,x){var t=new w(c);return y(R,function(a,g){x?t.set(g,a):t.add(a)}),t},p.exports=w}),$x=Ot((d,p)=>{var y=He(),E=xe();function w(R){this.Container=R||Array,this.items=new Map,this.clear(),Object.defineProperty(this.items,"constructor",{value:w,enumerable:!1})}w.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()},w.prototype.set=function(R,c){var x=this.items.get(R),t;return x||(this.dimension++,x=new this.Container,this.items.set(R,x)),this.Container===Set?(t=x.size,x.add(c),t<x.size&&this.size++):(x.push(c),this.size++),this},w.prototype.delete=function(R){var c=this.items.get(R);return c?(this.size-=this.Container===Set?c.size:c.length,this.dimension--,this.items.delete(R),!0):!1},w.prototype.remove=function(R,c){var x=this.items.get(R),t,a;return x?this.Container===Set?(t=x.delete(c),t&&this.size--,x.size===0&&(this.items.delete(R),this.dimension--),t):(a=x.indexOf(c),a===-1?!1:(this.size--,x.length===1?(this.items.delete(R),this.dimension--,!0):(x.splice(a,1),!0))):!1},w.prototype.has=function(R){return this.items.has(R)},w.prototype.get=function(R){return this.items.get(R)},w.prototype.multiplicity=function(R){var c=this.items.get(R);return typeof c>"u"?0:this.Container===Set?c.size:c.length},w.prototype.count=w.prototype.multiplicity,w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;var x;function t(a){R.call(c,a,x)}this.items.forEach(function(a,g){x=g,a.forEach(t)})},w.prototype.forEachAssociation=function(R,c){c=arguments.length>1?c:this,this.items.forEach(R,c)},w.prototype.keys=function(){return this.items.keys()},w.prototype.values=function(){var R=this.items.values(),c=!1,x,t,a,g;return this.Container===Set?new y(function o(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,x=t.value.values()}return t=x.next(),t.done?(c=!1,o()):{done:!1,value:t.value}}):new y(function o(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,x=t.value,a=0,g=x.length}return a>=g?(c=!1,o()):{done:!1,value:x[a++]}})},w.prototype.entries=function(){var R=this.items.entries(),c=!1,x,t,a,g,o;return this.Container===Set?new y(function s(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,a=t.value[0],x=t.value[1].values()}return t=x.next(),t.done?(c=!1,s()):{done:!1,value:[a,t.value]}}):new y(function s(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,a=t.value[0],x=t.value[1],g=0,o=x.length}return g>=o?(c=!1,s()):{done:!1,value:[a,x[g++]]}})},w.prototype.containers=function(){return this.items.values()},w.prototype.associations=function(){return this.items.entries()},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.entries),w.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.prototype.toJSON=function(){return this.items},w.from=function(R,c){var x=new w(c);return E(R,function(t,a){x.set(a,t)}),x},p.exports=w}),X9=Ot((d,p)=>{var y=$x(),E=xe(),w=function(c){return c};function R(c,x){if(this.items=new y(x),this.clear(),Array.isArray(c)?(this.writeHashFunction=c[0],this.readHashFunction=c[1]):(this.writeHashFunction=c,this.readHashFunction=c),this.writeHashFunction||(this.writeHashFunction=w),this.readHashFunction||(this.readHashFunction=w),typeof this.writeHashFunction!="function")throw new Error("mnemonist/FuzzyMultiMap.constructor: invalid hash function given.");if(typeof this.readHashFunction!="function")throw new Error("mnemonist/FuzzyMultiMap.constructor: invalid hash function given.")}R.prototype.clear=function(){this.items.clear(),this.size=0,this.dimension=0},R.prototype.add=function(c){var x=this.writeHashFunction(c);return this.items.set(x,c),this.size=this.items.size,this.dimension=this.items.dimension,this},R.prototype.set=function(c,x){return c=this.writeHashFunction(c),this.items.set(c,x),this.size=this.items.size,this.dimension=this.items.dimension,this},R.prototype.get=function(c){return c=this.readHashFunction(c),this.items.get(c)},R.prototype.has=function(c){return c=this.readHashFunction(c),this.items.has(c)},R.prototype.forEach=function(c,x){x=arguments.length>1?x:this,this.items.forEach(function(t){c.call(x,t,t)})},R.prototype.values=function(){return this.items.values()},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.values),R.prototype.inspect=function(){var c=Array.from(this);return Object.defineProperty(c,"constructor",{value:R,enumerable:!1}),c},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.from=function(c,x,t,a){arguments.length===3&&typeof t=="boolean"&&(a=t,t=Array);var g=new R(x,t);return E(c,function(o,s){a?g.set(s,o):g.add(o)}),g},p.exports=R}),Y9=Ot((d,p)=>{var y=1024;function E(R){return(R&R-1)===0}function w(R,c){if(arguments.length<1)throw new Error("mnemonist/hashed-array-tree: expecting at least a byte array constructor.");var x=c||0,t=y,a=0;if(typeof c=="object"&&(x=c.initialCapacity||0,a=c.initialLength||0,t=c.blockSize||y),!t||!E(t))throw new Error("mnemonist/hashed-array-tree: block size should be a power of two.");var g=Math.max(a,x),o=Math.ceil(g/t);this.ArrayClass=R,this.length=a,this.capacity=o*t,this.blockSize=t,this.offsetMask=t-1,this.blockMask=Math.log2(t),this.blocks=new Array(o);for(var s=0;s<o;s++)this.blocks[s]=new this.ArrayClass(this.blockSize)}w.prototype.set=function(R,c){if(this.length<R)throw new Error("HashedArrayTree("+this.ArrayClass.name+").set: index out of bounds.");var x=R>>this.blockMask,t=R&this.offsetMask;return this.blocks[x][t]=c,this},w.prototype.get=function(R){if(!(this.length<R)){var c=R>>this.blockMask,x=R&this.offsetMask;return this.blocks[c][x]}},w.prototype.grow=function(R){if(typeof R!="number"&&(R=this.capacity+this.blockSize),this.capacity>=R)return this;for(;this.capacity<R;)this.blocks.push(new this.ArrayClass(this.blockSize)),this.capacity+=this.blockSize;return this},w.prototype.resize=function(R){return R===this.length?this:R<this.length?(this.length=R,this):(this.length=R,this.grow(R),this)},w.prototype.push=function(R){this.capacity===this.length&&this.grow();var c=this.length,x=c>>this.blockMask,t=c&this.offsetMask;return this.blocks[x][t]=R,++this.length},w.prototype.pop=function(){if(this.length!==0){var R=this.blocks[this.blocks.length-1],c=--this.length&this.offsetMask;return R[c]}},w.prototype.inspect=function(){for(var R=new this.ArrayClass(this.length),c,x=0,t=this.length;x<t;x++)c=x>>this.blockMask,R[x]=this.blocks[c][x&this.offsetMask];return R.type=this.ArrayClass.name,R.items=this.length,R.capacity=this.capacity,R.blockSize=this.blockSize,Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),p.exports=w}),Kx=Ot((d,p)=>{var y=He(),E=Ri();function w(R,c){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if(typeof c!="number"||c<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=c,this.ArrayClass=R,this.items=new this.ArrayClass(this.capacity),this.clear()}w.prototype.clear=function(){this.size=0},w.prototype.push=function(R){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=R,this.size},w.prototype.pop=function(){if(this.size!==0)return this.items[--this.size]},w.prototype.peek=function(){return this.items[this.size-1]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=0,t=this.items.length;x<t;x++)R.call(c,this.items[t-x-1],x,this)},w.prototype.toArray=function(){for(var R=new this.ArrayClass(this.size),c=this.size-1,x=this.size;x--;)R[x]=this.items[c-x];return R},w.prototype.values=function(){var R=this.items,c=this.size,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return x++,{value:t,done:!1}})},w.prototype.entries=function(){var R=this.items,c=this.size,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return{value:[x++,t],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return R.type=this.ArrayClass.name,R.capacity=this.capacity,Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R,c,x){if(arguments.length<3&&(x=E.guessLength(R),typeof x!="number"))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var t=new w(c,x);if(E.isArrayLike(R)){var a,g;for(a=0,g=R.length;a<g;a++)t.items[a]=R[a];return t.size=g,t}return E.forEach(R,function(o){t.push(o)}),t},p.exports=w}),H9=Ot((d,p)=>{var y=Ri(),E=ci(),w=Kx();function R(x,t,a,g,o,s,r,e){var n=r+(e-r)/2|0,l=~-n,i=-~n,h=a[n];g[s]=h+1;var u=t?t(x[h]):x[h][1],f=s*2+1,v=s*2+2,m=-1/0,T=-1/0;r<=l&&(m=R(x,t,a,g,o,f,r,l)),i<=e&&(T=R(x,t,a,g,o,v,i,e));var C=Math.max(u,m,T),S=h;return C===m?S=o[g[f]-1]:C===T&&(S=o[g[v]-1]),o[h]=S,C}function c(x,t){this.size=x.length,this.intervals=x;var a=null,g=null;Array.isArray(t)&&(a=t[0],g=t[1]);var o=x.length,s=E.getPointerArray(o+1),r=new s(o),e;for(e=1;e<o;e++)r[e]=e;r.sort(function(u,f){return u=x[u],f=x[f],a?(u=a(u),f=a(f)):(u=u[0],f=f[0]),u<f?-1:u>f?1:0});var n=Math.ceil(Math.log2(o+1)),l=Math.pow(2,n)-1,i=new s(l),h=new s(o);R(x,g,r,i,h,0,0,o-1),r=null,this.height=n,this.tree=i,this.augmentations=h,this.startGetter=a,this.endGetter=g,this.stack=new w(s,this.height)}c.prototype.intervalsContainingPoint=function(x){var t=[],a=this.stack;a.clear(),a.push(0);for(var g=this.tree.length,o,s,r,e,n,l,i,h,u;a.size;)o=a.pop(),s=this.tree[o]-1,r=this.intervals[s],e=this.intervals[this.augmentations[s]],i=this.endGetter?this.endGetter(e):e[1],!(x>i)&&(h=o*2+1,h<g&&this.tree[h]!==0&&a.push(h),n=this.startGetter?this.startGetter(r):r[0],l=this.endGetter?this.endGetter(r):r[1],x>=n&&x<=l&&t.push(r),!(x<n)&&(u=o*2+2,u<g&&this.tree[u]!==0&&a.push(u)));return t},c.prototype.intervalsOverlappingInterval=function(x){var t=this.startGetter?this.startGetter(x):x[0],a=this.endGetter?this.endGetter(x):x[1],g=[],o=this.stack;o.clear(),o.push(0);for(var s=this.tree.length,r,e,n,l,i,h,u,f,v;o.size;)r=o.pop(),e=this.tree[r]-1,n=this.intervals[e],l=this.intervals[this.augmentations[e]],u=this.endGetter?this.endGetter(l):l[1],!(t>u)&&(f=r*2+1,f<s&&this.tree[f]!==0&&o.push(f),i=this.startGetter?this.startGetter(n):n[0],h=this.endGetter?this.endGetter(n):n[1],a>=i&&t<=h&&g.push(n),!(a<i)&&(v=r*2+2,v<s&&this.tree[v]!==0&&o.push(v)));return g},c.prototype.inspect=function(){var x=this.intervals.slice();return Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.from=function(x,t){return y.isArrayLike(x)?new c(x,t):new c(Array.from(x),t)},p.exports=c}),jx=Ot(d=>{d.search=function(p,y,E,w){var R=0;E=typeof E<"u"?E:0,w=typeof w<"u"?w:p.length,w--;for(var c;E<=w;)if(R=E+w>>>1,c=p[R],c>y)w=~-R;else if(c<y)E=-~R;else return R;return-1},d.searchWithComparator=function(p,y,E){for(var w=0,R=0,c=~-y.length,x;R<=c;)if(w=R+c>>>1,x=p(y[w],E),x>0)c=~-w;else if(x<0)R=-~w;else return w;return-1},d.lowerBound=function(p,y,E,w){var R=0;for(E=typeof E<"u"?E:0,w=typeof w<"u"?w:p.length;E<w;)R=E+w>>>1,y<=p[R]?w=R:E=-~R;return E},d.lowerBoundWithComparator=function(p,y,E){for(var w=0,R=0,c=y.length;R<c;)w=R+c>>>1,p(E,y[w])<=0?c=w:R=-~w;return R},d.lowerBoundIndices=function(p,y,E,w,R){var c=0;for(w=typeof w<"u"?w:0,R=typeof R<"u"?R:p.length;w<R;)c=w+R>>>1,E<=p[y[c]]?R=c:w=-~c;return w},d.upperBound=function(p,y,E,w){var R=0;for(E=typeof E<"u"?E:0,w=typeof w<"u"?w:p.length;E<w;)R=E+w>>>1,y>=p[R]?E=-~R:w=R;return E},d.upperBoundWithComparator=function(p,y,E){for(var w=0,R=0,c=y.length;R<c;)w=R+c>>>1,p(E,y[w])>=0?R=-~w:c=w;return R}}),$9=Ot(d=>{var p=ci(),y=Ri().isArrayLike,E=jx(),w=wv();function R(a,g){if(a.length===0)return g.slice();if(g.length===0)return a.slice();var o;a[0]>g[0]&&(o=a,a=g,g=o);var s=a[a.length-1],r=g[0];if(s<=r)return p.isTypedArray(a)?p.concat(a,g):a.concat(g);var e=new a.constructor(a.length+g.length),n,l,i;for(n=0,l=a.length;n<l&&(i=a[n],i<=r);n++)e[n]=i;for(var h=n,u=a.length,f=0,v=g.length,m,T;h<u&&f<v;)m=a[h],T=g[f],m<=T?(e[n++]=m,h++):(e[n++]=T,f++);for(;h<u;)e[n++]=a[h++];for(;f<v;)e[n++]=g[f++];return e}function c(a,g){if(a.length===0)return g.slice();if(g.length===0)return a.slice();var o;a[0]>g[0]&&(o=a,a=g,g=o);var s=a[a.length-1],r=g[0];if(s<r)return p.isTypedArray(a)?p.concat(a,g):a.concat(g);var e=new a.constructor,n,l,i;for(n=0,l=a.length;n<l&&(i=a[n],i<r);n++)e.push(i);for(var h=n,u=a.length,f=0,v=g.length,m,T;h<u&&f<v;)m=a[h],T=g[f],m<=T?((e.length===0||e[e.length-1]!==m)&&e.push(m),h++):((e.length===0||e[e.length-1]!==T)&&e.push(T),f++);for(;h<u;)m=a[h++],(e.length===0||e[e.length-1]!==m)&&e.push(m);for(;f<v;)T=g[f++],(e.length===0||e[e.length-1]!==T)&&e.push(T);return e}d.intersectionUniqueArrays=function(a,g){if(a.length===0||g.length===0)return new a.constructor(0);var o;a[0]>g[0]&&(o=a,a=g,g=o);var s=a[a.length-1],r=g[0];if(s<r)return new a.constructor(0);for(var e=new a.constructor,n=E.lowerBound(a,r),l=a.length,i=0,h=E.upperBound(g,s),u,f;n<l&&i<h;)u=a[n],f=g[i],u<f?n=E.lowerBound(a,f,n+1):u>f?i=E.lowerBound(g,u,i+1):(e.push(u),n++,i++);return e};function x(a){var g=0,o=-1/0,s,r,e,n=[];for(r=0,e=a.length;r<e;r++)s=a[r].length,s!==0&&(n.push(a[r]),g+=s,s>o&&(o=s));if(n.length===0)return new a[0].constructor(0);if(n.length===1)return n[0].slice();if(n.length===2)return R(n[0],n[1]);a=n;var l=new a[0].constructor(g),i=p.getPointerArray(o),h=new i(a.length),u=new w(function(m,T){return m=a[m][h[m]],T=a[T][h[T]],m<T?-1:m>T?1:0});for(r=0;r<e;r++)u.push(r);r=0;for(var f,v;u.size;)f=u.pop(),v=a[f][h[f]++],l[r++]=v,h[f]<a[f].length&&u.push(f);return l}function t(a){var g=-1/0,o,s,r,e=[];for(s=0,r=a.length;s<r;s++)o=a[s].length,o!==0&&(e.push(a[s]),o>g&&(g=o));if(e.length===0)return new a[0].constructor(0);if(e.length===1)return e[0].slice();if(e.length===2)return c(e[0],e[1]);a=e;var n=new a[0].constructor,l=p.getPointerArray(g),i=new l(a.length),h=new w(function(v,m){return v=a[v][i[v]],m=a[m][i[m]],v<m?-1:v>m?1:0});for(s=0;s<r;s++)h.push(s);for(var u,f;h.size;)u=h.pop(),f=a[u][i[u]++],(n.length===0||n[n.length-1]!==f)&&n.push(f),i[u]<a[u].length&&h.push(u);return n}d.kWayIntersectionUniqueArrays=function(a){var g=-1/0,o=1/0,s,r,e,n,l;for(n=0,l=a.length;n<l;n++){if(e=a[n].length,e===0)return[];s=a[n][0],r=a[n][e-1],s>g&&(g=s),r<o&&(o=r)}if(g>o)return[];if(g===o)return[g];var i,h,u=a[0],f,v,m,T,C,S,P=g;for(n=1;n<l;n++){for(i=u,h=a[n],u=new Array,f=0,v=E.lowerBound(h,P),m=i.length,T=h.length;f<m&&v<T;)C=i[f],S=h[v],C<S?f=E.lowerBound(i,S,f+1):C>S?v=E.lowerBound(h,C,v+1):(u.push(C),f++,v++);if(u.length===0)return u;P=u[0]}return u},d.merge=function(){if(arguments.length===2){if(y(arguments[0]))return R(arguments[0],arguments[1])}else if(y(arguments[0]))return x(arguments);return null},d.unionUnique=function(){if(arguments.length===2){if(y(arguments[0]))return c(arguments[0],arguments[1])}else if(y(arguments[0]))return t(arguments);return null},d.intersectionUnique=function(){if(arguments.length===2){if(y(arguments[0]))return d.intersectionUniqueArrays(arguments[0],arguments[1])}else if(y(arguments[0]))return d.kWayIntersectionUniqueArrays(arguments);return null}}),K9=Ot((d,p)=>{var y=He(),E=xe(),w=$9();function R(x){return x}function c(x){if(this.clear(),Array.isArray(x)?(this.documentTokenizer=x[0],this.queryTokenizer=x[1]):(this.documentTokenizer=x,this.queryTokenizer=x),this.documentTokenizer||(this.documentTokenizer=R),this.queryTokenizer||(this.queryTokenizer=R),typeof this.documentTokenizer!="function")throw new Error("mnemonist/InvertedIndex.constructor: document tokenizer is not a function.");if(typeof this.queryTokenizer!="function")throw new Error("mnemonist/InvertedIndex.constructor: query tokenizer is not a function.")}c.prototype.clear=function(){this.items=[],this.mapping=new Map,this.size=0,this.dimension=0},c.prototype.add=function(x){this.size++;var t=this.items.length;this.items.push(x);var a=this.documentTokenizer(x);if(!Array.isArray(a))throw new Error("mnemonist/InvertedIndex.add: tokenizer function should return an array of tokens.");for(var g=new Set,o,s,r=0,e=a.length;r<e;r++)o=a[r],!g.has(o)&&(g.add(o),s=this.mapping.get(o),s||(s=[],this.mapping.set(o,s)),s.push(t));return this.dimension=this.mapping.size,this},c.prototype.get=function(x){if(!this.size)return[];var t=this.queryTokenizer(x);if(!Array.isArray(t))throw new Error("mnemonist/InvertedIndex.query: tokenizer function should return an array of tokens.");if(!t.length)return[];var a=this.mapping.get(t[0]),g,o,s;if(typeof a>"u"||a.length===0)return[];if(t.length>1)for(o=1,s=t.length;o<s;o++){if(g=this.mapping.get(t[o]),typeof g>"u"||g.length===0)return[];a=w.intersectionUniqueArrays(a,g)}var r=new Array(a.length);for(o=0,s=r.length;o<s;o++)r[o]=this.items[a[o]];return r},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;for(var a=0,g=this.documents.length;a<g;a++)x.call(t,this.documents[a],a,this)},c.prototype.documents=function(){var x=this.items,t=x.length,a=0;return new y(function(){if(a>=t)return{done:!0};var g=x[a++];return{value:g,done:!1}})},c.prototype.tokens=function(){return this.mapping.keys()},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.documents),c.prototype.inspect=function(){var x=this.items.slice();return Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.from=function(x,t){var a=new c(t);return E(x,function(g){a.add(g)}),a},p.exports=c}),Zx=Ot(d=>{var p=new Float64Array(64),y=new Float64Array(64);function E(R,c,x){var t,a,g,o,s;for(p[0]=c,y[0]=x,a=0;a>=0;)if(g=p[a],o=y[a]-1,g<o){for(t=R[g];g<o;){for(;R[o]>=t&&g<o;)o--;for(g<o&&(R[g++]=R[o]);R[g]<=t&&g<o;)g++;g<o&&(R[o--]=R[g])}R[g]=t,p[a+1]=g+1,y[a+1]=y[a],y[a++]=g,y[a]-p[a]>y[a-1]-p[a-1]&&(s=p[a],p[a]=p[a-1],p[a-1]=s,s=y[a],y[a]=y[a-1],y[a-1]=s)}else a--;return R}d.inplaceQuickSort=E;function w(R,c,x,t){var a,g,o,s,r,e;for(p[0]=x,y[0]=t,g=0;g>=0;)if(o=p[g],s=y[g]-1,o<s){for(r=c[o],a=R[r];o<s;){for(;R[c[s]]>=a&&o<s;)s--;for(o<s&&(c[o++]=c[s]);R[c[o]]<=a&&o<s;)o++;o<s&&(c[s--]=c[o])}c[o]=r,p[g+1]=o+1,y[g+1]=y[g],y[g++]=o,y[g]-p[g]>y[g-1]-p[g-1]&&(e=p[g],p[g]=p[g-1],p[g-1]=e,e=y[g],y[g]=y[g-1],y[g-1]=e)}else g--;return c}d.inplaceQuickSortIndices=w}),j9=Ot((d,p)=>{var y=Ri(),E=ci(),w=du().createTupleComparator,R=Rv(),c=Zx().inplaceQuickSortIndices;function x(r,e,n,l){var i,h=0,u;for(i=0;i<r;i++)u=e[i][n]-l[i],h+=u*u;return h}function t(r,e){var n=e.length,l=new Array(r),i=new Array(n),h,u=E.getPointerArray(n),f=new u(n),v,m,T,C=!0;for(v=0;v<r;v++){for(h=new Float64Array(n),m=0;m<n;m++)T=e[m],h[m]=T[1][v],C&&(i[m]=T[0],f[m]=m);C=!1,l[v]=h}return{axes:l,ids:f,labels:i}}function a(r,e,n,l){for(var i=l.length,h=E.getPointerArray(i+1),u=new h(i),f=new h(i),v=new h(i),m=[[0,0,n.length,-1,0]],T,C,S,P,A,L,F,B,D=0;m.length!==0;)T=m.pop(),B=T[0],L=T[1],F=T[2],C=T[3],S=T[4],c(e[B],n,L,F),i=F-L,P=L+(i>>>1),A=n[P],u[D]=A,C>-1&&(S===0?f[C]=D+1:v[C]=D+1),B=(B+1)%r,P!==L&&P!==F-1&&m.push([B,P+1,F,D,1]),P!==L&&m.push([B,L,P,D,0]),D++;return{axes:e,labels:l,pivots:u,lefts:f,rights:v}}function g(r,e){this.dimensions=r,this.visited=0,this.axes=e.axes,this.labels=e.labels,this.pivots=e.pivots,this.lefts=e.lefts,this.rights=e.rights,this.size=this.labels.length}g.prototype.nearestNeighbor=function(r){var e=1/0,n=null,l=this.dimensions,i=this.axes,h=this.pivots,u=this.lefts,f=this.rights,v=0;function m(T,C){v++;var S=u[C],P=f[C],A=h[C],L=x(l,i,A,r);if(!(L<e&&(n=A,e=L,L===0))){var F=i[T][A]-r[T];T=(T+1)%l,F>0?S!==0&&m(T,S-1):P!==0&&m(T,P-1),F*F<e&&(F>0?P!==0&&m(T,P-1):S!==0&&m(T,S-1))}}return m(0,0),this.visited=v,this.labels[n]};var o=w(3),s=w(2);g.prototype.kNearestNeighbors=function(r,e){if(r<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");if(r=Math.min(r,this.size),r===1)return[this.nearestNeighbor(e)];var n=new R(Array,o,r),l=this.dimensions,i=this.axes,h=this.pivots,u=this.lefts,f=this.rights,v=0;function m(S,P){var A=u[P],L=f[P],F=h[P],B=x(l,i,F,e);n.push([B,v++,F]);var D=e[S],I=i[S][F],G=D-I;S=(S+1)%l,D<I?A!==0&&m(S,A-1):L!==0&&m(S,L-1),(G*G<n.peek()[0]||n.size<r)&&(D<I?L!==0&&m(S,L-1):A!==0&&m(S,A-1))}m(0,0),this.visited=v;for(var T=n.consume(),C=0;C<T.length;C++)T[C]=this.labels[T[C][2]];return T},g.prototype.linearKNearestNeighbors=function(r,e){if(r<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");r=Math.min(r,this.size);var n=new R(Array,s,r),l,i,h;for(l=0,i=this.size;l<i;l++)h=x(this.dimensions,this.axes,this.pivots[l],e),n.push([h,l]);var u=n.consume();for(l=0;l<u.length;l++)u[l]=this.labels[this.pivots[u[l][1]]];return u},g.prototype.inspect=function(){var r=new Map;r.dimensions=this.dimensions,Object.defineProperty(r,"constructor",{value:g,enumerable:!1});var e,n,l;for(e=0;e<this.size;e++){for(l=new Array(this.dimensions),n=0;n<this.dimensions;n++)l[n]=this.axes[n][e];r.set(this.labels[e],l)}return r},typeof Symbol<"u"&&(g.prototype[Symbol.for("nodejs.util.inspect.custom")]=g.prototype.inspect),g.from=function(r,e){var n=y.toArray(r),l=t(e,n),i=a(e,l.axes,l.ids,l.labels);return new g(e,i)},g.fromAxes=function(r,e){e||(e=E.indices(r[0].length));var n=r.length,l=a(r.length,r,E.indices(e.length),e);return new g(n,l)},p.exports=g}),Z9=Ot((d,p)=>{var y=He(),E=xe();function w(){this.clear()}w.prototype.clear=function(){this.head=null,this.tail=null,this.size=0},w.prototype.first=function(){return this.head?this.head.item:void 0},w.prototype.peek=w.prototype.first,w.prototype.last=function(){return this.tail?this.tail.item:void 0},w.prototype.push=function(R){var c={item:R,next:null};return this.head?(this.tail.next=c,this.tail=c):(this.head=c,this.tail=c),this.size++,this.size},w.prototype.unshift=function(R){var c={item:R,next:null};return this.head?(this.head.next||(this.tail=this.head),c.next=this.head,this.head=c):(this.head=c,this.tail=c),this.size++,this.size},w.prototype.shift=function(){if(this.size){var R=this.head;return this.head=R.next,this.size--,R.item}},w.prototype.forEach=function(R,c){if(this.size){c=arguments.length>1?c:this;for(var x=this.head,t=0;x;)R.call(c,x.item,t,this),x=x.next,t++}},w.prototype.toArray=function(){if(!this.size)return[];for(var R=new Array(this.size),c=0,x=this.size,t=this.head;c<x;c++)R[c]=t.item,t=t.next;return R},w.prototype.values=function(){var R=this.head;return new y(function(){if(!R)return{done:!0};var c=R.item;return R=R.next,{value:c,done:!1}})},w.prototype.entries=function(){var R=this.head,c=0;return new y(function(){if(!R)return{done:!0};var x=R.item;return R=R.next,c++,{value:[c-1,x],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R){var c=new w;return E(R,function(x){c.push(x)}),c},p.exports=w}),Lv=Ot((d,p)=>{var y=He(),E=xe(),w=ci(),R=Ri();function c(x,t,a){if(arguments.length<2&&(a=x,x=null,t=null),this.capacity=a,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var g=w.getPointerArray(a);this.forward=new g(a),this.backward=new g(a),this.K=typeof x=="function"?new x(a):new Array(a),this.V=typeof t=="function"?new t(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items={}}c.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},c.prototype.splayOnTop=function(x){var t=this.head;if(this.head===x)return this;var a=this.backward[x],g=this.forward[x];return this.tail===x?this.tail=a:this.backward[g]=a,this.forward[a]=g,this.backward[t]=x,this.head=x,this.forward[x]=t,this},c.prototype.set=function(x,t){var a=this.items[x];if(typeof a<"u"){this.splayOnTop(a),this.V[a]=t;return}this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],delete this.items[this.K[a]]),this.items[x]=a,this.K[a]=x,this.V[a]=t,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},c.prototype.setpop=function(x,t){var a=null,g=null,o=this.items[x];return typeof o<"u"?(this.splayOnTop(o),a=this.V[o],this.V[o]=t,{evicted:!1,key:x,value:a}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],a=this.V[o],g=this.K[o],delete this.items[this.K[o]]),this.items[x]=o,this.K[o]=x,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,g?{evicted:!0,key:g,value:a}:null)},c.prototype.has=function(x){return x in this.items},c.prototype.get=function(x){var t=this.items[x];if(typeof t<"u")return this.splayOnTop(t),this.V[t]},c.prototype.peek=function(x){var t=this.items[x];if(typeof t<"u")return this.V[t]},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;for(var a=0,g=this.size,o=this.head,s=this.K,r=this.V,e=this.forward;a<g;)x.call(t,r[o],s[o],this),o=e[o],a++},c.prototype.keys=function(){var x=0,t=this.size,a=this.head,g=this.K,o=this.forward;return new y(function(){if(x>=t)return{done:!0};var s=g[a];return x++,x<t&&(a=o[a]),{done:!1,value:s}})},c.prototype.values=function(){var x=0,t=this.size,a=this.head,g=this.V,o=this.forward;return new y(function(){if(x>=t)return{done:!0};var s=g[a];return x++,x<t&&(a=o[a]),{done:!1,value:s}})},c.prototype.entries=function(){var x=0,t=this.size,a=this.head,g=this.K,o=this.V,s=this.forward;return new y(function(){if(x>=t)return{done:!0};var r=g[a],e=o[a];return x++,x<t&&(a=s[a]),{done:!1,value:[r,e]}})},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.entries),c.prototype.inspect=function(){for(var x=new Map,t=this.entries(),a;a=t.next(),!a.done;)x.set(a.value[0],a.value[1]);return Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.from=function(x,t,a,g){if(arguments.length<2){if(g=R.guessLength(x),typeof g!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(g=t,t=null,a=null);var o=new c(t,a,g);return E(x,function(s,r){o.set(r,s)}),o},p.exports=c}),Q9=Ot((d,p)=>{var y=Lv(),E=xe(),w=ci(),R=Ri();function c(t,a,g){arguments.length<2?y.call(this,t):y.call(this,t,a,g);var o=w.getPointerArray(this.capacity);this.deleted=new o(this.capacity),this.deletedSize=0}for(x in y.prototype)c.prototype[x]=y.prototype[x];var x;typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=y.prototype[Symbol.iterator]),c.prototype.clear=function(){y.prototype.clear.call(this),this.deletedSize=0},c.prototype.set=function(t,a){var g=this.items[t];if(typeof g<"u"){this.splayOnTop(g),this.V[g]=a;return}this.size<this.capacity?(this.deletedSize>0?g=this.deleted[--this.deletedSize]:g=this.size,this.size++):(g=this.tail,this.tail=this.backward[g],delete this.items[this.K[g]]),this.items[t]=g,this.K[g]=t,this.V[g]=a,this.forward[g]=this.head,this.backward[this.head]=g,this.head=g},c.prototype.setpop=function(t,a){var g=null,o=null,s=this.items[t];return typeof s<"u"?(this.splayOnTop(s),g=this.V[s],this.V[s]=a,{evicted:!1,key:t,value:g}):(this.size<this.capacity?(this.deletedSize>0?s=this.deleted[--this.deletedSize]:s=this.size,this.size++):(s=this.tail,this.tail=this.backward[s],g=this.V[s],o=this.K[s],delete this.items[this.K[s]]),this.items[t]=s,this.K[s]=t,this.V[s]=a,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,o?{evicted:!0,key:o,value:g}:null)},c.prototype.delete=function(t){var a=this.items[t];if(typeof a>"u")return!1;if(delete this.items[t],this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,!0;var g=this.backward[a],o=this.forward[a];return this.head===a&&(this.head=o),this.tail===a&&(this.tail=g),this.forward[g]=o,this.backward[o]=g,this.size--,this.deleted[this.deletedSize++]=a,!0},c.prototype.remove=function(t,a=void 0){var g=this.items[t];if(typeof g>"u")return a;var o=this.V[g];if(delete this.items[t],this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,o;var s=this.backward[g],r=this.forward[g];return this.head===g&&(this.head=r),this.tail===g&&(this.tail=s),this.forward[s]=r,this.backward[r]=s,this.size--,this.deleted[this.deletedSize++]=g,o},c.from=function(t,a,g,o){if(arguments.length<2){if(o=R.guessLength(t),typeof o!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=a,a=null,g=null);var s=new c(a,g,o);return E(t,function(r,e){s.set(e,r)}),s},p.exports=c}),Qx=Ot((d,p)=>{var y=Lv(),E=xe(),w=ci(),R=Ri();function c(x,t,a){if(arguments.length<2&&(a=x,x=null,t=null),this.capacity=a,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-map: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-map: capacity should be a finite positive integer.");var g=w.getPointerArray(a);this.forward=new g(a),this.backward=new g(a),this.K=typeof x=="function"?new x(a):new Array(a),this.V=typeof t=="function"?new t(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items=new Map}c.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items.clear()},c.prototype.set=function(x,t){var a=this.items.get(x);if(typeof a<"u"){this.splayOnTop(a),this.V[a]=t;return}this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],this.items.delete(this.K[a])),this.items.set(x,a),this.K[a]=x,this.V[a]=t,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},c.prototype.setpop=function(x,t){var a=null,g=null,o=this.items.get(x);return typeof o<"u"?(this.splayOnTop(o),a=this.V[o],this.V[o]=t,{evicted:!1,key:x,value:a}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],a=this.V[o],g=this.K[o],this.items.delete(this.K[o])),this.items.set(x,o),this.K[o]=x,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,g?{evicted:!0,key:g,value:a}:null)},c.prototype.has=function(x){return this.items.has(x)},c.prototype.get=function(x){var t=this.items.get(x);if(typeof t<"u")return this.splayOnTop(t),this.V[t]},c.prototype.peek=function(x){var t=this.items.get(x);if(typeof t<"u")return this.V[t]},c.prototype.splayOnTop=y.prototype.splayOnTop,c.prototype.forEach=y.prototype.forEach,c.prototype.keys=y.prototype.keys,c.prototype.values=y.prototype.values,c.prototype.entries=y.prototype.entries,typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.entries),c.prototype.inspect=y.prototype.inspect,c.from=function(x,t,a,g){if(arguments.length<2){if(g=R.guessLength(x),typeof g!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(g=t,t=null,a=null);var o=new c(t,a,g);return E(x,function(s,r){o.set(r,s)}),o},p.exports=c}),k9=Ot((d,p)=>{var y=Qx(),E=xe(),w=ci(),R=Ri();function c(t,a,g){arguments.length<2?y.call(this,t):y.call(this,t,a,g);var o=w.getPointerArray(this.capacity);this.deleted=new o(this.capacity),this.deletedSize=0}for(x in y.prototype)c.prototype[x]=y.prototype[x];var x;typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=y.prototype[Symbol.iterator]),c.prototype.clear=function(){y.prototype.clear.call(this),this.deletedSize=0},c.prototype.set=function(t,a){var g=this.items.get(t);if(typeof g<"u"){this.splayOnTop(g),this.V[g]=a;return}this.size<this.capacity?(this.deletedSize>0?g=this.deleted[--this.deletedSize]:g=this.size,this.size++):(g=this.tail,this.tail=this.backward[g],this.items.delete(this.K[g])),this.items.set(t,g),this.K[g]=t,this.V[g]=a,this.forward[g]=this.head,this.backward[this.head]=g,this.head=g},c.prototype.setpop=function(t,a){var g=null,o=null,s=this.items.get(t);return typeof s<"u"?(this.splayOnTop(s),g=this.V[s],this.V[s]=a,{evicted:!1,key:t,value:g}):(this.size<this.capacity?(this.deletedSize>0?s=this.deleted[--this.deletedSize]:s=this.size,this.size++):(s=this.tail,this.tail=this.backward[s],g=this.V[s],o=this.K[s],this.items.delete(this.K[s])),this.items.set(t,s),this.K[s]=t,this.V[s]=a,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,o?{evicted:!0,key:o,value:g}:null)},c.prototype.delete=function(t){var a=this.items.get(t);if(typeof a>"u")return!1;if(this.items.delete(t),this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,!0;var g=this.backward[a],o=this.forward[a];return this.head===a&&(this.head=o),this.tail===a&&(this.tail=g),this.forward[g]=o,this.backward[o]=g,this.size--,this.deleted[this.deletedSize++]=a,!0},c.prototype.remove=function(t,a=void 0){var g=this.items.get(t);if(typeof g>"u")return a;var o=this.V[g];if(this.items.delete(t),this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,o;var s=this.backward[g],r=this.forward[g];return this.head===g&&(this.head=r),this.tail===g&&(this.tail=s),this.forward[s]=r,this.backward[r]=s,this.size--,this.deleted[this.deletedSize++]=g,o},c.from=function(t,a,g,o){if(arguments.length<2){if(o=R.guessLength(t),typeof o!="number")throw new Error("mnemonist/lru-map.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=a,a=null,g=null);var s=new c(a,g,o);return E(t,function(r,e){s.set(e,r)}),s},p.exports=c}),J9=Ot((d,p)=>{var y=He(),E=xe(),w=Rv(),R=function(x,t){return x[1]>t[1]?-1:x[1]<t[1]?1:0};function c(){this.items=new Map,Object.defineProperty(this.items,"constructor",{value:c,enumerable:!1}),this.clear()}c.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()},c.prototype.add=function(x,t){if(t===0)return this;if(t<0)return this.remove(x,-t);if(t=t||1,typeof t!="number")throw new Error("mnemonist/multi-set.add: given count should be a number.");this.size+=t;let a=this.items.get(x);return a===void 0?this.dimension++:t+=a,this.items.set(x,t),this},c.prototype.set=function(x,t){var a;if(typeof t!="number")throw new Error("mnemonist/multi-set.set: given count should be a number.");return t<=0?(a=this.items.get(x),typeof a<"u"&&(this.size-=a,this.dimension--),this.items.delete(x),this):(t=t||1,a=this.items.get(x),typeof a=="number"?this.items.set(x,a+t):(this.dimension++,this.items.set(x,t)),this.size+=t,this)},c.prototype.has=function(x){return this.items.has(x)},c.prototype.delete=function(x){var t=this.items.get(x);return t===0?!1:(this.size-=t,this.dimension--,this.items.delete(x),!0)},c.prototype.remove=function(x,t){if(t!==0){if(t<0)return this.add(x,-t);if(t=t||1,typeof t!="number")throw new Error("mnemonist/multi-set.remove: given count should be a number.");var a=this.items.get(x);if(typeof a<"u"){var g=Math.max(0,a-t);g===0?(this.items.delete(x),this.size-=a,this.dimension--):(this.items.set(x,g),this.size-=t)}}},c.prototype.edit=function(x,t){var a=this.multiplicity(x);if(a!==0){var g=this.multiplicity(t);return this.items.set(t,a+g),this.items.delete(x),this}},c.prototype.multiplicity=function(x){var t=this.items.get(x);return typeof t>"u"?0:t},c.prototype.get=c.prototype.multiplicity,c.prototype.count=c.prototype.multiplicity,c.prototype.frequency=function(x){if(this.size===0)return 0;var t=this.multiplicity(x);return t/this.size},c.prototype.top=function(x){if(typeof x!="number"||x<=0)throw new Error("mnemonist/multi-set.top: n must be a number > 0.");for(var t=new w(Array,R,x),a=this.items.entries(),g;g=a.next(),!g.done;)t.push(g.value);return t.consume()},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;var a;this.items.forEach(function(g,o){for(a=0;a<g;a++)x.call(t,o,o)})},c.prototype.forEachMultiplicity=function(x,t){t=arguments.length>1?t:this,this.items.forEach(x,t)},c.prototype.keys=function(){return this.items.keys()},c.prototype.values=function(){var x=this.items.entries(),t=!1,a,g,o,s;return new y(function r(){if(!t){if(a=x.next(),a.done)return{done:!0};t=!0,g=a.value[0],o=a.value[1],s=0}return s>=o?(t=!1,r()):(s++,{done:!1,value:g})})},c.prototype.multiplicities=function(){return this.items.entries()},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.values),c.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.prototype.toJSON=function(){return this.items},c.from=function(x){var t=new c;return E(x,function(a){t.add(a)}),t},c.isSubset=function(x,t){var a=x.multiplicities(),g,o,s;if(x===t)return!0;if(x.dimension>t.dimension)return!1;for(;g=a.next(),!g.done;)if(o=g.value[0],s=g.value[1],t.multiplicity(o)<s)return!1;return!0},c.isSuperset=function(x,t){return c.isSubset(t,x)},p.exports=c}),q9=Ot((d,p)=>{var y=He(),E=xe();function w(r,e,n){return((Math.pow(r,2)-Math.pow(Math.abs(e-n),2))/2|0)+r+1}function R(r,e){for(var n=0,l=0,i=e+1;l<i;l++)n+=w(r,e,l);return n}function c(r,e){return r.length>e.length?-1:r.length<e.length?1:r<e?-1:r>e?1:0}function x(r,e){var n=r+1,l=e/n|0,i=l+1,h,u,f=e-l*n,v=n-f,m=new Array(r+1);for(h=0;h<v;h++)m[h]=[h*l,l];var T=(h-1)*l+l;for(u=0;u<f;u++)m[h+u]=[T+u*i,i];return m}function t(r,e){var n=e.length,l=r+1,i=n/l|0,h=i+1,u,f,v,m=n-i*l,T=l-m,C=new Array(r+1);for(f=0;f<T;f++)u=f*i,C[f]=e.slice(u,u+i);var S=(f-1)*i+i;for(v=0;v<m;v++)u=S+v*h,C[f+v]=e.slice(u,u+h);return C}function a(r,e,n){if(e===0)return 0;var l=n.length,i=r+1,h=l/i|0,u=h+1,f=l-h*i,v=i-f;if(e<=v-1)return e*h;var m=e-v;return v*h+m*u}function g(r,e,n,l,i,h){var u=i-n,f=i+n,v=r-n,m=i+e-v,T=i+e+v,C=l-h;return[Math.max(0,u,m),Math.min(f,T,C)]}function o(r,e,n,l,i,h){var u=e.length,f=u-n,v=g(r,f,l,u,i,h),m=v[0],T=v[1],C="",S=[],P,A,L;for(A=m,L=T+1;A<L;A++)P=e.slice(A,A+h),P!==C&&(S.push(P),C=P);return S}function s(r,e){if(typeof r!="function")throw new Error("mnemonist/passjoin-index: `levenshtein` should be a function returning edit distance between two strings.");if(typeof e!="number"||e<1)throw new Error("mnemonist/passjoin-index: `k` should be a number > 0");this.levenshtein=r,this.k=e,this.clear()}s.prototype.clear=function(){this.size=0,this.strings=[],this.invertedIndices={}},s.prototype.add=function(r){var e=r.length,n=this.size;this.strings.push(r),this.size++;var l=t(this.k,r),i=this.invertedIndices[e];typeof i>"u"&&(i={},this.invertedIndices[e]=i);var h,u,f,v,m;for(v=0,m=l.length;v<m;v++)h=l[v],f=h+v,u=i[f],typeof u>"u"?(u=[n],i[f]=u):u.push(n);return this},s.prototype.search=function(r){var e=r.length,n=this.k,l=new Set,i,h,u,f,v,m,T,C,S,P,A,L,F,B,D;for(C=Math.max(0,e-n),S=e+n+1;C<S;C++){var I=this.invertedIndices[C];if(typeof I<"u"){for(T=x(n,C),P=0,A=T.length;P<A;P++)for(u=T[P][0],f=T[P][1],m=o(n,r,C,P,u,f),m.length||(m=[""]),L=0,F=m.length;L<F;L++)if(v=m[L]+P,i=I[v],typeof i<"u")for(B=0,D=i.length;B<D;B++)h=this.strings[i[B]],(e<=n&&C<=n||!l.has(h)&&this.levenshtein(r,h)<=n)&&l.add(h)}}return l},s.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var n=0,l=this.strings.length;n<l;n++)r.call(e,this.strings[n],n,this)},s.prototype.values=function(){var r=this.strings,e=r.length,n=0;return new y(function(){if(n>=e)return{done:!0};var l=r[n];return n++,{value:l,done:!1}})},typeof Symbol<"u"&&(s.prototype[Symbol.iterator]=s.prototype.values),s.prototype.inspect=function(){var r=this.strings.slice();return Object.defineProperty(r,"constructor",{value:s,enumerable:!1}),r},typeof Symbol<"u"&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(r,e,n){var l=new s(e,n);return E(r,function(i){l.add(i)}),l},s.countKeys=R,s.comparator=c,s.partition=x,s.segments=t,s.segmentPos=a,s.multiMatchAwareInterval=g,s.multiMatchAwareSubstrings=o,p.exports=s}),_9=Ot((d,p)=>{var y=He(),E=xe();function w(){this.clear()}w.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},w.prototype.enqueue=function(R){return this.items.push(R),++this.size},w.prototype.dequeue=function(){if(this.size){var R=this.items[this.offset];return++this.offset*2>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,R}},w.prototype.peek=function(){if(this.size)return this.items[this.offset]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.offset,t=0,a=this.items.length;x<a;x++,t++)R.call(c,this.items[x],t,this)},w.prototype.toArray=function(){return this.items.slice(this.offset)},w.prototype.values=function(){var R=this.items,c=this.offset;return new y(function(){if(c>=R.length)return{done:!0};var x=R[c];return c++,{value:x,done:!1}})},w.prototype.entries=function(){var R=this.items,c=this.offset,x=0;return new y(function(){if(c>=R.length)return{done:!0};var t=R[c];return c++,{value:[x++,t],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R){var c=new w;return E(R,function(x){c.enqueue(x)}),c},w.of=function(){return w.from(arguments)},p.exports=w}),tR=Ot((d,p)=>{var y=He(),E=xe();function w(){this.clear()}w.prototype.clear=function(){this.items=[],this.size=0},w.prototype.push=function(R){return this.items.push(R),++this.size},w.prototype.pop=function(){if(this.size!==0)return this.size--,this.items.pop()},w.prototype.peek=function(){return this.items[this.size-1]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=0,t=this.items.length;x<t;x++)R.call(c,this.items[t-x-1],x,this)},w.prototype.toArray=function(){for(var R=new Array(this.size),c=this.size-1,x=this.size;x--;)R[x]=this.items[c-x];return R},w.prototype.values=function(){var R=this.items,c=R.length,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return x++,{value:t,done:!1}})},w.prototype.entries=function(){var R=this.items,c=R.length,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return{value:[x++,t],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R){var c=new w;return E(R,function(x){c.push(x)}),c},w.of=function(){return w.from(arguments)},p.exports=w}),eR=Ot(d=>{d.intersection=function(){if(arguments.length<2)throw new Error("mnemonist/Set.intersection: needs at least two arguments.");var p=new Set,y=1/0,E=null,w,R,c=arguments.length;for(R=0;R<c;R++){if(w=arguments[R],w.size===0)return p;w.size<y&&(y=w.size,E=w)}for(var x=E.values(),t,a,g,o;t=x.next(),!t.done;){for(a=t.value,g=!0,R=0;R<c;R++)if(o=arguments[R],o!==E&&!o.has(a)){g=!1;break}g&&p.add(a)}return p},d.union=function(){if(arguments.length<2)throw new Error("mnemonist/Set.union: needs at least two arguments.");var p=new Set,y,E=arguments.length,w,R;for(y=0;y<E;y++)for(w=arguments[y].values();R=w.next(),!R.done;)p.add(R.value);return p},d.difference=function(p,y){if(!p.size)return new Set;if(!y.size)return new Set(p);for(var E=new Set,w=p.values(),R;R=w.next(),!R.done;)y.has(R.value)||E.add(R.value);return E},d.symmetricDifference=function(p,y){for(var E=new Set,w=p.values(),R;R=w.next(),!R.done;)y.has(R.value)||E.add(R.value);for(w=y.values();R=w.next(),!R.done;)p.has(R.value)||E.add(R.value);return E},d.isSubset=function(p,y){var E=p.values(),w;if(p===y)return!0;if(p.size>y.size)return!1;for(;w=E.next(),!w.done;)if(!y.has(w.value))return!1;return!0},d.isSuperset=function(p,y){return d.isSubset(y,p)},d.add=function(p,y){for(var E=y.values(),w;w=E.next(),!w.done;)p.add(w.value)},d.subtract=function(p,y){for(var E=y.values(),w;w=E.next(),!w.done;)p.delete(w.value)},d.intersect=function(p,y){for(var E=p.values(),w;w=E.next(),!w.done;)y.has(w.value)||p.delete(w.value)},d.disjunct=function(p,y){for(var E=p.values(),w,R=[];w=E.next(),!w.done;)y.has(w.value)&&R.push(w.value);for(E=y.values();w=E.next(),!w.done;)p.has(w.value)||p.add(w.value);for(var c=0,x=R.length;c<x;c++)p.delete(R[c])},d.intersectionSize=function(p,y){var E;if(p.size>y.size&&(E=p,p=y,y=E),p.size===0)return 0;if(p===y)return p.size;for(var w=p.values(),R,c=0;R=w.next(),!R.done;)y.has(R.value)&&c++;return c},d.unionSize=function(p,y){var E=d.intersectionSize(p,y);return p.size+y.size-E},d.jaccard=function(p,y){var E=d.intersectionSize(p,y);if(E===0)return 0;var w=p.size+y.size-E;return E/w},d.overlap=function(p,y){var E=d.intersectionSize(p,y);return E===0?0:E/Math.min(p.size,y.size)}}),iR=Ot((d,p)=>{var y=He(),E=ci().getPointerArray;function w(R){var c=E(R);this.start=0,this.size=0,this.capacity=R,this.dense=new c(R),this.sparse=new c(R)}w.prototype.clear=function(){this.start=0,this.size=0},w.prototype.has=function(R){if(this.size===0)return!1;var c=this.sparse[R],x=c<this.capacity&&c>=this.start&&c<this.start+this.size||c<(this.start+this.size)%this.capacity;return x&&this.dense[c]===R},w.prototype.enqueue=function(R){var c=this.sparse[R];if(this.size!==0){var x=c<this.capacity&&c>=this.start&&c<this.start+this.size||c<(this.start+this.size)%this.capacity;if(x&&this.dense[c]===R)return this}return c=(this.start+this.size)%this.capacity,this.dense[c]=R,this.sparse[R]=c,this.size++,this},w.prototype.dequeue=function(){if(this.size!==0){var R=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var c=this.dense[R];return this.sparse[c]=this.capacity,c}},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.capacity,t=this.size,a=this.start,g=0;g<t;)R.call(c,this.dense[a],g,this),a++,g++,a===x&&(a=0)},w.prototype.values=function(){var R=this.dense,c=this.capacity,x=this.size,t=this.start,a=0;return new y(function(){if(a>=x)return{done:!0};var g=R[t];return t++,a++,t===c&&(t=0),{value:g,done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=[];return this.forEach(function(c){R.push(c)}),Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R.capacity=this.capacity,R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),p.exports=w}),nR=Ot((d,p)=>{var y=He(),E=ci().getPointerArray;function w(R,c){arguments.length<2&&(c=R,R=Array);var x=E(c);this.size=0,this.length=c,this.dense=new x(c),this.sparse=new x(c),this.vals=new R(c)}w.prototype.clear=function(){this.size=0},w.prototype.has=function(R){var c=this.sparse[R];return c<this.size&&this.dense[c]===R},w.prototype.get=function(R){var c=this.sparse[R];if(c<this.size&&this.dense[c]===R)return this.vals[c]},w.prototype.set=function(R,c){var x=this.sparse[R];return x<this.size&&this.dense[x]===R?(this.vals[x]=c,this):(this.dense[this.size]=R,this.sparse[R]=this.size,this.vals[this.size]=c,this.size++,this)},w.prototype.delete=function(R){var c=this.sparse[R];return c>=this.size||this.dense[c]!==R?!1:(c=this.dense[this.size-1],this.dense[this.sparse[R]]=c,this.sparse[c]=this.sparse[R],this.size--,!0)},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=0;x<this.size;x++)R.call(c,this.vals[x],this.dense[x])},w.prototype.keys=function(){var R=this.size,c=this.dense,x=0;return new y(function(){if(x<R){var t=c[x];return x++,{value:t}}return{done:!0}})},w.prototype.values=function(){var R=this.size,c=this.vals,x=0;return new y(function(){if(x<R){var t=c[x];return x++,{value:t}}return{done:!0}})},w.prototype.entries=function(){var R=this.size,c=this.dense,x=this.vals,t=0;return new y(function(){if(t<R){var a=[c[t],x[t]];return t++,{value:a}}return{done:!0}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.entries),w.prototype.inspect=function(){for(var R=new Map,c=0;c<this.size;c++)R.set(this.dense[c],this.vals[c]);return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R.length=this.length,this.vals.constructor!==Array&&(R.type=this.vals.constructor.name),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),p.exports=w}),rR=Ot((d,p)=>{var y=He(),E=ci().getPointerArray;function w(R){var c=E(R);this.size=0,this.length=R,this.dense=new c(R),this.sparse=new c(R)}w.prototype.clear=function(){this.size=0},w.prototype.has=function(R){var c=this.sparse[R];return c<this.size&&this.dense[c]===R},w.prototype.add=function(R){var c=this.sparse[R];return c<this.size&&this.dense[c]===R?this:(this.dense[this.size]=R,this.sparse[R]=this.size,this.size++,this)},w.prototype.delete=function(R){var c=this.sparse[R];return c>=this.size||this.dense[c]!==R?!1:(c=this.dense[this.size-1],this.dense[this.sparse[R]]=c,this.sparse[c]=this.sparse[R],this.size--,!0)},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x,t=0;t<this.size;t++)x=this.dense[t],R.call(c,x,x)},w.prototype.values=function(){var R=this.size,c=this.dense,x=0;return new y(function(){if(x<R){var t=c[x];return x++,{value:t}}return{done:!0}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){for(var R=new Set,c=0;c<this.size;c++)R.add(this.dense[c]);return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R.length=this.length,R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),p.exports=w}),sR=Ot((d,p)=>{var y=xe(),E=2,w=2,R=new Set([0,1,2]),c={0:"Returns only the top suggestion",1:"Returns suggestions with the smallest edit distance",2:"Returns every suggestion (no early termination)"};function x(e){var n=new Set;return typeof e=="number"&&n.add(e),{suggestions:n,count:0}}function t(e,n,l){return{term:e||"",distance:n||0,count:l||0}}function a(e,n,l,i){i=i||new Set,n++;var h,u=e.length,f;if(u>1)for(f=0;f<u;f++)h=e.substring(0,f)+e.substring(f+1),i.has(h)||(i.add(h),n<l&&a(h,n,l,i));return i}function g(e,n,l,i,h,u){var f=l.suggestions.values().next().value;n<2&&l.suggestions.size>0&&e[f].length-u.length>i.length-u.length&&(l.suggestions=new Set,l.count=0),(n===2||!l.suggestions.size||e[f].length-u.length>=i.length-u.length)&&l.suggestions.add(h)}function o(e,n){var l=e.length,i=n.length,h=[[]],u=l+i,f=new Map,v,m,T;for(h[0][0]=u,v=0;v<=l;v++)h[v+1]||(h[v+1]=[]),h[v+1][1]=v,h[v+1][0]=u;for(T=0;T<=i;T++)h[1][T+1]=T,h[0][T+1]=u;var C=e+n,S;for(v=0,m=C.length;v<m;v++)S=C[v],f.has(S)||f.set(S,0);for(v=1;v<=l;v++){var P=0;for(T=1;T<=i;T++){var A=f.get(n[T-1]),L=P;e[v-1]===n[T-1]?(h[v+1][T+1]=h[v][T],P=T):h[v+1][T+1]=Math.min(h[v][T],h[v+1][T],h[v][T+1])+1,h[v+1][T+1]=Math.min(h[v+1][T+1],h[A][L]+(v-A-1)+1+(T-L-1))}f.set(e[v-1],v)}return h[l+1][i+1]}function s(e,n,l,i,h,u){var f=u.length;if(f-i>h)return[];for(var v=[u],m=new Set,T=new Set,C=[],S,P;v.length>0&&(S=v.shift(),!(l<2&&C.length>0&&f-S.length>C[0].distance));){if(P=e[S],P!==void 0){if(typeof P=="number"&&(P=x(P)),P.count>0&&!T.has(S)){T.add(S);var A=t(S,f-S.length,P.count);if(C.push(A),l<2&&f-S.length===0)break}P.suggestions.forEach(D=>{var I=n[D];if(!T.has(I)){T.add(I);var G=0;if(u!==I)if(I.length===S.length)G=f-S.length;else if(f===S.length)G=I.length-S.length;else{for(var z=0,W=0,Y=I.length;z<Y&&z<f&&I[z]===u[z];)z++;for(;W<Y-z&&W<f&&I[Y-W-1]===u[f-W-1];)W++;z>0||W>0?G=o(I.substr(z,Y-z-W),u.substr(z,f-z-W)):G=o(I,u)}if(l<2&&C.length>0&&C[0].distance>G&&(C=[]),!(l<2&&C.length>0&&G>C[0].distance)&&G<=i){var K=e[I];K!==void 0&&C.push(t(I,G,K.count))}}})}if(f-S.length<i){if(l<2&&C.length>0&&f-S.length>=C[0].distance)continue;for(var L=0,F=S.length;L<F;L++){var B=S.substring(0,L)+S.substring(L+1);m.has(B)||(m.add(B),v.push(B))}}}return l===0?C.slice(0,1):C}function r(e){if(e=e||{},this.clear(),this.maxDistance=typeof e.maxDistance=="number"?e.maxDistance:E,this.verbosity=typeof e.verbosity=="number"?e.verbosity:w,typeof this.maxDistance!="number"||this.maxDistance<=0)throw Error("mnemonist/SymSpell.constructor: invalid `maxDistance` option. Should be a integer greater than 0.");if(!R.has(this.verbosity))throw Error("mnemonist/SymSpell.constructor: invalid `verbosity` option. Should be either 0, 1 or 2.")}r.prototype.clear=function(){this.size=0,this.dictionary=Object.create(null),this.maxLength=0,this.words=[]},r.prototype.add=function(e){var n=this.dictionary[e];if(n!==void 0?(typeof n=="number"&&(n=x(n),this.dictionary[e]=n),n.count++):(n=x(),n.count++,this.dictionary[e]=n,e.length>this.maxLength&&(this.maxLength=e.length)),n.count===1){var l=this.words.length;this.words.push(e);var i=a(e,0,this.maxDistance);i.forEach(h=>{var u=this.dictionary[h];u!==void 0?(typeof u=="number"&&(u=x(u),this.dictionary[h]=u),u.suggestions.has(l)||g(this.words,this.verbosity,u,e,l,h)):this.dictionary[h]=l})}return this.size++,this},r.prototype.search=function(e){return s(this.dictionary,this.words,this.verbosity,this.maxDistance,this.maxLength,e)},r.prototype.inspect=function(){var e=[];e.size=this.size,e.maxDistance=this.maxDistance,e.verbosity=this.verbosity,e.behavior=c[this.verbosity];for(var n in this.dictionary)typeof this.dictionary[n]=="object"&&this.dictionary[n].count&&e.push([n,this.dictionary[n].count]);return Object.defineProperty(e,"constructor",{value:r,enumerable:!1}),e},typeof Symbol<"u"&&(r.prototype[Symbol.for("nodejs.util.inspect.custom")]=r.prototype.inspect),r.from=function(e,n){var l=new r(n);return y(e,function(i){l.add(i)}),l},p.exports=r}),kx=Ot((d,p)=>{var y=xe(),E=He(),w=String.fromCharCode(0);function R(c){this.mode=c===Array?"array":"string",this.clear()}R.prototype.clear=function(){this.root={},this.size=0},R.prototype.set=function(c,x){for(var t=this.root,a,g=0,o=c.length;g<o;g++)a=c[g],t=t[a]||(t[a]={});return w in t||this.size++,t[w]=x,this},R.prototype.update=function(c,x){for(var t=this.root,a,g=0,o=c.length;g<o;g++)a=c[g],t=t[a]||(t[a]={});return w in t||this.size++,t[w]=x(t[w]),this},R.prototype.get=function(c){var x=this.root,t,a,g;for(a=0,g=c.length;a<g;a++)if(t=c[a],x=x[t],typeof x>"u")return;if(w in x)return x[w]},R.prototype.delete=function(c){var x=this.root,t=null,a=null,g,o,s,r;for(s=0,r=c.length;s<r;s++){if(o=c[s],g=x,x=x[o],typeof x>"u")return!1;t!==null?Object.keys(x).length>1&&(t=null,a=null):Object.keys(x).length<2&&(t=g,a=o)}return w in x?(this.size--,t?delete t[a]:delete x[w],!0):!1},R.prototype.has=function(c){for(var x=this.root,t,a=0,g=c.length;a<g;a++)if(t=c[a],x=x[t],typeof x>"u")return!1;return w in x},R.prototype.find=function(c){var x=typeof c=="string",t=this.root,a=[],g,o,s;for(o=0,s=c.length;o<s;o++)if(g=c[o],t=t[g],typeof t>"u")return a;for(var r=[t],e=[c],n;r.length;){c=e.pop(),t=r.pop();for(n in t){if(n===w){a.push([c,t[w]]);continue}r.push(t[n]),e.push(x?c+n:c.concat(n))}}return a},R.prototype.values=function(c){var x=this.root,t=[],a,g,o;if(c){for(g=0,o=c.length;g<o;g++)if(a=c[g],x=x[a],typeof x>"u")return E.empty()}return t.push(x),new E(function(){for(var s,r=!1,e;t.length;){s=t.pop();for(e in s){if(e===w){r=!0;continue}t.push(s[e])}if(r)return{done:!1,value:s[w]}}return{done:!0}})},R.prototype.prefixes=function(c){var x=this.root,t=[],a=[],g,o,s,r=this.mode==="string";if(c){for(o=0,s=c.length;o<s;o++)if(g=c[o],x=x[g],typeof x>"u")return E.empty()}else c=r?"":[];return t.push(x),a.push(c),new E(function(){for(var e,n,l=!1,i;t.length;){e=t.pop(),n=a.pop();for(i in e){if(i===w){l=!0;continue}t.push(e[i]),a.push(r?n+i:n.concat(i))}if(l)return{done:!1,value:n}}return{done:!0}})},R.prototype.keys=R.prototype.prefixes,R.prototype.entries=function(c){var x=this.root,t=[],a=[],g,o,s,r=this.mode==="string";if(c){for(o=0,s=c.length;o<s;o++)if(g=c[o],x=x[g],typeof x>"u")return E.empty()}else c=r?"":[];return t.push(x),a.push(c),new E(function(){for(var e,n,l=!1,i;t.length;){e=t.pop(),n=a.pop();for(i in e){if(i===w){l=!0;continue}t.push(e[i]),a.push(r?n+i:n.concat(i))}if(l)return{done:!1,value:[n,e[w]]}}return{done:!0}})},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.entries),R.prototype.inspect=function(){for(var c=new Array(this.size),x=this.entries(),t,a=0;t=x.next(),!t.done;)c[a++]=t.value;return Object.defineProperty(c,"constructor",{value:R,enumerable:!1}),c},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.prototype.toJSON=function(){return this.root},R.from=function(c){var x=new R;return y(c,function(t,a){x.set(a,t)}),x},R.SENTINEL=w,p.exports=R}),aR=Ot((d,p)=>{var y=xe(),E=kx(),w=String.fromCharCode(0);function R(x){this.mode=x===Array?"array":"string",this.clear()}for(c in E.prototype)R.prototype[c]=E.prototype[c];var c;delete R.prototype.set,delete R.prototype.get,delete R.prototype.values,delete R.prototype.entries,R.prototype.add=function(x){for(var t=this.root,a,g=0,o=x.length;g<o;g++)a=x[g],t=t[a]||(t[a]={});return w in t||this.size++,t[w]=!0,this},R.prototype.find=function(x){var t=typeof x=="string",a=this.root,g=[],o,s,r;for(s=0,r=x.length;s<r;s++)if(o=x[s],a=a[o],typeof a>"u")return g;for(var e=[a],n=[x],l;e.length;){x=n.pop(),a=e.pop();for(l in a){if(l===w){g.push(x);continue}e.push(a[l]),n.push(t?x+l:x.concat(l))}}return g},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.keys),R.prototype.inspect=function(){for(var x=new Set,t=this.keys(),a;a=t.next(),!a.done;)x.add(a.value);return Object.defineProperty(x,"constructor",{value:R,enumerable:!1}),x},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.prototype.toJSON=function(){return this.root},R.from=function(x){var t=new R;return y(x,function(a){t.add(a)}),t},R.SENTINEL=w,p.exports=R}),oR=Ot((d,p)=>{var y=He(),E=xe(),w=Ri(),R=ci(),c=function(g){return Math.max(1,Math.ceil(g*1.5))},x=function(g){var o=R.getPointerArray(g);return new o(g)};function t(g,o){if(arguments.length<1)throw new Error("mnemonist/vector: expecting at least a byte array constructor.");var s=o||0,r=c,e=0,n=!1;typeof o=="object"&&(s=o.initialCapacity||0,e=o.initialLength||0,r=o.policy||r,n=o.factory===!0),this.factory=n?g:null,this.ArrayClass=g,this.length=e,this.capacity=Math.max(e,s),this.policy=r,this.array=new g(this.capacity)}t.prototype.set=function(g,o){if(this.length<g)throw new Error("Vector("+this.ArrayClass.name+").set: index out of bounds.");return this.array[g]=o,this},t.prototype.get=function(g){if(!(this.length<g))return this.array[g]},t.prototype.applyPolicy=function(g){var o=this.policy(g||this.capacity);if(typeof o!="number"||o<0)throw new Error("mnemonist/vector.applyPolicy: policy returned an invalid value (expecting a positive integer).");if(o<=this.capacity)throw new Error("mnemonist/vector.applyPolicy: policy returned a less or equal capacity to allocate.");return o},t.prototype.reallocate=function(g){if(g===this.capacity)return this;var o=this.array;if(g<this.length&&(this.length=g),g>this.capacity)if(this.factory===null?this.array=new this.ArrayClass(g):this.array=this.factory(g),R.isTypedArray(this.array))this.array.set(o,0);else for(var s=0,r=this.length;s<r;s++)this.array[s]=o[s];else this.array=o.slice(0,g);return this.capacity=g,this},t.prototype.grow=function(g){var o;if(typeof g=="number"){if(this.capacity>=g)return this;for(o=this.capacity;o<g;)o=this.applyPolicy(o);return this.reallocate(o),this}return o=this.applyPolicy(),this.reallocate(o),this},t.prototype.resize=function(g){return g===this.length?this:g<this.length?(this.length=g,this):(this.length=g,this.reallocate(g),this)},t.prototype.push=function(g){return this.capacity===this.length&&this.grow(),this.array[this.length++]=g,this.length},t.prototype.pop=function(){if(this.length!==0)return this.array[--this.length]},t.prototype.values=function(){var g=this.array,o=this.length,s=0;return new y(function(){if(s>=o)return{done:!0};var r=g[s];return s++,{value:r,done:!1}})},t.prototype.entries=function(){var g=this.array,o=this.length,s=0;return new y(function(){if(s>=o)return{done:!0};var r=g[s];return{value:[s++,r],done:!1}})},typeof Symbol<"u"&&(t.prototype[Symbol.iterator]=t.prototype.values),t.prototype.inspect=function(){var g=this.array.slice(0,this.length);return g.type=this.array.constructor.name,g.items=this.length,g.capacity=this.capacity,Object.defineProperty(g,"constructor",{value:t,enumerable:!1}),g},typeof Symbol<"u"&&(t.prototype[Symbol.for("nodejs.util.inspect.custom")]=t.prototype.inspect),t.from=function(g,o,s){if(arguments.length<3&&(s=w.guessLength(g),typeof s!="number"))throw new Error("mnemonist/vector.from: could not guess iterable length. Please provide desired capacity as last argument.");var r=new t(o,s);return E(g,function(e){r.push(e)}),r};function a(g){var o=function(r){t.call(this,g,r)};for(var s in t.prototype)t.prototype.hasOwnProperty(s)&&(o.prototype[s]=t.prototype[s]);return o.from=function(r,e){return t.from(r,g,e)},typeof Symbol<"u"&&(o.prototype[Symbol.iterator]=o.prototype.values),o}t.Int8Vector=a(Int8Array),t.Uint8Vector=a(Uint8Array),t.Uint8ClampedVector=a(Uint8ClampedArray),t.Int16Vector=a(Int16Array),t.Uint16Vector=a(Uint16Array),t.Int32Vector=a(Int32Array),t.Uint32Vector=a(Uint32Array),t.Float32Vector=a(Float32Array),t.Float64Vector=a(Float64Array),t.PointerVector=a(x),p.exports=t}),hR=Ot((d,p)=>{var y=Ri(),E=ci(),w=Zx().inplaceQuickSortIndices,R=jx().lowerBoundIndices,c=Mv(),x=E.getPointerArray;function t(o,s){return o.distance<s.distance?1:o.distance>s.distance?-1:0}function a(o,s,r){for(var e=r.length,n=x(e),l=0,i=new n(e),h=new n(e),u=new n(e),f=new Float64Array(e),v=[0,0,e],m=new Float64Array(e),T,C,S,P,A,L,F,B,D;v.length;)if(A=v.pop(),P=v.pop(),T=v.pop(),C=r[A-1],A--,D=A-P,i[T]=C,D!==0){if(D===1){F=o(s[C],s[r[P]]),f[T]=F,l++,u[T]=l,i[l]=r[P];continue}for(B=P;B<A;B++)m[r[B]]=o(s[C],s[r[B]]);w(m,r,P,A),S=P+D/2-1,S===(S|0)?F=(m[r[S]]+m[r[S+1]])/2:F=m[r[Math.ceil(S)]],f[T]=F,L=R(m,r,F,P,A),A-L>0&&(l++,u[T]=l,v.push(l,L,A)),L-P>0&&(l++,h[T]=l,v.push(l,P,L))}return{nodes:i,lefts:h,rights:u,mus:f}}function g(o,s){if(typeof o!="function")throw new Error("mnemonist/VPTree.constructor: given `distance` must be a function.");if(!s)throw new Error("mnemonist/VPTree.constructor: you must provide items to the tree. A VPTree cannot be updated after its creation.");this.distance=o,this.heap=new c(t),this.D=0;var r=y.toArrayWithIndices(s);this.items=r[0];var e=r[1];this.size=e.length;var n=a(o,this.items,e);this.nodes=n.nodes,this.lefts=n.lefts,this.rights=n.rights,this.mus=n.mus}g.prototype.nearestNeighbors=function(o,s){var r=this.heap,e=[0],n=1/0,l,i,h,u,f,v,m;for(this.D=0;e.length;)l=e.pop(),i=this.nodes[l],h=this.items[i],m=this.distance(h,s),this.D++,m<n&&(r.push({distance:m,item:h}),r.size>o&&r.pop(),r.size>=o&&(n=r.peek().distance)),u=this.lefts[l],f=this.rights[l],!(!u&&!f)&&(v=this.mus[l],m<v?(u&&m<v+n&&e.push(u),f&&m>=v-n&&e.push(f)):(f&&m>=v-n&&e.push(f),u&&m<v+n&&e.push(u)));for(var T=new Array(r.size),C=r.size-1;C>=0;C--)T[C]=r.pop();return T},g.prototype.neighbors=function(o,s){var r=[],e=[0],n,l,i,h,u,f,v;for(this.D=0;e.length;)n=e.pop(),l=this.nodes[n],i=this.items[l],v=this.distance(i,s),this.D++,v<=o&&r.push({distance:v,item:i}),h=this.lefts[n],u=this.rights[n],!(!h&&!u)&&(f=this.mus[n],v<f?(h&&v<f+o&&e.push(h),u&&v>=f-o&&e.push(u)):(u&&v>=f-o&&e.push(u),h&&v<f+o&&e.push(h)));return r},g.prototype.inspect=function(){var o=this.items.slice();return Object.defineProperty(o,"constructor",{value:g,enumerable:!1}),o},typeof Symbol<"u"&&(g.prototype[Symbol.for("nodejs.util.inspect.custom")]=g.prototype.inspect),g.from=function(o,s){return new g(s,o)},p.exports=g}),lR=Ot((d,p)=>{var y=Mv(),E=wv(),w=F9();p.exports={BiMap:O9(),BitSet:D9(),BitVector:B9(),BloomFilter:N9(),BKTree:G9(),CircularBuffer:z9(),DefaultMap:b9(),DefaultWeakMap:U9(),FixedDeque:Hx(),StaticDisjointSet:V9(),FibonacciHeap:E,MinFibonacciHeap:E.MinFibonacciHeap,MaxFibonacciHeap:E.MaxFibonacciHeap,FixedReverseHeap:Rv(),FuzzyMap:W9(),FuzzyMultiMap:X9(),HashedArrayTree:Y9(),Heap:y,MinHeap:y.MinHeap,MaxHeap:y.MaxHeap,StaticIntervalTree:H9(),InvertedIndex:K9(),KDTree:j9(),LinkedList:Z9(),LRUCache:Lv(),LRUCacheWithDelete:Q9(),LRUMap:Qx(),LRUMapWithDelete:k9(),MultiMap:$x(),MultiSet:J9(),PassjoinIndex:q9(),Queue:_9(),FixedStack:Kx(),Stack:tR(),SuffixArray:w,GeneralizedSuffixArray:w.GeneralizedSuffixArray,Set:eR(),SparseQueueSet:iR(),SparseMap:nR(),SparseSet:rR(),SymSpell:sR(),Trie:aR(),TrieMap:kx(),Vector:oR(),VPTree:hR()}}),At=class Me{static get ZERO(){return new Me(0,0)}static get ONE(){return new Me(1,1)}static get UP(){return new Me(0,-1)}static get DOWN(){return new Me(0,1)}static get LEFT(){return new Me(-1,0)}static get RIGHT(){return new Me(1,0)}static get UP_LEFT(){return new Me(-1,-1)}static get UP_RIGHT(){return new Me(1,-1)}static get DOWN_RIGHT(){return new Me(1,1)}static get DOWN_LEFT(){return new Me(-1,1)}constructor(p,y){typeof p=="number"?(this.x=p,this.y=y||0):(this.x=p.x,this.y=p.y)}clone(){return new Me(this.x,this.y)}add(p){return new Me(this.x+p.x,this.y+p.y)}multiply(p){return new Me(this.x*p.x,this.y*p.y)}divide(p){return new Me(this.x/p.x,this.y/p.y)}subtract(p){return new Me(this.x-p.x,this.y-p.y)}equals(p){return this.x===p.x&&this.y===p.y}abs(){return new Me(Math.abs(this.x),Math.abs(this.y))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}modulo(p){return new Me(this.x%p.x,this.y%p.y)}scalarModulo(p){return new Me(this.x%p,this.y%p)}scalarMult(p){return new Me(this.x*p,this.y*p)}toPosition(){return{x:this.x,y:this.y}}toString(){return`${this.x}#${this.y}`}},Vt=class{static equal(d,p){return d.position.x===p.position.x&&d.position.y===p.position.y&&d.layer===p.layer}static copyOver(d,p){p.position.x=d.position.x,p.position.y=d.position.y,p.layer=d.layer}static clone(d){return{position:d.position.clone(),layer:d.layer}}static toString(d){return`${d.position.toString()}#${d.layer}`}static toInternal(d){return{position:new At(d.position.x,d.position.y),layer:d.charLayer}}static fromInternal(d){return{position:d.position.toPosition(),charLayer:d.layer}}},uR=(d=>(d.NONE="none",d.LEFT="left",d.UP_LEFT="up-left",d.UP="up",d.UP_RIGHT="up-right",d.RIGHT="right",d.DOWN_RIGHT="down-right",d.DOWN="down",d.DOWN_LEFT="down-left",d))(uR||{}),fR={up:"down",down:"up",left:"right",right:"left",none:"none","up-left":"down-right","up-right":"down-left","down-right":"up-left","down-left":"up-right"},dR={up:At.UP,down:At.DOWN,left:At.LEFT,right:At.RIGHT,none:At.ZERO,"up-left":At.UP_LEFT,"up-right":At.UP_RIGHT,"down-right":At.DOWN_RIGHT,"down-left":At.DOWN_LEFT},Rl={up:0,"up-right":1,right:2,"down-right":3,down:4,"down-left":5,left:6,"up-left":7,none:NaN},Jx=["up","up-right","right","down-right","down","down-left","left","up-left"],cR=["down-left","down-right","up-right","up-left"];function Fv(){return["up","down","left","right","none","up-left","up-right","down-right","down-left"]}function ka(d){return cR.includes(d)}function Wm(d){return["left","right"].includes(d)}function Xm(d){return["up","down"].includes(d)}function vR(d,p=1){return d==="none"?"none":Jx[(Rl[d]+8-Math.abs(p)%8)%8]}function Ov(d,p=1){return d==="none"?"none":Jx[(Rl[d]+p)%8]}function ea(d){return dR[d]}function pR(d){return fR[d]}function Yi(d,p){if(d.x===p.x){if(d.y>p.y)return"up";if(d.y<p.y)return"down"}else if(d.y===p.y){if(d.x>p.x)return"left";if(d.x<p.x)return"right"}else if(d.x>p.x){if(d.y<p.y)return"down-left";if(d.y>p.y)return"up-left"}else if(d.x<p.x){if(d.y<p.y)return"down-right";if(d.y>p.y)return"up-right"}return"none"}var gR=(d=>(d[d.FOUR=4]="FOUR",d[d.EIGHT=8]="EIGHT",d))(gR||{});function Ns(d){return typeof d=="string"&&Fv().includes(d)}var dc=function(d,p){return dc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(y[w]=E[w])},dc(d,p)};function wo(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");dc(d,p);function y(){this.constructor=d}d.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}function mR(d,p,y,E){function w(R){return R instanceof y?R:new y(function(c){c(R)})}return new(y||(y=Promise))(function(R,c){function x(g){try{a(E.next(g))}catch(o){c(o)}}function t(g){try{a(E.throw(g))}catch(o){c(o)}}function a(g){g.done?R(g.value):w(g.value).then(x,t)}a((E=E.apply(d,p||[])).next())})}function qx(d,p){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},E,w,R,c;return c={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function x(a){return function(g){return t([a,g])}}function t(a){if(E)throw new TypeError("Generator is already executing.");for(;c&&(c=0,a[0]&&(y=0)),y;)try{if(E=1,w&&(R=a[0]&2?w.return:a[0]?w.throw||((R=w.return)&&R.call(w),0):w.next)&&!(R=R.call(w,a[1])).done)return R;switch(w=0,R&&(a=[a[0]&2,R.value]),a[0]){case 0:case 1:R=a;break;case 4:return y.label++,{value:a[1],done:!1};case 5:y.label++,w=a[1],a=[0];continue;case 7:a=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(a[0]===6||a[0]===2)){y=0;continue}if(a[0]===3&&(!R||a[1]>R[0]&&a[1]<R[3])){y.label=a[1];break}if(a[0]===6&&y.label<R[1]){y.label=R[1],R=a;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(a);break}R[2]&&y.ops.pop(),y.trys.pop();continue}a=p.call(d,y)}catch(g){a=[6,g],w=0}finally{E=R=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ia(d){var p=typeof Symbol=="function"&&Symbol.iterator,y=p&&d[p],E=0;if(y)return y.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&E>=d.length&&(d=void 0),{value:d&&d[E++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(d,p){var y=typeof Symbol=="function"&&d[Symbol.iterator];if(!y)return d;var E=y.call(d),w,R=[],c;try{for(;(p===void 0||p-- >0)&&!(w=E.next()).done;)R.push(w.value)}catch(x){c={error:x}}finally{try{w&&!w.done&&(y=E.return)&&y.call(E)}finally{if(c)throw c.error}}return R}function xo(d,p,y){if(y||arguments.length===2)for(var E=0,w=p.length,R;E<w;E++)(R||!(E in p))&&(R||(R=Array.prototype.slice.call(p,0,E)),R[E]=p[E]);return d.concat(R||Array.prototype.slice.call(p))}function Hs(d){return this instanceof Hs?(this.v=d,this):new Hs(d)}function yR(d,p,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=y.apply(d,p||[]),w,R=[];return w={},c("next"),c("throw"),c("return"),w[Symbol.asyncIterator]=function(){return this},w;function c(s){E[s]&&(w[s]=function(r){return new Promise(function(e,n){R.push([s,r,e,n])>1||x(s,r)})})}function x(s,r){try{t(E[s](r))}catch(e){o(R[0][3],e)}}function t(s){s.value instanceof Hs?Promise.resolve(s.value.v).then(a,g):o(R[0][2],s)}function a(s){x("next",s)}function g(s){x("throw",s)}function o(s,r){s(r),R.shift(),R.length&&x(R[0][0],R[0][1])}}function xR(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=d[Symbol.asyncIterator],y;return p?p.call(d):(d=typeof ia=="function"?ia(d):d[Symbol.iterator](),y={},E("next"),E("throw"),E("return"),y[Symbol.asyncIterator]=function(){return this},y);function E(R){y[R]=d[R]&&function(c){return new Promise(function(x,t){c=d[R](c),w(x,t,c.done,c.value)})}}function w(R,c,x,t){Promise.resolve(t).then(function(a){R({value:a,done:x})},c)}}function Be(d){return typeof d=="function"}function _x(d){var p=function(E){Error.call(E),E.stack=new Error().stack},y=d(p);return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}var sd=_x(function(d){return function(p){d(this),this.message=p?p.length+` errors occurred during unsubscription:
`+p.map(function(y,E){return E+1+") "+y.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=p}});function cc(d,p){if(d){var y=d.indexOf(p);0<=y&&d.splice(y,1)}}var cu=function(){function d(p){this.initialTeardown=p,this.closed=!1,this._parentage=null,this._finalizers=null}return d.prototype.unsubscribe=function(){var p,y,E,w,R;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var x=ia(c),t=x.next();!t.done;t=x.next()){var a=t.value;a.remove(this)}}catch(n){p={error:n}}finally{try{t&&!t.done&&(y=x.return)&&y.call(x)}finally{if(p)throw p.error}}else c.remove(this);var g=this.initialTeardown;if(Be(g))try{g()}catch(n){R=n instanceof sd?n.errors:[n]}var o=this._finalizers;if(o){this._finalizers=null;try{for(var s=ia(o),r=s.next();!r.done;r=s.next()){var e=r.value;try{Ym(e)}catch(n){R=R??[],n instanceof sd?R=xo(xo([],yo(R)),yo(n.errors)):R.push(n)}}}catch(n){E={error:n}}finally{try{r&&!r.done&&(w=s.return)&&w.call(s)}finally{if(E)throw E.error}}}if(R)throw new sd(R)}},d.prototype.add=function(p){var y;if(p&&p!==this)if(this.closed)Ym(p);else{if(p instanceof d){if(p.closed||p._hasParent(this))return;p._addParent(this)}(this._finalizers=(y=this._finalizers)!==null&&y!==void 0?y:[]).push(p)}},d.prototype._hasParent=function(p){var y=this._parentage;return y===p||Array.isArray(y)&&y.includes(p)},d.prototype._addParent=function(p){var y=this._parentage;this._parentage=Array.isArray(y)?(y.push(p),y):y?[y,p]:p},d.prototype._removeParent=function(p){var y=this._parentage;y===p?this._parentage=null:Array.isArray(y)&&cc(y,p)},d.prototype.remove=function(p){var y=this._finalizers;y&&cc(y,p),p instanceof d&&p._removeParent(this)},d.EMPTY=function(){var p=new d;return p.closed=!0,p}(),d}(),tT=cu.EMPTY;function eT(d){return d instanceof cu||d&&"closed"in d&&Be(d.remove)&&Be(d.add)&&Be(d.unsubscribe)}function Ym(d){Be(d)?d():d.unsubscribe()}var iT={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},TR={setTimeout:function(d,p){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];return setTimeout.apply(void 0,xo([d,p],yo(y)))},clearTimeout:function(d){return clearTimeout(d)},delegate:void 0};function nT(d){TR.setTimeout(function(){throw d})}function vc(){}function _h(d){d()}var Dv=function(d){wo(p,d);function p(y){var E=d.call(this)||this;return E.isStopped=!1,y?(E.destination=y,eT(y)&&y.add(E)):E.destination=PR,E}return p.create=function(y,E,w){return new pc(y,E,w)},p.prototype.next=function(y){this.isStopped?void 0:this._next(y)},p.prototype.error=function(y){this.isStopped?void 0:(this.isStopped=!0,this._error(y))},p.prototype.complete=function(){this.isStopped?void 0:(this.isStopped=!0,this._complete())},p.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,d.prototype.unsubscribe.call(this),this.destination=null)},p.prototype._next=function(y){this.destination.next(y)},p.prototype._error=function(y){try{this.destination.error(y)}finally{this.unsubscribe()}},p.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},p}(cu),SR=Function.prototype.bind;function ad(d,p){return SR.call(d,p)}var CR=function(){function d(p){this.partialObserver=p}return d.prototype.next=function(p){var y=this.partialObserver;if(y.next)try{y.next(p)}catch(E){Gh(E)}},d.prototype.error=function(p){var y=this.partialObserver;if(y.error)try{y.error(p)}catch(E){Gh(E)}else Gh(p)},d.prototype.complete=function(){var p=this.partialObserver;if(p.complete)try{p.complete()}catch(y){Gh(y)}},d}(),pc=function(d){wo(p,d);function p(y,E,w){var R=d.call(this)||this,c;if(Be(y)||!y)c={next:y??void 0,error:E??void 0,complete:w??void 0};else{var x;R&&iT.useDeprecatedNextContext?(x=Object.create(y),x.unsubscribe=function(){return R.unsubscribe()},c={next:y.next&&ad(y.next,x),error:y.error&&ad(y.error,x),complete:y.complete&&ad(y.complete,x)}):c=y}return R.destination=new CR(c),R}return p}(Dv);function Gh(d){nT(d)}function ER(d){throw d}var PR={closed:!0,next:vc,error:ER,complete:vc},Bv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function rT(d){return d}function AR(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return sT(d)}function sT(d){return d.length===0?rT:d.length===1?d[0]:function(p){return d.reduce(function(y,E){return E(y)},p)}}var ji=function(){function d(p){p&&(this._subscribe=p)}return d.prototype.lift=function(p){var y=new d;return y.source=this,y.operator=p,y},d.prototype.subscribe=function(p,y,E){var w=this,R=MR(p)?p:new pc(p,y,E);return _h(function(){var c=w,x=c.operator,t=c.source;R.add(x?x.call(R,t):t?w._subscribe(R):w._trySubscribe(R))}),R},d.prototype._trySubscribe=function(p){try{return this._subscribe(p)}catch(y){p.error(y)}},d.prototype.forEach=function(p,y){var E=this;return y=Hm(y),new y(function(w,R){var c=new pc({next:function(x){try{p(x)}catch(t){R(t),c.unsubscribe()}},error:R,complete:w});E.subscribe(c)})},d.prototype._subscribe=function(p){var y;return(y=this.source)===null||y===void 0?void 0:y.subscribe(p)},d.prototype[Bv]=function(){return this},d.prototype.pipe=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];return sT(p)(this)},d.prototype.toPromise=function(p){var y=this;return p=Hm(p),new p(function(E,w){var R;y.subscribe(function(c){return R=c},function(c){return w(c)},function(){return E(R)})})},d.create=function(p){return new d(p)},d}();function Hm(d){var p;return(p=d??iT.Promise)!==null&&p!==void 0?p:Promise}function wR(d){return d&&Be(d.next)&&Be(d.error)&&Be(d.complete)}function MR(d){return d&&d instanceof Dv||wR(d)&&eT(d)}function RR(d){return Be(d==null?void 0:d.lift)}function Ar(d){return function(p){if(RR(p))return p.lift(function(y){try{return d(y,this)}catch(E){this.error(E)}});throw new TypeError("Unable to lift unknown Observable type")}}function kr(d,p,y,E,w){return new LR(d,p,y,E,w)}var LR=function(d){wo(p,d);function p(y,E,w,R,c,x){var t=d.call(this,y)||this;return t.onFinalize=c,t.shouldUnsubscribe=x,t._next=E?function(a){try{E(a)}catch(g){y.error(g)}}:d.prototype._next,t._error=R?function(a){try{R(a)}catch(g){y.error(g)}finally{this.unsubscribe()}}:d.prototype._error,t._complete=w?function(){try{w()}catch(a){y.error(a)}finally{this.unsubscribe()}}:d.prototype._complete,t}return p.prototype.unsubscribe=function(){var y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var E=this.closed;d.prototype.unsubscribe.call(this),!E&&((y=this.onFinalize)===null||y===void 0||y.call(this))}},p}(Dv),FR=_x(function(d){return function(){d(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ge=function(d){wo(p,d);function p(){var y=d.call(this)||this;return y.closed=!1,y.currentObservers=null,y.observers=[],y.isStopped=!1,y.hasError=!1,y.thrownError=null,y}return p.prototype.lift=function(y){var E=new $m(this,this);return E.operator=y,E},p.prototype._throwIfClosed=function(){if(this.closed)throw new FR},p.prototype.next=function(y){var E=this;_h(function(){var w,R;if(E._throwIfClosed(),!E.isStopped){E.currentObservers||(E.currentObservers=Array.from(E.observers));try{for(var c=ia(E.currentObservers),x=c.next();!x.done;x=c.next()){var t=x.value;t.next(y)}}catch(a){w={error:a}}finally{try{x&&!x.done&&(R=c.return)&&R.call(c)}finally{if(w)throw w.error}}}})},p.prototype.error=function(y){var E=this;_h(function(){if(E._throwIfClosed(),!E.isStopped){E.hasError=E.isStopped=!0,E.thrownError=y;for(var w=E.observers;w.length;)w.shift().error(y)}})},p.prototype.complete=function(){var y=this;_h(function(){if(y._throwIfClosed(),!y.isStopped){y.isStopped=!0;for(var E=y.observers;E.length;)E.shift().complete()}})},p.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(p.prototype,"observed",{get:function(){var y;return((y=this.observers)===null||y===void 0?void 0:y.length)>0},enumerable:!1,configurable:!0}),p.prototype._trySubscribe=function(y){return this._throwIfClosed(),d.prototype._trySubscribe.call(this,y)},p.prototype._subscribe=function(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)},p.prototype._innerSubscribe=function(y){var E=this,w=this,R=w.hasError,c=w.isStopped,x=w.observers;return R||c?tT:(this.currentObservers=null,x.push(y),new cu(function(){E.currentObservers=null,cc(x,y)}))},p.prototype._checkFinalizedStatuses=function(y){var E=this,w=E.hasError,R=E.thrownError,c=E.isStopped;w?y.error(R):c&&y.complete()},p.prototype.asObservable=function(){var y=new ji;return y.source=this,y},p.create=function(y,E){return new $m(y,E)},p}(ji),$m=function(d){wo(p,d);function p(y,E){var w=d.call(this)||this;return w.destination=y,w.source=E,w}return p.prototype.next=function(y){var E,w;(w=(E=this.destination)===null||E===void 0?void 0:E.next)===null||w===void 0||w.call(E,y)},p.prototype.error=function(y){var E,w;(w=(E=this.destination)===null||E===void 0?void 0:E.error)===null||w===void 0||w.call(E,y)},p.prototype.complete=function(){var y,E;(E=(y=this.destination)===null||y===void 0?void 0:y.complete)===null||E===void 0||E.call(y)},p.prototype._subscribe=function(y){var E,w;return(w=(E=this.source)===null||E===void 0?void 0:E.subscribe(y))!==null&&w!==void 0?w:tT},p}(ge),aT=new ji(function(d){return d.complete()});function OR(d){return d&&Be(d.schedule)}function oT(d){return d[d.length-1]}function hT(d){return OR(oT(d))?d.pop():void 0}function lT(d,p){return typeof oT(d)=="number"?d.pop():p}var uT=function(d){return d&&typeof d.length=="number"&&typeof d!="function"};function fT(d){return Be(d==null?void 0:d.then)}function dT(d){return Be(d[Bv])}function cT(d){return Symbol.asyncIterator&&Be(d==null?void 0:d[Symbol.asyncIterator])}function vT(d){return new TypeError("You provided "+(d!==null&&typeof d=="object"?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function DR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pT=DR();function gT(d){return Be(d==null?void 0:d[pT])}function mT(d){return yR(this,arguments,function(){var p,y,E,w;return qx(this,function(R){switch(R.label){case 0:p=d.getReader(),R.label=1;case 1:R.trys.push([1,,9,10]),R.label=2;case 2:return[4,Hs(p.read())];case 3:return y=R.sent(),E=y.value,w=y.done,w?[4,Hs(void 0)]:[3,5];case 4:return[2,R.sent()];case 5:return[4,Hs(E)];case 6:return[4,R.sent()];case 7:return R.sent(),[3,2];case 8:return[3,10];case 9:return p.releaseLock(),[7];case 10:return[2]}})})}function yT(d){return Be(d==null?void 0:d.getReader)}function ts(d){if(d instanceof ji)return d;if(d!=null){if(dT(d))return BR(d);if(uT(d))return IR(d);if(fT(d))return NR(d);if(cT(d))return xT(d);if(gT(d))return GR(d);if(yT(d))return zR(d)}throw vT(d)}function BR(d){return new ji(function(p){var y=d[Bv]();if(Be(y.subscribe))return y.subscribe(p);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IR(d){return new ji(function(p){for(var y=0;y<d.length&&!p.closed;y++)p.next(d[y]);p.complete()})}function NR(d){return new ji(function(p){d.then(function(y){p.closed||(p.next(y),p.complete())},function(y){return p.error(y)}).then(null,nT)})}function GR(d){return new ji(function(p){var y,E;try{for(var w=ia(d),R=w.next();!R.done;R=w.next()){var c=R.value;if(p.next(c),p.closed)return}}catch(x){y={error:x}}finally{try{R&&!R.done&&(E=w.return)&&E.call(w)}finally{if(y)throw y.error}}p.complete()})}function xT(d){return new ji(function(p){bR(d,p).catch(function(y){return p.error(y)})})}function zR(d){return xT(mT(d))}function bR(d,p){var y,E,w,R;return mR(this,void 0,void 0,function(){var c,x;return qx(this,function(t){switch(t.label){case 0:t.trys.push([0,5,6,11]),y=xR(d),t.label=1;case 1:return[4,y.next()];case 2:if(E=t.sent(),!!E.done)return[3,4];if(c=E.value,p.next(c),p.closed)return[2];t.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return x=t.sent(),w={error:x},[3,11];case 6:return t.trys.push([6,,9,10]),E&&!E.done&&(R=y.return)?[4,R.call(y)]:[3,8];case 7:t.sent(),t.label=8;case 8:return[3,10];case 9:if(w)throw w.error;return[7];case 10:return[7];case 11:return p.complete(),[2]}})})}function mr(d,p,y,E,w){E===void 0&&(E=0),w===void 0&&(w=!1);var R=p.schedule(function(){y(),w?d.add(this.schedule(null,E)):this.unsubscribe()},E);if(d.add(R),!w)return R}function TT(d,p){return p===void 0&&(p=0),Ar(function(y,E){y.subscribe(kr(E,function(w){return mr(E,d,function(){return E.next(w)},p)},function(){return mr(E,d,function(){return E.complete()},p)},function(w){return mr(E,d,function(){return E.error(w)},p)}))})}function ST(d,p){return p===void 0&&(p=0),Ar(function(y,E){E.add(d.schedule(function(){return y.subscribe(E)},p))})}function UR(d,p){return ts(d).pipe(ST(p),TT(p))}function VR(d,p){return ts(d).pipe(ST(p),TT(p))}function WR(d,p){return new ji(function(y){var E=0;return p.schedule(function(){E===d.length?y.complete():(y.next(d[E++]),y.closed||this.schedule())})})}function XR(d,p){return new ji(function(y){var E;return mr(y,p,function(){E=d[pT](),mr(y,p,function(){var w,R,c;try{w=E.next(),R=w.value,c=w.done}catch(x){y.error(x);return}c?y.complete():y.next(R)},0,!0)}),function(){return Be(E==null?void 0:E.return)&&E.return()}})}function CT(d,p){if(!d)throw new Error("Iterable cannot be null");return new ji(function(y){mr(y,p,function(){var E=d[Symbol.asyncIterator]();mr(y,p,function(){E.next().then(function(w){w.done?y.complete():y.next(w.value)})},0,!0)})})}function YR(d,p){return CT(mT(d),p)}function HR(d,p){if(d!=null){if(dT(d))return UR(d,p);if(uT(d))return WR(d,p);if(fT(d))return VR(d,p);if(cT(d))return CT(d,p);if(gT(d))return XR(d,p);if(yT(d))return YR(d,p)}throw vT(d)}function ET(d,p){return p?HR(d,p):ts(d)}function Ja(d,p){return Ar(function(y,E){var w=0;y.subscribe(kr(E,function(R){E.next(d.call(p,R,w++))}))})}function $R(d,p,y,E,w,R,c,x){var t=[],a=0,g=0,o=!1,s=function(){o&&!t.length&&!a&&p.complete()},r=function(n){return a<E?e(n):t.push(n)},e=function(n){R&&p.next(n),a++;var l=!1;ts(y(n,g++)).subscribe(kr(p,function(i){w==null||w(i),R?r(i):p.next(i)},function(){l=!0},void 0,function(){if(l)try{a--;for(var i=function(){var h=t.shift();c?mr(p,c,function(){return e(h)}):e(h)};t.length&&a<E;)i();s()}catch(h){p.error(h)}}))};return d.subscribe(kr(p,r,function(){o=!0,s()})),function(){x==null||x()}}function PT(d,p,y){return y===void 0&&(y=1/0),Be(p)?PT(function(E,w){return Ja(function(R,c){return p(E,R,w,c)})(ts(d(E,w)))},y):(typeof p=="number"&&(y=p),Ar(function(E,w){return $R(E,w,d,y)}))}function AT(d){return d===void 0&&(d=1/0),PT(rT,d)}function KR(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=hT(d),E=lT(d,1/0),w=d;return w.length?w.length===1?ts(w[0]):AT(E)(ET(w,y)):aT}var jR=Array.isArray;function ZR(d){return d.length===1&&jR(d[0])?d[0]:d}function Sr(d,p){return Ar(function(y,E){var w=0;y.subscribe(kr(E,function(R){return d.call(p,R,w++)&&E.next(R)}))})}function oa(d){return d<=0?function(){return aT}:Ar(function(p,y){var E=0;p.subscribe(kr(y,function(w){++E<=d&&(y.next(w),d<=E&&y.complete())}))})}function QR(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=hT(d),E=lT(d,1/0);return d=ZR(d),Ar(function(w,R){AT(E)(ET(xo([w],yo(d)),y)).subscribe(R)})}function kR(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return QR.apply(void 0,xo([],yo(d)))}function Vi(d){return Ar(function(p,y){ts(d).subscribe(kr(y,function(){return y.complete()},vc)),!y.closed&&p.subscribe(y)})}var zr=1e3,JR=class{constructor(d,p){this.id=d,this.movementDirection="none",this._tilePos={position:new At(0,0),layer:void 0},this.movementStarted$=new ge,this.movementStopped$=new ge,this.directionChanged$=new ge,this.positionChangeStarted$=new ge,this.positionChangeFinished$=new ge,this.tilePositionSet$=new ge,this.autoMovementSet$=new ge,this.lastMovementImpulse="none",this.facingDirection="down",this.depthChanged$=new ge,this.movementProgress=0;var y,E,w;this.tilemap=p.tilemap,this.speed=p.speed,this.collidesWithTilesInternal=p.collidesWithTiles,this._tilePos.layer=p.charLayer,this.ignoreMissingTiles=(y=p.ignoreMissingTiles)!=null?y:!1,this.collisionGroups=new Set(p.collisionGroups||[]),this.ignoreCollisionGroups=new Set(p.ignoreCollisionGroups||[]),this.labels=new Set(p.labels||[]),this.numberOfDirections=p.numberOfDirections,p.facingDirection&&this.turnTowards(p.facingDirection),this.tileWidth=(E=p.tileWidth)!=null?E:1,this.tileHeight=(w=p.tileHeight)!=null?w:1}getId(){return this.id}getSpeed(){return this.speed}setSpeed(d){this.speed=d}setMovement(d){this.autoMovementSet$.next(d),this.movement=d}getMovement(){return this.movement}collidesWithTiles(){return this.collidesWithTilesInternal}setCollidesWithTiles(d){this.collidesWithTilesInternal=d}getIgnoreMissingTiles(){return this.ignoreMissingTiles}setIgnoreMissingTiles(d){this.ignoreMissingTiles=d}setTilePosition(d){this.isMoving()&&this.movementStopped$.next(this.movementDirection),this.tilePositionSet$.next(de({},d)),this.fire(this.positionChangeStarted$,this.tilePos,d),this.fire(this.positionChangeFinished$,this.tilePos,d),this.movementDirection="none",this.lastMovementImpulse="none",this.tilePos=d,this.movementProgress=0}getTilePos(){return this.tilePos}getNextTilePos(){if(!this.isMoving())return this.tilePos;let d=this.tilePos.layer,p=this.tilePosInDirection(this.tilePos.position,this.movementDirection),y=this.tilemap.getTransition(p,this.tilePos.layer);return y&&(d=y),{position:this.tilePosInDirection(this.tilePos.position,this.movementDirection),layer:d}}getTileWidth(){return this.tileWidth}getTileHeight(){return this.tileHeight}move(d){this.lastMovementImpulse=d,d!="none"&&(this.isMoving()||(this.isBlockingDirection(d)?this.changeFacingDirection(d):this.startMoving(d)))}update(d){var p;(p=this.movement)==null||p.update(d),this.isMoving()&&this.updateCharacterPosition(d),this.lastMovementImpulse="none"}getMovementDirection(){return this.movementDirection}isBlockingDirection(d){if(d=="none")return!1;let p=this.tilePosInDirection(this.getNextTilePos().position,d),y=this.tilemap.getTransition(p,this.getNextTilePos().layer)||this.getNextTilePos().layer;return this.collidesWithTilesInternal&&this.isTileBlocking(d,y)?!0:this.isCharBlocking(d,y)}isTileBlocking(d,p){return this.someCharTile((y,E)=>{let w=this.tilePosInDirection(new At(y,E),d);return this.tilemap.hasBlockingTile(w,p,pR(d),this.ignoreMissingTiles)})}isCharBlocking(d,p){return this.someCharTile((y,E)=>{let w=this.tilePosInDirection(new At(y,E),d);return this.tilemap.hasBlockingChar(w,p,this.getCollisionGroups(),new Set([this.getId()]),this.ignoreCollisionGroups)})}isMoving(){return this.movementDirection!="none"}turnTowards(d){this.isMoving()||d!="none"&&this.changeFacingDirection(d)}changeFacingDirection(d){this.facingDirection!==d&&(this.facingDirection=d,this.directionChanged$.next(d))}getFacingDirection(){return this.facingDirection}getFacingPosition(){return this._tilePos.position.add(ea(this.facingDirection))}addCollisionGroup(d){this.collisionGroups.add(d)}setCollisionGroups(d){this.collisionGroups=new Set(d)}setIgnoreCollisionGroups(d){this.ignoreCollisionGroups=new Set(d)}getCollisionGroups(){return Array.from(this.collisionGroups)}getIgnoreCollisionGroups(){return Array.from(this.ignoreCollisionGroups)}hasCollisionGroup(d){return this.collisionGroups.has(d)}removeCollisionGroup(d){this.collisionGroups.delete(d)}removeAllCollisionGroups(){this.collisionGroups.clear()}addLabels(d){for(let p of d)this.labels.add(p)}getLabels(){return[...this.labels.values()]}hasLabel(d){return this.labels.has(d)}clearLabels(){this.labels.clear()}removeLabels(d){for(let p of d)this.labels.delete(p)}getNumberOfDirections(){return this.numberOfDirections}movementStarted(){return this.movementStarted$}movementStopped(){return this.movementStopped$}directionChanged(){return this.directionChanged$}tilePositionSet(){return this.tilePositionSet$}positionChangeStarted(){return this.positionChangeStarted$}positionChangeFinished(){return this.positionChangeFinished$}autoMovementSet(){return this.autoMovementSet$}depthChanged(){return this.depthChanged$}getMovementProgress(){return this.movementProgress}setMovementProgress(d){let p=Math.max(0,Math.min(zr,d));this.movementProgress=p}hasWalkedHalfATile(){return this.movementProgress>zr/2}willCrossTileBorderThisUpdate(d){return this.movementProgress+this.maxProgressForDelta(d)>=zr}updateCharacterPosition(d){let p=this.willCrossTileBorderThisUpdate(d),y=1-(p?zr-this.movementProgress:this.maxProgressForDelta(d))/this.maxProgressForDelta(d);this.movementProgress=Math.min(this.movementProgress+this.maxProgressForDelta(d),zr),p&&(this.movementProgress=0,this.shouldContinueMoving()?(this.fire(this.positionChangeFinished$,this.tilePos,this.getNextTilePos()),this.tilePos=this.getNextTilePos(),this.startMoving(this.lastMovementImpulse),y>0&&this.updateCharacterPosition(d*y)):this.stopMoving())}maxProgressForDelta(d){let p=d/1e3;return Math.floor(p*this.speed*zr)}get tilePos(){return Vt.clone(this._tilePos)}set tilePos(d){Vt.copyOver(d,this._tilePos)}startMoving(d){d!=="none"&&(d!=this.movementDirection&&this.movementStarted$.next(d),this.movementDirection=d,this.facingDirection=d,this.fire(this.positionChangeStarted$,this.tilePos,this.getNextTilePos()))}tilePosInDirection(d,p){return d.add(ea(this.tilemap.toMapDirection(p)))}shouldContinueMoving(){return this.lastMovementImpulse!=="none"&&!this.isBlockingDirection(this.lastMovementImpulse)}stopMoving(){if(this.movementDirection==="none")return;let d=this.tilePos,p=this.getNextTilePos(),y=this.movementDirection;this.tilePos=this.getNextTilePos(),this.movementDirection="none",this.movementStopped$.next(y),this.fire(this.positionChangeFinished$,d,p)}fire(d,{position:p,layer:y},{position:E,layer:w}){d.next({exitTile:p,enterTile:E,exitLayer:y,enterLayer:w})}someCharTile(d){let p=this.getNextTilePos().position;for(let y=p.x;y<p.x+this.getTileWidth();y++)for(let E=p.y;E<p.y+this.getTileHeight();E++)if(d(y,E))return!0;return!1}},gc=class tl{constructor(p,y){this.walkingAnimationMapping=p,this.charsInRow=y,this.lastFootLeft=!1,this.directionToFrameRow={down:0,"down-left":1,"down-right":2,left:1,right:2,up:3,"up-left":1,"up-right":2},this._isEnabled=!0,this.frameChange$=new ge,this.setWalkingAnimationMapping(p)}frameChange(){return this.frameChange$}setIsEnabled(p){this._isEnabled=p}isEnabled(){return this._isEnabled}updateCharacterFrame(p,y,E){this._isEnabled&&(y?this.setStandingFrameDuringWalk(p,E):this.setWalkingFrame(p))}setStandingFrame(p){this._isEnabled&&this._setStandingFrame(p)}setWalkingAnimationMapping(p){this.walkingAnimationMapping=p,this._isEnabled=this.walkingAnimationMapping!==void 0}getWalkingAnimationMapping(){return this.walkingAnimationMapping}getCharsInRow(){return this.charsInRow}setStandingFrameDuringWalk(p,y){this.isCurrentFrameStanding(p,y)||(this.lastFootLeft=!this.lastFootLeft),this._setStandingFrame(p)}setWalkingFrame(p){let y=this.framesOfDirection(p);y&&this.frameChange$.next(this.lastFootLeft?y.rightFoot:y.leftFoot)}_setStandingFrame(p){let y=this.framesOfDirection(p);y&&this.frameChange$.next(y.standing)}isCurrentFrameStanding(p,y){var E;return y===((E=this.framesOfDirection(p))==null?void 0:E.standing)}framesOfDirection(p){return typeof this.walkingAnimationMapping=="number"?this.getFramesForCharIndex(p,this.walkingAnimationMapping):this.getFramesForAnimationMapping(p)}getFramesForAnimationMapping(p){if(this.walkingAnimationMapping)return this.walkingAnimationMapping[p]||this.walkingAnimationMapping[this.fallbackDirection(p)]}fallbackDirection(p){switch(p){case"down-left":return"left";case"down-right":return"right";case"up-left":return"left";case"up-right":return"right"}return p}getFramesForCharIndex(p,y){var E;let w=Math.floor(y/this.charsInRow),R=y%this.charsInRow,c=this.charsInRow*tl.FRAMES_CHAR_ROW,x=tl.FRAMES_CHAR_ROW*R,t=((E=this.directionToFrameRow[p])!=null?E:0)+w*tl.FRAMES_CHAR_COL,a=x+t*c;return{rightFoot:a,standing:a+1,leftFoot:a+2}}};gc.FRAMES_CHAR_ROW=3,gc.FRAMES_CHAR_COL=4;var Km=gc,mc=class{static shiftPad(d,p){let y=Math.floor(d),E=`${y}`.padStart(p,"0").length;return y/Math.pow(10,E)}},un=class yc{static vec2str(p){return`${p.x}#${p.y}`}static equal(p,y){return yc.vec2str(p)==yc.vec2str(y)}static manhattanDistance(p,y){let E=Math.abs(p.x-y.x),w=Math.abs(p.y-y.y);return E+w}static chebyshevDistance(p,y){let E=Math.abs(p.x-y.x),w=Math.abs(p.y-y.y);return Math.max(E,w)}static scalarMult(p,y){return p.clone().multiply(new At(y,y))}},Ua=class br{constructor(p){this.tilemap=p,this.charLayerDepths=new Map,this.setLayerDepths()}getTileWidth(){var p,y;let E=(y=(p=this.tilemap.layers[0])==null?void 0:p.tilemapLayer.scale)!=null?y:1;return this.tilemap.tileWidth*E}getTileHeight(){var p,y;let E=(y=(p=this.tilemap.layers[0])==null?void 0:p.tilemapLayer.scale)!=null?y:1;return this.tilemap.tileHeight*E}getDepthOfCharLayer(p){var y;return(y=this.charLayerDepths.get(p))!=null?y:0}tilePosToPixelPos(p){return this.isIsometric()?un.scalarMult(this.getTileSize(),.5).multiply(new At(p.x-p.y,p.x+p.y)):p.clone().multiply(this.getTileSize())}getTileDistance(p){if(this.isIsometric())switch(p){case"down-left":case"down-right":case"up-left":case"up-right":return un.scalarMult(this.getTileSize(),.5);default:return this.getTileSize()}return this.getTileSize()}getTileSize(){return new At(this.getTileWidth(),this.getTileHeight())}isIsometric(){return this.tilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()}isLayerAlwaysOnTop(p){return this.hasLayerProp(p,br.ALWAYS_TOP_PROP_NAME)}isCharLayer(p){return this.hasLayerProp(p,br.CHAR_LAYER_PROP_NAME)}setLayerDepths(){let p=[],y=-1,E=this.tilemap.layers.filter(w=>this.isLayerAlwaysOnTop(w));this.tilemap.layers.filter(w=>!this.isLayerAlwaysOnTop(w)).forEach(w=>{this.hasLayerProp(w,br.HEIGHT_SHIFT_PROP_NAME)?(this.createHeightShiftLayers(w,y),p.push(w.tilemapLayer)):this.setDepth(w,++y)}),this.charLayerDepths.set(void 0,y),E.forEach((w,R)=>{w.tilemapLayer.setDepth(R+1+y)}),p.forEach(w=>w.destroy())}setDepth(p,y){p.tilemapLayer.setDepth(y),this.isCharLayer(p)&&this.charLayerDepths.set(this.getLayerProp(p,br.CHAR_LAYER_PROP_NAME),y)}createHeightShiftLayers(p,y){let E=this.getLayerProp(p,br.HEIGHT_SHIFT_PROP_NAME);isNaN(E)&&(E=0);let w=1;for(let R=0;R<p.height;R++){let c=this.copyLayer(p,R);if(c){c.scale=p.tilemapLayer.scale;let x=this.isIsometric()?this.getTileHeight()/2:this.getTileHeight();c.setDepth(y+mc.shiftPad((R+E)*x+w,br.Z_INDEX_PADDING))}}}getLayerProp(p,y){let E=p.properties.find(w=>w.name==y);return E==null?void 0:E.value}hasLayerProp(p,y){return this.getLayerProp(p,y)!=null}copyLayer(p,y){let E=`${p.name}#${y}`,w=this.tilemap.createBlankLayer(E,p.tilemapLayer.tileset);if(w){if(w.name=E,this.isIsometric())for(let R=y;R>=0;R--){let c=y-R;w.putTileAt(p.data[R][c],c,R)}else for(let R=0;R<p.width;R++)w.putTileAt(p.data[y][R],R,y);return w}}};Ua.ALWAYS_TOP_PROP_NAME="ge_alwaysTop",Ua.CHAR_LAYER_PROP_NAME="ge_charLayer",Ua.HEIGHT_SHIFT_PROP_NAME="ge_heightShift",Ua.Z_INDEX_PADDING=7;var xc=Ua,qR=class{constructor(d,p,y,E,w){this.charData=d,this.scene=p,this.tilemap=y,this.geHeadless=w,this.customOffset=new At(0,0),this.cachedContainerHeight=0,this.newSpriteSet$=new ge,this.destroy$=new ge;var R,c;this.layerOverlaySprite=E&&d.sprite?this.scene.add.sprite(0,0,d.sprite.texture):void 0,this.walkingAnimationMapping=d.walkingAnimationMapping,this.customOffset=new At(d.offsetX||0,d.offsetY||0),this.sprite=d.sprite,this.container=d.container,this.cachedContainerHeight=(c=(R=d.container)==null?void 0:R.getBounds().height)!=null?c:0,this.geHeadless.directionChanged().pipe(Sr(({charId:x})=>x===this.charData.id)).subscribe(({direction:x})=>{var t;(t=this.animation)==null||t.setStandingFrame(x)}),this.sprite&&(this.sprite.setOrigin(0,0),this.resetAnimation(this.sprite),this.updateOverlaySprite(),this.updateGridChar())}destroy(){this.destroy$.next(),this.destroy$.complete(),this.newSpriteSet$.complete()}setSprite(d){d?(this.sprite&&(d.x=this.sprite.x,d.y=this.sprite.y),this.sprite=d,this.newSpriteSet$.next(),this.layerOverlaySprite=this.layerOverlaySprite?this.scene.add.sprite(0,0,this.sprite.texture):void 0,this.updateOverlaySprite(),this.resetAnimation(this.sprite),this.updateDepth()):(this.layerOverlaySprite=void 0,this.sprite=void 0)}getSprite(){return this.sprite}getLayerOverlaySprite(){return this.layerOverlaySprite}setContainer(d){var p;this.container=d,this.cachedContainerHeight=(p=d==null?void 0:d.getBounds().height)!=null?p:0}getContainer(){return this.container}getOffsetX(){return this.customOffset.x}setOffsetX(d){this.customOffset.x=d}getOffsetY(){return this.customOffset.y}setOffsetY(d){this.customOffset.y=d}getWalkingAnimationMapping(){return this.walkingAnimationMapping}turnTowards(d){var p;this.geHeadless.isMoving(this.charData.id)||d!="none"&&(this.geHeadless.turnTowards(this.charData.id,d),(p=this.animation)==null||p.setStandingFrame(d))}getAnimation(){return this.animation}setAnimation(d){this.animation=d}update(d){this.updateGridChar()}getEngineOffset(){var d,p,y,E;if(!this.sprite)return At.ZERO;let w=this.tilemap.getTileWidth()/2-Math.floor(((p=(d=this.sprite)==null?void 0:d.displayWidth)!=null?p:0)/2),R=-((E=(y=this.sprite)==null?void 0:y.displayHeight)!=null?E:0)+this.tilemap.getTileHeight();return new At(w,R)}updatePixelPos(){let d=new At(this.geHeadless.getPosition(this.charData.id)),p=this.geHeadless.getMovementProgress(this.charData.id)/1e3,y=this.tilemap.tilePosToPixelPos(d).add(this.getEngineOffset()).add(this.customOffset).add(ea(this.geHeadless.getFacingDirection(this.charData.id)).multiply(this.tilemap.getTileDistance(this.geHeadless.getFacingDirection(this.charData.id)).scalarMult(p))),E=this.getGameObj();E&&(E.x=Math.floor(y.x),E.y=Math.floor(y.y))}getGameObj(){return this.container||this.sprite}updateGridChar(){var d;if(this.updatePixelPos(),this.sprite&&this.geHeadless.isMoving(this.charData.id)){let p=this.geHeadless.getMovementProgress(this.charData.id)>zr/2;(d=this.getAnimation())==null||d.updateCharacterFrame(this.geHeadless.getFacingDirection(this.charData.id),p,Number(this.sprite.frame.name))}this.updateDepth()}resetAnimation(d){let p=new Km(this.walkingAnimationMapping,d.texture.source[0].width/d.width/Km.FRAMES_CHAR_ROW);this.setAnimation(p),p.frameChange().pipe(Vi(this.newSpriteSet$)).subscribe(y=>{d==null||d.setFrame(y)}),p.setIsEnabled(this.walkingAnimationMapping!==void 0),p.setStandingFrame(this.geHeadless.getFacingDirection(this.charData.id))}updateOverlaySprite(){if(!this.layerOverlaySprite||!this.sprite)return;this.layerOverlaySprite.scale=this.sprite.scale;let d=this.tilemap.getTileHeight()/this.layerOverlaySprite.scale;this.layerOverlaySprite.setCrop(0,0,this.layerOverlaySprite.displayWidth,this.sprite.height-d),this.layerOverlaySprite.setOrigin(0,0)}updateDepth(){if(!this.getGameObj())return;let d=new At(this.geHeadless.getPosition(this.charData.id)),p=this.geHeadless.getCharLayer(this.charData.id);this.container?this.setContainerDepth(this.container,{position:d,layer:p}):this.sprite&&this.setSpriteDepth(this.sprite,{position:d,layer:p});let y=this.getLayerOverlaySprite();if(y){let E=new At(Tr(de({},d),{y:d.y-1}));this.setSpriteDepth(y,{position:E,layer:p})}}setSpriteDepth(d,p){d.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(p))+this.getPaddedPixelDepthSprite(d))}setContainerDepth(d,p){d.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(p))+this.getPaddedPixelDepthContainer(d))}getPaddedPixelDepthContainer(d){return mc.shiftPad(d.y+this.cachedContainerHeight,xc.Z_INDEX_PADDING)}getPaddedPixelDepthSprite(d){return mc.shiftPad(d.y+d.displayHeight,xc.Z_INDEX_PADDING)}getTransitionLayer(d){if(d.layer)return this.geHeadless.getTransition(d.position,d.layer)||d.layer}},_R=(d=>(d.DONT_BLOCK="DONT_BLOCK",d.BLOCK_TWO_TILES="BLOCK_TWO_TILES",d.BLOCK_ONE_TILE_AHEAD="BLOCK_ONE_TILE_AHEAD",d.BLOCK_ONE_TILE_BEHIND="BLOCK_ONE_TILE_BEHIND",d))(_R||{}),wT=(d=>(d.STOP="STOP",d.CLOSEST_REACHABLE="CLOSEST_REACHABLE",d.RETRY="RETRY",d.ALTERNATIVE_TARGETS="ALTERNATIVE_TARGETS",d))(wT||{}),tL=class{distance(d,p){return un.manhattanDistance(d,p)}direction(d,p){if(un.equal(d,p))return"none";let y=d.clone().subtract(p);return Math.abs(y.x)>Math.abs(y.y)?y.x>0?"left":"right":y.y>0?"up":"down"}neighbors(d){return[new At(d.x,d.y+1),new At(d.x+1,d.y),new At(d.x-1,d.y),new At(d.x,d.y-1)]}getDirections(){return["up","right","down","left"]}},eL=class{distance(d,p){return un.chebyshevDistance(d,p)}neighbors(d){let p=[new At(d.x,d.y+1),new At(d.x+1,d.y),new At(d.x-1,d.y),new At(d.x,d.y-1)],y=[new At(d.x+1,d.y+1),new At(d.x+1,d.y-1),new At(d.x-1,d.y+1),new At(d.x-1,d.y-1)];return[...p,...y]}direction(d,p){return p.x>d.x?p.y>d.y?"down-right":p.y<d.y?"up-right":"right":p.x<d.x?p.y>d.y?"down-left":p.y<d.y?"up-left":"left":p.y<d.y?"up":p.y>d.y?"down":"none"}getDirections(){return["up","right","down","left","down-left","down-right","up-right","up-left"]}},Jr=class{static create(d){switch(d){case 4:return new tL;case 8:return new eL}}},jm=class{constructor(d,p,y){this.backoffMs=d,this.maxRetries=p,this.onFinished=y,this.retries=0,this.elapsed=0}retry(d,p){this.shouldRetry()?(this.elapsed+=d,this.elapsed>=this.backoffMs&&(this.elapsed=0,this.retries++,p())):this.onFinished()}reset(){this.retries=0,this.elapsed=0}getMaxRetries(){return this.maxRetries}getBackoffMs(){return this.backoffMs}shouldRetry(){return this.maxRetries===-1||this.retries<this.maxRetries}},MT=(d=>(d.WAIT="WAIT",d.RETRY="RETRY",d.STOP="STOP",d))(MT||{}),vu=class{constructor(d,{shortestPathAlgorithm:p="BFS",pathWidth:y=1,pathHeight:E=1,numberOfDirections:w=4,isPositionAllowed:R=(n,l)=>!0,collisionGroups:c=[],ignoredChars:x=[],ignoreTiles:t=!1,ignoreMapBounds:a=!1,ignoreBlockedTarget:g=!1,maxPathLength:o=1/0,ignoreLayers:s=!1,considerCosts:r=!1,calculateClosestToTarget:e=!0}={}){this.gridTilemap=d,this.options={shortestPathAlgorithm:p,pathWidth:y,pathHeight:E,numberOfDirections:w,isPositionAllowed:R,collisionGroups:c,ignoredChars:x,ignoreTiles:t,ignoreMapBounds:a,ignoreBlockedTarget:g,maxPathLength:o,ignoreLayers:s,considerCosts:r,calculateClosestToTarget:e}}findShortestPath(d,p){this.options.ignoreLayers&&(this.gridTilemap.fixCacheLayer(d.layer),p.layer=d.layer);let y=this.findShortestPathImpl(d,p);return this.gridTilemap.unfixCacheLayers(),y}getNeighbors(d,p){var y;return Jr.create((y=this.options.numberOfDirections)!=null?y:4).neighbors(d.position).map(E=>{let w=d.layer;return this.options.ignoreLayers||(w=this.gridTilemap.getTransition(E,d.layer)),{position:E,layer:w||d.layer}}).filter(E=>!this.isBlocking(d,E)||this.options.ignoreBlockedTarget&&Vt.equal(E,p))}getTransition(d,p){if(!this.options.ignoreLayers)return this.gridTilemap.getTransition(d,p)}getCosts(d,p){if(!this.options.considerCosts)return 1;let y=Yi(p.position,d);return this.gridTilemap.getTileCosts(p,y)}isBlocking(d,p){return!(this.options.ignoreMapBounds||this.gridTilemap.isInRange(p.position))||!this.options.isPositionAllowed(p.position,p.layer)||!this.options.ignoreTiles&&this.hasBlockingTileFrom(d,p,this.options.pathWidth,this.options.pathHeight,this.options.ignoreMapBounds,this.gridTilemap)?!0:this.hasBlockingCharFrom(d,p,this.options.pathWidth,this.options.pathHeight,this.options.collisionGroups,this.options.ignoredChars,this.gridTilemap)}distance(d,p){return(this.options.numberOfDirections===4?un.manhattanDistance:un.chebyshevDistance)(d,p)}getTilePosInDir(d,p){return this.gridTilemap.getTilePosInDirection(d,p)}getReverseNeighbors(d,p){var y;let E=Jr.create((y=this.options.numberOfDirections)!=null?y:4).neighbors(d.position),w;if(!this.options.ignoreLayers){let R=this.gridTilemap.getReverseTransitions(d.position,d.layer);w=R?[...R]:void 0}return E.map(R=>w?w.map(c=>({position:R,layer:c||d.layer})):[{position:R,layer:d.layer}]).flat().filter(R=>!this.isBlocking(R,d)||this.options.ignoreBlockedTarget&&Vt.equal(d,p))}hasBlockingCharFrom(d,p,y,E,w,R,c){let x=a=>c.hasBlockingChar(a,p.layer,w,new Set(R));if(y===1&&E===1)return x(p.position);let t=Yi(d.position,p.position);return this.isBlockingMultiTile(d,t,y,E,x)}hasBlockingTileFrom(d,p,y,E,w,R){if(y===1&&E===1)return R.hasBlockingTile(p.position,p.layer,Yi(p.position,d.position),w);let c=Yi(d.position,p.position),x=t=>R.hasBlockingTile(t,p.layer,c,w);return this.isBlockingMultiTile(d,c,y,E,x)}isBlockingMultiTile(d,p,y,E,w){let R={src:new At(d.position.x+y,d.position.y),dest:new At(d.position.x+y,d.position.y+E-1)},c={src:new At(d.position.x-1,d.position.y),dest:new At(d.position.x-1,d.position.y+E-1)},x={src:new At(d.position.x,d.position.y-1),dest:new At(d.position.x+y-1,d.position.y-1)},t={src:new At(d.position.x,d.position.y+E),dest:new At(d.position.x+y-1,d.position.y+E)};switch(p){case"right":return this.checkLine(R,w);case"left":return this.checkLine(c,w);case"up":return this.checkLine(x,w);case"down":return this.checkLine(t,w);case"up-left":return this.checkLine({src:x.src,dest:new At(x.dest.x-1,x.dest.y)},w)||this.checkLine({src:new At(c.src.x,c.src.y-1),dest:new At(c.dest.x,c.dest.y-1)},w);case"up-right":return this.checkLine({src:new At(x.src.x+1,x.src.y),dest:x.dest},w)||this.checkLine({src:new At(R.src.x,R.src.y-1),dest:new At(R.dest.x,R.dest.y-1)},w);case"down-left":return this.checkLine({src:new At(c.src.x,c.src.y+1),dest:new At(c.dest.x,c.dest.y+1)},w)||this.checkLine({src:t.src,dest:new At(t.dest.x-1,t.dest.y)},w);case"down-right":return this.checkLine({src:new At(t.src.x+1,t.src.y),dest:t.dest},w)||this.checkLine({src:new At(R.src.x,R.src.y+1),dest:new At(R.dest.x,R.dest.y+1)},w)}return!1}checkLine(d,p){for(let y=d.src.x;y<=d.dest.x;y++)for(let E=d.src.y;E<=d.dest.y;E++)if(p(new At(y,E)))return!0;return!1}},iL=Xx(wv(),1),nL=class extends vu{findShortestPathImpl(d,p){let y=this.shortestPathBfs(d,p);return{path:this.returnPath(y.previous,d,p),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"A_STAR"}}shortestPathBfs(d,p){let y=new Map,E=new Map,w=new Map,R=new iL.MinFibonacciHeap((a,g)=>Ba(w,a)-Ba(w,g)),c=d,x=this.distance(d.position,p.position),t=0;for(R.push(d),E.set(Vt.toString(d),0),w.set(Vt.toString(d),this.distance(d.position,p.position));R.size>0;){let a=R.pop();if(!a)break;t++;let g=this.distance(a.position,p.position);if(g<x&&(x=g,c=a),Zm(a,p))return{previous:y,closestToTarget:c,steps:t,maxPathLengthReached:!1};if(Ba(E,a)+1>this.options.maxPathLength)return{previous:new Map,closestToTarget:c,steps:t,maxPathLengthReached:!0};for(let o of this.getNeighbors(a,p)){let s=Ba(E,a)+this.getCosts(a.position,o),r=Vt.toString(o);(!E.has(r)||s<Ba(E,o))&&(y.set(r,a),E.set(r,s),w.set(r,s+this.distance(o.position,p.position)),R.push(o))}}return{previous:y,closestToTarget:c,steps:t,maxPathLengthReached:!1}}returnPath(d,p,y){let E=[],w=y;for(E.push(w);!Zm(w,p);){if(w=d.get(Vt.toString(w)),!w)return[];E.push(w)}return E.reverse()}};function Ba(d,p){var y;return(y=d.get(Vt.toString(p)))!=null?y:Number.MAX_VALUE}function Zm(d,p){return un.equal(d.position,p.position)?d.layer===p.layer:!1}var Qm=class{constructor(d){this.data=d}},Ll=class{constructor(){this.sizeInternal=0}dequeue(){if(this.tail===void 0)return;this.sizeInternal--;let d=this.tail.data;return this.tail.prev===void 0?(this.tail=void 0,this.head=void 0,d):(this.tail.prev.next=void 0,this.tail=this.tail.prev,d)}enqueue(d){if(this.sizeInternal++,this.head===void 0){this.head=new Qm(d),this.tail=this.head;return}let p=new Qm(d);p.next=this.head,this.head.prev=p,this.head=p}peek(){return this.tail?this.tail.data:void 0}peekAll(){let d=[],p=this.tail;for(;p;)d.push(p.data),p=p.prev;return d}clear(){this.head=void 0,this.tail=void 0,this.sizeInternal=0}peekEnd(){var d;return(d=this.head)==null?void 0:d.data}size(){return this.sizeInternal}},RT=class extends vu{findShortestPathImpl(d,p){let y=this.shortestPathBfs(d,p);return{path:this.returnPath(y.previous,d,p),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"BFS"}}equal(d,p){return un.equal(d.position,p.position)?d.layer===p.layer:!1}shortestPathBfs(d,p){let y=new Map,E=new Set,w=new Ll,R=d,c=this.distance(d.position,p.position),x=0;for(w.enqueue({node:d,dist:0}),E.add(Vt.toString(d));w.size()>0;){let t=w.dequeue();if(x++,!t)break;let{node:a,dist:g}=t;if(g>this.options.maxPathLength)return{previous:new Map,closestToTarget:R,steps:x,maxPathLengthReached:!0};let o=this.distance(a.position,p.position);if(o<c&&(c=o,R=a),this.equal(a,p))return{previous:y,closestToTarget:R,steps:x,maxPathLengthReached:!1};for(let s of this.getNeighbors(a,p))E.has(Vt.toString(s))||(y.set(Vt.toString(s),a),w.enqueue({node:s,dist:g+1}),E.add(Vt.toString(s)))}return{previous:y,closestToTarget:R,steps:x,maxPathLengthReached:!1}}returnPath(d,p,y){let E=[],w=y;for(E.push(w);!this.equal(w,p);){if(w=d.get(Vt.toString(w)),!w)return[];E.push(w)}return E.reverse()}},km=class{constructor(){this.previous=new Map,this.visited=new Map,this.queue=new Ll,this.minMatching=1/0,this.lastDist=0}isNewFrontier(){let d=this.queue.peek();return!!(d&&d.dist>this.lastDist)}step(d,p,y){var E;this.lastDist=y;for(let w of d){let R=Vt.toString(w);if(!this.visited.has(R)){this.previous.set(R,p),this.queue.enqueue({node:w,dist:y+1}),this.visited.set(R,y+1);let c=(E=this.otherBfs)==null?void 0:E.visited.get(R);c!==void 0&&c<this.minMatching&&(this.minMatching=c,this.minMatchingNode=w)}}}},rL=class extends vu{findShortestPathImpl(d,p){let y=this.shortestPathBfs(d,p);return{path:this.returnPath(y.previous,y.previous2,y.matchingPos,d,p),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"BIDIRECTIONAL_SEARCH"}}equal(d,p){return un.equal(d.position,p.position)?d.layer===p.layer:!1}shortestPathBfs(d,p){var y;if(Vt.equal(d,p))return{previous:new Map,previous2:new Map,closestToTarget:d,steps:0,maxPathLengthReached:!1};let E=new km,w=new km,R=0;E.otherBfs=w,w.otherBfs=E;let c=d,x=this.distance(d.position,p.position);for(E.queue.enqueue({node:d,dist:0}),w.queue.enqueue({node:p,dist:0}),E.visited.set(Vt.toString(d),0),w.visited.set(Vt.toString(p),0);this.shouldStop(E.queue.size()>0,w.queue.size()>0);){let t=E.queue.dequeue();if(!t)break;let{node:a,dist:g}=t;if(g+1+(((y=w.queue.peek())==null?void 0:y.dist)||0)>this.options.maxPathLength)return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(c),steps:R,maxPathLengthReached:!0};let o=this.distance(a.position,p.position);if(o<x&&(x=o,c=a),R++,E.step(this.getNeighbors(a,p),a,g),E.isNewFrontier()&&E.minMatchingNode)return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(p),matchingPos:E.minMatchingNode,steps:R,maxPathLengthReached:!1};let s=w.queue.dequeue();if(!s)continue;let{node:r,dist:e}=s;if(R++,w.step(this.getReverseNeighbors(r,p),r,e),w.isNewFrontier()&&w.minMatchingNode)return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(p),matchingPos:w.minMatchingNode,steps:R,maxPathLengthReached:!1}}return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(c),steps:R,maxPathLengthReached:!1}}shouldStop(d,p){return this.options.calculateClosestToTarget?d||p:d&&p}maybeClosestToTarget(d){return this.options.calculateClosestToTarget?d:void 0}returnPath(d,p,y,E,w){if(y){let R=this.getPathFromPrev(d,E,y).reverse(),c=this.getPathFromPrev(p,w,y);return R.pop(),[...R,...c]}else return this.getPathFromPrev(d,E,w).reverse()}getPathFromPrev(d,p,y){let E=[],w=y;for(E.push(w);!this.equal(w,p);){if(w=d.get(Vt.toString(w)),!w)return[];E.push(w)}return E}},Jm=Xx(lR(),1),LT=class extends vu{constructor(d,p={}){super(d,p),this.openSet=new Jm.MinFibonacciHeap,this.g=new Map,this.f=new Map,this.closestToTarget={position:new At(0,0),layer:void 0},this.smallestDistToTarget=0,this.steps=0,this.maxFrontierSize=0,this.maxJumpSize=0,this.turnOrder={right:0,"down-right":1,down:2,"down-left":3,left:4,"up-left":5,up:6,"up-right":7},this.turnTimes=sL(),this.distanceUtils=Jr.create(4)}findShortestPathImpl(d,p){this.maxJumpSize=this.distance(d.position,p.position);let y=this.shortestPath(d,p);return{path:this.returnPath(y.previous,d,p),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"JPS"}}shortestPath(d,p){this.steps=0;let y=new Map;this.g=new Map,this.f=new Map,this.closestToTarget=d,this.smallestDistToTarget=this.distance(d.position,p.position),this.openSet=new Jm.MinFibonacciHeap((w,R)=>Ia(this.f,w)-Ia(this.f,R)),this.openSet.push(d);let E=Vt.toString(d);for(this.g.set(E,0),this.f.set(E,this.distance(d.position,p.position)),this.maxFrontierSize=Math.max(this.maxFrontierSize,this.openSet.size);this.openSet.size>0;){let w=this.openSet.pop();if(!w)break;if(this.steps++,Vt.equal(w,p))return{previous:y,closestToTarget:p,steps:this.steps,maxPathLengthReached:!1};if(Ia(this.g,w)+1>this.options.maxPathLength)return{previous:new Map,closestToTarget:this.closestToTarget,steps:this.steps,maxPathLengthReached:!0};this.updateClosestToTarget(w,p);for(let R of this.getNeighborsInternal(w,y.get(Vt.toString(w)),p)){let c=Vt.toString(R.p),x=Ia(this.g,w)+R.dist;(!this.g.has(c)||x<Ia(this.g,R.p))&&(y.set(c,w),this.g.set(c,x),this.f.set(c,x+this.distance(R.p.position,p.position)),this.openSet.push(R.p))}}return{previous:y,closestToTarget:this.closestToTarget,steps:this.steps,maxPathLengthReached:!1}}updateClosestToTarget(d,p){let y=this.distance(d.position,p.position);y<this.smallestDistToTarget&&(this.smallestDistToTarget=y,this.closestToTarget=d)}addIfNotBlocked(d,p,y){this.blockOrTrans(p,y)||d.add(y)}blockOrTrans(d,p){return this.isBlocking(d,p)||this.getTransition(p.position,p.layer)!==void 0}getNeighborsInternal(d,p,y){if(!p||d.layer!==p.layer)return this.getNeighbors(d,y).map(R=>({p:R,dist:1}));let E=this.prune(p,d).map(R=>{let c=this.getTransition(R.position,d.layer);return{position:R.position,layer:c||d.layer}}),w=[];for(let R of E){let c=this.jump(d,R,y,1);c&&w.push(c)}return w}jump(d,p,y,E){let w=this.distanceUtils.direction(d.position,p.position);if(!(this.isBlocking(d,p)&&!(Vt.equal(p,y)&&this.options.ignoreBlockedTarget)))return Vt.equal(p,y)?{p,dist:E}:E>=this.maxJumpSize?{p,dist:E}:this.getTransition(p.position,d.layer)!==void 0?{p,dist:E}:Wm(w)?{p,dist:E}:this.hasForced(d,p)?{p,dist:E}:(this.updateClosestToTarget(p,y),this.jump(p,this.getTilePosInDir(p,Yi(d.position,p.position)),y,E+1))}getForced(d,p){let y=new Set,E=this.posInDir(p,this.distanceUtils.direction(p.position,d.position)),{topLeft:w,downLeft:R,top:c,bottom:x}=this.normalizedPositions(E,p),t=this.distanceUtils.direction(d.position,p.position);return Xm(t)&&((this.blockOrTrans(E,R)||this.blockOrTrans(R,x))&&this.addIfNotBlocked(y,p,x),(this.blockOrTrans(E,w)||this.blockOrTrans(w,c))&&this.addIfNotBlocked(y,p,c)),y}hasForced(d,p){let y=this.posInDir(p,this.distanceUtils.direction(p.position,d.position)),{topLeft:E,downLeft:w,top:R,bottom:c}=this.normalizedPositions(y,p),x=this.distanceUtils.direction(d.position,p.position);return!!(Xm(x)&&((this.blockOrTrans(y,w)||this.blockOrTrans(w,c))&&!this.blockOrTrans(p,c)||(this.blockOrTrans(y,E)||this.blockOrTrans(E,R))&&!this.blockOrTrans(p,R)))}prune(d,p){let{right:y,top:E,bottom:w}=this.normalizedPositions(d,p),R=this.getForced(d,p),c=Yi(d.position,p.position);return Wm(c)?[y,E,w]:[y,...R]}normalizedPositions(d,p){var y,E,w,R,c,x,t;let a=Yi(d.position,p.position);return{topLeft:this.posInDir(p,((y=this.turnTimes.get("up-left"))==null?void 0:y.get(this.turnOrder[a]))||"up-left"),downLeft:this.posInDir(p,((E=this.turnTimes.get("down-left"))==null?void 0:E.get(this.turnOrder[a]))||"down-left"),downRight:this.posInDir(p,((w=this.turnTimes.get("down-right"))==null?void 0:w.get(this.turnOrder[a]))||"down-right"),topRight:this.posInDir(p,((R=this.turnTimes.get("up-right"))==null?void 0:R.get(this.turnOrder[a]))||"up-right"),top:this.posInDir(p,((c=this.turnTimes.get("up"))==null?void 0:c.get(this.turnOrder[a]))||"up"),bottom:this.posInDir(p,((x=this.turnTimes.get("down"))==null?void 0:x.get(this.turnOrder[a]))||"down"),right:this.posInDir(p,((t=this.turnTimes.get("right"))==null?void 0:t.get(this.turnOrder[a]))||"right")}}posInDir(d,p){return{position:d.position.add(ea(p)),layer:d.layer}}returnPath(d,p,y){let E=[],w=y;for(E.push(w);!Vt.equal(w,p);){let R=d.get(Vt.toString(w));if(!R)return[];this.distance(R.position,w.position)>1?this.fillPath(w,R,E):E.push(R),w=R}return E.reverse()}fillPath(d,p,y){let E=d;do{let w=Yi(E.position,p.position);E=this.getTilePosInDir(E,w),y.push(E)}while(!un.equal(E.position,p.position))}};function Ia(d,p){var y;return(y=d.get(Vt.toString(p)))!=null?y:Number.MAX_VALUE}function sL(){let d=["right","down-right","down","down-left","left","up-left","up","up-right"],p=new Map;for(let y=0;y<d.length;y++){let E=new Map,w=d[y];E.set(0,w);for(let R=1;R<=7;R++)w=Ov(w),E.set(R,w);p.set(d[y],E)}return p}var aL=class{constructor(d,p,y,E={}){this.character=d,this.gridTilemap=p,this.charToFollow=y;let w={distance:0,noPathFoundStrategy:"STOP",maxPathLength:1/0,shortestPathAlgorithm:"BIDIRECTIONAL_SEARCH",ignoreLayers:!1,considerCosts:E.considerCosts||!1,facingDirection:"none"};this.options=de(de({},w),E),this.options.considerCosts&&this.options.shortestPathAlgorithm!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${this.options.shortestPathAlgorithm}'. It can only be used with A* algorithm.`),(d.getTileWidth()>1||d.getTileHeight()>1&&this.options.shortestPathAlgorithm==="JPS")&&console.warn("GridEngine: Pathfinding algorithm 'JPS' can only be used for characters with 'tileWidth' and 'tileHeight' of 1"),this.character=d,this.updateTarget(this.charToFollow.getTilePos().position,this.charToFollow.getTilePos().layer),this.charToFollow.positionChangeStarted().pipe(Vi(this.character.autoMovementSet().pipe(Sr(R=>R!==this),oa(1)))).subscribe(({enterTile:R,enterLayer:c})=>{this.updateTarget(R,c)})}update(d){var p;(p=this.targetMovement)==null||p.update(d)}getInfo(){return{type:"Follow",config:{charToFollow:this.charToFollow.getId(),distance:this.options.distance,noPathFoundStrategy:this.options.noPathFoundStrategy,maxPathLength:this.options.maxPathLength,ignoreLayers:this.options.ignoreLayers,facingDirection:this.options.facingDirection,shortestPathAlgorithm:this.options.shortestPathAlgorithm}}}updateTarget(d,p){let y=this.options.facingDirection!=="none"&&this.options.distance===0;if(y){let E=Rl[this.options.facingDirection]+Rl[this.charToFollow.getFacingDirection()],w=Ov("up",E);d=this.gridTilemap.getTilePosInDirection({position:new At(d),layer:p},w).position}this.targetMovement=new IT(this.character,this.gridTilemap,{position:new At(d),layer:p},{distance:y?0:this.options.distance+1,config:{algorithm:this.options.shortestPathAlgorithm,noPathFoundStrategy:this.options.noPathFoundStrategy,maxPathLength:this.options.maxPathLength,ignoreLayers:this.options.ignoreLayers,considerCosts:this.options.considerCosts},ignoreBlockedTarget:!0})}},qm=class{static getRandomInt(d){return Math.floor(Math.random()*Math.floor(d))}},oL=class{constructor(d,p=0,y=-1){this.character=d,this.delay=p,this.radius=y,this.stepSize=0,this.delayLeft=this.delay,this.initialRow=d.getNextTilePos().position.y,this.initialCol=d.getNextTilePos().position.x,this.randomizeStepSize(),this.stepsWalked=0,this.currentMovementDirection="none",this.character.positionChangeStarted().pipe(Vi(this.character.autoMovementSet().pipe(Sr(E=>E!==this),oa(1)))).subscribe(()=>{this.stepsWalked++}),this.distanceUtils=Jr.create(d.getNumberOfDirections())}update(d){if(this.shouldContinueWalkingCurrentDirection())this.character.move(this.currentMovementDirection);else if(this.delayLeft-=d,this.delayLeft<=0){this.delayLeft=this.delay;let p=this.getFreeRandomDirection();this.stepsWalked=0,this.character.move(p),this.currentMovementDirection=p,this.randomizeStepSize()}}getInfo(){return{type:"Random",config:{delay:this.delay,radius:this.radius}}}shouldContinueWalkingCurrentDirection(){return this.stepsWalked<this.stepSize&&this.currentMovementDirection!=="none"&&!this.character.isBlockingDirection(this.currentMovementDirection)&&this.isWithinRadius(this.currentMovementDirection)}getFreeDirections(){return this.distanceUtils.getDirections().filter(d=>!this.character.isBlockingDirection(d)).filter(d=>this.isWithinRadius(d))}isWithinRadius(d){return this.radius==-1?!0:this.getDist(d)<=this.radius}getDist(d){return this.distanceUtils.distance(this.character.getNextTilePos().position.add(ea(d)),new At(this.initialCol,this.initialRow))}getFreeRandomDirection(){let d=this.getFreeDirections();return d.length==0?"none":d[qm.getRandomInt(d.length)]}randomizeStepSize(){this.stepSize=qm.getRandomInt(this.radius)+1}};function hL(d,p){return d.filter(y=>{var E,w,R,c,x,t;return(E=p.labels)!=null&&E.withAllLabels?(w=p.labels)==null?void 0:w.withAllLabels.every(a=>y.hasLabel(a)):(R=p.labels)!=null&&R.withOneOfLabels?(c=p.labels)==null?void 0:c.withOneOfLabels.some(a=>y.hasLabel(a)):(x=p.labels)!=null&&x.withNoneLabels?!((t=p.labels)!=null&&t.withNoneLabels.some(a=>y.hasLabel(a))):!0})}var FT="2.44.2",lL=class{constructor(d,p){this.collistionStrategy=d,this.collisionGroupRelation=p,this.tilePosToCharacters=new Map,this.charRemoved$=new ge}isCharBlockingAt(d,p,y,E=new Set,w=new Set){if(y.length===0)return!1;let R=this.posToString(d,p),c=this.tilePosToCharacters.get(R);return!!(c&&c.size>0&&[...c].filter(x=>!E.has(x.getId())).filter(x=>!this.doIntersect(x.getCollisionGroups(),w)).some(x=>y.some(t=>x.getCollisionGroups().some(a=>this.collidesWith(t,a)))))}doIntersect(d,p){for(let y of d)if(p.has(y))return!0;return!1}collidesWith(d,p){return this.collisionGroupRelation?(this.collisionGroupRelation.get(d)||new Set).has(p):d===p}getCharactersAt(d,p){let y=this.posToString(d,p),E=this.tilePosToCharacters.get(y);return new Set(E)}addCharacter(d){this.addTilePositions(d.getTilePos(),d),this.addTilePositions(d.getNextTilePos(),d),this.addPositionChangeSub(d),this.addPositionChangeFinishedSub(d),this.addTilePosSetSub(d)}removeCharacter(d){let p=d.getId();this.charRemoved$.next(p),this.deleteTilePositions(d.getTilePos(),d),this.deleteTilePositions(d.getNextTilePos(),d)}add(d,p){var y;this.tilePosToCharacters.has(d)||this.tilePosToCharacters.set(d,new Set),(y=this.tilePosToCharacters.get(d))==null||y.add(p)}addTilePosSetSub(d){d.tilePositionSet().pipe(Vi(this.charRemoved(d.getId()))).subscribe(p=>{this.deleteTilePositions(d.getNextTilePos(),d),this.addTilePositions(p,d)})}charRemoved(d){var p;return(p=this.charRemoved$)==null?void 0:p.pipe(oa(1),Sr(y=>y==d))}addPositionChangeSub(d){d.positionChangeStarted().pipe(Vi(this.charRemoved(d.getId())),this.posChangeToLayerPos()).subscribe(p=>{this.collistionStrategy==="BLOCK_ONE_TILE_AHEAD"&&this.deleteTilePositions(p.exit,d),this.addTilePositions(p.enter,d)})}addPositionChangeFinishedSub(d){d.positionChangeFinished().pipe(Vi(this.charRemoved(d.getId())),this.posChangeToLayerPos()).subscribe(p=>{this.deleteTilePositions(p.exit,d),this.addTilePositions(p.enter,d)})}addTilePositions(d,p){this.forEachCharTile(d,p,(y,E)=>{this.add(this.posToString(new At(y,E),d.layer),p)})}deleteTilePositions(d,p){this.forEachCharTile(d,p,(y,E)=>{var w;(w=this.tilePosToCharacters.get(this.posToString(new At(y,E),d.layer)))==null||w.delete(p)})}forEachCharTile(d,p,y){let E=d.position;for(let w=E.x;w<E.x+p.getTileWidth();w++)for(let R=E.y;R<E.y+p.getTileHeight();R++)y(w,R)}posChangeToLayerPos(){return AR(Ja(d=>({enter:{position:new At(d.enterTile),layer:d.enterLayer},exit:{position:new At(d.exitTile),layer:d.exitLayer}})))}posToString(d,p){return`${d.x}#${d.y}#${p}`}},Iv=class{constructor(d,p,y,E){this.x=d,this.y=p,this.width=y,this.height=E}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}isInRange(d){return d.x>=this.x&&d.x<this.x+this.width&&d.y>=this.y&&d.y<this.y+this.height}},el="ge_charLayer",_m=0,uL=1,od={none:1,left:2,"up-left":3,up:4,"up-right":5,right:6,"down-right":7,down:8,"down-left":9},fL=class{constructor(d,p){this.tilemap=d,this.gridTilemap=p,this.tileCollisionCache=new Map}fixLayer(d){this.fixedLayer=this.tileCollisionCache.get(d)}unfixLayers(){this.fixedLayer=void 0}rebuild(d){d||(d=new Iv(0,0,this.tilemap.getWidth(),this.tilemap.getHeight()));let p=this.tilemap.getLayers().filter(y=>y.isCharLayer());for(let y of[...p,void 0]){let E=this.tileCollisionCache.get(y==null?void 0:y.getName());if(E===void 0){E=new Array(this.tilemap.getWidth());for(let w=0;w<this.tilemap.getWidth();w++)E[w]=new Array(this.tilemap.getHeight());this.tileCollisionCache.set(y==null?void 0:y.getName(),E)}for(let w=d.getY();w<d.getY()+d.getHeight();w++)for(let R=d.getX();R<d.getX()+d.getWidth();R++){let c=0;!this.gridTilemap.hasNoTileUncached(new At(R,w),y==null?void 0:y.getName())&&(c=hd(c,0));for(let x of Fv())this.gridTilemap.hasBlockingTileUncached(new At(R,w),y==null?void 0:y.getName(),x,!0)&&(c=hd(c,od[x]));this.gridTilemap.hasBlockingTileUncached(new At(R,w),y==null?void 0:y.getName(),void 0,!0)&&(c=hd(c,od[1])),E[R][w]=c}}}hasTileAt(d,p,y){var E;let w=this.fixedLayer||this.tileCollisionCache.get(y),R=(E=w==null?void 0:w[d])==null?void 0:E[p];if(R!==void 0)return zh(R,_m)}isBlockingFrom(d,p,y,E,w){var R;let c=this.fixedLayer||this.tileCollisionCache.get(y),x=(R=c==null?void 0:c[d])==null?void 0:R[p];if(x!==void 0)return!w&&!zh(x,_m)?!0:E===void 0?zh(x,uL):zh(x,od[E])}};function hd(d,p){return d|1<<p}function zh(d,p){return(d>>p&1)==1}var ty="ge_cost",OT=class DT{constructor(p,y,E,w=void 0,R=!1){this.tilemap=p,this.collisionTilePropertyName=y,this.useTileCollisionCache=R,this.characters=new Map,this.transitions=new Map,this.reverseTransitions=new Map,this.collidesPropNames=new Map,this.tileCostPropNames=new Map,this.collisionRelevantLayersFrameCache=new Map,this.charBlockCache=new lL(E,w);for(let c of Fv())this.collidesPropNames.set(c,DT.ONE_WAY_COLLIDE_PROP_PREFIX+c),this.tileCostPropNames.set(c,`${ty}_${c}`);this.useTileCollisionCache&&(this.tileCollisionCache=new fL(p,this),this.tileCollisionCache.rebuild())}fixCacheLayer(p){var y;(y=this.tileCollisionCache)==null||y.fixLayer(p)}unfixCacheLayers(){var p;(p=this.tileCollisionCache)==null||p.unfixLayers()}addCharacter(p){this.characters.set(p.getId(),p);let y=p.getNextTilePos().layer;y===void 0?p.setTilePosition(Tr(de({},p.getNextTilePos()),{layer:this.getLowestCharLayer()})):this.getCharLayerNames().includes(y)||console.warn(`Char layer '${y}' of character '${p.getId()}' is unknown.`),this.charBlockCache.addCharacter(p)}removeCharacter(p){let y=this.characters.get(p);y&&(this.charBlockCache.removeCharacter(y),this.characters.delete(p))}getCharacters(){return[...this.characters.values()]}getCharactersAt(p,y){return this.charBlockCache.getCharactersAt(p,y)}rebuildTileCollisionCache(p){var y;(y=this.tileCollisionCache)==null||y.rebuild(p)}hasBlockingTileUncached(p,y,E,w){if(!w&&this.hasNoTileUncached(p,y))return!0;let R=this.getCollisionRelevantLayers(y);for(let c of R)if(this.isLayerBlockingAt(c.getName(),p,E))return!0;return!1}hasBlockingTile(p,y,E,w){var R;let c=(R=this.tileCollisionCache)==null?void 0:R.isBlockingFrom(p.x,p.y,y,E,w);return c!==void 0?c:this.hasBlockingTileUncached(p,y,E,w)}getTransition(p,y){let E=this.transitions.get(p.toString());if(E)return E.get(y)}getReverseTransitions(p,y){let E=this.reverseTransitions.get(p.toString());if(E)return E.get(y)}setTransition(p,y,E){var w,R,c,x,t;this.transitions.has(p.toString())||this.transitions.set(p.toString(),new Map),this.reverseTransitions.has(p.toString())||this.reverseTransitions.set(p.toString(),new Map),(w=this.transitions.get(p.toString()))==null||w.set(y,E),(R=this.reverseTransitions.get(p.toString()))!=null&&R.has(E)||(c=this.reverseTransitions.get(p.toString()))==null||c.set(E,new Set),(t=(x=this.reverseTransitions.get(p.toString()))==null?void 0:x.get(E))==null||t.add(y)}getTransitions(){return new Map([...this.transitions].map(([p,y])=>[p,new Map(y)]))}getTileCosts(p,y){let E=this.getCollisionRelevantLayers(p.layer),w=1;for(let R of E)w=Math.max(w,this.getTileCostsForLayer(Tr(de({},p),{layer:R.getName()}),y));return w}getTileCostsForLayer(p,y){let E=this.tilemap.getTileAt(p.position.x,p.position.y,p.layer);return y&&(E==null?void 0:E.getProperty(this.tileCostPropNames.get(y)||""))||(E==null?void 0:E.getProperty(ty))||1}hasNoTileUncached(p,y){return!this.getCollisionRelevantLayers(y).some(E=>this.tilemap.hasTileAt(p.x,p.y,E.getName()))}hasNoTile(p,y){var E;let w=(E=this.tileCollisionCache)==null?void 0:E.hasTileAt(p.x,p.y,y);return w!==void 0?w:this.hasNoTileUncached(p,y)}hasBlockingChar(p,y,E,w=new Set,R=new Set){return this.charBlockCache.isCharBlockingAt(p,y,E,w,R)}isInRange(p){return new Iv(0,0,this.tilemap.getWidth(),this.tilemap.getHeight()).isInRange(p)}toMapDirection(p){return this.isIsometric()?vR(p):p}fromMapDirection(p){return this.isIsometric()?Ov(p):p}isIsometric(){return this.tilemap.getOrientation()==="isometric"}getTilePosInDirection(p,y){let E=p.position.add(ea(this.toMapDirection(y))),w=this.getTransition(E,p.layer)||p.layer;return{position:E,layer:w}}invalidateFrameCache(){this.collisionRelevantLayersFrameCache.clear()}isLayerBlockingAt(p,y,E){let w=this.tilemap.getTileAt(y.x,y.y,p);return w?!!(w.getProperty(this.collisionTilePropertyName)||E&&w.getProperty(this.collidesPropNames.get(E)||"")):!1}getCharLayerIndexes(){return this.tilemap.getLayers().map((p,y)=>({layer:p,index:y})).filter(({layer:p})=>p.isCharLayer()).map(({index:p})=>p)}findPrevAndCharLayer(p){let y=this.getCharLayerIndexes(),E=this.tilemap.getLayers(),w=y.findIndex(R=>E[R].getProperty(el)==p);return w==0?{prevIndex:-1,charLayerIndex:y[w]}:{prevIndex:y[w-1],charLayerIndex:y[w]}}getCollisionRelevantLayers(p){if(!p)return this.tilemap.getLayers();let y=this.collisionRelevantLayersFrameCache.get(p);if(y)return y;let{prevIndex:E,charLayerIndex:w}=this.findPrevAndCharLayer(p),R=this.tilemap.getLayers().slice(E+1,w+1);return this.collisionRelevantLayersFrameCache.set(p,R),R}getLowestCharLayer(){for(let p of this.tilemap.getLayers())if(p.isCharLayer())return p.getProperty(el)}getCharLayerNames(){return this.tilemap.getLayers().filter(p=>p.isCharLayer()).map(p=>p.getProperty(el)).filter(cL)}};OT.ONE_WAY_COLLIDE_PROP_PREFIX="ge_collide_";var dL=OT;function cL(d){return d!=null}var vL=(d=>(d.REMOVED="REMOVED",d.ADDED="ADDED",d))(vL||{}),pL=(d=>(d.WAIT="WAIT",d.SKIP="SKIP",d.STOP="STOP",d))(pL||{}),gL=class{constructor(d,p){this.character=d,this.tilemap=p,this.queue=new Ll,this.finished$=new ge,this.pathBlockedWaitElapsed=0,this.distanceUtils=Jr.create(d.getNumberOfDirections()),this.character.autoMovementSet().pipe(Sr(y=>y!==this),oa(1)).subscribe(()=>{this.queue.size()>0&&this.finishMovementTerminated(),this.finished$.complete()})}update(d){(!this.character.isMoving()||this.character.willCrossTileBorderThisUpdate(d))&&this.queue.size()>0&&this.moveCharOnPath(d)}getInfo(){return{type:"Queue"}}enqueue(d,p={}){var y,E,w;let R={pathBlockedStrategy:(y=p.pathBlockedStrategy)!=null?y:"STOP",pathBlockedWaitTimeoutMs:(p==null?void 0:p.pathBlockedWaitTimeoutMs)||-1,ignoreInvalidPositions:(E=p.ignoreInvalidPositions)!=null?E:!1,skipInvalidPositions:(w=p.skipInvalidPositions)!=null?w:!1};for(let c of d){let x={command:c,config:R};if(Ns(c)){this.queue.enqueue(x);continue}let t=this.queue.peekEnd(),a=t==null?void 0:t.command;if(a||(a=this.character.getNextTilePos()),Ns(a)){this.queue.enqueue(x);continue}let g=this.distanceUtils.distance(a.position,c.position)===1;(!p.ignoreInvalidPositions||g)&&this.queue.enqueue(x)}}peekAll(){return this.queue.peekAll()}size(){return this.queue.size()}finished(){return this.finished$}clear(){this.queue.clear()}moveCharOnPath(d){let p=this.queue.peek();if(!p)return;let y=p.command,E=p.config;if(Ns(y)&&(y=this.tilemap.getTilePosInDirection(this.character.getNextTilePos(),y)),E.skipInvalidPositions){if(y=this.getNextValidPosition(),!y){this.finishInvalidNextPos(y);return}}else if(!this.isNeighborPos(y)){this.finishInvalidNextPos(y);return}if(this.character.isBlockingDirection(Yi(this.character.getNextTilePos().position,y.position))){if(E.pathBlockedStrategy==="STOP")this.finishPathBlocked(y);else if(E.pathBlockedStrategy==="SKIP"){this.queue.dequeue(),this.moveCharOnPath(d);return}else E.pathBlockedStrategy==="WAIT"&&E.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=d,this.pathBlockedWaitElapsed>=E.pathBlockedWaitTimeoutMs&&this.finishBlockedWaitTimeout(y,E.pathBlockedWaitTimeoutMs));return}this.pathBlockedWaitElapsed=0,this.queue.dequeue(),this.character.move(this.getDir(this.character.getNextTilePos().position,y.position)),this.isLastMovement()&&this.finish("SUCCESS","",y)}getNextValidPosition(){for(var d;this.queue.size()>0;){let p=(d=this.queue.peek())==null?void 0:d.command;if(Ns(p)&&(p=this.tilemap.getTilePosInDirection(this.character.getNextTilePos(),p)),p&&this.isNeighborPos(p))return p;this.queue.dequeue()}}isLastMovement(){return this.queue.size()===0}isNeighborPos(d){let p=this.distanceUtils.distance(this.character.getNextTilePos().position,d.position)===1,y=this.tilemap.getTransition(d.position,this.character.getNextTilePos().layer);if(this.character.getNextTilePos().layer!==d.layer)return p&&y===d.layer;let E=y!==void 0&&y!==d.layer;return p&&!E}finishMovementTerminated(){this.finish("MOVEMENT_TERMINATED","New automatic movement has been set to character.")}finishInvalidNextPos(d){d?this.finish("INVALID_NEXT_POS",`Position ${this.posToStr(d)} is not reachable from ${this.posToStr(this.character.getNextTilePos())}.`):this.finish("INVALID_NEXT_POS",`No enqueued position is reachable from ${this.posToStr(this.character.getNextTilePos())}.`)}finishPathBlocked(d){this.finish("PATH_BLOCKED",`Position ${this.posToStr(d)} is blocked.`)}finishBlockedWaitTimeout(d,p){this.finish("PATH_BLOCKED_WAIT_TIMEOUT",`Position ${this.posToStr(d)} is blocked and the wait timeout of ${p} ms has been exceeded.`)}finish(d,p="",y=this.character.getNextTilePos()){this.queue=new Ll,this.finished$.next({position:y.position,result:d,description:p,layer:y.layer})}getDir(d,p){return this.tilemap.fromMapDirection(Yi(d,p))}posToStr(d){return`(${d.position.x}, ${d.position.y}, ${d.layer})`}},mL=class{constructor(d=!0){this.isCreatedInternal=!1,d&&console.log(`Using GridEngine v${FT}`)}getCharLayer(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getTilePos().layer}getTransition(d,p){var y;return this.initGuard(),(y=this.gridTilemap)==null?void 0:y.getTransition(new At(d),p)}setTransition(d,p,y){var E;return this.initGuard(),(E=this.gridTilemap)==null?void 0:E.setTransition(new At(d),p,y)}create(d,p){this.isCreatedInternal=!0,this.gridCharacters=new Map;let y=this.setConfigDefaults(p);this.config=y,this.movementStopped$=new ge,this.movementStarted$=new ge,this.directionChanged$=new ge,this.positionChangeStarted$=new ge,this.positionChangeFinished$=new ge,this.queueMovementFinished$=new ge,this.charRemoved$=new ge,this.charAdded$=new ge,this.gridTilemap=new dL(d,this.config.collisionTilePropertyName,this.config.characterCollisionStrategy,this.recordToMap(this.config.collisionGroupRelation),this.config.cacheTileCollisions),this.addCharacters()}recordToMap(d){return d?new Map(Object.entries(d).map(([p,y])=>[p,new Set(y)])):void 0}getPosition(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getTilePos().position}move(d,p){this.moveChar(d,p)}moveRandomly(d,p=0,y=-1){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(d);if(!w)throw this.createCharUnknownErr(d);let R=new oL(w,p,y);w.setMovement(R)}getMovement(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);let E=y.getMovement();return E?E.getInfo():{type:"None"}}moveTo(d,p,y){var E;let w=this.assembleMoveToConfig(y);this.initGuard();let R=(E=this.gridCharacters)==null?void 0:E.get(d);if(!R)throw this.createCharUnknownErr(d);if(!this.gridTilemap)throw this.createUninitializedErr();let c=new IT(R,this.gridTilemap,{position:new At(p),layer:(y==null?void 0:y.targetLayer)||R.getNextTilePos().layer},{distance:0,config:w});return R.setMovement(c),c.finishedObs().pipe(Ja(x=>({charId:d,position:x.position,result:x.result,description:x.description,layer:x.layer})))}stopMovement(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);y.setMovement(void 0)}setSpeed(d,p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(d);if(!E)throw this.createCharUnknownErr(d);E.setSpeed(p)}getSpeed(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getSpeed()}collidesWithTiles(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.collidesWithTiles()}update(d,p){var y;if(this.isCreatedInternal&&this.gridCharacters)for(let[E,w]of this.gridCharacters)w.update(p);(y=this.gridTilemap)==null||y.invalidateFrameCache()}addCharacter(d){var p,y,E,w,R;if(!this.gridTilemap)throw this.createUninitializedErr();if(!this.config)throw this.createUninitializedErr();let c={speed:d.speed||4,tilemap:this.gridTilemap,collidesWithTiles:!0,collisionGroups:["geDefault"],ignoreCollisionGroups:[],charLayer:d.charLayer,facingDirection:d.facingDirection,labels:d.labels,numberOfDirections:(p=d.numberOfDirections)!=null?p:this.config.numberOfDirections,tileWidth:d.tileWidth,tileHeight:d.tileHeight};typeof d.collides=="boolean"?d.collides===!1&&(c.collidesWithTiles=!1,c.collisionGroups=[]):d.collides!==void 0&&(d.collides.collidesWithTiles===!1&&(c.collidesWithTiles=!1),d.collides.collisionGroups&&(c.collisionGroups=d.collides.collisionGroups),d.collides.ignoreCollisionGroups&&(c.ignoreCollisionGroups=d.collides.ignoreCollisionGroups),c.ignoreMissingTiles=(E=(y=d.collides)==null?void 0:y.ignoreMissingTiles)!=null?E:!1);let x=new JR(d.id,c);d.startPosition&&x.setTilePosition({position:new At(d.startPosition),layer:x.getTilePos().layer}),(w=this.gridCharacters)==null||w.set(d.id,x),this.gridTilemap.addCharacter(x);let t=x.getId();x.movementStopped().pipe(Vi(this.charRemoved(t))).subscribe(a=>{var g;(g=this.movementStopped$)==null||g.next({charId:t,direction:a})}),x.movementStarted().pipe(Vi(this.charRemoved(t))).subscribe(a=>{var g;(g=this.movementStarted$)==null||g.next({charId:t,direction:a})}),x.directionChanged().pipe(Vi(this.charRemoved(t))).subscribe(a=>{var g;(g=this.directionChanged$)==null||g.next({charId:t,direction:a})}),x.positionChangeStarted().pipe(Vi(this.charRemoved(t))).subscribe(a=>{var g;(g=this.positionChangeStarted$)==null||g.next(de({charId:t},a))}),x.positionChangeFinished().pipe(Vi(this.charRemoved(t))).subscribe(a=>{var g;(g=this.positionChangeFinished$)==null||g.next(de({charId:t},a))}),(R=this.charAdded$)==null||R.next(t)}hasCharacter(d){var p;return this.initGuard(),!!((p=this.gridCharacters)!=null&&p.has(d))}removeCharacter(d){var p,y,E,w;if(this.initGuard(),!((p=this.gridCharacters)!=null&&p.get(d)))throw this.createCharUnknownErr(d);(y=this.gridTilemap)==null||y.removeCharacter(d),(E=this.gridCharacters)==null||E.delete(d),(w=this.charRemoved$)==null||w.next(d)}removeAllCharacters(){if(this.initGuard(),!!this.gridCharacters)for(let d of this.gridCharacters.keys())this.removeCharacter(d)}getAllCharacters(d){if(this.initGuard(),!this.gridCharacters)return[];let p=[...this.gridCharacters.values()];return(d?hL(p,d):p).map(y=>y.getId())}getLabels(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getLabels()}addLabels(d,p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(d);if(!E)throw this.createCharUnknownErr(d);E.addLabels(p)}removeLabels(d,p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(d);if(!E)throw this.createCharUnknownErr(d);E.removeLabels(p)}clearLabels(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);y.clearLabels()}follow(d,p,y,E){var w,R,c,x,t,a;let g;y===void 0?g={distance:0,closestPointIfBlocked:!1}:typeof y=="number"?(g={distance:y,closestPointIfBlocked:!1},E&&(g.closestPointIfBlocked=!0)):g=y,this.initGuard();let o=(w=this.gridCharacters)==null?void 0:w.get(d),s=(R=this.gridCharacters)==null?void 0:R.get(p);if(!o)throw this.createCharUnknownErr(d);if(!s)throw this.createCharUnknownErr(p);if(!this.gridTilemap)throw this.createUninitializedErr();let r=new aL(o,this.gridTilemap,s,{distance:(c=g.distance)!=null?c:0,noPathFoundStrategy:g.closestPointIfBlocked?"CLOSEST_REACHABLE":"STOP",maxPathLength:(x=g.maxPathLength)!=null?x:1/0,shortestPathAlgorithm:(t=g.algorithm)!=null?t:"BIDIRECTIONAL_SEARCH",ignoreLayers:!!g.ignoreLayers,facingDirection:(a=g.facingDirection)!=null?a:"none"});o.setMovement(r)}isMoving(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.isMoving()}getFacingDirection(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getFacingDirection()}getFacingPosition(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);let E=y.getFacingPosition();return{x:E.x,y:E.y}}turnTowards(d,p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(d);if(!E)throw this.createCharUnknownErr(d);return E.turnTowards(p)}getCharactersAt(d,p){if(this.initGuard(),!this.gridTilemap)return[];let y=this.gridTilemap.getCharactersAt(new At(d),p);return Array.from(y).map(E=>E.getId())}setPosition(d,p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(d);if(!w)throw this.createCharUnknownErr(d);y||w.setTilePosition({position:new At(p),layer:w.getTilePos().layer}),w.setTilePosition({position:new At(p),layer:y})}isBlocked(d,p,y=["geDefault"]){var E,w;this.initGuard();let R=new At(d);return!!((E=this.gridTilemap)!=null&&E.hasBlockingTile(R,p)||(w=this.gridTilemap)!=null&&w.hasBlockingChar(R,p,y))}isTileBlocked(d,p){var y;return this.initGuard(),!!((y=this.gridTilemap)!=null&&y.hasBlockingTile(new At(d),p))}getCollisionGroups(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getCollisionGroups()||[]}setCollisionGroups(d,p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(d);if(!E)throw this.createCharUnknownErr(d);E.setCollisionGroups(p)}getIgnoreCollisionGroups(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getIgnoreCollisionGroups()||[]}setIgnoreCollisionGroups(d,p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(d);if(!E)throw this.createCharUnknownErr(d);E.setIgnoreCollisionGroups(p)}getTilePosInDirection(d,p,y){if(!this.gridTilemap)throw this.createUninitializedErr();let E=this.gridTilemap.getTilePosInDirection({position:new At(d),layer:p},y);return{position:E.position.toPosition(),charLayer:E.layer}}findShortestPath(d,p,y={}){if(!this.gridTilemap)throw this.createUninitializedErr();let E=y.shortestPathAlgorithm||"BFS";y.considerCosts&&E!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${E}'. It can only be used with A* algorithm.`);let w=y.pathWidth!==void 0&&y.pathWidth!==1,R=y.pathHeight!==void 0&&y.pathHeight!==1;(w||R)&&E==="JPS"&&console.warn("GridEngine: Pathfinding options 'pathWidth' and 'pathHeight' > 1 cannot be used with algorithm 'JPS'.");let c=new BT(this.gridTilemap).findShortestPath(Vt.toInternal(d),Vt.toInternal(p),Tr(de({},y),{shortestPathAlgorithm:E}));return{path:c.path.map(Vt.fromInternal),closestToTarget:c.closestToTarget?Vt.fromInternal(c.closestToTarget):void 0,reachedMaxPathLength:!1,steps:c.steps}}steppedOn(d,p,y){return this.positionChangeFinished().pipe(Sr(E=>d.includes(E.charId)&&p.some(w=>w.x===E.enterTile.x&&w.y===E.enterTile.y)&&(y===void 0||y.includes(E.enterLayer))))}characterShifted(){if(!this.charAdded$||!this.charRemoved$)throw this.createUninitializedErr();return this.charAdded$.pipe(Ja(d=>({charId:d,action:"ADDED"})),kR(this.charRemoved$.pipe(Ja(d=>({charId:d,action:"REMOVED"})))))}movementStarted(){if(!this.movementStarted$)throw this.createUninitializedErr();return this.movementStarted$}movementStopped(){if(!this.movementStopped$)throw this.createUninitializedErr();return this.movementStopped$}directionChanged(){if(!this.directionChanged$)throw this.createUninitializedErr();return this.directionChanged$}positionChangeStarted(){if(!this.positionChangeStarted$)throw this.createUninitializedErr();return this.positionChangeStarted$}positionChangeFinished(){if(!this.positionChangeFinished$)throw this.createUninitializedErr();return this.positionChangeFinished$}getMovementProgress(d){var p;this.initGuard();let y=(p=this.gridCharacters)==null?void 0:p.get(d);if(!y)throw this.createCharUnknownErr(d);return y.getMovementProgress()}rebuildTileCollisionCache(d,p,y,E){var w;(w=this.gridTilemap)==null||w.rebuildTileCollisionCache(new Iv(d,p,y,E))}addQueueMovements(d,p,y){var E,w;this.initGuard();let R=(E=this.gridCharacters)==null?void 0:E.get(d);if(!R)throw this.createCharUnknownErr(d);if(!this.gridTilemap)throw this.createUninitializedErr();let c;((w=R==null?void 0:R.getMovement())==null?void 0:w.getInfo().type)==="Queue"?c=R.getMovement():(c=new gL(R,this.gridTilemap),R.setMovement(c),c.finished().pipe(Vi(KR(this.charRemoved(d),R.autoMovementSet()))).subscribe(x=>{var t;(t=this.queueMovementFinished$)==null||t.next(de({charId:d},x))})),c.enqueue(p.map(x=>Ns(x)?x:{position:new At(x.position),layer:x.charLayer}),y)}queueMovementFinished(){if(!this.queueMovementFinished$)throw this.createUninitializedErr();return this.queueMovementFinished$}getEnqueuedMovements(d){var p,y;this.initGuard();let E=(p=this.gridCharacters)==null?void 0:p.get(d);if(!E)throw this.createCharUnknownErr(d);return((y=E.getMovement())==null?void 0:y.getInfo().type)==="Queue"?E.getMovement().peekAll().map(w=>({command:Ns(w.command)?w.command:Vt.fromInternal(w.command),config:w.config})):[]}clearEnqueuedMovements(d){var p,y;this.initGuard();let E=(p=this.gridCharacters)==null?void 0:p.get(d);if(!E)throw this.createCharUnknownErr(d);((y=E.getMovement())==null?void 0:y.getInfo().type)==="Queue"&&E.getMovement().clear()}getTileCost(d,p,y){var E,w;return this.initGuard(),(w=(E=this.gridTilemap)==null?void 0:E.getTileCosts({position:new At(d),layer:p},y))!=null?w:1}getState(){let d=[];if(this.gridCharacters)for(let[p,y]of this.gridCharacters.entries())d.push({id:p,position:Vt.fromInternal(y.getTilePos()),facingDirection:y.getFacingDirection(),speed:y.getSpeed(),labels:y.getLabels(),movementProgress:y.getMovementProgress(),collisionConfig:{collisionGroups:y.getCollisionGroups(),ignoreCollisionGroups:y.getIgnoreCollisionGroups(),collidesWithTiles:y.collidesWithTiles(),ignoreMissingTiles:y.getIgnoreMissingTiles()}});return{characters:d}}setState(d){if(this.gridCharacters)for(let p of d.characters){let y=this.gridCharacters.get(p.id);if(y){let E=y.getTilePos();Vt.equal(E,Vt.toInternal(p.position))||y.setTilePosition(Vt.toInternal(p.position)),y.setSpeed(p.speed),y.turnTowards(p.facingDirection),p.collisionConfig.collisionGroups&&y.setCollisionGroups(p.collisionConfig.collisionGroups),p.collisionConfig.collidesWithTiles!==void 0&&y.setCollidesWithTiles(p.collisionConfig.collidesWithTiles),p.collisionConfig.ignoreMissingTiles!==void 0&&y.setIgnoreMissingTiles(p.collisionConfig.ignoreMissingTiles),y.setMovementProgress(p.movementProgress),y.clearLabels(),y.addLabels(p.labels)}}}charRemoved(d){var p;if(!this.charRemoved$)throw this.createUninitializedErr();return(p=this.charRemoved$)==null?void 0:p.pipe(oa(1),Sr(y=>y==d))}initGuard(){if(!this.isCreatedInternal)throw this.createUninitializedErr()}createUninitializedErr(){throw new Error("GridEngine not initialized. You need to call create() first.")}addCharacters(){var d;(d=this.config)==null||d.characters.forEach(p=>this.addCharacter(p))}moveChar(d,p){var y,E,w;this.initGuard();let R=(y=this.gridCharacters)==null?void 0:y.get(d);if(!R)throw this.createCharUnknownErr(d);if(R.getNumberOfDirections()===4){if(!((E=this.gridTilemap)!=null&&E.isIsometric())&&ka(p)){console.warn(`GridEngine: Character '${d}' can't be moved '${p}' in 4 direction mode.`);return}else if((w=this.gridTilemap)!=null&&w.isIsometric()&&!ka(p)){console.warn(`GridEngine: Character '${d}' can't be moved '${p}' in 4 direction isometric mode.`);return}}R.move(p)}createCharUnknownErr(d){return new Error(`Character unknown: ${d}`)}assembleMoveToConfig(d={}){let p=Tr(de({},d),{noPathFoundStrategy:"STOP",pathBlockedStrategy:"WAIT"});return d!=null&&d.noPathFoundStrategy&&(Object.values(wT).includes(d.noPathFoundStrategy)?p.noPathFoundStrategy=d.noPathFoundStrategy:console.warn(`GridEngine: Unknown NoPathFoundStrategy '${d.noPathFoundStrategy}'. Falling back to 'STOP'`)),d!=null&&d.pathBlockedStrategy&&(Object.values(MT).includes(d.pathBlockedStrategy)?p.pathBlockedStrategy=d.pathBlockedStrategy:console.warn(`GridEngine: Unknown PathBlockedStrategy '${d.pathBlockedStrategy}'. Falling back to 'WAIT'`)),p}setConfigDefaults(d){return de({collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",cacheTileCollisions:!1},d)}},yL=class extends LT{constructor(d,p={}){super(d,p),this.distanceUtils=Jr.create(8)}getForced(d,p){let y=new Set,E=this.posInDir(p,this.distanceUtils.direction(p.position,d.position)),{topLeft:w,downLeft:R,top:c,bottom:x,topRight:t,downRight:a}=this.normalizedPositions(E,p),g=this.distanceUtils.direction(d.position,p.position);return ka(g)?(this.blockOrTrans(E,w)&&(this.addIfNotBlocked(y,p,c),this.addIfNotBlocked(y,p,t),this.blockOrTrans(R,w)&&this.addIfNotBlocked(y,p,w)),this.blockOrTrans(E,R)&&(this.addIfNotBlocked(y,p,x),this.addIfNotBlocked(y,p,a),this.blockOrTrans(w,R)&&this.addIfNotBlocked(y,p,R)),this.blockOrTrans(w,c)&&this.addIfNotBlocked(y,p,c),this.blockOrTrans(R,x)&&this.addIfNotBlocked(y,p,x),this.blockOrTrans(w,t)&&this.addIfNotBlocked(y,p,t),this.blockOrTrans(R,a)&&this.addIfNotBlocked(y,p,a)):((this.blockOrTrans(E,c)||this.blockOrTrans(c,t))&&this.addIfNotBlocked(y,p,t),(this.blockOrTrans(E,x)||this.blockOrTrans(x,a))&&this.addIfNotBlocked(y,p,a),this.blockOrTrans(E,w)&&this.blockOrTrans(E,c)&&(this.addIfNotBlocked(y,p,c),this.addIfNotBlocked(y,p,w)),this.blockOrTrans(E,R)&&this.blockOrTrans(E,x)&&(this.addIfNotBlocked(y,p,x),this.addIfNotBlocked(y,p,R)),this.blockOrTrans(w,c)&&this.blockOrTrans(E,c)&&this.addIfNotBlocked(y,p,c),this.blockOrTrans(R,x)&&this.blockOrTrans(E,x)&&this.addIfNotBlocked(y,p,x)),y}hasForced(d,p){let y=this.posInDir(p,this.distanceUtils.direction(p.position,d.position)),{topLeft:E,downLeft:w,top:R,bottom:c,topRight:x,downRight:t}=this.normalizedPositions(y,p),a=this.distanceUtils.direction(d.position,p.position);if(ka(a)){if(this.blockOrTrans(y,E)&&(!this.blockOrTrans(p,R)||!this.blockOrTrans(p,x)||this.blockOrTrans(w,E)&&!this.blockOrTrans(p,E))||this.blockOrTrans(y,w)&&(!this.blockOrTrans(p,c)||!this.blockOrTrans(p,t)||this.blockOrTrans(E,w)&&!this.blockOrTrans(p,w))||this.blockOrTrans(E,R)&&!this.blockOrTrans(p,R)||this.blockOrTrans(w,c)&&!this.blockOrTrans(p,c)||this.blockOrTrans(E,x)&&!this.blockOrTrans(p,x)||this.blockOrTrans(w,t)&&!this.blockOrTrans(p,t))return!0}else if((this.blockOrTrans(y,R)||this.blockOrTrans(R,x))&&!this.blockOrTrans(p,x)||(this.blockOrTrans(y,c)||this.blockOrTrans(c,t))&&!this.blockOrTrans(p,t)||this.blockOrTrans(y,E)&&this.blockOrTrans(y,R)&&(!this.blockOrTrans(p,R)||!this.blockOrTrans(p,E))||this.blockOrTrans(y,w)&&this.blockOrTrans(y,c)&&(!this.blockOrTrans(p,c)||!this.blockOrTrans(p,w))||this.blockOrTrans(E,R)&&this.blockOrTrans(y,R)&&!this.blockOrTrans(p,R)||this.blockOrTrans(w,c)&&this.blockOrTrans(y,c)&&!this.blockOrTrans(p,c))return!0;return!1}prune(d,p){let{top:y,right:E,topRight:w,downRight:R,bottom:c}=this.normalizedPositions(d,p),x=this.getForced(d,p),t=Yi(d.position,p.position);return ka(t)?[y,E,w,R,c,...x]:[E,...x]}jump(d,p,y,E){let w=this.distanceUtils.direction(d.position,p.position),R=this.getTilePosInDir(p,this.distanceUtils.direction(p.position,d.position));if(!(this.isBlocking(R,p)&&!(Vt.equal(p,y)&&this.options.ignoreBlockedTarget))){if(Vt.equal(p,y))return{p,dist:E};if(E>=this.maxJumpSize)return{p,dist:E};if(this.getTransition(p.position,d.layer)!==void 0)return{p,dist:E};if(this.hasForced(d,p))return{p,dist:E};if(this.updateClosestToTarget(p,y),w==="up-left"){if(this.jump(p,this.getTilePosInDir(p,"up"),y,E+1)!==void 0)return{p,dist:E};if(this.jump(p,this.getTilePosInDir(p,"left"),y,E+1)!==void 0)return{p,dist:E}}else if(w==="down-left"){if(this.jump(p,this.getTilePosInDir(p,"down"),y,E+1)!==void 0)return{p,dist:E};if(this.jump(p,this.getTilePosInDir(p,"left"),y,E+1)!==void 0)return{p,dist:E}}else if(w==="up-right"){if(this.jump(p,this.getTilePosInDir(p,"up"),y,E+1)!==void 0)return{p,dist:E};if(this.jump(p,this.getTilePosInDir(p,"right"),y,E+1)!==void 0)return{p,dist:E}}else if(w==="down-right"){if(this.jump(p,this.getTilePosInDir(p,"down"),y,E+1)!==void 0)return{p,dist:E};if(this.jump(p,this.getTilePosInDir(p,"right"),y,E+1)!==void 0)return{p,dist:E}}return this.jump(p,this.getTilePosInDir(p,Yi(d.position,p.position)),y,E+1)}}},BT=class{constructor(d){this.gridTilemap=d}findShortestPath(d,p,y={}){return xL(y.shortestPathAlgorithm||"BIDIRECTIONAL_SEARCH",this.gridTilemap,y).findShortestPath(d,p)}};function xL(d,p,y){switch(d){case"BIDIRECTIONAL_SEARCH":return new rL(p,y);case"A_STAR":return new nL(p,y);case"JPS":return y.numberOfDirections===8?new yL(p,y):new LT(p,y)}return new RT(p,y)}var TL=(d=>(d.SUCCESS="SUCCESS",d.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED="NO_PATH_FOUND_MAX_RETRIES_EXCEEDED",d.PATH_BLOCKED_MAX_RETRIES_EXCEEDED="PATH_BLOCKED_MAX_RETRIES_EXCEEDED",d.PATH_BLOCKED="PATH_BLOCKED",d.NO_PATH_FOUND="NO_PATH_FOUND",d.PATH_BLOCKED_WAIT_TIMEOUT="PATH_BLOCKED_WAIT_TIMEOUT",d.MOVEMENT_TERMINATED="MOVEMENT_TERMINATED",d.MAX_PATH_LENGTH_REACHED="MAX_PATH_LENGTH_REACHED",d))(TL||{}),IT=class{constructor(d,p,y,{config:E,ignoreBlockedTarget:w=!1,distance:R=0}={}){this.character=d,this.tilemap=p,this.targetPos=y,this.shortestPath=[],this.distOffset=0,this.posOnPath=0,this.stopped=!1,this.pathBlockedWaitElapsed=0,this.isPositionAllowed=()=>!0,this.shortestPathAlgorithm="BIDIRECTIONAL_SEARCH",this.maxPathLength=1/0,this.considerCosts=!1,this.isBlocking=(x,t)=>x?new RT(this.tilemap,this.getPathfindingOptions()).isBlocking(this.character.getTilePos(),{position:x,layer:t}):!0;var c;this.shortestPathAlgorithm=(c=E==null?void 0:E.algorithm)!=null?c:this.shortestPathAlgorithm,this.ignoreBlockedTarget=w,this.distance=R,this.noPathFoundStrategy=(E==null?void 0:E.noPathFoundStrategy)||"STOP",this.pathBlockedStrategy=(E==null?void 0:E.pathBlockedStrategy)||"WAIT",this.noPathFoundRetryable=new jm((E==null?void 0:E.noPathFoundRetryBackoffMs)||200,(E==null?void 0:E.noPathFoundMaxRetries)||-1,()=>{this.stop("NO_PATH_FOUND_MAX_RETRIES_EXCEEDED")}),this.pathBlockedRetryable=new jm((E==null?void 0:E.pathBlockedRetryBackoffMs)||200,(E==null?void 0:E.pathBlockedMaxRetries)||-1,()=>{this.stop("PATH_BLOCKED_MAX_RETRIES_EXCEEDED")}),E!=null&&E.isPositionAllowedFn&&(this.isPositionAllowed=E.isPositionAllowedFn),E!=null&&E.maxPathLength&&(this.maxPathLength=E.maxPathLength),this.alternativeTargets=E==null?void 0:E.alternativeTargets,this.noPathFoundAlternativeTargetsFallbackStrategy=E==null?void 0:E.noPathFoundAlternativeTargetsFallbackStrategy,E!=null&&E.considerCosts&&this.shortestPathAlgorithm!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${this.shortestPathAlgorithm}'. It can only be used with A* algorithm.`),(this.character.getTileWidth()>1||this.character.getTileHeight()>1&&this.shortestPathAlgorithm==="JPS")&&console.warn("GridEngine: Pathfinding algorithm 'JPS' can only be used for characters with 'tileWidth' and 'tileHeight' of 1"),this.considerCosts=(E==null?void 0:E.considerCosts)||!1,this.ignoreLayers=!!(E!=null&&E.ignoreLayers),this.distanceUtils=Jr.create(d.getNumberOfDirections()),this.pathBlockedWaitTimeoutMs=(E==null?void 0:E.pathBlockedWaitTimeoutMs)||-1,this.finished$=new ge,this.setCharacter(d)}setPathBlockedStrategy(d){this.pathBlockedStrategy=d}getPathBlockedStrategy(){return this.pathBlockedStrategy}setCharacter(d){this.character=d,this.noPathFoundRetryable.reset(),this.pathBlockedRetryable.reset(),this.pathBlockedWaitElapsed=0,this.calcShortestPath(),this.character.autoMovementSet().pipe(Sr(p=>p!==this),oa(1)).subscribe(()=>{this.stop("MOVEMENT_TERMINATED")})}getPathfindingOptions(){return{shortestPathAlgorithm:this.shortestPathAlgorithm,pathWidth:this.character.getTileWidth(),pathHeight:this.character.getTileHeight(),numberOfDirections:this.character.getNumberOfDirections(),isPositionAllowed:this.isPositionAllowed,collisionGroups:this.character.getCollisionGroups(),ignoredChars:[this.character.getId()],ignoreTiles:!this.character.collidesWithTiles(),ignoreMapBounds:this.character.getIgnoreMissingTiles(),ignoreBlockedTarget:this.ignoreBlockedTarget,maxPathLength:this.maxPathLength,ignoreLayers:this.ignoreLayers,considerCosts:this.considerCosts,calculateClosestToTarget:!0}}update(d){var p,y,E,w;this.stopped||(this.noPathFound()&&(this.noPathFoundStrategy==="RETRY"?this.noPathFoundRetryable.retry(d,()=>this.calcShortestPath()):this.noPathFoundStrategy==="STOP"&&this.stop("NO_PATH_FOUND")),this.updatePosOnPath(),this.isBlocking((p=this.nextTileOnPath())==null?void 0:p.position,(y=this.character)==null?void 0:y.getNextTilePos().layer)?this.applyPathBlockedStrategy(d):this.pathBlockedWaitElapsed=0,this.hasArrived()?(this.stop("SUCCESS"),this.existsDistToTarget()&&this.turnTowardsTarget()):this.isBlocking((E=this.nextTileOnPath())==null?void 0:E.position,(w=this.character)==null?void 0:w.getNextTilePos().layer)||this.moveCharOnPath())}finishedObs(){return this.finished$}getInfo(){return{type:"Target",state:{pathAhead:this.shortestPath.slice(this.posOnPath).map(d=>Vt.fromInternal(d))},config:{algorithm:this.shortestPathAlgorithm,ignoreBlockedTarget:this.ignoreBlockedTarget,distance:this.distance,targetPos:Vt.fromInternal(this.targetPos),noPathFoundStrategy:this.noPathFoundStrategy,pathBlockedStrategy:this.pathBlockedStrategy,noPathFoundRetryBackoffMs:this.noPathFoundRetryable.getBackoffMs(),noPathFoundMaxRetries:this.noPathFoundRetryable.getMaxRetries()}}}resultToReason(d){switch(d){case"SUCCESS":return"Successfully arrived.";case"MOVEMENT_TERMINATED":return"Movement of character has been replaced before destination was reached.";case"PATH_BLOCKED":return"PathBlockedStrategy STOP: Path blocked.";case"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED":return`NoPathFoundStrategy RETRY: Maximum retries of ${this.noPathFoundRetryable.getMaxRetries()} exceeded.`;case"NO_PATH_FOUND":return"NoPathFoundStrategy STOP: No path found.";case"PATH_BLOCKED_MAX_RETRIES_EXCEEDED":return`PathBlockedStrategy RETRY: Maximum retries of ${this.pathBlockedRetryable.getMaxRetries()} exceeded.`;case"PATH_BLOCKED_WAIT_TIMEOUT":return`PathBlockedStrategy WAIT: Wait timeout of ${this.pathBlockedWaitTimeoutMs}ms exceeded.`}}applyPathBlockedStrategy(d){this.pathBlockedStrategy==="RETRY"?this.pathBlockedRetryable.retry(d,()=>{let p=this.getShortestPath();p.path.length>0&&this.calcShortestPath(p)}):this.pathBlockedStrategy==="STOP"?this.stop("PATH_BLOCKED"):this.pathBlockedStrategy==="WAIT"&&this.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=d,this.pathBlockedWaitElapsed>=this.pathBlockedWaitTimeoutMs&&this.stop("PATH_BLOCKED_WAIT_TIMEOUT"))}moveCharOnPath(){let d=this.nextTileOnPath();if(!d)return;let p=this.getDir(this.character.getNextTilePos().position,d.position);this.character.move(p)}nextTileOnPath(){return this.shortestPath[this.posOnPath+1]}stop(d){this.finished$.next({position:this.character.getTilePos().position,result:d,description:this.resultToReason(d),layer:this.character.getTilePos().layer}),this.finished$.complete(),this.stopped=!0}turnTowardsTarget(){let d=this.shortestPath[this.posOnPath+1],p=this.getDir(this.character.getNextTilePos().position,d.position);this.character.turnTowards(p)}existsDistToTarget(){return this.posOnPath<this.shortestPath.length-1}hasArrived(){return!this.noPathFound()&&this.posOnPath+Math.max(0,this.distance-this.distOffset)>=this.shortestPath.length-1}updatePosOnPath(){let d=this.shortestPath[this.posOnPath];for(;this.posOnPath<this.shortestPath.length-1&&(this.character.getNextTilePos().position.x!=d.position.x||this.character.getNextTilePos().position.y!=d.position.y);)this.posOnPath++,d=this.shortestPath[this.posOnPath]}noPathFound(){return this.shortestPath.length===0}calcShortestPath(d){d=d??this.getShortestPath(),this.posOnPath=0,this.shortestPath=d.path,this.distOffset=d.distOffset}getShortestPath(){var d;let p=new BT(this.tilemap),{path:y,closestToTarget:E}=p.findShortestPath(this.character.getNextTilePos(),this.targetPos,this.getPathfindingOptions());if(y.length==0){if(this.noPathFoundStrategy==="CLOSEST_REACHABLE"){if(!E)throw Error("ClosestToTarget should never be undefined in TargetMovement.");return this.pathToAlternativeTarget(E,p)}else if(this.noPathFoundStrategy==="ALTERNATIVE_TARGETS"){for(let w of(d=this.alternativeTargets)!=null?d:[]){let{path:R,distOffset:c}=this.pathToAlternativeTarget(Vt.toInternal(w),p);if(R.length>0)return{path:R,distOffset:c}}return this.noPathFoundStrategy=this.noPathFoundAlternativeTargetsFallbackStrategy||"STOP",this.getShortestPath()}}return{path:y,distOffset:0}}pathToAlternativeTarget(d,p){let y=p.findShortestPath(this.character.getNextTilePos(),d,this.getPathfindingOptions()).path,E=this.distanceUtils.distance(d.position,this.targetPos.position);return{path:y,distOffset:E}}getDir(d,p){return this.tilemap.fromMapDirection(this.distanceUtils.direction(d,p))}},SL=Object.create,NT=Object.defineProperty,CL=Object.getOwnPropertyDescriptor,EL=Object.getOwnPropertyNames,PL=Object.getPrototypeOf,AL=Object.prototype.hasOwnProperty,wL=(d,p)=>()=>(p||d((p={exports:{}}).exports,p),p.exports),ML=(d,p,y,E)=>{if(p&&typeof p=="object"||typeof p=="function")for(let w of EL(p))!AL.call(d,w)&&w!==y&&NT(d,w,{get:()=>p[w],enumerable:!(E=CL(p,w))||E.enumerable});return d},Nv=(d,p,y)=>(y=d!=null?SL(PL(d)):{},ML(p||!d||!d.__esModule?NT(y,"default",{value:d,enumerable:!0}):y,d)),Gv=wL((d,p)=>{(function(){var y,E="4.17.21",w=200,R="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",x="Invalid `variable` option passed into `_.template`",t="__lodash_hash_undefined__",a=500,g="__lodash_placeholder__",o=1,s=2,r=4,e=1,n=2,l=1,i=2,h=4,u=8,f=16,v=32,m=64,T=128,C=256,S=512,P=30,A="...",L=800,F=16,B=1,D=2,I=3,G=1/0,z=9007199254740991,W=17976931348623157e292,Y=0/0,K=4294967295,Z=K-1,V=K>>>1,H=[["ary",T],["bind",l],["bindKey",i],["curry",u],["curryRight",f],["flip",S],["partial",v],["partialRight",m],["rearg",C]],N="[object Arguments]",b="[object Array]",X="[object AsyncFunction]",$="[object Boolean]",Q="[object Date]",k="[object DOMException]",J="[object Error]",et="[object Function]",nt="[object GeneratorFunction]",st="[object Map]",ot="[object Number]",ut="[object Null]",at="[object Object]",ct="[object Promise]",Pt="[object Proxy]",Ct="[object RegExp]",Et="[object Set]",dt="[object String]",St="[object Symbol]",vt="[object Undefined]",Mt="[object WeakMap]",Nt="[object WeakSet]",Zt="[object ArrayBuffer]",Ut="[object DataView]",Ht="[object Float32Array]",Gt="[object Float64Array]",oe="[object Int8Array]",Jt="[object Int16Array]",Te="[object Int32Array]",Ee="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Qi="[object Uint16Array]",ki="[object Uint32Array]",Sn=/\b__p \+= '';/g,Cn=/\b(__p \+=) '' \+/g,En=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Uv=/&(?:amp|lt|gt|quot|#39);/g,Vv=/[&<>"']/g,VT=RegExp(Uv.source),WT=RegExp(Vv.source),XT=/<%-([\s\S]+?)%>/g,YT=/<%([\s\S]+?)%>/g,Wv=/<%=([\s\S]+?)%>/g,HT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$T=/^\w*$/,KT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pu=/[\\^$.*+?()[\]{}|]/g,jT=RegExp(pu.source),gu=/^\s+/,ZT=/\s/,QT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kT=/\{\n\/\* \[wrapped with (.+)\] \*/,JT=/,? & /,qT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_T=/[()=,{}\[\]\/\s]/,tS=/\\(\\)?/g,eS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xv=/\w*$/,iS=/^[-+]0x[0-9a-f]+$/i,nS=/^0b[01]+$/i,rS=/^\[object .+?Constructor\]$/,sS=/^0o[0-7]+$/i,aS=/^(?:0|[1-9]\d*)$/,oS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ro=/($^)/,hS=/['\n\r\u2028\u2029\\]/g,Lo="\\ud800-\\udfff",lS="\\u0300-\\u036f",uS="\\ufe20-\\ufe2f",fS="\\u20d0-\\u20ff",Yv=lS+uS+fS,Hv="\\u2700-\\u27bf",$v="a-z\\xdf-\\xf6\\xf8-\\xff",dS="\\xac\\xb1\\xd7\\xf7",cS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vS="\\u2000-\\u206f",pS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kv="A-Z\\xc0-\\xd6\\xd8-\\xde",jv="\\ufe0e\\ufe0f",Zv=dS+cS+vS+pS,mu="[']",gS="["+Lo+"]",Qv="["+Zv+"]",Fo="["+Yv+"]",kv="\\d+",mS="["+Hv+"]",Jv="["+$v+"]",qv="[^"+Lo+Zv+kv+Hv+$v+Kv+"]",yu="\\ud83c[\\udffb-\\udfff]",yS="(?:"+Fo+"|"+yu+")",_v="[^"+Lo+"]",xu="(?:\\ud83c[\\udde6-\\uddff]){2}",Tu="[\\ud800-\\udbff][\\udc00-\\udfff]",es="["+Kv+"]",tp="\\u200d",ep="(?:"+Jv+"|"+qv+")",xS="(?:"+es+"|"+qv+")",ip="(?:"+mu+"(?:d|ll|m|re|s|t|ve))?",np="(?:"+mu+"(?:D|LL|M|RE|S|T|VE))?",rp=yS+"?",sp="["+jv+"]?",TS="(?:"+tp+"(?:"+[_v,xu,Tu].join("|")+")"+sp+rp+")*",SS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ap=sp+rp+TS,ES="(?:"+[mS,xu,Tu].join("|")+")"+ap,PS="(?:"+[_v+Fo+"?",Fo,xu,Tu,gS].join("|")+")",AS=RegExp(mu,"g"),wS=RegExp(Fo,"g"),Su=RegExp(yu+"(?="+yu+")|"+PS+ap,"g"),MS=RegExp([es+"?"+Jv+"+"+ip+"(?="+[Qv,es,"$"].join("|")+")",xS+"+"+np+"(?="+[Qv,es+ep,"$"].join("|")+")",es+"?"+ep+"+"+ip,es+"+"+np,CS,SS,kv,ES].join("|"),"g"),RS=RegExp("["+tp+Lo+Yv+jv+"]"),LS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,FS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],OS=-1,he={};he[Ht]=he[Gt]=he[oe]=he[Jt]=he[Te]=he[Ee]=he[Ue]=he[Qi]=he[ki]=!0,he[N]=he[b]=he[Zt]=he[$]=he[Ut]=he[Q]=he[J]=he[et]=he[st]=he[ot]=he[at]=he[Ct]=he[Et]=he[dt]=he[Mt]=!1;var se={};se[N]=se[b]=se[Zt]=se[Ut]=se[$]=se[Q]=se[Ht]=se[Gt]=se[oe]=se[Jt]=se[Te]=se[st]=se[ot]=se[at]=se[Ct]=se[Et]=se[dt]=se[St]=se[Ee]=se[Ue]=se[Qi]=se[ki]=!0,se[J]=se[et]=se[Mt]=!1;var DS={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},BS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},IS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},NS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},GS=parseFloat,zS=parseInt,op=typeof global=="object"&&global&&global.Object===Object&&global,bS=typeof self=="object"&&self&&self.Object===Object&&self,Ie=op||bS||Function("return this")(),Cu=typeof d=="object"&&d&&!d.nodeType&&d,wr=Cu&&typeof p=="object"&&p&&!p.nodeType&&p,hp=wr&&wr.exports===Cu,Eu=hp&&op.process,Li=function(){try{var ht=wr&&wr.require&&wr.require("util").types;return ht||Eu&&Eu.binding&&Eu.binding("util")}catch{}}(),lp=Li&&Li.isArrayBuffer,up=Li&&Li.isDate,fp=Li&&Li.isMap,dp=Li&&Li.isRegExp,cp=Li&&Li.isSet,vp=Li&&Li.isTypedArray;function vi(ht,pt,ft){switch(ft.length){case 0:return ht.call(pt);case 1:return ht.call(pt,ft[0]);case 2:return ht.call(pt,ft[0],ft[1]);case 3:return ht.call(pt,ft[0],ft[1],ft[2])}return ht.apply(pt,ft)}function US(ht,pt,ft,Rt){for(var zt=-1,qt=ht==null?0:ht.length;++zt<qt;){var Le=ht[zt];pt(Rt,Le,ft(Le),ht)}return Rt}function Fi(ht,pt){for(var ft=-1,Rt=ht==null?0:ht.length;++ft<Rt&&pt(ht[ft],ft,ht)!==!1;);return ht}function VS(ht,pt){for(var ft=ht==null?0:ht.length;ft--&&pt(ht[ft],ft,ht)!==!1;);return ht}function pp(ht,pt){for(var ft=-1,Rt=ht==null?0:ht.length;++ft<Rt;)if(!pt(ht[ft],ft,ht))return!1;return!0}function $n(ht,pt){for(var ft=-1,Rt=ht==null?0:ht.length,zt=0,qt=[];++ft<Rt;){var Le=ht[ft];pt(Le,ft,ht)&&(qt[zt++]=Le)}return qt}function Oo(ht,pt){var ft=ht==null?0:ht.length;return!!ft&&is(ht,pt,0)>-1}function Pu(ht,pt,ft){for(var Rt=-1,zt=ht==null?0:ht.length;++Rt<zt;)if(ft(pt,ht[Rt]))return!0;return!1}function fe(ht,pt){for(var ft=-1,Rt=ht==null?0:ht.length,zt=Array(Rt);++ft<Rt;)zt[ft]=pt(ht[ft],ft,ht);return zt}function Kn(ht,pt){for(var ft=-1,Rt=pt.length,zt=ht.length;++ft<Rt;)ht[zt+ft]=pt[ft];return ht}function Au(ht,pt,ft,Rt){var zt=-1,qt=ht==null?0:ht.length;for(Rt&&qt&&(ft=ht[++zt]);++zt<qt;)ft=pt(ft,ht[zt],zt,ht);return ft}function WS(ht,pt,ft,Rt){var zt=ht==null?0:ht.length;for(Rt&&zt&&(ft=ht[--zt]);zt--;)ft=pt(ft,ht[zt],zt,ht);return ft}function wu(ht,pt){for(var ft=-1,Rt=ht==null?0:ht.length;++ft<Rt;)if(pt(ht[ft],ft,ht))return!0;return!1}var XS=Mu("length");function YS(ht){return ht.split("")}function HS(ht){return ht.match(qT)||[]}function gp(ht,pt,ft){var Rt;return ft(ht,function(zt,qt,Le){if(pt(zt,qt,Le))return Rt=qt,!1}),Rt}function Do(ht,pt,ft,Rt){for(var zt=ht.length,qt=ft+(Rt?1:-1);Rt?qt--:++qt<zt;)if(pt(ht[qt],qt,ht))return qt;return-1}function is(ht,pt,ft){return pt===pt?i2(ht,pt,ft):Do(ht,mp,ft)}function $S(ht,pt,ft,Rt){for(var zt=ft-1,qt=ht.length;++zt<qt;)if(Rt(ht[zt],pt))return zt;return-1}function mp(ht){return ht!==ht}function yp(ht,pt){var ft=ht==null?0:ht.length;return ft?Lu(ht,pt)/ft:Y}function Mu(ht){return function(pt){return pt==null?y:pt[ht]}}function Ru(ht){return function(pt){return ht==null?y:ht[pt]}}function xp(ht,pt,ft,Rt,zt){return zt(ht,function(qt,Le,re){ft=Rt?(Rt=!1,qt):pt(ft,qt,Le,re)}),ft}function KS(ht,pt){var ft=ht.length;for(ht.sort(pt);ft--;)ht[ft]=ht[ft].value;return ht}function Lu(ht,pt){for(var ft,Rt=-1,zt=ht.length;++Rt<zt;){var qt=pt(ht[Rt]);qt!==y&&(ft=ft===y?qt:ft+qt)}return ft}function Fu(ht,pt){for(var ft=-1,Rt=Array(ht);++ft<ht;)Rt[ft]=pt(ft);return Rt}function jS(ht,pt){return fe(pt,function(ft){return[ft,ht[ft]]})}function Tp(ht){return ht&&ht.slice(0,Pp(ht)+1).replace(gu,"")}function pi(ht){return function(pt){return ht(pt)}}function Ou(ht,pt){return fe(pt,function(ft){return ht[ft]})}function ha(ht,pt){return ht.has(pt)}function Sp(ht,pt){for(var ft=-1,Rt=ht.length;++ft<Rt&&is(pt,ht[ft],0)>-1;);return ft}function Cp(ht,pt){for(var ft=ht.length;ft--&&is(pt,ht[ft],0)>-1;);return ft}function ZS(ht,pt){for(var ft=ht.length,Rt=0;ft--;)ht[ft]===pt&&++Rt;return Rt}var QS=Ru(DS),kS=Ru(BS);function JS(ht){return"\\"+NS[ht]}function qS(ht,pt){return ht==null?y:ht[pt]}function ns(ht){return RS.test(ht)}function _S(ht){return LS.test(ht)}function t2(ht){for(var pt,ft=[];!(pt=ht.next()).done;)ft.push(pt.value);return ft}function Du(ht){var pt=-1,ft=Array(ht.size);return ht.forEach(function(Rt,zt){ft[++pt]=[zt,Rt]}),ft}function Ep(ht,pt){return function(ft){return ht(pt(ft))}}function jn(ht,pt){for(var ft=-1,Rt=ht.length,zt=0,qt=[];++ft<Rt;){var Le=ht[ft];(Le===pt||Le===g)&&(ht[ft]=g,qt[zt++]=ft)}return qt}function Bo(ht){var pt=-1,ft=Array(ht.size);return ht.forEach(function(Rt){ft[++pt]=Rt}),ft}function e2(ht){var pt=-1,ft=Array(ht.size);return ht.forEach(function(Rt){ft[++pt]=[Rt,Rt]}),ft}function i2(ht,pt,ft){for(var Rt=ft-1,zt=ht.length;++Rt<zt;)if(ht[Rt]===pt)return Rt;return-1}function n2(ht,pt,ft){for(var Rt=ft+1;Rt--;)if(ht[Rt]===pt)return Rt;return Rt}function rs(ht){return ns(ht)?s2(ht):XS(ht)}function Ji(ht){return ns(ht)?a2(ht):YS(ht)}function Pp(ht){for(var pt=ht.length;pt--&&ZT.test(ht.charAt(pt)););return pt}var r2=Ru(IS);function s2(ht){for(var pt=Su.lastIndex=0;Su.test(ht);)++pt;return pt}function a2(ht){return ht.match(Su)||[]}function o2(ht){return ht.match(MS)||[]}var h2=function ht(pt){pt=pt==null?Ie:Zn.defaults(Ie.Object(),pt,Zn.pick(Ie,FS));var ft=pt.Array,Rt=pt.Date,zt=pt.Error,qt=pt.Function,Le=pt.Math,re=pt.Object,Bu=pt.RegExp,l2=pt.String,Oi=pt.TypeError,Io=ft.prototype,u2=qt.prototype,ss=re.prototype,No=pt["__core-js_shared__"],Go=u2.toString,te=ss.hasOwnProperty,f2=0,Ap=function(){var M=/[^.]+$/.exec(No&&No.keys&&No.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),zo=ss.toString,d2=Go.call(re),c2=Ie._,v2=Bu("^"+Go.call(te).replace(pu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bo=hp?pt.Buffer:y,Qn=pt.Symbol,Uo=pt.Uint8Array,wp=bo?bo.allocUnsafe:y,Vo=Ep(re.getPrototypeOf,re),Mp=re.create,Rp=ss.propertyIsEnumerable,Wo=Io.splice,Lp=Qn?Qn.isConcatSpreadable:y,la=Qn?Qn.iterator:y,Mr=Qn?Qn.toStringTag:y,Xo=function(){try{var M=Dr(re,"defineProperty");return M({},"",{}),M}catch{}}(),p2=pt.clearTimeout!==Ie.clearTimeout&&pt.clearTimeout,g2=Rt&&Rt.now!==Ie.Date.now&&Rt.now,m2=pt.setTimeout!==Ie.setTimeout&&pt.setTimeout,Yo=Le.ceil,Ho=Le.floor,Iu=re.getOwnPropertySymbols,y2=bo?bo.isBuffer:y,Fp=pt.isFinite,x2=Io.join,T2=Ep(re.keys,re),Fe=Le.max,$e=Le.min,S2=Rt.now,C2=pt.parseInt,Op=Le.random,E2=Io.reverse,Nu=Dr(pt,"DataView"),ua=Dr(pt,"Map"),Gu=Dr(pt,"Promise"),as=Dr(pt,"Set"),fa=Dr(pt,"WeakMap"),da=Dr(re,"create"),$o=fa&&new fa,os={},P2=Br(Nu),A2=Br(ua),w2=Br(Gu),M2=Br(as),R2=Br(fa),Ko=Qn?Qn.prototype:y,ca=Ko?Ko.valueOf:y,Dp=Ko?Ko.toString:y;function _(M){if(Se(M)&&!bt(M)&&!(M instanceof Kt)){if(M instanceof Di)return M;if(te.call(M,"__wrapped__"))return B0(M)}return new Di(M)}var hs=function(){function M(){}return function(O){if(!ve(O))return{};if(Mp)return Mp(O);M.prototype=O;var U=new M;return M.prototype=y,U}}();function jo(){}function Di(M,O){this.__wrapped__=M,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=y}_.templateSettings={escape:XT,evaluate:YT,interpolate:Wv,variable:"",imports:{_}},_.prototype=jo.prototype,_.prototype.constructor=_,Di.prototype=hs(jo.prototype),Di.prototype.constructor=Di;function Kt(M){this.__wrapped__=M,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function L2(){var M=new Kt(this.__wrapped__);return M.__actions__=ri(this.__actions__),M.__dir__=this.__dir__,M.__filtered__=this.__filtered__,M.__iteratees__=ri(this.__iteratees__),M.__takeCount__=this.__takeCount__,M.__views__=ri(this.__views__),M}function F2(){if(this.__filtered__){var M=new Kt(this);M.__dir__=-1,M.__filtered__=!0}else M=this.clone(),M.__dir__*=-1;return M}function O2(){var M=this.__wrapped__.value(),O=this.__dir__,U=bt(M),j=O<0,q=U?M.length:0,tt=YC(0,q,this.__views__),it=tt.start,rt=tt.end,lt=rt-it,gt=j?rt:it-1,mt=this.__iteratees__,yt=mt.length,wt=0,Ft=$e(lt,this.__takeCount__);if(!U||!j&&q==lt&&Ft==lt)return i0(M,this.__actions__);var Bt=[];t:for(;lt--&&wt<Ft;){gt+=O;for(var Xt=-1,It=M[gt];++Xt<yt;){var $t=mt[Xt],Qt=$t.iteratee,yi=$t.type,_e=Qt(It);if(yi==D)It=_e;else if(!_e){if(yi==B)continue t;break t}}Bt[wt++]=It}return Bt}Kt.prototype=hs(jo.prototype),Kt.prototype.constructor=Kt;function Rr(M){var O=-1,U=M==null?0:M.length;for(this.clear();++O<U;){var j=M[O];this.set(j[0],j[1])}}function D2(){this.__data__=da?da(null):{},this.size=0}function B2(M){var O=this.has(M)&&delete this.__data__[M];return this.size-=O?1:0,O}function I2(M){var O=this.__data__;if(da){var U=O[M];return U===t?y:U}return te.call(O,M)?O[M]:y}function N2(M){var O=this.__data__;return da?O[M]!==y:te.call(O,M)}function G2(M,O){var U=this.__data__;return this.size+=this.has(M)?0:1,U[M]=da&&O===y?t:O,this}Rr.prototype.clear=D2,Rr.prototype.delete=B2,Rr.prototype.get=I2,Rr.prototype.has=N2,Rr.prototype.set=G2;function Pn(M){var O=-1,U=M==null?0:M.length;for(this.clear();++O<U;){var j=M[O];this.set(j[0],j[1])}}function z2(){this.__data__=[],this.size=0}function b2(M){var O=this.__data__,U=Zo(O,M);if(U<0)return!1;var j=O.length-1;return U==j?O.pop():Wo.call(O,U,1),--this.size,!0}function U2(M){var O=this.__data__,U=Zo(O,M);return U<0?y:O[U][1]}function V2(M){return Zo(this.__data__,M)>-1}function W2(M,O){var U=this.__data__,j=Zo(U,M);return j<0?(++this.size,U.push([M,O])):U[j][1]=O,this}Pn.prototype.clear=z2,Pn.prototype.delete=b2,Pn.prototype.get=U2,Pn.prototype.has=V2,Pn.prototype.set=W2;function An(M){var O=-1,U=M==null?0:M.length;for(this.clear();++O<U;){var j=M[O];this.set(j[0],j[1])}}function X2(){this.size=0,this.__data__={hash:new Rr,map:new(ua||Pn),string:new Rr}}function Y2(M){var O=ah(this,M).delete(M);return this.size-=O?1:0,O}function H2(M){return ah(this,M).get(M)}function $2(M){return ah(this,M).has(M)}function K2(M,O){var U=ah(this,M),j=U.size;return U.set(M,O),this.size+=U.size==j?0:1,this}An.prototype.clear=X2,An.prototype.delete=Y2,An.prototype.get=H2,An.prototype.has=$2,An.prototype.set=K2;function Lr(M){var O=-1,U=M==null?0:M.length;for(this.__data__=new An;++O<U;)this.add(M[O])}function j2(M){return this.__data__.set(M,t),this}function Z2(M){return this.__data__.has(M)}Lr.prototype.add=Lr.prototype.push=j2,Lr.prototype.has=Z2;function qi(M){var O=this.__data__=new Pn(M);this.size=O.size}function Q2(){this.__data__=new Pn,this.size=0}function k2(M){var O=this.__data__,U=O.delete(M);return this.size=O.size,U}function J2(M){return this.__data__.get(M)}function q2(M){return this.__data__.has(M)}function _2(M,O){var U=this.__data__;if(U instanceof Pn){var j=U.__data__;if(!ua||j.length<w-1)return j.push([M,O]),this.size=++U.size,this;U=this.__data__=new An(j)}return U.set(M,O),this.size=U.size,this}qi.prototype.clear=Q2,qi.prototype.delete=k2,qi.prototype.get=J2,qi.prototype.has=q2,qi.prototype.set=_2;function Bp(M,O){var U=bt(M),j=!U&&Ir(M),q=!U&&!j&&tr(M),tt=!U&&!j&&!q&&ds(M),it=U||j||q||tt,rt=it?Fu(M.length,l2):[],lt=rt.length;for(var gt in M)(O||te.call(M,gt))&&!(it&&(gt=="length"||q&&(gt=="offset"||gt=="parent")||tt&&(gt=="buffer"||gt=="byteLength"||gt=="byteOffset")||Ln(gt,lt)))&&rt.push(gt);return rt}function Ip(M){var O=M.length;return O?M[ju(0,O-1)]:y}function tC(M,O){return oh(ri(M),Fr(O,0,M.length))}function eC(M){return oh(ri(M))}function zu(M,O,U){(U!==y&&!_i(M[O],U)||U===y&&!(O in M))&&wn(M,O,U)}function va(M,O,U){var j=M[O];(!(te.call(M,O)&&_i(j,U))||U===y&&!(O in M))&&wn(M,O,U)}function Zo(M,O){for(var U=M.length;U--;)if(_i(M[U][0],O))return U;return-1}function iC(M,O,U,j){return kn(M,function(q,tt,it){O(j,q,U(q),it)}),j}function Np(M,O){return M&&dn(O,Ne(O),M)}function nC(M,O){return M&&dn(O,ai(O),M)}function wn(M,O,U){O=="__proto__"&&Xo?Xo(M,O,{configurable:!0,enumerable:!0,value:U,writable:!0}):M[O]=U}function bu(M,O){for(var U=-1,j=O.length,q=ft(j),tt=M==null;++U<j;)q[U]=tt?y:xf(M,O[U]);return q}function Fr(M,O,U){return M===M&&(U!==y&&(M=M<=U?M:U),O!==y&&(M=M>=O?M:O)),M}function Bi(M,O,U,j,q,tt){var it,rt=O&o,lt=O&s,gt=O&r;if(U&&(it=q?U(M,j,q,tt):U(M)),it!==y)return it;if(!ve(M))return M;var mt=bt(M);if(mt){if(it=$C(M),!rt)return ri(M,it)}else{var yt=Ke(M),wt=yt==et||yt==nt;if(tr(M))return s0(M,rt);if(yt==at||yt==N||wt&&!q){if(it=lt||wt?{}:P0(M),!rt)return lt?IC(M,nC(it,M)):BC(M,Np(it,M))}else{if(!se[yt])return q?M:{};it=KC(M,yt,rt)}}tt||(tt=new qi);var Ft=tt.get(M);if(Ft)return Ft;tt.set(M,it),_0(M)?M.forEach(function(It){it.add(Bi(It,O,U,It,M,tt))}):J0(M)&&M.forEach(function(It,$t){it.set($t,Bi(It,O,U,$t,M,tt))});var Bt=gt?lt?sf:rf:lt?ai:Ne,Xt=mt?y:Bt(M);return Fi(Xt||M,function(It,$t){Xt&&($t=It,It=M[$t]),va(it,$t,Bi(It,O,U,$t,M,tt))}),it}function rC(M){var O=Ne(M);return function(U){return Gp(U,M,O)}}function Gp(M,O,U){var j=U.length;if(M==null)return!j;for(M=re(M);j--;){var q=U[j],tt=O[q],it=M[q];if(it===y&&!(q in M)||!tt(it))return!1}return!0}function zp(M,O,U){if(typeof M!="function")throw new Oi(c);return Sa(function(){M.apply(y,U)},O)}function pa(M,O,U,j){var q=-1,tt=Oo,it=!0,rt=M.length,lt=[],gt=O.length;if(!rt)return lt;U&&(O=fe(O,pi(U))),j?(tt=Pu,it=!1):O.length>=w&&(tt=ha,it=!1,O=new Lr(O));t:for(;++q<rt;){var mt=M[q],yt=U==null?mt:U(mt);if(mt=j||mt!==0?mt:0,it&&yt===yt){for(var wt=gt;wt--;)if(O[wt]===yt)continue t;lt.push(mt)}else tt(O,yt,j)||lt.push(mt)}return lt}var kn=u0(fn),bp=u0(Vu,!0);function sC(M,O){var U=!0;return kn(M,function(j,q,tt){return U=!!O(j,q,tt),U}),U}function Qo(M,O,U){for(var j=-1,q=M.length;++j<q;){var tt=M[j],it=O(tt);if(it!=null&&(rt===y?it===it&&!mi(it):U(it,rt)))var rt=it,lt=tt}return lt}function aC(M,O,U,j){var q=M.length;for(U=Wt(U),U<0&&(U=-U>q?0:q+U),j=j===y||j>q?q:Wt(j),j<0&&(j+=q),j=U>j?0:eg(j);U<j;)M[U++]=O;return M}function Up(M,O){var U=[];return kn(M,function(j,q,tt){O(j,q,tt)&&U.push(j)}),U}function Ve(M,O,U,j,q){var tt=-1,it=M.length;for(U||(U=ZC),q||(q=[]);++tt<it;){var rt=M[tt];O>0&&U(rt)?O>1?Ve(rt,O-1,U,j,q):Kn(q,rt):j||(q[q.length]=rt)}return q}var Uu=f0(),Vp=f0(!0);function fn(M,O){return M&&Uu(M,O,Ne)}function Vu(M,O){return M&&Vp(M,O,Ne)}function ko(M,O){return $n(O,function(U){return Fn(M[U])})}function Or(M,O){O=qn(O,M);for(var U=0,j=O.length;M!=null&&U<j;)M=M[cn(O[U++])];return U&&U==j?M:y}function Wp(M,O,U){var j=O(M);return bt(M)?j:Kn(j,U(M))}function Je(M){return M==null?M===y?vt:ut:Mr&&Mr in re(M)?XC(M):eE(M)}function Wu(M,O){return M>O}function oC(M,O){return M!=null&&te.call(M,O)}function hC(M,O){return M!=null&&O in re(M)}function lC(M,O,U){return M>=$e(O,U)&&M<Fe(O,U)}function Xu(M,O,U){for(var j=U?Pu:Oo,q=M[0].length,tt=M.length,it=tt,rt=ft(tt),lt=1/0,gt=[];it--;){var mt=M[it];it&&O&&(mt=fe(mt,pi(O))),lt=$e(mt.length,lt),rt[it]=!U&&(O||q>=120&&mt.length>=120)?new Lr(it&&mt):y}mt=M[0];var yt=-1,wt=rt[0];t:for(;++yt<q&&gt.length<lt;){var Ft=mt[yt],Bt=O?O(Ft):Ft;if(Ft=U||Ft!==0?Ft:0,!(wt?ha(wt,Bt):j(gt,Bt,U))){for(it=tt;--it;){var Xt=rt[it];if(!(Xt?ha(Xt,Bt):j(M[it],Bt,U)))continue t}wt&&wt.push(Bt),gt.push(Ft)}}return gt}function uC(M,O,U,j){return fn(M,function(q,tt,it){O(j,U(q),tt,it)}),j}function ga(M,O,U){O=qn(O,M),M=R0(M,O);var j=M==null?M:M[cn(Ni(O))];return j==null?y:vi(j,M,U)}function Xp(M){return Se(M)&&Je(M)==N}function fC(M){return Se(M)&&Je(M)==Zt}function dC(M){return Se(M)&&Je(M)==Q}function ma(M,O,U,j,q){return M===O?!0:M==null||O==null||!Se(M)&&!Se(O)?M!==M&&O!==O:cC(M,O,U,j,ma,q)}function cC(M,O,U,j,q,tt){var it=bt(M),rt=bt(O),lt=it?b:Ke(M),gt=rt?b:Ke(O);lt=lt==N?at:lt,gt=gt==N?at:gt;var mt=lt==at,yt=gt==at,wt=lt==gt;if(wt&&tr(M)){if(!tr(O))return!1;it=!0,mt=!1}if(wt&&!mt)return tt||(tt=new qi),it||ds(M)?S0(M,O,U,j,q,tt):VC(M,O,lt,U,j,q,tt);if(!(U&e)){var Ft=mt&&te.call(M,"__wrapped__"),Bt=yt&&te.call(O,"__wrapped__");if(Ft||Bt){var Xt=Ft?M.value():M,It=Bt?O.value():O;return tt||(tt=new qi),q(Xt,It,U,j,tt)}}return wt?(tt||(tt=new qi),WC(M,O,U,j,q,tt)):!1}function vC(M){return Se(M)&&Ke(M)==st}function Yu(M,O,U,j){var q=U.length,tt=q,it=!j;if(M==null)return!tt;for(M=re(M);q--;){var rt=U[q];if(it&&rt[2]?rt[1]!==M[rt[0]]:!(rt[0]in M))return!1}for(;++q<tt;){rt=U[q];var lt=rt[0],gt=M[lt],mt=rt[1];if(it&&rt[2]){if(gt===y&&!(lt in M))return!1}else{var yt=new qi;if(j)var wt=j(gt,mt,lt,M,O,yt);if(!(wt===y?ma(mt,gt,e|n,j,yt):wt))return!1}}return!0}function Yp(M){if(!ve(M)||kC(M))return!1;var O=Fn(M)?v2:rS;return O.test(Br(M))}function pC(M){return Se(M)&&Je(M)==Ct}function gC(M){return Se(M)&&Ke(M)==Et}function mC(M){return Se(M)&&ch(M.length)&&!!he[Je(M)]}function Hp(M){return typeof M=="function"?M:M==null?oi:typeof M=="object"?bt(M)?jp(M[0],M[1]):Kp(M):dg(M)}function Hu(M){if(!Ta(M))return T2(M);var O=[];for(var U in re(M))te.call(M,U)&&U!="constructor"&&O.push(U);return O}function yC(M){if(!ve(M))return tE(M);var O=Ta(M),U=[];for(var j in M)j=="constructor"&&(O||!te.call(M,j))||U.push(j);return U}function $u(M,O){return M<O}function $p(M,O){var U=-1,j=si(M)?ft(M.length):[];return kn(M,function(q,tt,it){j[++U]=O(q,tt,it)}),j}function Kp(M){var O=of(M);return O.length==1&&O[0][2]?w0(O[0][0],O[0][1]):function(U){return U===M||Yu(U,M,O)}}function jp(M,O){return lf(M)&&A0(O)?w0(cn(M),O):function(U){var j=xf(U,M);return j===y&&j===O?Tf(U,M):ma(O,j,e|n)}}function Jo(M,O,U,j,q){M!==O&&Uu(O,function(tt,it){if(q||(q=new qi),ve(tt))xC(M,O,it,U,Jo,j,q);else{var rt=j?j(ff(M,it),tt,it+"",M,O,q):y;rt===y&&(rt=tt),zu(M,it,rt)}},ai)}function xC(M,O,U,j,q,tt,it){var rt=ff(M,U),lt=ff(O,U),gt=it.get(lt);if(gt){zu(M,U,gt);return}var mt=tt?tt(rt,lt,U+"",M,O,it):y,yt=mt===y;if(yt){var wt=bt(lt),Ft=!wt&&tr(lt),Bt=!wt&&!Ft&&ds(lt);mt=lt,wt||Ft||Bt?bt(rt)?mt=rt:Pe(rt)?mt=ri(rt):Ft?(yt=!1,mt=s0(lt,!0)):Bt?(yt=!1,mt=a0(lt,!0)):mt=[]:Ca(lt)||Ir(lt)?(mt=rt,Ir(rt)?mt=ig(rt):(!ve(rt)||Fn(rt))&&(mt=P0(lt))):yt=!1}yt&&(it.set(lt,mt),q(mt,lt,j,tt,it),it.delete(lt)),zu(M,U,mt)}function Zp(M,O){var U=M.length;if(U)return O+=O<0?U:0,Ln(O,U)?M[O]:y}function Qp(M,O,U){O.length?O=fe(O,function(tt){return bt(tt)?function(it){return Or(it,tt.length===1?tt[0]:tt)}:tt}):O=[oi];var j=-1;O=fe(O,pi(Dt()));var q=$p(M,function(tt,it,rt){var lt=fe(O,function(gt){return gt(tt)});return{criteria:lt,index:++j,value:tt}});return KS(q,function(tt,it){return DC(tt,it,U)})}function TC(M,O){return kp(M,O,function(U,j){return Tf(M,j)})}function kp(M,O,U){for(var j=-1,q=O.length,tt={};++j<q;){var it=O[j],rt=Or(M,it);U(rt,it)&&ya(tt,qn(it,M),rt)}return tt}function SC(M){return function(O){return Or(O,M)}}function Ku(M,O,U,j){var q=j?$S:is,tt=-1,it=O.length,rt=M;for(M===O&&(O=ri(O)),U&&(rt=fe(M,pi(U)));++tt<it;)for(var lt=0,gt=O[tt],mt=U?U(gt):gt;(lt=q(rt,mt,lt,j))>-1;)rt!==M&&Wo.call(rt,lt,1),Wo.call(M,lt,1);return M}function Jp(M,O){for(var U=M?O.length:0,j=U-1;U--;){var q=O[U];if(U==j||q!==tt){var tt=q;Ln(q)?Wo.call(M,q,1):ku(M,q)}}return M}function ju(M,O){return M+Ho(Op()*(O-M+1))}function CC(M,O,U,j){for(var q=-1,tt=Fe(Yo((O-M)/(U||1)),0),it=ft(tt);tt--;)it[j?tt:++q]=M,M+=U;return it}function Zu(M,O){var U="";if(!M||O<1||O>z)return U;do O%2&&(U+=M),O=Ho(O/2),O&&(M+=M);while(O);return U}function Yt(M,O){return df(M0(M,O,oi),M+"")}function EC(M){return Ip(cs(M))}function PC(M,O){var U=cs(M);return oh(U,Fr(O,0,U.length))}function ya(M,O,U,j){if(!ve(M))return M;O=qn(O,M);for(var q=-1,tt=O.length,it=tt-1,rt=M;rt!=null&&++q<tt;){var lt=cn(O[q]),gt=U;if(lt==="__proto__"||lt==="constructor"||lt==="prototype")return M;if(q!=it){var mt=rt[lt];gt=j?j(mt,lt,rt):y,gt===y&&(gt=ve(mt)?mt:Ln(O[q+1])?[]:{})}va(rt,lt,gt),rt=rt[lt]}return M}var qp=$o?function(M,O){return $o.set(M,O),M}:oi,AC=Xo?function(M,O){return Xo(M,"toString",{configurable:!0,enumerable:!1,value:Cf(O),writable:!0})}:oi;function wC(M){return oh(cs(M))}function Ii(M,O,U){var j=-1,q=M.length;O<0&&(O=-O>q?0:q+O),U=U>q?q:U,U<0&&(U+=q),q=O>U?0:U-O>>>0,O>>>=0;for(var tt=ft(q);++j<q;)tt[j]=M[j+O];return tt}function MC(M,O){var U;return kn(M,function(j,q,tt){return U=O(j,q,tt),!U}),!!U}function qo(M,O,U){var j=0,q=M==null?j:M.length;if(typeof O=="number"&&O===O&&q<=V){for(;j<q;){var tt=j+q>>>1,it=M[tt];it!==null&&!mi(it)&&(U?it<=O:it<O)?j=tt+1:q=tt}return q}return Qu(M,O,oi,U)}function Qu(M,O,U,j){var q=0,tt=M==null?0:M.length;if(tt===0)return 0;O=U(O);for(var it=O!==O,rt=O===null,lt=mi(O),gt=O===y;q<tt;){var mt=Ho((q+tt)/2),yt=U(M[mt]),wt=yt!==y,Ft=yt===null,Bt=yt===yt,Xt=mi(yt);if(it)var It=j||Bt;else gt?It=Bt&&(j||wt):rt?It=Bt&&wt&&(j||!Ft):lt?It=Bt&&wt&&!Ft&&(j||!Xt):Ft||Xt?It=!1:It=j?yt<=O:yt<O;It?q=mt+1:tt=mt}return $e(tt,Z)}function _p(M,O){for(var U=-1,j=M.length,q=0,tt=[];++U<j;){var it=M[U],rt=O?O(it):it;if(!U||!_i(rt,lt)){var lt=rt;tt[q++]=it===0?0:it}}return tt}function t0(M){return typeof M=="number"?M:mi(M)?Y:+M}function gi(M){if(typeof M=="string")return M;if(bt(M))return fe(M,gi)+"";if(mi(M))return Dp?Dp.call(M):"";var O=M+"";return O=="0"&&1/M==-G?"-0":O}function Jn(M,O,U){var j=-1,q=Oo,tt=M.length,it=!0,rt=[],lt=rt;if(U)it=!1,q=Pu;else if(tt>=w){var gt=O?null:bC(M);if(gt)return Bo(gt);it=!1,q=ha,lt=new Lr}else lt=O?[]:rt;t:for(;++j<tt;){var mt=M[j],yt=O?O(mt):mt;if(mt=U||mt!==0?mt:0,it&&yt===yt){for(var wt=lt.length;wt--;)if(lt[wt]===yt)continue t;O&&lt.push(yt),rt.push(mt)}else q(lt,yt,U)||(lt!==rt&&lt.push(yt),rt.push(mt))}return rt}function ku(M,O){return O=qn(O,M),M=R0(M,O),M==null||delete M[cn(Ni(O))]}function e0(M,O,U,j){return ya(M,O,U(Or(M,O)),j)}function _o(M,O,U,j){for(var q=M.length,tt=j?q:-1;(j?tt--:++tt<q)&&O(M[tt],tt,M););return U?Ii(M,j?0:tt,j?tt+1:q):Ii(M,j?tt+1:0,j?q:tt)}function i0(M,O){var U=M;return U instanceof Kt&&(U=U.value()),Au(O,function(j,q){return q.func.apply(q.thisArg,Kn([j],q.args))},U)}function Ju(M,O,U){var j=M.length;if(j<2)return j?Jn(M[0]):[];for(var q=-1,tt=ft(j);++q<j;)for(var it=M[q],rt=-1;++rt<j;)rt!=q&&(tt[q]=pa(tt[q]||it,M[rt],O,U));return Jn(Ve(tt,1),O,U)}function n0(M,O,U){for(var j=-1,q=M.length,tt=O.length,it={};++j<q;){var rt=j<tt?O[j]:y;U(it,M[j],rt)}return it}function qu(M){return Pe(M)?M:[]}function _u(M){return typeof M=="function"?M:oi}function qn(M,O){return bt(M)?M:lf(M,O)?[M]:D0(_t(M))}var RC=Yt;function _n(M,O,U){var j=M.length;return U=U===y?j:U,!O&&U>=j?M:Ii(M,O,U)}var r0=p2||function(M){return Ie.clearTimeout(M)};function s0(M,O){if(O)return M.slice();var U=M.length,j=wp?wp(U):new M.constructor(U);return M.copy(j),j}function tf(M){var O=new M.constructor(M.byteLength);return new Uo(O).set(new Uo(M)),O}function LC(M,O){var U=O?tf(M.buffer):M.buffer;return new M.constructor(U,M.byteOffset,M.byteLength)}function FC(M){var O=new M.constructor(M.source,Xv.exec(M));return O.lastIndex=M.lastIndex,O}function OC(M){return ca?re(ca.call(M)):{}}function a0(M,O){var U=O?tf(M.buffer):M.buffer;return new M.constructor(U,M.byteOffset,M.length)}function o0(M,O){if(M!==O){var U=M!==y,j=M===null,q=M===M,tt=mi(M),it=O!==y,rt=O===null,lt=O===O,gt=mi(O);if(!rt&&!gt&&!tt&&M>O||tt&&it&&lt&&!rt&&!gt||j&&it&&lt||!U&&lt||!q)return 1;if(!j&&!tt&&!gt&&M<O||gt&&U&&q&&!j&&!tt||rt&&U&&q||!it&&q||!lt)return-1}return 0}function DC(M,O,U){for(var j=-1,q=M.criteria,tt=O.criteria,it=q.length,rt=U.length;++j<it;){var lt=o0(q[j],tt[j]);if(lt){if(j>=rt)return lt;var gt=U[j];return lt*(gt=="desc"?-1:1)}}return M.index-O.index}function h0(M,O,U,j){for(var q=-1,tt=M.length,it=U.length,rt=-1,lt=O.length,gt=Fe(tt-it,0),mt=ft(lt+gt),yt=!j;++rt<lt;)mt[rt]=O[rt];for(;++q<it;)(yt||q<tt)&&(mt[U[q]]=M[q]);for(;gt--;)mt[rt++]=M[q++];return mt}function l0(M,O,U,j){for(var q=-1,tt=M.length,it=-1,rt=U.length,lt=-1,gt=O.length,mt=Fe(tt-rt,0),yt=ft(mt+gt),wt=!j;++q<mt;)yt[q]=M[q];for(var Ft=q;++lt<gt;)yt[Ft+lt]=O[lt];for(;++it<rt;)(wt||q<tt)&&(yt[Ft+U[it]]=M[q++]);return yt}function ri(M,O){var U=-1,j=M.length;for(O||(O=ft(j));++U<j;)O[U]=M[U];return O}function dn(M,O,U,j){var q=!U;U||(U={});for(var tt=-1,it=O.length;++tt<it;){var rt=O[tt],lt=j?j(U[rt],M[rt],rt,U,M):y;lt===y&&(lt=M[rt]),q?wn(U,rt,lt):va(U,rt,lt)}return U}function BC(M,O){return dn(M,hf(M),O)}function IC(M,O){return dn(M,C0(M),O)}function th(M,O){return function(U,j){var q=bt(U)?US:iC,tt=O?O():{};return q(U,M,Dt(j,2),tt)}}function ls(M){return Yt(function(O,U){var j=-1,q=U.length,tt=q>1?U[q-1]:y,it=q>2?U[2]:y;for(tt=M.length>3&&typeof tt=="function"?(q--,tt):y,it&&qe(U[0],U[1],it)&&(tt=q<3?y:tt,q=1),O=re(O);++j<q;){var rt=U[j];rt&&M(O,rt,j,tt)}return O})}function u0(M,O){return function(U,j){if(U==null)return U;if(!si(U))return M(U,j);for(var q=U.length,tt=O?q:-1,it=re(U);(O?tt--:++tt<q)&&j(it[tt],tt,it)!==!1;);return U}}function f0(M){return function(O,U,j){for(var q=-1,tt=re(O),it=j(O),rt=it.length;rt--;){var lt=it[M?rt:++q];if(U(tt[lt],lt,tt)===!1)break}return O}}function NC(M,O,U){var j=O&l,q=xa(M);function tt(){var it=this&&this!==Ie&&this instanceof tt?q:M;return it.apply(j?U:this,arguments)}return tt}function d0(M){return function(O){O=_t(O);var U=ns(O)?Ji(O):y,j=U?U[0]:O.charAt(0),q=U?_n(U,1).join(""):O.slice(1);return j[M]()+q}}function us(M){return function(O){return Au(ug(lg(O).replace(AS,"")),M,"")}}function xa(M){return function(){var O=arguments;switch(O.length){case 0:return new M;case 1:return new M(O[0]);case 2:return new M(O[0],O[1]);case 3:return new M(O[0],O[1],O[2]);case 4:return new M(O[0],O[1],O[2],O[3]);case 5:return new M(O[0],O[1],O[2],O[3],O[4]);case 6:return new M(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new M(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var U=hs(M.prototype),j=M.apply(U,O);return ve(j)?j:U}}function GC(M,O,U){var j=xa(M);function q(){for(var tt=arguments.length,it=ft(tt),rt=tt,lt=fs(q);rt--;)it[rt]=arguments[rt];var gt=tt<3&&it[0]!==lt&&it[tt-1]!==lt?[]:jn(it,lt);if(tt-=gt.length,tt<U)return m0(M,O,eh,q.placeholder,y,it,gt,y,y,U-tt);var mt=this&&this!==Ie&&this instanceof q?j:M;return vi(mt,this,it)}return q}function c0(M){return function(O,U,j){var q=re(O);if(!si(O)){var tt=Dt(U,3);O=Ne(O),U=function(rt){return tt(q[rt],rt,q)}}var it=M(O,U,j);return it>-1?q[tt?O[it]:it]:y}}function v0(M){return Rn(function(O){var U=O.length,j=U,q=Di.prototype.thru;for(M&&O.reverse();j--;){var tt=O[j];if(typeof tt!="function")throw new Oi(c);if(q&&!it&&sh(tt)=="wrapper")var it=new Di([],!0)}for(j=it?j:U;++j<U;){tt=O[j];var rt=sh(tt),lt=rt=="wrapper"?af(tt):y;lt&&uf(lt[0])&&lt[1]==(T|u|v|C)&&!lt[4].length&&lt[9]==1?it=it[sh(lt[0])].apply(it,lt[3]):it=tt.length==1&&uf(tt)?it[rt]():it.thru(tt)}return function(){var gt=arguments,mt=gt[0];if(it&&gt.length==1&&bt(mt))return it.plant(mt).value();for(var yt=0,wt=U?O[yt].apply(this,gt):mt;++yt<U;)wt=O[yt].call(this,wt);return wt}})}function eh(M,O,U,j,q,tt,it,rt,lt,gt){var mt=O&T,yt=O&l,wt=O&i,Ft=O&(u|f),Bt=O&S,Xt=wt?y:xa(M);function It(){for(var $t=arguments.length,Qt=ft($t),yi=$t;yi--;)Qt[yi]=arguments[yi];if(Ft)var _e=fs(It),xi=ZS(Qt,_e);if(j&&(Qt=h0(Qt,j,q,Ft)),tt&&(Qt=l0(Qt,tt,it,Ft)),$t-=xi,Ft&&$t<gt){var Ae=jn(Qt,_e);return m0(M,O,eh,It.placeholder,U,Qt,Ae,rt,lt,gt-$t)}var tn=yt?U:this,Dn=wt?tn[M]:M;return $t=Qt.length,rt?Qt=iE(Qt,rt):Bt&&$t>1&&Qt.reverse(),mt&&lt<$t&&(Qt.length=lt),this&&this!==Ie&&this instanceof It&&(Dn=Xt||xa(Dn)),Dn.apply(tn,Qt)}return It}function p0(M,O){return function(U,j){return uC(U,M,O(j),{})}}function ih(M,O){return function(U,j){var q;if(U===y&&j===y)return O;if(U!==y&&(q=U),j!==y){if(q===y)return j;typeof U=="string"||typeof j=="string"?(U=gi(U),j=gi(j)):(U=t0(U),j=t0(j)),q=M(U,j)}return q}}function ef(M){return Rn(function(O){return O=fe(O,pi(Dt())),Yt(function(U){var j=this;return M(O,function(q){return vi(q,j,U)})})})}function nh(M,O){O=O===y?" ":gi(O);var U=O.length;if(U<2)return U?Zu(O,M):O;var j=Zu(O,Yo(M/rs(O)));return ns(O)?_n(Ji(j),0,M).join(""):j.slice(0,M)}function zC(M,O,U,j){var q=O&l,tt=xa(M);function it(){for(var rt=-1,lt=arguments.length,gt=-1,mt=j.length,yt=ft(mt+lt),wt=this&&this!==Ie&&this instanceof it?tt:M;++gt<mt;)yt[gt]=j[gt];for(;lt--;)yt[gt++]=arguments[++rt];return vi(wt,q?U:this,yt)}return it}function g0(M){return function(O,U,j){return j&&typeof j!="number"&&qe(O,U,j)&&(U=j=y),O=On(O),U===y?(U=O,O=0):U=On(U),j=j===y?O<U?1:-1:On(j),CC(O,U,j,M)}}function rh(M){return function(O,U){return typeof O=="string"&&typeof U=="string"||(O=Gi(O),U=Gi(U)),M(O,U)}}function m0(M,O,U,j,q,tt,it,rt,lt,gt){var mt=O&u,yt=mt?it:y,wt=mt?y:it,Ft=mt?tt:y,Bt=mt?y:tt;O|=mt?v:m,O&=~(mt?m:v),O&h||(O&=~(l|i));var Xt=[M,O,q,Ft,yt,Bt,wt,rt,lt,gt],It=U.apply(y,Xt);return uf(M)&&L0(It,Xt),It.placeholder=j,F0(It,M,O)}function nf(M){var O=Le[M];return function(U,j){if(U=Gi(U),j=j==null?0:$e(Wt(j),292),j&&Fp(U)){var q=(_t(U)+"e").split("e"),tt=O(q[0]+"e"+(+q[1]+j));return q=(_t(tt)+"e").split("e"),+(q[0]+"e"+(+q[1]-j))}return O(U)}}var bC=as&&1/Bo(new as([,-0]))[1]==G?function(M){return new as(M)}:Af;function y0(M){return function(O){var U=Ke(O);return U==st?Du(O):U==Et?e2(O):jS(O,M(O))}}function Mn(M,O,U,j,q,tt,it,rt){var lt=O&i;if(!lt&&typeof M!="function")throw new Oi(c);var gt=j?j.length:0;if(gt||(O&=~(v|m),j=q=y),it=it===y?it:Fe(Wt(it),0),rt=rt===y?rt:Wt(rt),gt-=q?q.length:0,O&m){var mt=j,yt=q;j=q=y}var wt=lt?y:af(M),Ft=[M,O,U,j,q,mt,yt,tt,it,rt];if(wt&&_C(Ft,wt),M=Ft[0],O=Ft[1],U=Ft[2],j=Ft[3],q=Ft[4],rt=Ft[9]=Ft[9]===y?lt?0:M.length:Fe(Ft[9]-gt,0),!rt&&O&(u|f)&&(O&=~(u|f)),!O||O==l)var Bt=NC(M,O,U);else O==u||O==f?Bt=GC(M,O,rt):(O==v||O==(l|v))&&!q.length?Bt=zC(M,O,U,j):Bt=eh.apply(y,Ft);var Xt=wt?qp:L0;return F0(Xt(Bt,Ft),M,O)}function x0(M,O,U,j){return M===y||_i(M,ss[U])&&!te.call(j,U)?O:M}function T0(M,O,U,j,q,tt){return ve(M)&&ve(O)&&(tt.set(O,M),Jo(M,O,y,T0,tt),tt.delete(O)),M}function UC(M){return Ca(M)?y:M}function S0(M,O,U,j,q,tt){var it=U&e,rt=M.length,lt=O.length;if(rt!=lt&&!(it&&lt>rt))return!1;var gt=tt.get(M),mt=tt.get(O);if(gt&&mt)return gt==O&&mt==M;var yt=-1,wt=!0,Ft=U&n?new Lr:y;for(tt.set(M,O),tt.set(O,M);++yt<rt;){var Bt=M[yt],Xt=O[yt];if(j)var It=it?j(Xt,Bt,yt,O,M,tt):j(Bt,Xt,yt,M,O,tt);if(It!==y){if(It)continue;wt=!1;break}if(Ft){if(!wu(O,function($t,Qt){if(!ha(Ft,Qt)&&(Bt===$t||q(Bt,$t,U,j,tt)))return Ft.push(Qt)})){wt=!1;break}}else if(!(Bt===Xt||q(Bt,Xt,U,j,tt))){wt=!1;break}}return tt.delete(M),tt.delete(O),wt}function VC(M,O,U,j,q,tt,it){switch(U){case Ut:if(M.byteLength!=O.byteLength||M.byteOffset!=O.byteOffset)return!1;M=M.buffer,O=O.buffer;case Zt:return!(M.byteLength!=O.byteLength||!tt(new Uo(M),new Uo(O)));case $:case Q:case ot:return _i(+M,+O);case J:return M.name==O.name&&M.message==O.message;case Ct:case dt:return M==O+"";case st:var rt=Du;case Et:var lt=j&e;if(rt||(rt=Bo),M.size!=O.size&&!lt)return!1;var gt=it.get(M);if(gt)return gt==O;j|=n,it.set(M,O);var mt=S0(rt(M),rt(O),j,q,tt,it);return it.delete(M),mt;case St:if(ca)return ca.call(M)==ca.call(O)}return!1}function WC(M,O,U,j,q,tt){var it=U&e,rt=rf(M),lt=rt.length,gt=rf(O),mt=gt.length;if(lt!=mt&&!it)return!1;for(var yt=lt;yt--;){var wt=rt[yt];if(!(it?wt in O:te.call(O,wt)))return!1}var Ft=tt.get(M),Bt=tt.get(O);if(Ft&&Bt)return Ft==O&&Bt==M;var Xt=!0;tt.set(M,O),tt.set(O,M);for(var It=it;++yt<lt;){wt=rt[yt];var $t=M[wt],Qt=O[wt];if(j)var yi=it?j(Qt,$t,wt,O,M,tt):j($t,Qt,wt,M,O,tt);if(!(yi===y?$t===Qt||q($t,Qt,U,j,tt):yi)){Xt=!1;break}It||(It=wt=="constructor")}if(Xt&&!It){var _e=M.constructor,xi=O.constructor;_e!=xi&&"constructor"in M&&"constructor"in O&&!(typeof _e=="function"&&_e instanceof _e&&typeof xi=="function"&&xi instanceof xi)&&(Xt=!1)}return tt.delete(M),tt.delete(O),Xt}function Rn(M){return df(M0(M,y,G0),M+"")}function rf(M){return Wp(M,Ne,hf)}function sf(M){return Wp(M,ai,C0)}var af=$o?function(M){return $o.get(M)}:Af;function sh(M){for(var O=M.name+"",U=os[O],j=te.call(os,O)?U.length:0;j--;){var q=U[j],tt=q.func;if(tt==null||tt==M)return q.name}return O}function fs(M){var O=te.call(_,"placeholder")?_:M;return O.placeholder}function Dt(){var M=_.iteratee||Ef;return M=M===Ef?Hp:M,arguments.length?M(arguments[0],arguments[1]):M}function ah(M,O){var U=M.__data__;return QC(O)?U[typeof O=="string"?"string":"hash"]:U.map}function of(M){for(var O=Ne(M),U=O.length;U--;){var j=O[U],q=M[j];O[U]=[j,q,A0(q)]}return O}function Dr(M,O){var U=qS(M,O);return Yp(U)?U:y}function XC(M){var O=te.call(M,Mr),U=M[Mr];try{M[Mr]=y;var j=!0}catch{}var q=zo.call(M);return j&&(O?M[Mr]=U:delete M[Mr]),q}var hf=Iu?function(M){return M==null?[]:(M=re(M),$n(Iu(M),function(O){return Rp.call(M,O)}))}:wf,C0=Iu?function(M){for(var O=[];M;)Kn(O,hf(M)),M=Vo(M);return O}:wf,Ke=Je;(Nu&&Ke(new Nu(new ArrayBuffer(1)))!=Ut||ua&&Ke(new ua)!=st||Gu&&Ke(Gu.resolve())!=ct||as&&Ke(new as)!=Et||fa&&Ke(new fa)!=Mt)&&(Ke=function(M){var O=Je(M),U=O==at?M.constructor:y,j=U?Br(U):"";if(j)switch(j){case P2:return Ut;case A2:return st;case w2:return ct;case M2:return Et;case R2:return Mt}return O});function YC(M,O,U){for(var j=-1,q=U.length;++j<q;){var tt=U[j],it=tt.size;switch(tt.type){case"drop":M+=it;break;case"dropRight":O-=it;break;case"take":O=$e(O,M+it);break;case"takeRight":M=Fe(M,O-it);break}}return{start:M,end:O}}function HC(M){var O=M.match(kT);return O?O[1].split(JT):[]}function E0(M,O,U){O=qn(O,M);for(var j=-1,q=O.length,tt=!1;++j<q;){var it=cn(O[j]);if(!(tt=M!=null&&U(M,it)))break;M=M[it]}return tt||++j!=q?tt:(q=M==null?0:M.length,!!q&&ch(q)&&Ln(it,q)&&(bt(M)||Ir(M)))}function $C(M){var O=M.length,U=new M.constructor(O);return O&&typeof M[0]=="string"&&te.call(M,"index")&&(U.index=M.index,U.input=M.input),U}function P0(M){return typeof M.constructor=="function"&&!Ta(M)?hs(Vo(M)):{}}function KC(M,O,U){var j=M.constructor;switch(O){case Zt:return tf(M);case $:case Q:return new j(+M);case Ut:return LC(M,U);case Ht:case Gt:case oe:case Jt:case Te:case Ee:case Ue:case Qi:case ki:return a0(M,U);case st:return new j;case ot:case dt:return new j(M);case Ct:return FC(M);case Et:return new j;case St:return OC(M)}}function jC(M,O){var U=O.length;if(!U)return M;var j=U-1;return O[j]=(U>1?"& ":"")+O[j],O=O.join(U>2?", ":" "),M.replace(QT,`{
/* [wrapped with `+O+`] */
`)}function ZC(M){return bt(M)||Ir(M)||!!(Lp&&M&&M[Lp])}function Ln(M,O){var U=typeof M;return O=O??z,!!O&&(U=="number"||U!="symbol"&&aS.test(M))&&M>-1&&M%1==0&&M<O}function qe(M,O,U){if(!ve(U))return!1;var j=typeof O;return(j=="number"?si(U)&&Ln(O,U.length):j=="string"&&O in U)?_i(U[O],M):!1}function lf(M,O){if(bt(M))return!1;var U=typeof M;return U=="number"||U=="symbol"||U=="boolean"||M==null||mi(M)?!0:$T.test(M)||!HT.test(M)||O!=null&&M in re(O)}function QC(M){var O=typeof M;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?M!=="__proto__":M===null}function uf(M){var O=sh(M),U=_[O];if(typeof U!="function"||!(O in Kt.prototype))return!1;if(M===U)return!0;var j=af(U);return!!j&&M===j[0]}function kC(M){return!!Ap&&Ap in M}var JC=No?Fn:Mf;function Ta(M){var O=M&&M.constructor,U=typeof O=="function"&&O.prototype||ss;return M===U}function A0(M){return M===M&&!ve(M)}function w0(M,O){return function(U){return U==null?!1:U[M]===O&&(O!==y||M in re(U))}}function qC(M){var O=fh(M,function(j){return U.size===a&&U.clear(),j}),U=O.cache;return O}function _C(M,O){var U=M[1],j=O[1],q=U|j,tt=q<(l|i|T),it=j==T&&U==u||j==T&&U==C&&M[7].length<=O[8]||j==(T|C)&&O[7].length<=O[8]&&U==u;if(!(tt||it))return M;j&l&&(M[2]=O[2],q|=U&l?0:h);var rt=O[3];if(rt){var lt=M[3];M[3]=lt?h0(lt,rt,O[4]):rt,M[4]=lt?jn(M[3],g):O[4]}return rt=O[5],rt&&(lt=M[5],M[5]=lt?l0(lt,rt,O[6]):rt,M[6]=lt?jn(M[5],g):O[6]),rt=O[7],rt&&(M[7]=rt),j&T&&(M[8]=M[8]==null?O[8]:$e(M[8],O[8])),M[9]==null&&(M[9]=O[9]),M[0]=O[0],M[1]=q,M}function tE(M){var O=[];if(M!=null)for(var U in re(M))O.push(U);return O}function eE(M){return zo.call(M)}function M0(M,O,U){return O=Fe(O===y?M.length-1:O,0),function(){for(var j=arguments,q=-1,tt=Fe(j.length-O,0),it=ft(tt);++q<tt;)it[q]=j[O+q];q=-1;for(var rt=ft(O+1);++q<O;)rt[q]=j[q];return rt[O]=U(it),vi(M,this,rt)}}function R0(M,O){return O.length<2?M:Or(M,Ii(O,0,-1))}function iE(M,O){for(var U=M.length,j=$e(O.length,U),q=ri(M);j--;){var tt=O[j];M[j]=Ln(tt,U)?q[tt]:y}return M}function ff(M,O){if(!(O==="constructor"&&typeof M[O]=="function")&&O!="__proto__")return M[O]}var L0=O0(qp),Sa=m2||function(M,O){return Ie.setTimeout(M,O)},df=O0(AC);function F0(M,O,U){var j=O+"";return df(M,jC(j,nE(HC(j),U)))}function O0(M){var O=0,U=0;return function(){var j=S2(),q=F-(j-U);if(U=j,q>0){if(++O>=L)return arguments[0]}else O=0;return M.apply(y,arguments)}}function oh(M,O){var U=-1,j=M.length,q=j-1;for(O=O===y?j:O;++U<O;){var tt=ju(U,q),it=M[tt];M[tt]=M[U],M[U]=it}return M.length=O,M}var D0=qC(function(M){var O=[];return M.charCodeAt(0)===46&&O.push(""),M.replace(KT,function(U,j,q,tt){O.push(q?tt.replace(tS,"$1"):j||U)}),O});function cn(M){if(typeof M=="string"||mi(M))return M;var O=M+"";return O=="0"&&1/M==-G?"-0":O}function Br(M){if(M!=null){try{return Go.call(M)}catch{}try{return M+""}catch{}}return""}function nE(M,O){return Fi(H,function(U){var j="_."+U[0];O&U[1]&&!Oo(M,j)&&M.push(j)}),M.sort()}function B0(M){if(M instanceof Kt)return M.clone();var O=new Di(M.__wrapped__,M.__chain__);return O.__actions__=ri(M.__actions__),O.__index__=M.__index__,O.__values__=M.__values__,O}function rE(M,O,U){(U?qe(M,O,U):O===y)?O=1:O=Fe(Wt(O),0);var j=M==null?0:M.length;if(!j||O<1)return[];for(var q=0,tt=0,it=ft(Yo(j/O));q<j;)it[tt++]=Ii(M,q,q+=O);return it}function sE(M){for(var O=-1,U=M==null?0:M.length,j=0,q=[];++O<U;){var tt=M[O];tt&&(q[j++]=tt)}return q}function aE(){var M=arguments.length;if(!M)return[];for(var O=ft(M-1),U=arguments[0],j=M;j--;)O[j-1]=arguments[j];return Kn(bt(U)?ri(U):[U],Ve(O,1))}var oE=Yt(function(M,O){return Pe(M)?pa(M,Ve(O,1,Pe,!0)):[]}),hE=Yt(function(M,O){var U=Ni(O);return Pe(U)&&(U=y),Pe(M)?pa(M,Ve(O,1,Pe,!0),Dt(U,2)):[]}),lE=Yt(function(M,O){var U=Ni(O);return Pe(U)&&(U=y),Pe(M)?pa(M,Ve(O,1,Pe,!0),y,U):[]});function uE(M,O,U){var j=M==null?0:M.length;return j?(O=U||O===y?1:Wt(O),Ii(M,O<0?0:O,j)):[]}function fE(M,O,U){var j=M==null?0:M.length;return j?(O=U||O===y?1:Wt(O),O=j-O,Ii(M,0,O<0?0:O)):[]}function dE(M,O){return M&&M.length?_o(M,Dt(O,3),!0,!0):[]}function cE(M,O){return M&&M.length?_o(M,Dt(O,3),!0):[]}function vE(M,O,U,j){var q=M==null?0:M.length;return q?(U&&typeof U!="number"&&qe(M,O,U)&&(U=0,j=q),aC(M,O,U,j)):[]}function I0(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=U==null?0:Wt(U);return q<0&&(q=Fe(j+q,0)),Do(M,Dt(O,3),q)}function N0(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=j-1;return U!==y&&(q=Wt(U),q=U<0?Fe(j+q,0):$e(q,j-1)),Do(M,Dt(O,3),q,!0)}function G0(M){var O=M==null?0:M.length;return O?Ve(M,1):[]}function pE(M){var O=M==null?0:M.length;return O?Ve(M,G):[]}function gE(M,O){var U=M==null?0:M.length;return U?(O=O===y?1:Wt(O),Ve(M,O)):[]}function mE(M){for(var O=-1,U=M==null?0:M.length,j={};++O<U;){var q=M[O];j[q[0]]=q[1]}return j}function z0(M){return M&&M.length?M[0]:y}function yE(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=U==null?0:Wt(U);return q<0&&(q=Fe(j+q,0)),is(M,O,q)}function xE(M){var O=M==null?0:M.length;return O?Ii(M,0,-1):[]}var TE=Yt(function(M){var O=fe(M,qu);return O.length&&O[0]===M[0]?Xu(O):[]}),SE=Yt(function(M){var O=Ni(M),U=fe(M,qu);return O===Ni(U)?O=y:U.pop(),U.length&&U[0]===M[0]?Xu(U,Dt(O,2)):[]}),CE=Yt(function(M){var O=Ni(M),U=fe(M,qu);return O=typeof O=="function"?O:y,O&&U.pop(),U.length&&U[0]===M[0]?Xu(U,y,O):[]});function EE(M,O){return M==null?"":x2.call(M,O)}function Ni(M){var O=M==null?0:M.length;return O?M[O-1]:y}function PE(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=j;return U!==y&&(q=Wt(U),q=q<0?Fe(j+q,0):$e(q,j-1)),O===O?n2(M,O,q):Do(M,mp,q,!0)}function AE(M,O){return M&&M.length?Zp(M,Wt(O)):y}var wE=Yt(b0);function b0(M,O){return M&&M.length&&O&&O.length?Ku(M,O):M}function ME(M,O,U){return M&&M.length&&O&&O.length?Ku(M,O,Dt(U,2)):M}function RE(M,O,U){return M&&M.length&&O&&O.length?Ku(M,O,y,U):M}var LE=Rn(function(M,O){var U=M==null?0:M.length,j=bu(M,O);return Jp(M,fe(O,function(q){return Ln(q,U)?+q:q}).sort(o0)),j});function FE(M,O){var U=[];if(!(M&&M.length))return U;var j=-1,q=[],tt=M.length;for(O=Dt(O,3);++j<tt;){var it=M[j];O(it,j,M)&&(U.push(it),q.push(j))}return Jp(M,q),U}function cf(M){return M==null?M:E2.call(M)}function OE(M,O,U){var j=M==null?0:M.length;return j?(U&&typeof U!="number"&&qe(M,O,U)?(O=0,U=j):(O=O==null?0:Wt(O),U=U===y?j:Wt(U)),Ii(M,O,U)):[]}function DE(M,O){return qo(M,O)}function BE(M,O,U){return Qu(M,O,Dt(U,2))}function IE(M,O){var U=M==null?0:M.length;if(U){var j=qo(M,O);if(j<U&&_i(M[j],O))return j}return-1}function NE(M,O){return qo(M,O,!0)}function GE(M,O,U){return Qu(M,O,Dt(U,2),!0)}function zE(M,O){var U=M==null?0:M.length;if(U){var j=qo(M,O,!0)-1;if(_i(M[j],O))return j}return-1}function bE(M){return M&&M.length?_p(M):[]}function UE(M,O){return M&&M.length?_p(M,Dt(O,2)):[]}function VE(M){var O=M==null?0:M.length;return O?Ii(M,1,O):[]}function WE(M,O,U){return M&&M.length?(O=U||O===y?1:Wt(O),Ii(M,0,O<0?0:O)):[]}function XE(M,O,U){var j=M==null?0:M.length;return j?(O=U||O===y?1:Wt(O),O=j-O,Ii(M,O<0?0:O,j)):[]}function YE(M,O){return M&&M.length?_o(M,Dt(O,3),!1,!0):[]}function HE(M,O){return M&&M.length?_o(M,Dt(O,3)):[]}var $E=Yt(function(M){return Jn(Ve(M,1,Pe,!0))}),KE=Yt(function(M){var O=Ni(M);return Pe(O)&&(O=y),Jn(Ve(M,1,Pe,!0),Dt(O,2))}),jE=Yt(function(M){var O=Ni(M);return O=typeof O=="function"?O:y,Jn(Ve(M,1,Pe,!0),y,O)});function ZE(M){return M&&M.length?Jn(M):[]}function QE(M,O){return M&&M.length?Jn(M,Dt(O,2)):[]}function kE(M,O){return O=typeof O=="function"?O:y,M&&M.length?Jn(M,y,O):[]}function vf(M){if(!(M&&M.length))return[];var O=0;return M=$n(M,function(U){if(Pe(U))return O=Fe(U.length,O),!0}),Fu(O,function(U){return fe(M,Mu(U))})}function U0(M,O){if(!(M&&M.length))return[];var U=vf(M);return O==null?U:fe(U,function(j){return vi(O,y,j)})}var JE=Yt(function(M,O){return Pe(M)?pa(M,O):[]}),qE=Yt(function(M){return Ju($n(M,Pe))}),_E=Yt(function(M){var O=Ni(M);return Pe(O)&&(O=y),Ju($n(M,Pe),Dt(O,2))}),tP=Yt(function(M){var O=Ni(M);return O=typeof O=="function"?O:y,Ju($n(M,Pe),y,O)}),eP=Yt(vf);function iP(M,O){return n0(M||[],O||[],va)}function nP(M,O){return n0(M||[],O||[],ya)}var rP=Yt(function(M){var O=M.length,U=O>1?M[O-1]:y;return U=typeof U=="function"?(M.pop(),U):y,U0(M,U)});function V0(M){var O=_(M);return O.__chain__=!0,O}function sP(M,O){return O(M),M}function hh(M,O){return O(M)}var aP=Rn(function(M){var O=M.length,U=O?M[0]:0,j=this.__wrapped__,q=function(tt){return bu(tt,M)};return O>1||this.__actions__.length||!(j instanceof Kt)||!Ln(U)?this.thru(q):(j=j.slice(U,+U+(O?1:0)),j.__actions__.push({func:hh,args:[q],thisArg:y}),new Di(j,this.__chain__).thru(function(tt){return O&&!tt.length&&tt.push(y),tt}))});function oP(){return V0(this)}function hP(){return new Di(this.value(),this.__chain__)}function lP(){this.__values__===y&&(this.__values__=tg(this.value()));var M=this.__index__>=this.__values__.length,O=M?y:this.__values__[this.__index__++];return{done:M,value:O}}function uP(){return this}function fP(M){for(var O,U=this;U instanceof jo;){var j=B0(U);j.__index__=0,j.__values__=y,O?q.__wrapped__=j:O=j;var q=j;U=U.__wrapped__}return q.__wrapped__=M,O}function dP(){var M=this.__wrapped__;if(M instanceof Kt){var O=M;return this.__actions__.length&&(O=new Kt(this)),O=O.reverse(),O.__actions__.push({func:hh,args:[cf],thisArg:y}),new Di(O,this.__chain__)}return this.thru(cf)}function cP(){return i0(this.__wrapped__,this.__actions__)}var vP=th(function(M,O,U){te.call(M,U)?++M[U]:wn(M,U,1)});function pP(M,O,U){var j=bt(M)?pp:sC;return U&&qe(M,O,U)&&(O=y),j(M,Dt(O,3))}function gP(M,O){var U=bt(M)?$n:Up;return U(M,Dt(O,3))}var mP=c0(I0),yP=c0(N0);function xP(M,O){return Ve(lh(M,O),1)}function TP(M,O){return Ve(lh(M,O),G)}function SP(M,O,U){return U=U===y?1:Wt(U),Ve(lh(M,O),U)}function W0(M,O){var U=bt(M)?Fi:kn;return U(M,Dt(O,3))}function X0(M,O){var U=bt(M)?VS:bp;return U(M,Dt(O,3))}var CP=th(function(M,O,U){te.call(M,U)?M[U].push(O):wn(M,U,[O])});function EP(M,O,U,j){M=si(M)?M:cs(M),U=U&&!j?Wt(U):0;var q=M.length;return U<0&&(U=Fe(q+U,0)),vh(M)?U<=q&&M.indexOf(O,U)>-1:!!q&&is(M,O,U)>-1}var PP=Yt(function(M,O,U){var j=-1,q=typeof O=="function",tt=si(M)?ft(M.length):[];return kn(M,function(it){tt[++j]=q?vi(O,it,U):ga(it,O,U)}),tt}),AP=th(function(M,O,U){wn(M,U,O)});function lh(M,O){var U=bt(M)?fe:$p;return U(M,Dt(O,3))}function wP(M,O,U,j){return M==null?[]:(bt(O)||(O=O==null?[]:[O]),U=j?y:U,bt(U)||(U=U==null?[]:[U]),Qp(M,O,U))}var MP=th(function(M,O,U){M[U?0:1].push(O)},function(){return[[],[]]});function RP(M,O,U){var j=bt(M)?Au:xp,q=arguments.length<3;return j(M,Dt(O,4),U,q,kn)}function LP(M,O,U){var j=bt(M)?WS:xp,q=arguments.length<3;return j(M,Dt(O,4),U,q,bp)}function FP(M,O){var U=bt(M)?$n:Up;return U(M,dh(Dt(O,3)))}function OP(M){var O=bt(M)?Ip:EC;return O(M)}function DP(M,O,U){(U?qe(M,O,U):O===y)?O=1:O=Wt(O);var j=bt(M)?tC:PC;return j(M,O)}function BP(M){var O=bt(M)?eC:wC;return O(M)}function IP(M){if(M==null)return 0;if(si(M))return vh(M)?rs(M):M.length;var O=Ke(M);return O==st||O==Et?M.size:Hu(M).length}function NP(M,O,U){var j=bt(M)?wu:MC;return U&&qe(M,O,U)&&(O=y),j(M,Dt(O,3))}var GP=Yt(function(M,O){if(M==null)return[];var U=O.length;return U>1&&qe(M,O[0],O[1])?O=[]:U>2&&qe(O[0],O[1],O[2])&&(O=[O[0]]),Qp(M,Ve(O,1),[])}),uh=g2||function(){return Ie.Date.now()};function zP(M,O){if(typeof O!="function")throw new Oi(c);return M=Wt(M),function(){if(--M<1)return O.apply(this,arguments)}}function Y0(M,O,U){return O=U?y:O,O=M&&O==null?M.length:O,Mn(M,T,y,y,y,y,O)}function H0(M,O){var U;if(typeof O!="function")throw new Oi(c);return M=Wt(M),function(){return--M>0&&(U=O.apply(this,arguments)),M<=1&&(O=y),U}}var pf=Yt(function(M,O,U){var j=l;if(U.length){var q=jn(U,fs(pf));j|=v}return Mn(M,j,O,U,q)}),$0=Yt(function(M,O,U){var j=l|i;if(U.length){var q=jn(U,fs($0));j|=v}return Mn(O,j,M,U,q)});function K0(M,O,U){O=U?y:O;var j=Mn(M,u,y,y,y,y,y,O);return j.placeholder=K0.placeholder,j}function j0(M,O,U){O=U?y:O;var j=Mn(M,f,y,y,y,y,y,O);return j.placeholder=j0.placeholder,j}function Z0(M,O,U){var j,q,tt,it,rt,lt,gt=0,mt=!1,yt=!1,wt=!0;if(typeof M!="function")throw new Oi(c);O=Gi(O)||0,ve(U)&&(mt=!!U.leading,yt="maxWait"in U,tt=yt?Fe(Gi(U.maxWait)||0,O):tt,wt="trailing"in U?!!U.trailing:wt);function Ft(Ae){var tn=j,Dn=q;return j=q=y,gt=Ae,it=M.apply(Dn,tn),it}function Bt(Ae){return gt=Ae,rt=Sa($t,O),mt?Ft(Ae):it}function Xt(Ae){var tn=Ae-lt,Dn=Ae-gt,cg=O-tn;return yt?$e(cg,tt-Dn):cg}function It(Ae){var tn=Ae-lt,Dn=Ae-gt;return lt===y||tn>=O||tn<0||yt&&Dn>=tt}function $t(){var Ae=uh();if(It(Ae))return Qt(Ae);rt=Sa($t,Xt(Ae))}function Qt(Ae){return rt=y,wt&&j?Ft(Ae):(j=q=y,it)}function yi(){rt!==y&&r0(rt),gt=0,j=lt=q=rt=y}function _e(){return rt===y?it:Qt(uh())}function xi(){var Ae=uh(),tn=It(Ae);if(j=arguments,q=this,lt=Ae,tn){if(rt===y)return Bt(lt);if(yt)return r0(rt),rt=Sa($t,O),Ft(lt)}return rt===y&&(rt=Sa($t,O)),it}return xi.cancel=yi,xi.flush=_e,xi}var bP=Yt(function(M,O){return zp(M,1,O)}),UP=Yt(function(M,O,U){return zp(M,Gi(O)||0,U)});function VP(M){return Mn(M,S)}function fh(M,O){if(typeof M!="function"||O!=null&&typeof O!="function")throw new Oi(c);var U=function(){var j=arguments,q=O?O.apply(this,j):j[0],tt=U.cache;if(tt.has(q))return tt.get(q);var it=M.apply(this,j);return U.cache=tt.set(q,it)||tt,it};return U.cache=new(fh.Cache||An),U}fh.Cache=An;function dh(M){if(typeof M!="function")throw new Oi(c);return function(){var O=arguments;switch(O.length){case 0:return!M.call(this);case 1:return!M.call(this,O[0]);case 2:return!M.call(this,O[0],O[1]);case 3:return!M.call(this,O[0],O[1],O[2])}return!M.apply(this,O)}}function WP(M){return H0(2,M)}var XP=RC(function(M,O){O=O.length==1&&bt(O[0])?fe(O[0],pi(Dt())):fe(Ve(O,1),pi(Dt()));var U=O.length;return Yt(function(j){for(var q=-1,tt=$e(j.length,U);++q<tt;)j[q]=O[q].call(this,j[q]);return vi(M,this,j)})}),gf=Yt(function(M,O){var U=jn(O,fs(gf));return Mn(M,v,y,O,U)}),Q0=Yt(function(M,O){var U=jn(O,fs(Q0));return Mn(M,m,y,O,U)}),YP=Rn(function(M,O){return Mn(M,C,y,y,y,O)});function HP(M,O){if(typeof M!="function")throw new Oi(c);return O=O===y?O:Wt(O),Yt(M,O)}function $P(M,O){if(typeof M!="function")throw new Oi(c);return O=O==null?0:Fe(Wt(O),0),Yt(function(U){var j=U[O],q=_n(U,0,O);return j&&Kn(q,j),vi(M,this,q)})}function KP(M,O,U){var j=!0,q=!0;if(typeof M!="function")throw new Oi(c);return ve(U)&&(j="leading"in U?!!U.leading:j,q="trailing"in U?!!U.trailing:q),Z0(M,O,{leading:j,maxWait:O,trailing:q})}function jP(M){return Y0(M,1)}function ZP(M,O){return gf(_u(O),M)}function QP(){if(!arguments.length)return[];var M=arguments[0];return bt(M)?M:[M]}function kP(M){return Bi(M,r)}function JP(M,O){return O=typeof O=="function"?O:y,Bi(M,r,O)}function qP(M){return Bi(M,o|r)}function _P(M,O){return O=typeof O=="function"?O:y,Bi(M,o|r,O)}function t3(M,O){return O==null||Gp(M,O,Ne(O))}function _i(M,O){return M===O||M!==M&&O!==O}var e3=rh(Wu),i3=rh(function(M,O){return M>=O}),Ir=Xp(function(){return arguments}())?Xp:function(M){return Se(M)&&te.call(M,"callee")&&!Rp.call(M,"callee")},bt=ft.isArray,n3=lp?pi(lp):fC;function si(M){return M!=null&&ch(M.length)&&!Fn(M)}function Pe(M){return Se(M)&&si(M)}function r3(M){return M===!0||M===!1||Se(M)&&Je(M)==$}var tr=y2||Mf,s3=up?pi(up):dC;function a3(M){return Se(M)&&M.nodeType===1&&!Ca(M)}function o3(M){if(M==null)return!0;if(si(M)&&(bt(M)||typeof M=="string"||typeof M.splice=="function"||tr(M)||ds(M)||Ir(M)))return!M.length;var O=Ke(M);if(O==st||O==Et)return!M.size;if(Ta(M))return!Hu(M).length;for(var U in M)if(te.call(M,U))return!1;return!0}function h3(M,O){return ma(M,O)}function l3(M,O,U){U=typeof U=="function"?U:y;var j=U?U(M,O):y;return j===y?ma(M,O,y,U):!!j}function mf(M){if(!Se(M))return!1;var O=Je(M);return O==J||O==k||typeof M.message=="string"&&typeof M.name=="string"&&!Ca(M)}function u3(M){return typeof M=="number"&&Fp(M)}function Fn(M){if(!ve(M))return!1;var O=Je(M);return O==et||O==nt||O==X||O==Pt}function k0(M){return typeof M=="number"&&M==Wt(M)}function ch(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=z}function ve(M){var O=typeof M;return M!=null&&(O=="object"||O=="function")}function Se(M){return M!=null&&typeof M=="object"}var J0=fp?pi(fp):vC;function f3(M,O){return M===O||Yu(M,O,of(O))}function d3(M,O,U){return U=typeof U=="function"?U:y,Yu(M,O,of(O),U)}function c3(M){return q0(M)&&M!=+M}function v3(M){if(JC(M))throw new zt(R);return Yp(M)}function p3(M){return M===null}function g3(M){return M==null}function q0(M){return typeof M=="number"||Se(M)&&Je(M)==ot}function Ca(M){if(!Se(M)||Je(M)!=at)return!1;var O=Vo(M);if(O===null)return!0;var U=te.call(O,"constructor")&&O.constructor;return typeof U=="function"&&U instanceof U&&Go.call(U)==d2}var yf=dp?pi(dp):pC;function m3(M){return k0(M)&&M>=-z&&M<=z}var _0=cp?pi(cp):gC;function vh(M){return typeof M=="string"||!bt(M)&&Se(M)&&Je(M)==dt}function mi(M){return typeof M=="symbol"||Se(M)&&Je(M)==St}var ds=vp?pi(vp):mC;function y3(M){return M===y}function x3(M){return Se(M)&&Ke(M)==Mt}function T3(M){return Se(M)&&Je(M)==Nt}var S3=rh($u),C3=rh(function(M,O){return M<=O});function tg(M){if(!M)return[];if(si(M))return vh(M)?Ji(M):ri(M);if(la&&M[la])return t2(M[la]());var O=Ke(M),U=O==st?Du:O==Et?Bo:cs;return U(M)}function On(M){if(!M)return M===0?M:0;if(M=Gi(M),M===G||M===-G){var O=M<0?-1:1;return O*W}return M===M?M:0}function Wt(M){var O=On(M),U=O%1;return O===O?U?O-U:O:0}function eg(M){return M?Fr(Wt(M),0,K):0}function Gi(M){if(typeof M=="number")return M;if(mi(M))return Y;if(ve(M)){var O=typeof M.valueOf=="function"?M.valueOf():M;M=ve(O)?O+"":O}if(typeof M!="string")return M===0?M:+M;M=Tp(M);var U=nS.test(M);return U||sS.test(M)?zS(M.slice(2),U?2:8):iS.test(M)?Y:+M}function ig(M){return dn(M,ai(M))}function E3(M){return M?Fr(Wt(M),-z,z):M===0?M:0}function _t(M){return M==null?"":gi(M)}var P3=ls(function(M,O){if(Ta(O)||si(O)){dn(O,Ne(O),M);return}for(var U in O)te.call(O,U)&&va(M,U,O[U])}),ng=ls(function(M,O){dn(O,ai(O),M)}),ph=ls(function(M,O,U,j){dn(O,ai(O),M,j)}),A3=ls(function(M,O,U,j){dn(O,Ne(O),M,j)}),w3=Rn(bu);function M3(M,O){var U=hs(M);return O==null?U:Np(U,O)}var R3=Yt(function(M,O){M=re(M);var U=-1,j=O.length,q=j>2?O[2]:y;for(q&&qe(O[0],O[1],q)&&(j=1);++U<j;)for(var tt=O[U],it=ai(tt),rt=-1,lt=it.length;++rt<lt;){var gt=it[rt],mt=M[gt];(mt===y||_i(mt,ss[gt])&&!te.call(M,gt))&&(M[gt]=tt[gt])}return M}),L3=Yt(function(M){return M.push(y,T0),vi(rg,y,M)});function F3(M,O){return gp(M,Dt(O,3),fn)}function O3(M,O){return gp(M,Dt(O,3),Vu)}function D3(M,O){return M==null?M:Uu(M,Dt(O,3),ai)}function B3(M,O){return M==null?M:Vp(M,Dt(O,3),ai)}function I3(M,O){return M&&fn(M,Dt(O,3))}function N3(M,O){return M&&Vu(M,Dt(O,3))}function G3(M){return M==null?[]:ko(M,Ne(M))}function z3(M){return M==null?[]:ko(M,ai(M))}function xf(M,O,U){var j=M==null?y:Or(M,O);return j===y?U:j}function b3(M,O){return M!=null&&E0(M,O,oC)}function Tf(M,O){return M!=null&&E0(M,O,hC)}var U3=p0(function(M,O,U){O!=null&&typeof O.toString!="function"&&(O=zo.call(O)),M[O]=U},Cf(oi)),V3=p0(function(M,O,U){O!=null&&typeof O.toString!="function"&&(O=zo.call(O)),te.call(M,O)?M[O].push(U):M[O]=[U]},Dt),W3=Yt(ga);function Ne(M){return si(M)?Bp(M):Hu(M)}function ai(M){return si(M)?Bp(M,!0):yC(M)}function X3(M,O){var U={};return O=Dt(O,3),fn(M,function(j,q,tt){wn(U,O(j,q,tt),j)}),U}function Y3(M,O){var U={};return O=Dt(O,3),fn(M,function(j,q,tt){wn(U,q,O(j,q,tt))}),U}var H3=ls(function(M,O,U){Jo(M,O,U)}),rg=ls(function(M,O,U,j){Jo(M,O,U,j)}),$3=Rn(function(M,O){var U={};if(M==null)return U;var j=!1;O=fe(O,function(tt){return tt=qn(tt,M),j||(j=tt.length>1),tt}),dn(M,sf(M),U),j&&(U=Bi(U,o|s|r,UC));for(var q=O.length;q--;)ku(U,O[q]);return U});function K3(M,O){return sg(M,dh(Dt(O)))}var j3=Rn(function(M,O){return M==null?{}:TC(M,O)});function sg(M,O){if(M==null)return{};var U=fe(sf(M),function(j){return[j]});return O=Dt(O),kp(M,U,function(j,q){return O(j,q[0])})}function Z3(M,O,U){O=qn(O,M);var j=-1,q=O.length;for(q||(q=1,M=y);++j<q;){var tt=M==null?y:M[cn(O[j])];tt===y&&(j=q,tt=U),M=Fn(tt)?tt.call(M):tt}return M}function Q3(M,O,U){return M==null?M:ya(M,O,U)}function k3(M,O,U,j){return j=typeof j=="function"?j:y,M==null?M:ya(M,O,U,j)}var ag=y0(Ne),og=y0(ai);function J3(M,O,U){var j=bt(M),q=j||tr(M)||ds(M);if(O=Dt(O,4),U==null){var tt=M&&M.constructor;q?U=j?new tt:[]:ve(M)?U=Fn(tt)?hs(Vo(M)):{}:U={}}return(q?Fi:fn)(M,function(it,rt,lt){return O(U,it,rt,lt)}),U}function q3(M,O){return M==null?!0:ku(M,O)}function _3(M,O,U){return M==null?M:e0(M,O,_u(U))}function tA(M,O,U,j){return j=typeof j=="function"?j:y,M==null?M:e0(M,O,_u(U),j)}function cs(M){return M==null?[]:Ou(M,Ne(M))}function eA(M){return M==null?[]:Ou(M,ai(M))}function iA(M,O,U){return U===y&&(U=O,O=y),U!==y&&(U=Gi(U),U=U===U?U:0),O!==y&&(O=Gi(O),O=O===O?O:0),Fr(Gi(M),O,U)}function nA(M,O,U){return O=On(O),U===y?(U=O,O=0):U=On(U),M=Gi(M),lC(M,O,U)}function rA(M,O,U){if(U&&typeof U!="boolean"&&qe(M,O,U)&&(O=U=y),U===y&&(typeof O=="boolean"?(U=O,O=y):typeof M=="boolean"&&(U=M,M=y)),M===y&&O===y?(M=0,O=1):(M=On(M),O===y?(O=M,M=0):O=On(O)),M>O){var j=M;M=O,O=j}if(U||M%1||O%1){var q=Op();return $e(M+q*(O-M+GS("1e-"+((q+"").length-1))),O)}return ju(M,O)}var sA=us(function(M,O,U){return O=O.toLowerCase(),M+(U?hg(O):O)});function hg(M){return Sf(_t(M).toLowerCase())}function lg(M){return M=_t(M),M&&M.replace(oS,QS).replace(wS,"")}function aA(M,O,U){M=_t(M),O=gi(O);var j=M.length;U=U===y?j:Fr(Wt(U),0,j);var q=U;return U-=O.length,U>=0&&M.slice(U,q)==O}function oA(M){return M=_t(M),M&&WT.test(M)?M.replace(Vv,kS):M}function hA(M){return M=_t(M),M&&jT.test(M)?M.replace(pu,"\\$&"):M}var lA=us(function(M,O,U){return M+(U?"-":"")+O.toLowerCase()}),uA=us(function(M,O,U){return M+(U?" ":"")+O.toLowerCase()}),fA=d0("toLowerCase");function dA(M,O,U){M=_t(M),O=Wt(O);var j=O?rs(M):0;if(!O||j>=O)return M;var q=(O-j)/2;return nh(Ho(q),U)+M+nh(Yo(q),U)}function cA(M,O,U){M=_t(M),O=Wt(O);var j=O?rs(M):0;return O&&j<O?M+nh(O-j,U):M}function vA(M,O,U){M=_t(M),O=Wt(O);var j=O?rs(M):0;return O&&j<O?nh(O-j,U)+M:M}function pA(M,O,U){return U||O==null?O=0:O&&(O=+O),C2(_t(M).replace(gu,""),O||0)}function gA(M,O,U){return(U?qe(M,O,U):O===y)?O=1:O=Wt(O),Zu(_t(M),O)}function mA(){var M=arguments,O=_t(M[0]);return M.length<3?O:O.replace(M[1],M[2])}var yA=us(function(M,O,U){return M+(U?"_":"")+O.toLowerCase()});function xA(M,O,U){return U&&typeof U!="number"&&qe(M,O,U)&&(O=U=y),U=U===y?K:U>>>0,U?(M=_t(M),M&&(typeof O=="string"||O!=null&&!yf(O))&&(O=gi(O),!O&&ns(M))?_n(Ji(M),0,U):M.split(O,U)):[]}var TA=us(function(M,O,U){return M+(U?" ":"")+Sf(O)});function SA(M,O,U){return M=_t(M),U=U==null?0:Fr(Wt(U),0,M.length),O=gi(O),M.slice(U,U+O.length)==O}function CA(M,O,U){var j=_.templateSettings;U&&qe(M,O,U)&&(O=y),M=_t(M),O=ph({},O,j,x0);var q=ph({},O.imports,j.imports,x0),tt=Ne(q),it=Ou(q,tt),rt,lt,gt=0,mt=O.interpolate||Ro,yt="__p += '",wt=Bu((O.escape||Ro).source+"|"+mt.source+"|"+(mt===Wv?eS:Ro).source+"|"+(O.evaluate||Ro).source+"|$","g"),Ft="//# sourceURL="+(te.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++OS+"]")+`
`;M.replace(wt,function(It,$t,Qt,yi,_e,xi){return Qt||(Qt=yi),yt+=M.slice(gt,xi).replace(hS,JS),$t&&(rt=!0,yt+=`' +
__e(`+$t+`) +
'`),_e&&(lt=!0,yt+=`';
`+_e+`;
__p += '`),Qt&&(yt+=`' +
((__t = (`+Qt+`)) == null ? '' : __t) +
'`),gt=xi+It.length,It}),yt+=`';
`;var Bt=te.call(O,"variable")&&O.variable;if(!Bt)yt=`with (obj) {
`+yt+`
}
`;else if(_T.test(Bt))throw new zt(x);yt=(lt?yt.replace(Sn,""):yt).replace(Cn,"$1").replace(En,"$1;"),yt="function("+(Bt||"obj")+`) {
`+(Bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rt?", __e = _.escape":"")+(lt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var Xt=fg(function(){return qt(tt,Ft+"return "+yt).apply(y,it)});if(Xt.source=yt,mf(Xt))throw Xt;return Xt}function EA(M){return _t(M).toLowerCase()}function PA(M){return _t(M).toUpperCase()}function AA(M,O,U){if(M=_t(M),M&&(U||O===y))return Tp(M);if(!M||!(O=gi(O)))return M;var j=Ji(M),q=Ji(O),tt=Sp(j,q),it=Cp(j,q)+1;return _n(j,tt,it).join("")}function wA(M,O,U){if(M=_t(M),M&&(U||O===y))return M.slice(0,Pp(M)+1);if(!M||!(O=gi(O)))return M;var j=Ji(M),q=Cp(j,Ji(O))+1;return _n(j,0,q).join("")}function MA(M,O,U){if(M=_t(M),M&&(U||O===y))return M.replace(gu,"");if(!M||!(O=gi(O)))return M;var j=Ji(M),q=Sp(j,Ji(O));return _n(j,q).join("")}function RA(M,O){var U=P,j=A;if(ve(O)){var q="separator"in O?O.separator:q;U="length"in O?Wt(O.length):U,j="omission"in O?gi(O.omission):j}M=_t(M);var tt=M.length;if(ns(M)){var it=Ji(M);tt=it.length}if(U>=tt)return M;var rt=U-rs(j);if(rt<1)return j;var lt=it?_n(it,0,rt).join(""):M.slice(0,rt);if(q===y)return lt+j;if(it&&(rt+=lt.length-rt),yf(q)){if(M.slice(rt).search(q)){var gt,mt=lt;for(q.global||(q=Bu(q.source,_t(Xv.exec(q))+"g")),q.lastIndex=0;gt=q.exec(mt);)var yt=gt.index;lt=lt.slice(0,yt===y?rt:yt)}}else if(M.indexOf(gi(q),rt)!=rt){var wt=lt.lastIndexOf(q);wt>-1&&(lt=lt.slice(0,wt))}return lt+j}function LA(M){return M=_t(M),M&&VT.test(M)?M.replace(Uv,r2):M}var FA=us(function(M,O,U){return M+(U?" ":"")+O.toUpperCase()}),Sf=d0("toUpperCase");function ug(M,O,U){return M=_t(M),O=U?y:O,O===y?_S(M)?o2(M):HS(M):M.match(O)||[]}var fg=Yt(function(M,O){try{return vi(M,y,O)}catch(U){return mf(U)?U:new zt(U)}}),OA=Rn(function(M,O){return Fi(O,function(U){U=cn(U),wn(M,U,pf(M[U],M))}),M});function DA(M){var O=M==null?0:M.length,U=Dt();return M=O?fe(M,function(j){if(typeof j[1]!="function")throw new Oi(c);return[U(j[0]),j[1]]}):[],Yt(function(j){for(var q=-1;++q<O;){var tt=M[q];if(vi(tt[0],this,j))return vi(tt[1],this,j)}})}function BA(M){return rC(Bi(M,o))}function Cf(M){return function(){return M}}function IA(M,O){return M==null||M!==M?O:M}var NA=v0(),GA=v0(!0);function oi(M){return M}function Ef(M){return Hp(typeof M=="function"?M:Bi(M,o))}function zA(M){return Kp(Bi(M,o))}function bA(M,O){return jp(M,Bi(O,o))}var UA=Yt(function(M,O){return function(U){return ga(U,M,O)}}),VA=Yt(function(M,O){return function(U){return ga(M,U,O)}});function Pf(M,O,U){var j=Ne(O),q=ko(O,j);U==null&&!(ve(O)&&(q.length||!j.length))&&(U=O,O=M,M=this,q=ko(O,Ne(O)));var tt=!(ve(U)&&"chain"in U)||!!U.chain,it=Fn(M);return Fi(q,function(rt){var lt=O[rt];M[rt]=lt,it&&(M.prototype[rt]=function(){var gt=this.__chain__;if(tt||gt){var mt=M(this.__wrapped__),yt=mt.__actions__=ri(this.__actions__);return yt.push({func:lt,args:arguments,thisArg:M}),mt.__chain__=gt,mt}return lt.apply(M,Kn([this.value()],arguments))})}),M}function WA(){return Ie._===this&&(Ie._=c2),this}function Af(){}function XA(M){return M=Wt(M),Yt(function(O){return Zp(O,M)})}var YA=ef(fe),HA=ef(pp),$A=ef(wu);function dg(M){return lf(M)?Mu(cn(M)):SC(M)}function KA(M){return function(O){return M==null?y:Or(M,O)}}var jA=g0(),ZA=g0(!0);function wf(){return[]}function Mf(){return!1}function QA(){return{}}function kA(){return""}function JA(){return!0}function qA(M,O){if(M=Wt(M),M<1||M>z)return[];var U=K,j=$e(M,K);O=Dt(O),M-=K;for(var q=Fu(j,O);++U<M;)O(U);return q}function _A(M){return bt(M)?fe(M,cn):mi(M)?[M]:ri(D0(_t(M)))}function tw(M){var O=++f2;return _t(M)+O}var ew=ih(function(M,O){return M+O},0),iw=nf("ceil"),nw=ih(function(M,O){return M/O},1),rw=nf("floor");function sw(M){return M&&M.length?Qo(M,oi,Wu):y}function aw(M,O){return M&&M.length?Qo(M,Dt(O,2),Wu):y}function ow(M){return yp(M,oi)}function hw(M,O){return yp(M,Dt(O,2))}function lw(M){return M&&M.length?Qo(M,oi,$u):y}function uw(M,O){return M&&M.length?Qo(M,Dt(O,2),$u):y}var fw=ih(function(M,O){return M*O},1),dw=nf("round"),cw=ih(function(M,O){return M-O},0);function vw(M){return M&&M.length?Lu(M,oi):0}function pw(M,O){return M&&M.length?Lu(M,Dt(O,2)):0}return _.after=zP,_.ary=Y0,_.assign=P3,_.assignIn=ng,_.assignInWith=ph,_.assignWith=A3,_.at=w3,_.before=H0,_.bind=pf,_.bindAll=OA,_.bindKey=$0,_.castArray=QP,_.chain=V0,_.chunk=rE,_.compact=sE,_.concat=aE,_.cond=DA,_.conforms=BA,_.constant=Cf,_.countBy=vP,_.create=M3,_.curry=K0,_.curryRight=j0,_.debounce=Z0,_.defaults=R3,_.defaultsDeep=L3,_.defer=bP,_.delay=UP,_.difference=oE,_.differenceBy=hE,_.differenceWith=lE,_.drop=uE,_.dropRight=fE,_.dropRightWhile=dE,_.dropWhile=cE,_.fill=vE,_.filter=gP,_.flatMap=xP,_.flatMapDeep=TP,_.flatMapDepth=SP,_.flatten=G0,_.flattenDeep=pE,_.flattenDepth=gE,_.flip=VP,_.flow=NA,_.flowRight=GA,_.fromPairs=mE,_.functions=G3,_.functionsIn=z3,_.groupBy=CP,_.initial=xE,_.intersection=TE,_.intersectionBy=SE,_.intersectionWith=CE,_.invert=U3,_.invertBy=V3,_.invokeMap=PP,_.iteratee=Ef,_.keyBy=AP,_.keys=Ne,_.keysIn=ai,_.map=lh,_.mapKeys=X3,_.mapValues=Y3,_.matches=zA,_.matchesProperty=bA,_.memoize=fh,_.merge=H3,_.mergeWith=rg,_.method=UA,_.methodOf=VA,_.mixin=Pf,_.negate=dh,_.nthArg=XA,_.omit=$3,_.omitBy=K3,_.once=WP,_.orderBy=wP,_.over=YA,_.overArgs=XP,_.overEvery=HA,_.overSome=$A,_.partial=gf,_.partialRight=Q0,_.partition=MP,_.pick=j3,_.pickBy=sg,_.property=dg,_.propertyOf=KA,_.pull=wE,_.pullAll=b0,_.pullAllBy=ME,_.pullAllWith=RE,_.pullAt=LE,_.range=jA,_.rangeRight=ZA,_.rearg=YP,_.reject=FP,_.remove=FE,_.rest=HP,_.reverse=cf,_.sampleSize=DP,_.set=Q3,_.setWith=k3,_.shuffle=BP,_.slice=OE,_.sortBy=GP,_.sortedUniq=bE,_.sortedUniqBy=UE,_.split=xA,_.spread=$P,_.tail=VE,_.take=WE,_.takeRight=XE,_.takeRightWhile=YE,_.takeWhile=HE,_.tap=sP,_.throttle=KP,_.thru=hh,_.toArray=tg,_.toPairs=ag,_.toPairsIn=og,_.toPath=_A,_.toPlainObject=ig,_.transform=J3,_.unary=jP,_.union=$E,_.unionBy=KE,_.unionWith=jE,_.uniq=ZE,_.uniqBy=QE,_.uniqWith=kE,_.unset=q3,_.unzip=vf,_.unzipWith=U0,_.update=_3,_.updateWith=tA,_.values=cs,_.valuesIn=eA,_.without=JE,_.words=ug,_.wrap=ZP,_.xor=qE,_.xorBy=_E,_.xorWith=tP,_.zip=eP,_.zipObject=iP,_.zipObjectDeep=nP,_.zipWith=rP,_.entries=ag,_.entriesIn=og,_.extend=ng,_.extendWith=ph,Pf(_,_),_.add=ew,_.attempt=fg,_.camelCase=sA,_.capitalize=hg,_.ceil=iw,_.clamp=iA,_.clone=kP,_.cloneDeep=qP,_.cloneDeepWith=_P,_.cloneWith=JP,_.conformsTo=t3,_.deburr=lg,_.defaultTo=IA,_.divide=nw,_.endsWith=aA,_.eq=_i,_.escape=oA,_.escapeRegExp=hA,_.every=pP,_.find=mP,_.findIndex=I0,_.findKey=F3,_.findLast=yP,_.findLastIndex=N0,_.findLastKey=O3,_.floor=rw,_.forEach=W0,_.forEachRight=X0,_.forIn=D3,_.forInRight=B3,_.forOwn=I3,_.forOwnRight=N3,_.get=xf,_.gt=e3,_.gte=i3,_.has=b3,_.hasIn=Tf,_.head=z0,_.identity=oi,_.includes=EP,_.indexOf=yE,_.inRange=nA,_.invoke=W3,_.isArguments=Ir,_.isArray=bt,_.isArrayBuffer=n3,_.isArrayLike=si,_.isArrayLikeObject=Pe,_.isBoolean=r3,_.isBuffer=tr,_.isDate=s3,_.isElement=a3,_.isEmpty=o3,_.isEqual=h3,_.isEqualWith=l3,_.isError=mf,_.isFinite=u3,_.isFunction=Fn,_.isInteger=k0,_.isLength=ch,_.isMap=J0,_.isMatch=f3,_.isMatchWith=d3,_.isNaN=c3,_.isNative=v3,_.isNil=g3,_.isNull=p3,_.isNumber=q0,_.isObject=ve,_.isObjectLike=Se,_.isPlainObject=Ca,_.isRegExp=yf,_.isSafeInteger=m3,_.isSet=_0,_.isString=vh,_.isSymbol=mi,_.isTypedArray=ds,_.isUndefined=y3,_.isWeakMap=x3,_.isWeakSet=T3,_.join=EE,_.kebabCase=lA,_.last=Ni,_.lastIndexOf=PE,_.lowerCase=uA,_.lowerFirst=fA,_.lt=S3,_.lte=C3,_.max=sw,_.maxBy=aw,_.mean=ow,_.meanBy=hw,_.min=lw,_.minBy=uw,_.stubArray=wf,_.stubFalse=Mf,_.stubObject=QA,_.stubString=kA,_.stubTrue=JA,_.multiply=fw,_.nth=AE,_.noConflict=WA,_.noop=Af,_.now=uh,_.pad=dA,_.padEnd=cA,_.padStart=vA,_.parseInt=pA,_.random=rA,_.reduce=RP,_.reduceRight=LP,_.repeat=gA,_.replace=mA,_.result=Z3,_.round=dw,_.runInContext=ht,_.sample=OP,_.size=IP,_.snakeCase=yA,_.some=NP,_.sortedIndex=DE,_.sortedIndexBy=BE,_.sortedIndexOf=IE,_.sortedLastIndex=NE,_.sortedLastIndexBy=GE,_.sortedLastIndexOf=zE,_.startCase=TA,_.startsWith=SA,_.subtract=cw,_.sum=vw,_.sumBy=pw,_.template=CA,_.times=qA,_.toFinite=On,_.toInteger=Wt,_.toLength=eg,_.toLower=EA,_.toNumber=Gi,_.toSafeInteger=E3,_.toString=_t,_.toUpper=PA,_.trim=AA,_.trimEnd=wA,_.trimStart=MA,_.truncate=RA,_.unescape=LA,_.uniqueId=tw,_.upperCase=FA,_.upperFirst=Sf,_.each=W0,_.eachRight=X0,_.first=z0,Pf(_,function(){var M={};return fn(_,function(O,U){te.call(_.prototype,U)||(M[U]=O)}),M}(),{chain:!1}),_.VERSION=E,Fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(M){_[M].placeholder=_}),Fi(["drop","take"],function(M,O){Kt.prototype[M]=function(U){U=U===y?1:Fe(Wt(U),0);var j=this.__filtered__&&!O?new Kt(this):this.clone();return j.__filtered__?j.__takeCount__=$e(U,j.__takeCount__):j.__views__.push({size:$e(U,K),type:M+(j.__dir__<0?"Right":"")}),j},Kt.prototype[M+"Right"]=function(U){return this.reverse()[M](U).reverse()}}),Fi(["filter","map","takeWhile"],function(M,O){var U=O+1,j=U==B||U==I;Kt.prototype[M]=function(q){var tt=this.clone();return tt.__iteratees__.push({iteratee:Dt(q,3),type:U}),tt.__filtered__=tt.__filtered__||j,tt}}),Fi(["head","last"],function(M,O){var U="take"+(O?"Right":"");Kt.prototype[M]=function(){return this[U](1).value()[0]}}),Fi(["initial","tail"],function(M,O){var U="drop"+(O?"":"Right");Kt.prototype[M]=function(){return this.__filtered__?new Kt(this):this[U](1)}}),Kt.prototype.compact=function(){return this.filter(oi)},Kt.prototype.find=function(M){return this.filter(M).head()},Kt.prototype.findLast=function(M){return this.reverse().find(M)},Kt.prototype.invokeMap=Yt(function(M,O){return typeof M=="function"?new Kt(this):this.map(function(U){return ga(U,M,O)})}),Kt.prototype.reject=function(M){return this.filter(dh(Dt(M)))},Kt.prototype.slice=function(M,O){M=Wt(M);var U=this;return U.__filtered__&&(M>0||O<0)?new Kt(U):(M<0?U=U.takeRight(-M):M&&(U=U.drop(M)),O!==y&&(O=Wt(O),U=O<0?U.dropRight(-O):U.take(O-M)),U)},Kt.prototype.takeRightWhile=function(M){return this.reverse().takeWhile(M).reverse()},Kt.prototype.toArray=function(){return this.take(K)},fn(Kt.prototype,function(M,O){var U=/^(?:filter|find|map|reject)|While$/.test(O),j=/^(?:head|last)$/.test(O),q=_[j?"take"+(O=="last"?"Right":""):O],tt=j||/^find/.test(O);q&&(_.prototype[O]=function(){var it=this.__wrapped__,rt=j?[1]:arguments,lt=it instanceof Kt,gt=rt[0],mt=lt||bt(it),yt=function($t){var Qt=q.apply(_,Kn([$t],rt));return j&&wt?Qt[0]:Qt};mt&&U&&typeof gt=="function"&&gt.length!=1&&(lt=mt=!1);var wt=this.__chain__,Ft=!!this.__actions__.length,Bt=tt&&!wt,Xt=lt&&!Ft;if(!tt&&mt){it=Xt?it:new Kt(this);var It=M.apply(it,rt);return It.__actions__.push({func:hh,args:[yt],thisArg:y}),new Di(It,wt)}return Bt&&Xt?M.apply(this,rt):(It=this.thru(yt),Bt?j?It.value()[0]:It.value():It)})}),Fi(["pop","push","shift","sort","splice","unshift"],function(M){var O=Io[M],U=/^(?:push|sort|unshift)$/.test(M)?"tap":"thru",j=/^(?:pop|shift)$/.test(M);_.prototype[M]=function(){var q=arguments;if(j&&!this.__chain__){var tt=this.value();return O.apply(bt(tt)?tt:[],q)}return this[U](function(it){return O.apply(bt(it)?it:[],q)})}}),fn(Kt.prototype,function(M,O){var U=_[O];if(U){var j=U.name+"";te.call(os,j)||(os[j]=[]),os[j].push({name:O,func:U})}}),os[eh(y,i).name]=[{name:"wrapper",func:y}],Kt.prototype.clone=L2,Kt.prototype.reverse=F2,Kt.prototype.value=O2,_.prototype.at=aP,_.prototype.chain=oP,_.prototype.commit=hP,_.prototype.next=lP,_.prototype.plant=fP,_.prototype.reverse=dP,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=cP,_.prototype.first=_.prototype.head,la&&(_.prototype[la]=uP),_},Zn=h2();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ie._=Zn,define(function(){return Zn})):wr?((wr.exports=Zn)._=Zn,Cu._=Zn):Ie._=Zn}).call(d)}),GT=class extends Set{constructor(d,p=!1){super(d),this.valuesAsFlags=p}};function qa(d){if(d instanceof Map)return Object.fromEntries([...d.entries()].map(([p,y])=>[p,qa(y)]));if(d instanceof Set)return Array.from(d.values()).map(qa);if(d instanceof GT)return{values:[...d.values()],valuesAsFlags:d.valuesAsFlags};if(typeof d=="object"){let p={};return Object.entries(d).forEach(([y,E])=>{p[y]=qa(E)}),p}else return d}Nv(Gv(),1);var RL=Nv(Gv(),1);function Ur(d,p){if(typeof d!="object")throw new Error(`Cannot merge into non-object objectToMergeWith. Received: ${JSON.stringify(d)}`);if(typeof p!="object")throw new Error(`Cannot merge using non-object objectToMergeWith. Received: ${JSON.stringify(p)}`);let y=(0,RL.cloneDeep)(d);for(let[E,w]of Object.entries(p))typeof w!="object"||w instanceof Set||y[E]===void 0?y[E]=w:y[E]=Ur(y[E],w);return y}function zT(d,p){if(!(d===void 0||typeof d!="object"))for(let y of Object.keys(d)){if(y===p)return d[y];let E=d[y];if(typeof E=="object"){let w=zT(E,p);if(w!==void 0)return w}}}var ld="@composite:",LL="@inherit:",FL=class{constructor(d,p,y){this.tiledClassToMembersMap=d,this.enumNameToValuesMap=p,this.parserOptions=y,this.memoiser=new Map}flattenMembers(d,p){return this.memoiser.has(d)?{[d]:this.memoiser.get(d)}:(this.memoiser.set(d,p.reduce((y,E)=>de(de({},y),this.flattenMemberProperty(E)),{})),{[d]:this.memoiser.get(d)})}flattenMemberProperty(d){var p;let y=(p=d.propertyType)!=null?p:d.propertytype;if(d.type==="class"){if(!this.memoiser.has(y)){let R=this.tiledClassToMembersMap.get(y).reduce((c,x)=>Ur(this.flattenMemberProperty(x),c),{});this.memoiser.set(y,R)}let E=this.memoiser.get(y),w=Ur(E,this.flattenValue(d.value,E));return this.checkIfShouldFlatten(d.name)?w:{[d.name.replace(ld,"")]:w}}else return this.enumNameToValuesMap.has(y)?this.enumNameToValuesMap.get(y).valuesAsFlags?{[d.name]:new Set(d.value.split(",").filter(E=>E!==""))}:{[d.name]:d.value}:{[d.name]:d.value}}get memoisedFlattenedProperties(){return this.memoiser}flattenValue(d,p){return Object.entries(d).reduce((y,[E,w])=>{if(typeof w!="object")return zT(p,E)instanceof Set?Ur({[E]:new Set(w.split(",").filter(R=>R!==""))},y):Ur({[E]:w},y);if(this.checkIfShouldFlatten(E))return Ur(this.flattenValue(w,p),y);{let R=E.replace(ld,"");return Ur({[R]:this.flattenValue(w,p)},y)}},{})}checkIfShouldFlatten(d){var p;return((p=this.parserOptions)==null?void 0:p.defaultComposite)===!0?d.startsWith(LL):!d.startsWith(ld)}},ey=Nv(Gv(),1),OL=class{constructor(d){this.flattener=d}flattenPropertiesOnObject(d){var p,y,E,w;return Tr(de(de({},this.flattener.memoisedFlattenedProperties.get((p=d.class)!=null?p:d.type)),(y=d.properties)==null?void 0:y.reduce((R,c)=>de(de({},R),this.flattener.flattenMemberProperty(c)),{})),{name:d.name,id:d.id,class:(w=(E=d.class)!=null?E:d.type)!=null?w:null,x:d.x,y:d.y})}flattenPropertiesOnTile(d){var p,y,E,w;return Tr(de(de({},this.flattener.memoisedFlattenedProperties.get((p=d.class)!=null?p:d.type)),(y=d.properties)==null?void 0:y.reduce((R,c)=>de(de({},R),this.flattener.flattenMemberProperty(c)),{})),{id:d.id,class:(w=(E=d.class)!=null?E:d.type)!=null?w:null})}getCustomTypesMap(){return new Map([...this.flattener.memoisedFlattenedProperties.entries()].map(([d,p])=>[d,(0,ey.cloneDeep)(p)]))}getEnumsMap(){return new Map([...this.flattener.enumNameToValuesMap.entries()].map(([d,p])=>[d,(0,ey.cloneDeep)(p)]))}toJSON(){return JSON.stringify({customTypes:qa(this.getCustomTypesMap()),enums:qa(this.getEnumsMap())},null,4)}};function DL(d,p){let y=new Map(d.propertyTypes.filter(R=>R.type==="enum").map(R=>[R.name,new GT(R.values,R.valuesAsFlags)])),E=new Map(d.propertyTypes.filter(R=>R.type==="class").map(R=>[R.name,R.members])),w=new FL(E,y,p);return E.forEach((R,c)=>{w.flattenMembers(c,R)}),new OL(w)}var BL={parse:DL},bT=class{constructor(d,p){this.phaserTile=d,this.tiledProject=p}getProperty(d){var p,y;let E={};if(this.tiledProject){let w=BL.parse(this.tiledProject),R=this.getType();if(R){let c=(p=w.getCustomTypesMap())==null?void 0:p.get(R);if(c)for(let[x,t]of Object.entries(c))E[x]=t}}return(y=this.phaserTile.properties[d])!=null?y:E[d]}hasProperty(d){return this.getProperty(d)!=null}getType(){var d,p;return(p=(d=this.phaserTile.tileset)==null?void 0:d.tileData[this.phaserTile.index-1])==null?void 0:p.type}},IL=class{constructor(d,p){this.phaserTilemapLayer=d,this.tiledProject=p}getName(){return this.phaserTilemapLayer.layer.name}getProperty(d){let p=this.phaserTilemapLayer.layer.properties,y=p==null?void 0:p.find(E=>E.name==d);return y==null?void 0:y.value}hasProperty(d){return this.getProperty(d)!=null}isCharLayer(){return this.hasProperty(el)}getData(){return this.phaserTilemapLayer.layer.data.map(d=>d.map(p=>new bT(p,this.tiledProject)))}},NL=class{constructor(d,p){this.phaserTilemap=d,this.tiledProject=p;for(let y of this.phaserTilemap.layers)if(y.tilemapLayer==null)throw new Error(`Error initializing tilemap. Layer '${y.name}' has no 'tilemapLayer'. This can happen if you call 'createLayer' with the wrong layer ID.`)}getTileWidth(){return this.phaserTilemap.tileWidth}getTileHeight(){return this.phaserTilemap.tileHeight}getWidth(){return this.phaserTilemap.width}getHeight(){return this.phaserTilemap.height}getOrientation(){return this.phaserTilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()?"isometric":"orthogonal"}getLayers(){return this.phaserTilemap.layers.map(d=>new IL(d.tilemapLayer,this.tiledProject))}hasTileAt(d,p,y){return!!this.phaserTilemap.hasTileAt(d,p,y)}getTileAt(d,p,y){let E=this.phaserTilemap.getTileAt(d,p,!1,y);if(E)return new bT(E,this.tiledProject)}},UT=class Tc{constructor(p){this.scene=p,this.geHeadless=new mL(!1),this.isCreatedInternal=!1,Tc.welcomeMessagePrinted||(console.log(`Using GridEngine Phaser Plugin v${FT}`),Tc.welcomeMessagePrinted=!0),this.scene.sys.events.once("boot",this.boot,this)}boot(){this.scene.sys.events.on("update",this.update,this)}getCharLayer(p){return this.geHeadless.getCharLayer(p)}getTransition(p,y){return this.geHeadless.getTransition(p,y)}setTransition(p,y,E){this.geHeadless.setTransition(p,y,E)}create(p,y){this.geHeadless.create(new NL(p,y.tiledProject),y),this.isCreatedInternal=!0,this.gridCharacters=new Map;let E=this.setConfigDefaults(y);this.config=E,this.gridTilemap=new xc(p),this.addCharacters()}getPosition(p){return this.geHeadless.getPosition(p)}move(p,y){this.geHeadless.move(p,y)}moveRandomly(p,y=0,E=-1){this.geHeadless.moveRandomly(p,y,E)}getMovement(p){return this.geHeadless.getMovement(p)}moveTo(p,y,E){return this.geHeadless.moveTo(p,y,E)}stopMovement(p){this.geHeadless.stopMovement(p)}setSpeed(p,y){this.geHeadless.setSpeed(p,y)}getSpeed(p){return this.geHeadless.getSpeed(p)}setContainer(p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(p);if(!w)throw this.createCharUnknownErr(p);w.setContainer(y)}getContainer(p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(p);if(!E)throw this.createCharUnknownErr(p);return E.getContainer()}getOffsetX(p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(p);if(!E)throw this.createCharUnknownErr(p);return E.getOffsetX()}setOffsetX(p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(p);if(!w)throw this.createCharUnknownErr(p);w.setOffsetX(y)}getOffsetY(p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(p);if(!E)throw this.createCharUnknownErr(p);return E.getOffsetY()}setOffsetY(p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(p);if(!w)throw this.createCharUnknownErr(p);w.setOffsetY(y)}collidesWithTiles(p){return this.geHeadless.collidesWithTiles(p)}getWalkingAnimationMapping(p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(p);if(!E)throw this.createCharUnknownErr(p);let w=E.getAnimation();return w==null?void 0:w.getWalkingAnimationMapping()}hasLayerOverlay(){var p;return this.initGuard(),!!((p=this.config)!=null&&p.layerOverlay)}setWalkingAnimationMapping(p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(p);if(!w)throw this.createCharUnknownErr(p);let R=w.getAnimation();R==null||R.setWalkingAnimationMapping(y)}update(p,y){if(this.isCreatedInternal&&this.gridCharacters)for(let[E,w]of this.gridCharacters)w.update(y);this.geHeadless.update(p,y)}addCharacter(p){this.geHeadless.addCharacter(p),this.addCharacterInternal(p)}hasCharacter(p){return this.geHeadless.hasCharacter(p)}removeCharacter(p){var y,E;this.initGuard();let w=(y=this.gridCharacters)==null?void 0:y.get(p);if(!w)throw this.createCharUnknownErr(p);w.destroy(),(E=this.gridCharacters)==null||E.delete(p),this.geHeadless.removeCharacter(p)}removeAllCharacters(){if(this.initGuard(),!!this.gridCharacters){for(let p of this.gridCharacters.keys())this.removeCharacter(p);this.geHeadless.removeAllCharacters()}}getAllCharacters(p){return this.geHeadless.getAllCharacters(p)}getLabels(p){return this.geHeadless.getLabels(p)}addLabels(p,y){this.geHeadless.addLabels(p,y)}removeLabels(p,y){this.geHeadless.removeLabels(p,y)}clearLabels(p){this.geHeadless.clearLabels(p)}follow(p,y,E,w){let R;E===void 0?R={distance:0,closestPointIfBlocked:!1}:typeof E=="number"?(R={distance:E,closestPointIfBlocked:!1},w&&(R.closestPointIfBlocked=!0)):R=E,this.geHeadless.follow(p,y,R)}isMoving(p){return this.geHeadless.isMoving(p)}getFacingDirection(p){return this.geHeadless.getFacingDirection(p)}getFacingPosition(p){return this.geHeadless.getFacingPosition(p)}turnTowards(p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(p);if(!w)throw this.createCharUnknownErr(p);w.turnTowards(y),this.geHeadless.turnTowards(p,y)}getCharactersAt(p,y){return this.geHeadless.getCharactersAt(p,y)}setPosition(p,y,E){this.geHeadless.setPosition(p,y,E)}getSprite(p){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(p);if(!E)throw this.createCharUnknownErr(p);return E.getSprite()}setSprite(p,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(p);if(!w)throw this.createCharUnknownErr(p);y.setOrigin(0,0),w.setSprite(y)}isBlocked(p,y,E=["geDefault"]){return this.geHeadless.isBlocked(p,y,E)}isTileBlocked(p,y){return this.geHeadless.isTileBlocked(p,y)}getCollisionGroups(p){return this.geHeadless.getCollisionGroups(p)}setCollisionGroups(p,y){this.geHeadless.setCollisionGroups(p,y)}getIgnoreCollisionGroups(p){return this.geHeadless.getIgnoreCollisionGroups(p)}setIgnoreCollisionGroups(p,y){this.geHeadless.setIgnoreCollisionGroups(p,y)}getTilePosInDirection(p,y,E){return this.geHeadless.getTilePosInDirection(p,y,E)}findShortestPath(p,y,E={}){return this.geHeadless.findShortestPath(p,y,E)}steppedOn(p,y,E){return this.geHeadless.steppedOn(p,y,E)}characterShifted(){return this.geHeadless.characterShifted()}movementStarted(){return this.geHeadless.movementStarted()}movementStopped(){return this.geHeadless.movementStopped()}directionChanged(){return this.geHeadless.directionChanged()}positionChangeStarted(){return this.geHeadless.positionChangeStarted()}positionChangeFinished(){return this.geHeadless.positionChangeFinished()}getMovementProgress(p){return this.geHeadless.getMovementProgress(p)}rebuildTileCollisionCache(p,y,E,w){this.geHeadless.rebuildTileCollisionCache(p,y,E,w)}addQueueMovements(p,y,E){this.geHeadless.addQueueMovements(p,y,E)}getEnqueuedMovements(p){return this.geHeadless.getEnqueuedMovements(p)}queueMovementFinished(){return this.geHeadless.queueMovementFinished()}clearEnqueuedMovements(p){return this.geHeadless.clearEnqueuedMovements(p)}getState(){return{characters:this.geHeadless.getState().characters.map(p=>Tr(de({},p),{offsetX:this.getOffsetX(p.id),offsetY:this.getOffsetY(p.id)}))}}setState(p){if(this.geHeadless.setState(p),this.gridCharacters)for(let y of p.characters){let E=this.gridCharacters.get(y.id);E&&(E.setOffsetX(y.offsetX),E.setOffsetY(y.offsetY))}}getTileCost(p,y,E){return this.initGuard(),this.geHeadless.getTileCost(p,y,E)}setConfigDefaults(p){return de({collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",layerOverlay:!1,cacheTileCollisions:!1},p)}initGuard(){if(!this.isCreatedInternal)throw this.createUninitializedErr()}createUninitializedErr(){throw new Error("GridEngine not initialized. You need to call create() first.")}addCharacters(){var p;(p=this.config)==null||p.characters.forEach(y=>this.addCharacterInternal(y))}createCharUnknownErr(p){return new Error(`Character unknown: ${p}`)}addCharacterInternal(p){var y;if(this.initGuard(),!this.gridTilemap)throw this.createUninitializedErr();if(!this.config)throw this.createUninitializedErr();let E=new qR(p,this.scene,this.gridTilemap,this.config.layerOverlay,this.geHeadless);(y=this.gridCharacters)==null||y.set(p.id,E)}};UT.welcomeMessagePrinted=!1;var GL=UT,zL=GL;/*! Bundled license information:

tiled-property-flattener/dist/tiled_property_flattener.min.js:
  (*! Bundled license information:
  
  lodash/lodash.js:
    (**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     *)
  *)
*/class bL extends xt.Scene{constructor(){super("KBVE")}preload(){this.load.audio("type","https://kbve.com/assets/img/fishchip/type.mp3"),this.load.image("wave","https://kbve.com/assets/img/curved-images/wave.jpg"),this.load.image("scroll","https://kbve.com/assets/img/fishchip/scroll.webp"),this.load.image("creditsBg","https://cdn.discordapp.com/attachments/1213306326290010112/1213992501166350466/itchcover.png?ex=65f77d9f&is=65e5089f&hm=1118240df1bba0735961a514a40d5293e91710f95d3746a1e32f61b218d63a30&"),this.load.image("logo","https://kbve.com/assets/img/letter_logo.png"),this.load.image("tiles","./space_map_nenko.png"),this.load.tilemapTiledJSON("space-map","./space_data_nenko.json"),this.load.audio("music","./space.ogg"),this.load.audio("laser","./laser.ogg"),this.load.audio("thrust","./thrust.ogg"),this.load.audio("type","https://kbve.com/assets/img/fishchip/type.mp3"),this.load.spritesheet("ship","./ship.png",{frameWidth:32,frameHeight:96}),this.load.image("box","./box_small.png"),this.load.spritesheet("player","https://kbve.com/assets/img/fishchip/chip_charactersheet_warmer.png",{frameWidth:52,frameHeight:72}),this.load.image("wave","https://kbve.com/assets/img/curved-images/wave.jpg"),this.load.image("scroll","https://kbve.com/assets/img/fishchip/scroll.webp"),this.load.image("creditsBg","https://cdn.discordapp.com/attachments/1213306326290010112/1213992501166350466/itchcover.png?ex=65f77d9f&is=65e5089f&hm=1118240df1bba0735961a514a40d5293e91710f95d3746a1e32f61b218d63a30&"),this.load.image("logo","https://kbve.com/assets/img/letter_logo.png"),this.load.image("tiles","https://kbve.com/assets/img/fishchip/desert_tileset_1.png"),this.load.tilemapTiledJSON("cloud-city-map","https://kbve.com/assets/img/fishchip/cloud_city.json")}create(){var p;this.input.keyboard&&this.input.keyboard.on("keydown-SPACE",()=>{this.scene.start("Asteroids")});//! This has to be placed back in!
(p=this.sound.get("music"))!=null&&p.isPlaying||this.sound.add("music",{loop:!0,volume:.1}).play(),this.scene.start("Menu")}}function Mo(d,p,y,E){for(let w=0;w<E;w++){const R=xt.Math.Between(0,p),c=xt.Math.Between(0,y),x=xt.Math.Between(1,2);d.add.rectangle(R,c,x,x,16777215)}}class UL extends xt.Scene{constructor(){super("Menu")}preload(){}create(){//! This has to be placed back in!
this.cameras.main.setBackgroundColor(0),Mo(this,1200,800,50);for(let p=0;p<15;p++)this.createBox(15,1200,800);this.add.text(450,300,"TravelBox",{fontFamily:"Arial Black",fontSize:120,color:"#ffffff"}).setOrigin(.5),this.mainMenuButtonText=this.add.text(460,400,"Play",{fontFamily:"Arial Black",fontSize:50,color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.add.text(650,600,"Version v1",{fontFamily:"Arial Black",fontSize:16,color:"#ffffff"}).setOrigin(.5),this.mainMenuButtonText&&this.mainMenuButtonText.preFX?(this.glow=this.mainMenuButtonText.preFX.addGlow(),this.glow.outerStrength=1,this.glow.setActive(!1)):console.warn("preFX is not available"),this.mainMenuButtonText.on("pointerover",()=>{console.log(this.glow),this.glow&&this.glow.setActive(!0),console.log("glow")}),this.mainMenuButtonText.on("pointerout",()=>{console.log(this.glow),this.glow&&(this.glow.setActive(!1),console.log("glowout"))}),this.mainMenuButtonText.on("pointerdown",()=>{this.scene.start("Space")},this)}createBox(p,y,E){const w=xt.Math.Between(0,y),R=xt.Math.Between(0,E),c=this.add.image(w,R,"box").setScale(1.5);this.physics.add.existing(c);const x=xt.Math.Between(-p,p),t=xt.Math.Between(-p,p);c.body instanceof xt.Physics.Arcade.Body?c.body.setVelocity(x,t):console.error("Failed to create a physics body for the box")}}function zv(){return parseInt(localStorage.getItem("score")||"0")}function bv(){const d=zv()+1;localStorage.setItem("score",d.toString())}class oF extends xt.GameObjects.Sprite{}class VL extends Vx.Scene{constructor(){super({key:"Space"})}create(){this.cameras.main.setBackgroundColor(0);const p=this.make.tilemap({key:"space-map"});p.addTilesetImage("Space Map","tiles");for(let E=0;E<p.layers.length;E++){const w=p.createLayer(E,"Space Map",0,0);w?w.scale=3:console.error(`Layer ${E} could not be created.`)}this.playerSprite=this.add.sprite(0,0,"player"),this.playerSprite.scale=1.5,this.cameras.main.startFollow(this.playerSprite,!0),this.cameras.main.setFollowOffset(-this.playerSprite.width,-this.playerSprite.height),this.createTextBubble(this.playerSprite,"yooooo");const y={characters:[{id:"player",sprite:this.playerSprite,walkingAnimationMapping:6,startPosition:{x:10,y:10},speed:4,origin:.5},{id:"npc",sprite:this.npcSprite,walkingAnimationMapping:5,startPosition:{x:4,y:10},speed:3},{id:"fishNpc",sprite:this.fishNpcSprite,walkingAnimationMapping:4,startPosition:{x:8,y:14},speed:3}]};this.gridEngine.create(p,y),window.__GRID_ENGINE__=this.gridEngine,this.scoreText=this.add.text(16,16,"Boxes  "+zv(),{fontSize:"32px",fontFamily:"Arial Black",color:"#FFF"}),this.scoreText.setScrollFactor(0)}createTextBubble(p,y){const c=this.add.graphics();c.fillStyle(16777215,1),c.fillRoundedRect(0,0,200,60,16),c.setDepth(99),this.content=this.add.text(100,30,y,{fontFamily:"Arial",fontSize:16,color:"#000000"}),this.content.setOrigin(.5),this.content.setWordWrapWidth(200-5*2),this.content.setDepth(100);const x=this.add.container(0,0,[c,this.content]);x.setDepth(100),p.textBubble=x,this.updateTextBubblePosition(p)}updateTextBubblePosition(p){const y=p.textBubble;y&&(y.x=p.x-65,y.y=p.y-p.height-y.height/2)}update(){this.input.keyboard&&(this.cursor=this.input.keyboard.createCursorKeys());const p=this.cursor;function y(g){return g.x>=2&&g.x<=5&&g.y>=10&&g.y<=14}function E(g){return g.x>=2&&g.x<=5&&g.y>=2&&g.y<=5}function w(g){return g.x>=12&&g.x<=15&&g.y>=5&&g.y<=8}function R(g){return g.x>=7&&g.x<=10&&g.y>=5&&g.y<=8}function c(g){return g.x>=15&&g.x<=17&&g.y>=2&&g.y<=3}function x(g){return g.x>=7&&g.x<=10&&g.y>=9&&g.y<=10}function t(g){return g.x>=12&&g.x<=15&&g.y>=11&&g.y<=14}const a=this.gridEngine.getPosition("player");w(a)&&this.content&&this.playerSprite&&this.playerSprite.textBubble?(this.playerSprite.textBubble.visible=!0,this.content.text=`2. Neptun
 F to start.`):t(a)&&this.content&&this.playerSprite&&this.playerSprite.textBubble?(this.playerSprite.textBubble.visible=!0,this.content.text=`3. Earth
 F to start.`):R(a)&&this.content&&this.playerSprite&&this.playerSprite.textBubble?(this.playerSprite.textBubble.visible=!0,this.content.text=`1. Mars
 F to start.`):c(a)&&this.content&&this.playerSprite&&this.playerSprite.textBubble?this.scene.start("Credits"):this.content&&this.playerSprite&&this.playerSprite.textBubble&&(this.playerSprite.textBubble.visible=!1),this.input.keyboard&&this.input.keyboard.addKey("F").isDown&&(y(a)&&this.scene.start("FishChipScene"),E(a)&&this.scene.start("CreditsScene"),w(a)&&this.scene.start("AsteroidsMedium"),R(a)&&this.scene.start("AsteroidsEasy"),x(a)&&console.log("Samson Statue!"),t(a)&&(this.scene.start("Asteroids"),console.log("Earth!"))),this.playerSprite&&(p&&p.left.isDown||this.input.keyboard&&this.input.keyboard.addKey("A").isDown?this.gridEngine.move("player","left"):p&&p.right.isDown||this.input.keyboard&&this.input.keyboard.addKey("D").isDown?this.gridEngine.move("player","right"):p&&p.up.isDown||this.input.keyboard&&this.input.keyboard.addKey("W").isDown?this.gridEngine.move("player","up"):(p&&p.down.isDown||this.input.keyboard&&this.input.keyboard.addKey("S").isDown)&&this.gridEngine.move("player","down")),this.playerSprite&&this.playerSprite.textBubble&&this.updateTextBubblePosition(this.playerSprite),this.fishNpcSprite&&this.fishNpcSprite.textBubble&&this.updateTextBubblePosition(this.fishNpcSprite)}}const WL=300,XL=500,gs=3e3,ms=3e3,YL=5;class HL extends xt.Scene{constructor(){super("Asteroids"),this.asteroids=[],this.bullets=null,this.player=null,this.cursors=null,this.thrustSoundPlaying=!1,this.enemies=null,this.boxAttached=!1}preload(){this.load.image("potato","./asteroid_potato.png"),this.load.image("earth","./earth.png"),this.load.image("ship_still","./ship_still.png"),this.load.image("ship_thrust","./ship_thrust.png"),this.load.image("enemy","./enemy.png")}create(){var p;this.physics.world.setBounds(0,0,ms,gs,!0,!0,!0,!0),this.cursors=((p=this.input.keyboard)==null?void 0:p.createCursorKeys())??null,this.createPlayer(),this.setupCamera(),this.player&&this.add.text(this.player.x-200,this.player.y-200,`Big guy!
Enemies stole our cargo!
Find it and bring it back to Earth!
May god save us!!!`,{fontSize:"16px",color:"#fff"}),this.createPlayerBullets(),Mo(this,ms,gs,XL),this.createAsteroids(),this.playerShoot(),this.createPackage(),this.createEarth(),this.createEnemies(),this.createEnemyBullets(),this.handleCollisions()}update(){this.rotatePlayer(),this.playerMoveForward(),this.boxFollowPlayer(),this.enemies&&this.enemies.children.iterate(p=>(this.enemyChasePlayer(p),this.enemyShootAtPlayer(p),!0))}setupCamera(){this.cameras.main.setBackgroundColor(0),this.player&&this.cameras.main.startFollow(this.player,!0,.1,.1),this.cameras.main.setZoom(1)}createPlayer(){this.thrustSound=this.sound.add("thrust",{loop:!0,volume:.1}),this.player=this.add.image(1e3,1e3,"ship_still"),this.physics.add.existing(this.player),this.player.setOrigin(.5,.5);const p=this.player.body;p.setDrag(100),p.setMaxVelocity(200),p.setCollideWorldBounds(!0)}createPlayerBullets(){const p=this.make.graphics({},!1);p.fillStyle(16711680,1),p.fillRect(0,0,10,10),p.generateTexture("bulletTexture",10,10),p.destroy(),this.bullets=this.physics.add.group({defaultKey:"bulletTexture",maxSize:20})}createAsteroids(){for(let p=0;p<WL;p++)this.addAsteroid()}playerShoot(){this.input.keyboard&&this.input.keyboard.on("keydown-SPACE",()=>{if(!this.bullets||!this.player)return;const p=this.bullets.get(this.player.x,this.player.y);this.sound.play("laser",{volume:.1}),p&&(p.setActive(!0).setVisible(!0),p.setDepth(-99),p.body.setAllowGravity(!1),this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,400,p.body.velocity),p.body.setCollideWorldBounds(!0),p.body.onWorldBounds=!0,p.body.world.on("worldbounds",y=>{y.gameObject===p&&p.destroy()},this))})}createPackage(){const y=xt.Math.Between(0,ms-1.5),E=xt.Math.Between(0,gs-1.5);this.yellowBox=this.physics.add.sprite(y,E,"box").setScale(1.5)}createEarth(){const p=xt.Math.Between(64,ms-64),y=xt.Math.Between(64,gs-64);this.blueCircle=this.physics.add.sprite(p,y,"earth")}createEnemyBullets(){const p=this.make.graphics({},!1);p.fillStyle(65280,1),p.fillRect(0,0,10,10),p.generateTexture("enemyBulletTexture",10,10),p.destroy(),this.enemyBullets=this.physics.add.group({defaultKey:"enemyBulletTexture",createCallback:y=>{const E=y.body;E.onWorldBounds=!0},removeCallback:y=>{y.setActive(!1).setVisible(!1)}}),this.physics.world.on("worldbounds",y=>{this.enemyBullets&&this.enemyBullets.contains(y.gameObject)&&y.gameObject.setActive(!1).setVisible(!1)})}createEnemies(){this.enemies=this.physics.add.group({key:"enemy",repeat:YL,setXY:{x:100,y:100,stepX:200}}),this.enemies.children.iterate(p=>(p.body&&(p.setScale(.5),p.body.setVelocity(xt.Math.Between(-50,50),xt.Math.Between(-50,50)),p.body.setCollideWorldBounds(!0)),null))}handleCollisions(){this.player&&this.yellowBox&&this.physics.add.overlap(this.player,this.yellowBox,(p,y)=>{this.attachBoxToPlayer(y)},void 0,this),this.player&&this.blueCircle&&this.physics.add.overlap(this.player,this.blueCircle,()=>{this.boxAttached&&this.youWin()},void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,(p,y)=>{y instanceof xt.GameObjects.Sprite&&y.setActive(!1).setVisible(!1),this.gameOver()},void 0,this),this.bullets&&this.asteroids&&this.physics.add.collider(this.bullets,this.asteroids,(p,y)=>{p.destroy(),y.destroy()},void 0,this),this.player&&this.asteroids&&this.physics.add.collider(this.player,this.asteroids,this.gameOver,void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,this.gameOver,void 0,this),this.player&&this.enemies&&this.physics.add.collider(this.player,this.enemies,this.gameOver,void 0,this),this.bullets&&this.enemies&&this.physics.add.collider(this.bullets,this.enemies,(p,y)=>{p.destroy(),y.destroy()},void 0,this),this.enemyBullets&&this.physics.add.collider(this.enemyBullets,this.asteroids,(p,y)=>{p.destroy(),y.destroy()},void 0,this)}attachBoxToPlayer(p){"body"in p&&p.body!==null&&(p.body instanceof xt.Physics.Arcade.Body?p.body.enable=!1:p.body instanceof xt.Physics.Arcade.StaticBody&&console.log("Static body encountered. Consider how you want to handle static bodies."),this.boxAttached=!0)}addAsteroid(){const p=this.cameras.main.getBounds(),y=25;let E,w;xt.Math.Between(0,1)?(E=xt.Math.Between(0,1)?p.left-y:p.right+y,w=xt.Math.Between(0,gs)):(E=xt.Math.Between(0,ms),w=xt.Math.Between(0,1)?p.top-y:p.bottom+y),E=xt.Math.Clamp(E,0,ms),w=xt.Math.Clamp(w,0,gs);const R=this.add.image(E,w,"potato");R.setOrigin(.5,.5),R.setScale(xt.Math.Between(3,9)/10),this.physics.add.existing(R);const c=R.body;c.setAngularVelocity(xt.Math.Between(-50,50));const x=xt.Math.Between(-100,100),t=xt.Math.Between(-100,100);c.setVelocity(x,t),c.setCollideWorldBounds(!0),c.onWorldBounds=!0,c.world.on("worldbounds",a=>{a.gameObject===R&&(R.destroy(),this.addAsteroid())},this),this.asteroids.push(R)}enemyShootAtPlayer(p){if(this.player&&this.enemyBullets){if(xt.Math.Between(0,1e3)>999){const y=xt.Math.Angle.Between(p.x,p.y,this.player.x,this.player.y),E=this.enemyBullets.get(p.x,p.y);E&&(E.setActive(!0).setVisible(!0),E.setDepth(-99),E.body instanceof xt.Physics.Arcade.Body?this.physics.velocityFromRotation(y,300,E.body.velocity):console.error("Bullet body is not an instance of Phaser.Physics.Arcade.Body"))}}else console.error("Player or enemyBullets group is null")}enemyChasePlayer(p){this.player?this.physics.accelerateToObject(p,this.player,50):console.warn("Player object is null, cannot chase player.")}boxFollowPlayer(){if(this.boxAttached&&this.player&&this.yellowBox){const y=this.player.rotation-Math.PI/2,E=this.player.x+60*Math.cos(y),w=this.player.y+60*Math.sin(y);this.yellowBox.setPosition(E,w)}}playerMoveForward(){var p,y;this.player&&this.player.body instanceof xt.Physics.Arcade.Body?(y=(p=this.cursors)==null?void 0:p.up)!=null&&y.isDown?(this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,200,this.player.body.velocity),!this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.play(),this.thrustSoundPlaying=!0,this.player.setTexture("ship_thrust"))):(this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.pause(),this.thrustSoundPlaying=!1,this.player.setTexture("ship_still")),this.player.body.setDrag(100)):console.warn("Player or player body is not initialized.")}rotatePlayer(){var p,y,E,w;this.player?(y=(p=this.cursors)==null?void 0:p.left)!=null&&y.isDown?this.player.rotation-=.05:(w=(E=this.cursors)==null?void 0:E.right)!=null&&w.isDown&&(this.player.rotation+=.05):console.warn("Player object is null, cannot rotate player.")}gameOver(){this.physics.pause(),this.player&&this.add.text(this.player.x,this.player.y,`Game Over
Hit ENTER to restart
ESC to return to space.`,{fontSize:"32px",color:"#fff"}).setOrigin(.5),this.input.keyboard&&(this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart()}),this.input.keyboard.on("keydown-ESC",()=>{this.scene.start("Space")})),this.resetGame()}resetGame(){this.boxAttached=!1}youWin(){if(this.player){const p=this.add.text(this.player.x,this.player.y,`Mission Complete!
Great work big guy!
Press ENTER to return back to port.`,{fontSize:"16px",color:"#ffffff"});this.resetGame(),p.setOrigin(.5,.5),this.physics.pause(),this.input.keyboard&&this.input.keyboard.on("keydown-ENTER",()=>{bv(),this.scene.restart(),this.scene.start("Space")})}}}const $L=50,KL=500,ys=2e3,xs=2e3,jL=1;class ZL extends xt.Scene{constructor(){super("AsteroidsEasy"),this.asteroids=[],this.bullets=null,this.player=null,this.cursors=null,this.thrustSoundPlaying=!1,this.enemies=null,this.boxAttached=!1}preload(){this.load.image("potato","./asteroid_potato.png"),this.load.image("earth","./earth.png"),this.load.image("ship_still","./ship_still.png"),this.load.image("ship_thrust","./ship_thrust.png"),this.load.image("enemy","./enemy.png")}create(){var p;this.physics.world.setBounds(0,0,xs,ys,!0,!0,!0,!0),this.cursors=((p=this.input.keyboard)==null?void 0:p.createCursorKeys())??null,this.createPlayer(),this.setupCamera(),this.player&&this.add.text(this.player.x-200,this.player.y-200,`Cadet!
We have lost our cargo!
Find it and bring it back to Mars!
Wishing you fortune!!!`,{fontSize:"16px",color:"#fff"}),this.createPlayerBullets(),Mo(this,xs,ys,KL),this.createAsteroids(),this.playerShoot(),this.createPackage(),this.createEarth(),this.createEnemies(),this.createEnemyBullets(),this.handleCollisions()}update(){this.rotatePlayer(),this.playerMoveForward(),this.boxFollowPlayer(),this.enemies&&this.enemies.children.iterate(p=>(this.enemyChasePlayer(p),this.enemyShootAtPlayer(p),!0))}setupCamera(){this.cameras.main.setBackgroundColor(0),this.player&&this.cameras.main.startFollow(this.player,!0,.1,.1),this.cameras.main.setZoom(1)}createPlayer(){this.thrustSound=this.sound.add("thrust",{loop:!0,volume:.1}),this.player=this.add.image(1e3,1e3,"ship_still"),this.physics.add.existing(this.player),this.player.setOrigin(.5,.5);const p=this.player.body;p.setDrag(100),p.setMaxVelocity(200),p.setCollideWorldBounds(!0)}createPlayerBullets(){const p=this.make.graphics({},!1);p.fillStyle(16711680,1),p.fillRect(0,0,10,10),p.generateTexture("bulletTexture",10,10),p.destroy(),this.bullets=this.physics.add.group({defaultKey:"bulletTexture",maxSize:20})}createAsteroids(){for(let p=0;p<$L;p++)this.addAsteroid()}playerShoot(){this.input.keyboard&&this.input.keyboard.on("keydown-SPACE",()=>{if(!this.bullets||!this.player)return;const p=this.bullets.get(this.player.x,this.player.y);this.sound.play("laser",{volume:.1}),p&&(p.setActive(!0).setVisible(!0),p.setDepth(-99),p.body.setAllowGravity(!1),this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,400,p.body.velocity),p.body.setCollideWorldBounds(!0),p.body.onWorldBounds=!0,p.body.world.on("worldbounds",y=>{y.gameObject===p&&p.destroy()},this))})}createPackage(){const y=xt.Math.Between(0,xs-2),E=xt.Math.Between(0,ys-2);this.yellowBox=this.physics.add.sprite(y,E,"box").setScale(2)}createEarth(){const p=xt.Math.Between(64,xs-64),y=xt.Math.Between(64,ys-64);this.blueCircle=this.physics.add.sprite(p,y,"earth"),this.blueCircle.tint=16711680}createEnemyBullets(){const p=this.make.graphics({},!1);p.fillStyle(65280,1),p.fillRect(0,0,10,10),p.generateTexture("enemyBulletTexture",10,10),p.destroy(),this.enemyBullets=this.physics.add.group({defaultKey:"enemyBulletTexture",createCallback:y=>{const E=y.body;E.onWorldBounds=!0},removeCallback:y=>{y.setActive(!1).setVisible(!1)}}),this.physics.world.on("worldbounds",y=>{this.enemyBullets&&this.enemyBullets.contains(y.gameObject)&&y.gameObject.setActive(!1).setVisible(!1)})}createEnemies(){this.enemies=this.physics.add.group({key:"enemy",repeat:jL,setXY:{x:100,y:100,stepX:200}}),this.enemies.children.iterate(p=>(p.body&&(p.setScale(.5),p.body.setVelocity(xt.Math.Between(-50,50),xt.Math.Between(-50,50)),p.body.setCollideWorldBounds(!0)),null))}handleCollisions(){this.player&&this.yellowBox&&this.physics.add.overlap(this.player,this.yellowBox,(p,y)=>{this.attachBoxToPlayer(y)},void 0,this),this.player&&this.blueCircle&&this.physics.add.overlap(this.player,this.blueCircle,()=>{this.boxAttached&&this.youWin()},void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,(p,y)=>{y instanceof xt.GameObjects.Sprite&&y.setActive(!1).setVisible(!1),this.gameOver()},void 0,this),this.bullets&&this.asteroids&&this.physics.add.collider(this.bullets,this.asteroids,(p,y)=>{p.destroy(),y.destroy()},void 0,this),this.player&&this.asteroids&&this.physics.add.collider(this.player,this.asteroids,this.gameOver,void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,this.gameOver,void 0,this),this.player&&this.enemies&&this.physics.add.collider(this.player,this.enemies,this.gameOver,void 0,this),this.bullets&&this.enemies&&this.physics.add.collider(this.bullets,this.enemies,(p,y)=>{p.destroy(),y.destroy()},void 0,this),this.enemyBullets&&this.physics.add.collider(this.enemyBullets,this.asteroids,(p,y)=>{p.destroy(),y.destroy()},void 0,this)}attachBoxToPlayer(p){"body"in p&&p.body!==null&&(p.body instanceof xt.Physics.Arcade.Body?p.body.enable=!1:p.body instanceof xt.Physics.Arcade.StaticBody&&console.log("Static body encountered. Consider how you want to handle static bodies."),this.boxAttached=!0)}addAsteroid(){const p=this.cameras.main.getBounds(),y=25;let E,w;xt.Math.Between(0,1)?(E=xt.Math.Between(0,1)?p.left-y:p.right+y,w=xt.Math.Between(0,ys)):(E=xt.Math.Between(0,xs),w=xt.Math.Between(0,1)?p.top-y:p.bottom+y),E=xt.Math.Clamp(E,0,xs),w=xt.Math.Clamp(w,0,ys);const R=this.add.image(E,w,"potato");R.setOrigin(.5,.5),R.setScale(xt.Math.Between(3,9)/10),this.physics.add.existing(R);const c=R.body;c.setAngularVelocity(xt.Math.Between(-50,50));const x=xt.Math.Between(-100,100),t=xt.Math.Between(-100,100);c.setVelocity(x,t),c.setCollideWorldBounds(!0),c.onWorldBounds=!0,c.world.on("worldbounds",a=>{a.gameObject===R&&(R.destroy(),this.addAsteroid())},this),this.asteroids.push(R)}enemyShootAtPlayer(p){if(this.player&&this.enemyBullets){if(xt.Math.Between(0,1e3)>999){const y=xt.Math.Angle.Between(p.x,p.y,this.player.x,this.player.y),E=this.enemyBullets.get(p.x,p.y);E&&(E.setActive(!0).setVisible(!0),E.setDepth(-99),E.body instanceof xt.Physics.Arcade.Body?this.physics.velocityFromRotation(y,300,E.body.velocity):console.error("Bullet body is not an instance of Phaser.Physics.Arcade.Body"))}}else console.error("Player or enemyBullets group is null")}enemyChasePlayer(p){this.player?this.physics.accelerateToObject(p,this.player,50):console.warn("Player object is null, cannot chase player.")}boxFollowPlayer(){if(this.boxAttached&&this.player&&this.yellowBox){const y=this.player.rotation-Math.PI/2,E=this.player.x+60*Math.cos(y),w=this.player.y+60*Math.sin(y);this.yellowBox.setPosition(E,w)}}playerMoveForward(){var p,y;this.player&&this.player.body instanceof xt.Physics.Arcade.Body?(y=(p=this.cursors)==null?void 0:p.up)!=null&&y.isDown?(this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,200,this.player.body.velocity),!this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.play(),this.thrustSoundPlaying=!0,this.player.setTexture("ship_thrust"))):(this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.pause(),this.thrustSoundPlaying=!1,this.player.setTexture("ship_still")),this.player.body.setDrag(100)):console.warn("Player or player body is not initialized.")}rotatePlayer(){var p,y,E,w;this.player?(y=(p=this.cursors)==null?void 0:p.left)!=null&&y.isDown?this.player.rotation-=.05:(w=(E=this.cursors)==null?void 0:E.right)!=null&&w.isDown&&(this.player.rotation+=.05):console.warn("Player object is null, cannot rotate player.")}gameOver(){this.physics.pause(),this.player&&this.add.text(this.player.x,this.player.y,`Game Over
Hit ENTER to restart
ESC to return to space.`,{fontSize:"32px",color:"#fff"}).setOrigin(.5),this.input.keyboard&&(this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart()}),this.input.keyboard.on("keydown-ESC",()=>{this.scene.start("Space")})),this.resetGame()}resetGame(){this.boxAttached=!1}youWin(){if(this.player){const p=this.add.text(this.player.x,this.player.y,`Mission Complete!
Great work cadet!
Press ENTER to return back to port.`,{fontSize:"16px",color:"#ffffff"});bv(),this.resetGame(),p.setOrigin(.5,.5),this.physics.pause(),this.input.keyboard&&this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart(),this.scene.start("Space")})}}}const QL=150,kL=500,Ts=2500,Ss=2500,JL=3;class qL extends xt.Scene{constructor(){super("AsteroidsMedium"),this.asteroids=[],this.bullets=null,this.player=null,this.cursors=null,this.thrustSoundPlaying=!1,this.enemies=null,this.boxAttached=!1}preload(){this.load.image("potato","./asteroid_potato.png"),this.load.image("earth","./earth.png"),this.load.image("ship_still","./ship_still.png"),this.load.image("ship_thrust","./ship_thrust.png"),this.load.image("enemy","./enemy.png")}create(){var p;this.physics.world.setBounds(0,0,Ss,Ts,!0,!0,!0,!0),this.cursors=((p=this.input.keyboard)==null?void 0:p.createCursorKeys())??null,this.createPlayer(),this.setupCamera(),this.player&&this.add.text(this.player.x-200,this.player.y-200,`Caporal!
We lost our cargo again!
Find it and bring it back to Neptun!
Best of luck!!!`,{fontSize:"16px",color:"#fff"}),this.createPlayerBullets(),Mo(this,Ss,Ts,kL),this.createAsteroids(),this.playerShoot(),this.createPackage(),this.createEarth(),this.createEnemies(),this.createEnemyBullets(),this.handleCollisions()}update(){this.rotatePlayer(),this.playerMoveForward(),this.boxFollowPlayer(),this.enemies&&this.enemies.children.iterate(p=>(this.enemyChasePlayer(p),this.enemyShootAtPlayer(p),!0))}setupCamera(){this.cameras.main.setBackgroundColor(0),this.player&&this.cameras.main.startFollow(this.player,!0,.1,.1),this.cameras.main.setZoom(1)}createPlayer(){this.thrustSound=this.sound.add("thrust",{loop:!0,volume:.1}),this.player=this.add.image(1e3,1e3,"ship_still"),this.physics.add.existing(this.player),this.player.setOrigin(.5,.5);const p=this.player.body;p.setDrag(100),p.setMaxVelocity(200),p.setCollideWorldBounds(!0)}createPlayerBullets(){const p=this.make.graphics({},!1);p.fillStyle(16711680,1),p.fillRect(0,0,10,10),p.generateTexture("bulletTexture",10,10),p.destroy(),this.bullets=this.physics.add.group({defaultKey:"bulletTexture",maxSize:20})}createAsteroids(){for(let p=0;p<QL;p++)this.addAsteroid()}playerShoot(){this.input.keyboard&&this.input.keyboard.on("keydown-SPACE",()=>{if(!this.bullets||!this.player)return;const p=this.bullets.get(this.player.x,this.player.y);this.sound.play("laser",{volume:.1}),p&&(p.setActive(!0).setVisible(!0),p.setDepth(-99),p.body.setAllowGravity(!1),this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,400,p.body.velocity),p.body.setCollideWorldBounds(!0),p.body.onWorldBounds=!0,p.body.world.on("worldbounds",y=>{y.gameObject===p&&p.destroy()},this))})}createPackage(){const y=xt.Math.Between(0,Ss-1.8),E=xt.Math.Between(0,Ts-1.8);this.yellowBox=this.physics.add.sprite(y,E,"box").setScale(1.8)}createEarth(){const p=xt.Math.Between(64,Ss-64),y=xt.Math.Between(64,Ts-64);this.blueCircle=this.physics.add.sprite(p,y,"earth"),this.blueCircle.tint=41727}createEnemyBullets(){const p=this.make.graphics({},!1);p.fillStyle(65280,1),p.fillRect(0,0,10,10),p.generateTexture("enemyBulletTexture",10,10),p.destroy(),this.enemyBullets=this.physics.add.group({defaultKey:"enemyBulletTexture",createCallback:y=>{const E=y.body;E.onWorldBounds=!0},removeCallback:y=>{y.setActive(!1).setVisible(!1)}}),this.physics.world.on("worldbounds",y=>{this.enemyBullets&&this.enemyBullets.contains(y.gameObject)&&y.gameObject.setActive(!1).setVisible(!1)})}createEnemies(){this.enemies=this.physics.add.group({key:"enemy",repeat:JL,setXY:{x:100,y:100,stepX:200}}),this.enemies.children.iterate(p=>(p.body&&(p.setScale(.5),p.body.setVelocity(xt.Math.Between(-50,50),xt.Math.Between(-50,50)),p.body.setCollideWorldBounds(!0)),null))}handleCollisions(){this.player&&this.yellowBox&&this.physics.add.overlap(this.player,this.yellowBox,(p,y)=>{this.attachBoxToPlayer(y)},void 0,this),this.player&&this.blueCircle&&this.physics.add.overlap(this.player,this.blueCircle,()=>{this.boxAttached&&this.youWin()},void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,(p,y)=>{y instanceof xt.GameObjects.Sprite&&y.setActive(!1).setVisible(!1),this.gameOver()},void 0,this),this.bullets&&this.asteroids&&this.physics.add.collider(this.bullets,this.asteroids,(p,y)=>{p.destroy(),y.destroy()},void 0,this),this.player&&this.asteroids&&this.physics.add.collider(this.player,this.asteroids,this.gameOver,void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,this.gameOver,void 0,this),this.player&&this.enemies&&this.physics.add.collider(this.player,this.enemies,this.gameOver,void 0,this),this.bullets&&this.enemies&&this.physics.add.collider(this.bullets,this.enemies,(p,y)=>{p.destroy(),y.destroy()},void 0,this),this.enemyBullets&&this.physics.add.collider(this.enemyBullets,this.asteroids,(p,y)=>{p.destroy(),y.destroy()},void 0,this)}attachBoxToPlayer(p){"body"in p&&p.body!==null&&(p.body instanceof xt.Physics.Arcade.Body?p.body.enable=!1:p.body instanceof xt.Physics.Arcade.StaticBody&&console.log("Static body encountered. Consider how you want to handle static bodies."),this.boxAttached=!0)}addAsteroid(){const p=this.cameras.main.getBounds(),y=25;let E,w;xt.Math.Between(0,1)?(E=xt.Math.Between(0,1)?p.left-y:p.right+y,w=xt.Math.Between(0,Ts)):(E=xt.Math.Between(0,Ss),w=xt.Math.Between(0,1)?p.top-y:p.bottom+y),E=xt.Math.Clamp(E,0,Ss),w=xt.Math.Clamp(w,0,Ts);const R=this.add.image(E,w,"potato");R.setOrigin(.5,.5),R.setScale(xt.Math.Between(3,9)/10),this.physics.add.existing(R);const c=R.body;c.setAngularVelocity(xt.Math.Between(-50,50));const x=xt.Math.Between(-100,100),t=xt.Math.Between(-100,100);c.setVelocity(x,t),c.setCollideWorldBounds(!0),c.onWorldBounds=!0,c.world.on("worldbounds",a=>{a.gameObject===R&&(R.destroy(),this.addAsteroid())},this),this.asteroids.push(R)}enemyShootAtPlayer(p){if(this.player&&this.enemyBullets){if(xt.Math.Between(0,1e3)>999){const y=xt.Math.Angle.Between(p.x,p.y,this.player.x,this.player.y),E=this.enemyBullets.get(p.x,p.y);E&&(E.setActive(!0).setVisible(!0),E.setDepth(-99),E.body instanceof xt.Physics.Arcade.Body?this.physics.velocityFromRotation(y,300,E.body.velocity):console.error("Bullet body is not an instance of Phaser.Physics.Arcade.Body"))}}else console.error("Player or enemyBullets group is null")}enemyChasePlayer(p){this.player?this.physics.accelerateToObject(p,this.player,50):console.warn("Player object is null, cannot chase player.")}boxFollowPlayer(){if(this.boxAttached&&this.player&&this.yellowBox){const y=this.player.rotation-Math.PI/2,E=this.player.x+60*Math.cos(y),w=this.player.y+60*Math.sin(y);this.yellowBox.setPosition(E,w)}}playerMoveForward(){var p,y;this.player&&this.player.body instanceof xt.Physics.Arcade.Body?(y=(p=this.cursors)==null?void 0:p.up)!=null&&y.isDown?(this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,200,this.player.body.velocity),!this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.play(),this.thrustSoundPlaying=!0,this.player.setTexture("ship_thrust"))):(this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.pause(),this.thrustSoundPlaying=!1,this.player.setTexture("ship_still")),this.player.body.setDrag(100)):console.warn("Player or player body is not initialized.")}rotatePlayer(){var p,y,E,w;this.player?(y=(p=this.cursors)==null?void 0:p.left)!=null&&y.isDown?this.player.rotation-=.05:(w=(E=this.cursors)==null?void 0:E.right)!=null&&w.isDown&&(this.player.rotation+=.05):console.warn("Player object is null, cannot rotate player.")}gameOver(){this.physics.pause(),this.player&&this.add.text(this.player.x,this.player.y,`Game Over
Hit ENTER to restart 
ESC to return to space`,{fontSize:"32px",color:"#fff"}).setOrigin(.5),this.input.keyboard&&(this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart()}),this.input.keyboard.on("keydown-ESC",()=>{this.scene.start("Space")})),this.resetGame()}resetGame(){this.boxAttached=!1}youWin(){if(this.player){const p=this.add.text(this.player.x,this.player.y,`Mission Complete!
Great work caporal!
Press ENTER to return back to port.`,{fontSize:"16px",color:"#ffffff"});bv(),this.resetGame(),p.setOrigin(.5,.5),this.physics.pause(),this.input.keyboard&&this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart(),this.scene.start("Space")})}}}class _L extends xt.Scene{constructor(){super("Credits")}preload(){}create(){//! This has to be placed back in!
this.cameras.main.setBackgroundColor(0),Mo(this,1200,800,50);for(let w=0;w<zv();w++)this.createBox(15,920,700);const p=`
            Game Development: KBVE
            Graphics Design: KBVE
            Music & Sound Effects: KBVE
            Special Thanks: KBVE

            Thank you for playing!
            v1
        `,y={fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center",wordWrap:{width:600,useAdvancedWrap:!0}},E=this.add.text(400,600,p,y).setOrigin(.5,0);this.tweens.add({targets:E,y:-400,ease:"Linear",duration:1e4,onComplete:()=>{this.scene.start("Space")}})}createBox(p,y,E){const w=xt.Math.Between(0,y),R=xt.Math.Between(0,E),c=this.add.image(w,R,"box").setScale(1.5);this.physics.add.existing(c);const x=xt.Math.Between(-p,p),t=xt.Math.Between(-p,p);c.body instanceof xt.Physics.Arcade.Body?c.body.setVelocity(x,t):console.error("Failed to create a physics body for the box")}}const tF=bx.div`
    // Your style here
`;function eF(){const d=Ei.useRef(null);return Ei.useEffect(()=>{if(d.current){const p=d.current,E={...{title:"TravelBox - The Game",render:{antialias:!1},scale:{mode:xt.Scale.FIT,min:{width:1024,height:768},max:{width:1280,height:800},zoom:1},type:xt.AUTO,transparent:!0,width:920,height:700,physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1,worldBounds:!0,emitOnWorldBounds:!0}},plugins:{scene:[{key:"gridEngine",plugin:zL,mapping:"gridEngine"}]},scene:[bL,UL,VL,HL,ZL,qL,_L],input:{mouse:{preventDefaultWheel:!1},touch:{capture:!1}}},parent:p},w=new xt.Game(E);return()=>{w.destroy(!0)}}},[]),yn.jsx(tF,{children:yn.jsx("div",{ref:d})})}const iF=bx.div`
    // Your style here
`;function nF(){return yn.jsx(iF,{children:yn.jsx(eF,{})})}const rF=()=>yn.jsxs(Cx,{children:[yn.jsx(y5,{children:yn.jsx("title",{children:"The TravelBox Game"})}),yn.jsx(nF,{})]}),sF=px(document.getElementById("travelbox"));sF.render(yn.jsx(Ei.StrictMode,{children:yn.jsx(rF,{})}));
