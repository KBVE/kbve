---
import ReactNavigationBar from './ReactNavigationBar.tsx';
// Needs a rewrite - https://github.com/KBVE/kbve/issues/6416
---

<style>
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .shimmer-bg {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.08) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite linear;
  }
</style>


<div class="relative min-h-[48px] overflow-visible">
  <!-- Static skeleton nav (same layout as React nav) -->
  <div
    id="nav-skeleton"
    data-skeleton="navigation"
    class="flex items-center space-x-1 ml-2 md:ml-4 transition-opacity duration-500 opacity-100 pointer-events-auto relative"
    aria-hidden="true"
    style="z-index: 10;"
  >
    <!-- Shimmer background layer -->
    <div class="absolute inset-0 shimmer-bg rounded-md pointer-events-none z-0"></div>

    <!-- Skeleton icon blocks -->
    <div class="relative z-10 w-10 h-10 md:w-8 md:h-8 rounded-md bg-gray-300 dark:bg-gray-700 animate-pulse"></div>
    <div class="relative z-10 w-10 h-10 md:w-8 md:h-8 rounded-md bg-gray-300 dark:bg-gray-700 animate-pulse"></div>
    <div class="relative z-10 w-10 h-10 md:w-8 md:h-8 rounded-md bg-gray-300 dark:bg-gray-700 animate-pulse"></div>
    <div class="relative z-10 w-10 h-10 md:w-8 md:h-8 rounded-md bg-gray-300 dark:bg-gray-700 animate-pulse"></div>
    <div class="relative z-10 w-10 h-10 md:w-8 md:h-8 rounded-md bg-gray-300 dark:bg-gray-700 animate-pulse"></div>

    <!-- Separator -->
    <div class="relative z-10 h-6 w-px bg-gray-400 dark:bg-gray-600 mx-2"></div>

    <!-- Member status dot -->
    <div class="relative z-10 flex items-center space-x-2 w-10 h-10 md:w-8 md:h-8">
      <div class="w-2 h-2 rounded-full bg-gray-500 dark:bg-gray-600"></div>
      <span class="text-xs text-gray-300 hidden md:inline">&nbsp;</span>
    </div>
  </div>

  <!-- React hydration -->
  <ReactNavigationBar client:only="react" />
</div>
