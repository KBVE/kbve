---
import Layout from 'src/layouts/core/Layout.astro';
import UserData from 'src/layouts/client/supabase/profile/UserData';
import UserAvatar from 'src/layouts/client/supabase/profile/UserAvatar';
import UserLinks from 'src/layouts/client/supabase/profile/UserLinks';
import MemberCard from 'src/layouts/client/supabase/profile/member/MemberCard';
import MembersOnly from 'src/layouts/client/supabase/auth/MembersOnly'; // <MembersOnly client:only="react" />

const pageTitle: string = `Profile | KBVE`;
const title: string = `Your Profile`;
const subTitle: string = `Manage your KBVE account details`;
---

<Layout title={pageTitle}>
  <section class="px-6 pt-12 sm:px-8 lg:px-12">
     <MembersOnly client:only="react" />
    <div class="mx-auto max-w-4xl flex flex-col md:flex-row items-center md:items-start gap-6 w-full">
      <div class="flex-1 w-full">
        <h1 class="text-4xl sm:text-5xl font-bold text-neutral-900 dark:text-white mb-2 drop-shadow-lg">{title}</h1>
        <h2 class="text-xl text-neutral-700 dark:text-zinc-200 mb-4 font-medium">{subTitle}</h2>
        <UserData client:only="react" />
      </div>
      <div class="flex-1 w-full max-w-md">
        <MemberCard client:only="react" />
      </div>
    </div>
  </section>
  <div class="h-12 md:h-20 lg:h-24"></div> <!-- Spacer for quadrant separation -->
  <section class="px-6 pb-12 sm:px-8 lg:px-12">
    <div class="mx-auto max-w-4xl">
      <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-6 bento-grid mt-0">
        <div class="bento-card">
          <UserAvatar client:only="react" />
        </div>
        <div class="bento-card">
          <UserLinks client:only="react" />
        </div>
        <div class="bento-card md:col-span-2">
        </div>
        <!-- Add more bento-card sections here for future profile features -->
      </div>
    </div>
  </section>
</Layout>

<style>
.bento-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}
@media (min-width: 768px) {
  .bento-grid {
    grid-template-columns: 1fr 1fr;
  }
}
.bento-card {
  background: rgba(255,255,255,0.05);
  border-radius: 1.5rem;
  box-shadow: 0 4px 24px 0 rgba(103,232,249,0.08), 0 1.5px 6px 0 rgba(192,132,252,0.08);
  padding: 2rem 1.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}
</style>
