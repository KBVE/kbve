var g4=Object.defineProperty;var m4=(f,g,y)=>g in f?g4(f,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):f[g]=y;var Bn=(f,g,y)=>(m4(f,typeof g!="symbol"?g+"":g,y),y);(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))E(w);new MutationObserver(w=>{for(const R of w)if(R.type==="childList")for(const c of R.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&E(c)}).observe(document,{childList:!0,subtree:!0});function y(w){const R={};return w.integrity&&(R.integrity=w.integrity),w.referrerPolicy&&(R.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?R.credentials="include":w.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function E(w){if(w.ep)return;w.ep=!0;const R=y(w);fetch(w.href,R)}})();var y4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ea(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var ey={exports:{}},Ll={},iy={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),x4=Symbol.for("react.portal"),T4=Symbol.for("react.fragment"),S4=Symbol.for("react.strict_mode"),C4=Symbol.for("react.profiler"),E4=Symbol.for("react.provider"),P4=Symbol.for("react.context"),A4=Symbol.for("react.forward_ref"),w4=Symbol.for("react.suspense"),M4=Symbol.for("react.memo"),R4=Symbol.for("react.lazy"),dg=Symbol.iterator;function L4(f){return f===null||typeof f!="object"?null:(f=dg&&f[dg]||f["@@iterator"],typeof f=="function"?f:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,sy={};function ia(f,g,y){this.props=f,this.context=g,this.refs=sy,this.updater=y||ny}ia.prototype.isReactComponent={};ia.prototype.setState=function(f,g){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,g,"setState")};ia.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function ay(){}ay.prototype=ia.prototype;function Sc(f,g,y){this.props=f,this.context=g,this.refs=sy,this.updater=y||ny}var Cc=Sc.prototype=new ay;Cc.constructor=Sc;ry(Cc,ia.prototype);Cc.isPureReactComponent=!0;var cg=Array.isArray,oy=Object.prototype.hasOwnProperty,Ec={current:null},hy={key:!0,ref:!0,__self:!0,__source:!0};function ly(f,g,y){var E,w={},R=null,c=null;if(g!=null)for(E in g.ref!==void 0&&(c=g.ref),g.key!==void 0&&(R=""+g.key),g)oy.call(g,E)&&!hy.hasOwnProperty(E)&&(w[E]=g[E]);var x=arguments.length-2;if(x===1)w.children=y;else if(1<x){for(var t=Array(x),a=0;a<x;a++)t[a]=arguments[a+2];w.children=t}if(f&&f.defaultProps)for(E in x=f.defaultProps,x)w[E]===void 0&&(w[E]=x[E]);return{$$typeof:yo,type:f,key:R,ref:c,props:w,_owner:Ec.current}}function F4(f,g){return{$$typeof:yo,type:f.type,key:g,ref:f.ref,props:f.props,_owner:f._owner}}function Pc(f){return typeof f=="object"&&f!==null&&f.$$typeof===yo}function O4(f){var g={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(y){return g[y]})}var vg=/\/+/g;function Mf(f,g){return typeof f=="object"&&f!==null&&f.key!=null?O4(""+f.key):g.toString(36)}function zh(f,g,y,E,w){var R=typeof f;(R==="undefined"||R==="boolean")&&(f=null);var c=!1;if(f===null)c=!0;else switch(R){case"string":case"number":c=!0;break;case"object":switch(f.$$typeof){case yo:case x4:c=!0}}if(c)return c=f,w=w(c),f=E===""?"."+Mf(c,0):E,cg(w)?(y="",f!=null&&(y=f.replace(vg,"$&/")+"/"),zh(w,g,y,"",function(a){return a})):w!=null&&(Pc(w)&&(w=F4(w,y+(!w.key||c&&c.key===w.key?"":(""+w.key).replace(vg,"$&/")+"/")+f)),g.push(w)),1;if(c=0,E=E===""?".":E+":",cg(f))for(var x=0;x<f.length;x++){R=f[x];var t=E+Mf(R,x);c+=zh(R,g,y,t,w)}else if(t=L4(f),typeof t=="function")for(f=t.call(f),x=0;!(R=f.next()).done;)R=R.value,t=E+Mf(R,x++),c+=zh(R,g,y,t,w);else if(R==="object")throw g=String(f),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return c}function ch(f,g,y){if(f==null)return f;var E=[],w=0;return zh(f,E,"","",function(R){return g.call(y,R,w++)}),E}function D4(f){if(f._status===-1){var g=f._result;g=g(),g.then(function(y){(f._status===0||f._status===-1)&&(f._status=1,f._result=y)},function(y){(f._status===0||f._status===-1)&&(f._status=2,f._result=y)}),f._status===-1&&(f._status=0,f._result=g)}if(f._status===1)return f._result.default;throw f._result}var ni={current:null},bh={transition:null},I4={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:bh,ReactCurrentOwner:Ec};jt.Children={map:ch,forEach:function(f,g,y){ch(f,function(){g.apply(this,arguments)},y)},count:function(f){var g=0;return ch(f,function(){g++}),g},toArray:function(f){return ch(f,function(g){return g})||[]},only:function(f){if(!Pc(f))throw Error("React.Children.only expected to receive a single React element child.");return f}};jt.Component=ia;jt.Fragment=T4;jt.Profiler=C4;jt.PureComponent=Sc;jt.StrictMode=S4;jt.Suspense=w4;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I4;jt.cloneElement=function(f,g,y){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var E=ry({},f.props),w=f.key,R=f.ref,c=f._owner;if(g!=null){if(g.ref!==void 0&&(R=g.ref,c=Ec.current),g.key!==void 0&&(w=""+g.key),f.type&&f.type.defaultProps)var x=f.type.defaultProps;for(t in g)oy.call(g,t)&&!hy.hasOwnProperty(t)&&(E[t]=g[t]===void 0&&x!==void 0?x[t]:g[t])}var t=arguments.length-2;if(t===1)E.children=y;else if(1<t){x=Array(t);for(var a=0;a<t;a++)x[a]=arguments[a+2];E.children=x}return{$$typeof:yo,type:f.type,key:w,ref:R,props:E,_owner:c}};jt.createContext=function(f){return f={$$typeof:P4,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:E4,_context:f},f.Consumer=f};jt.createElement=ly;jt.createFactory=function(f){var g=ly.bind(null,f);return g.type=f,g};jt.createRef=function(){return{current:null}};jt.forwardRef=function(f){return{$$typeof:A4,render:f}};jt.isValidElement=Pc;jt.lazy=function(f){return{$$typeof:R4,_payload:{_status:-1,_result:f},_init:D4}};jt.memo=function(f,g){return{$$typeof:M4,type:f,compare:g===void 0?null:g}};jt.startTransition=function(f){var g=bh.transition;bh.transition={};try{f()}finally{bh.transition=g}};jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};jt.useCallback=function(f,g){return ni.current.useCallback(f,g)};jt.useContext=function(f){return ni.current.useContext(f)};jt.useDebugValue=function(){};jt.useDeferredValue=function(f){return ni.current.useDeferredValue(f)};jt.useEffect=function(f,g){return ni.current.useEffect(f,g)};jt.useId=function(){return ni.current.useId()};jt.useImperativeHandle=function(f,g,y){return ni.current.useImperativeHandle(f,g,y)};jt.useInsertionEffect=function(f,g){return ni.current.useInsertionEffect(f,g)};jt.useLayoutEffect=function(f,g){return ni.current.useLayoutEffect(f,g)};jt.useMemo=function(f,g){return ni.current.useMemo(f,g)};jt.useReducer=function(f,g,y){return ni.current.useReducer(f,g,y)};jt.useRef=function(f){return ni.current.useRef(f)};jt.useState=function(f){return ni.current.useState(f)};jt.useSyncExternalStore=function(f,g,y){return ni.current.useSyncExternalStore(f,g,y)};jt.useTransition=function(){return ni.current.useTransition()};jt.version="18.2.0";iy.exports=jt;var Pi=iy.exports;const Xi=ea(Pi);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4=Pi,N4=Symbol.for("react.element"),G4=Symbol.for("react.fragment"),z4=Object.prototype.hasOwnProperty,b4=B4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U4={key:!0,ref:!0,__self:!0,__source:!0};function uy(f,g,y){var E,w={},R=null,c=null;y!==void 0&&(R=""+y),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(c=g.ref);for(E in g)z4.call(g,E)&&!U4.hasOwnProperty(E)&&(w[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)w[E]===void 0&&(w[E]=g[E]);return{$$typeof:N4,type:f,key:R,ref:c,props:w,_owner:b4.current}}Ll.Fragment=G4;Ll.jsx=uy;Ll.jsxs=uy;ey.exports=Ll;var xn=ey.exports,fy={exports:{}},wi={},dy={exports:{}},cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(f){function g(z,W){var Y=z.length;z.push(W);t:for(;0<Y;){var K=Y-1>>>1,Z=z[K];if(0<w(Z,W))z[K]=W,z[Y]=Z,Y=K;else break t}}function y(z){return z.length===0?null:z[0]}function E(z){if(z.length===0)return null;var W=z[0],Y=z.pop();if(Y!==W){z[0]=Y;t:for(var K=0,Z=z.length,V=Z>>>1;K<V;){var H=2*(K+1)-1,N=z[H],b=H+1,X=z[b];if(0>w(N,Y))b<Z&&0>w(X,N)?(z[K]=X,z[b]=Y,K=b):(z[K]=N,z[H]=Y,K=H);else if(b<Z&&0>w(X,Y))z[K]=X,z[b]=Y,K=b;else break t}}return W}function w(z,W){var Y=z.sortIndex-W.sortIndex;return Y!==0?Y:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var R=performance;f.unstable_now=function(){return R.now()}}else{var c=Date,x=c.now();f.unstable_now=function(){return c.now()-x}}var t=[],a=[],p=1,o=null,s=3,r=!1,e=!1,n=!1,l=typeof setTimeout=="function"?setTimeout:null,i=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(z){for(var W=y(a);W!==null;){if(W.callback===null)E(a);else if(W.startTime<=z)E(a),W.sortIndex=W.expirationTime,g(t,W);else break;W=y(a)}}function d(z){if(n=!1,u(z),!e)if(y(t)!==null)e=!0,B(v);else{var W=y(a);W!==null&&G(d,W.startTime-z)}}function v(z,W){e=!1,n&&(n=!1,i(C),C=-1),r=!0;var Y=s;try{for(u(W),o=y(t);o!==null&&(!(o.expirationTime>W)||z&&!A());){var K=o.callback;if(typeof K=="function"){o.callback=null,s=o.priorityLevel;var Z=K(o.expirationTime<=W);W=f.unstable_now(),typeof Z=="function"?o.callback=Z:o===y(t)&&E(t),u(W)}else E(t);o=y(t)}if(o!==null)var V=!0;else{var H=y(a);H!==null&&G(d,H.startTime-W),V=!1}return V}finally{o=null,s=Y,r=!1}}var m=!1,T=null,C=-1,S=5,P=-1;function A(){return!(f.unstable_now()-P<S)}function L(){if(T!==null){var z=f.unstable_now();P=z;var W=!0;try{W=T(!0,z)}finally{W?F():(m=!1,T=null)}}else m=!1}var F;if(typeof h=="function")F=function(){h(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=L,F=function(){D.postMessage(null)}}else F=function(){l(L,0)};function B(z){T=z,m||(m=!0,F())}function G(z,W){C=l(function(){z(f.unstable_now())},W)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(z){z.callback=null},f.unstable_continueExecution=function(){e||r||(e=!0,B(v))},f.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},f.unstable_getCurrentPriorityLevel=function(){return s},f.unstable_getFirstCallbackNode=function(){return y(t)},f.unstable_next=function(z){switch(s){case 1:case 2:case 3:var W=3;break;default:W=s}var Y=s;s=W;try{return z()}finally{s=Y}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=s;s=z;try{return W()}finally{s=Y}},f.unstable_scheduleCallback=function(z,W,Y){var K=f.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,z={id:p++,callback:W,priorityLevel:z,startTime:Y,expirationTime:Z,sortIndex:-1},Y>K?(z.sortIndex=Y,g(a,z),y(t)===null&&z===y(a)&&(n?(i(C),C=-1):n=!0,G(d,Y-K))):(z.sortIndex=Z,g(t,z),e||r||(e=!0,B(v))),z},f.unstable_shouldYield=A,f.unstable_wrapCallback=function(z){var W=s;return function(){var Y=s;s=W;try{return z.apply(this,arguments)}finally{s=Y}}}})(cy);dy.exports=cy;var V4=dy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=Pi,Ai=V4;function xt(f){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+f,y=1;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var py=new Set,ka={};function _r(f,g){Hs(f,g),Hs(f+"Capture",g)}function Hs(f,g){for(ka[f]=g,f=0;f<g.length;f++)py.add(g[f])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=Object.prototype.hasOwnProperty,W4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},gg={};function X4(f){return ud.call(gg,f)?!0:ud.call(pg,f)?!1:W4.test(f)?gg[f]=!0:(pg[f]=!0,!1)}function Y4(f,g,y,E){if(y!==null&&y.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return E?!1:y!==null?!y.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function H4(f,g,y,E){if(g===null||typeof g>"u"||Y4(f,g,y,E))return!0;if(E)return!1;if(y!==null)switch(y.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function ri(f,g,y,E,w,R,c){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=E,this.attributeNamespace=w,this.mustUseProperty=y,this.propertyName=f,this.type=g,this.sanitizeURL=R,this.removeEmptyString=c}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){Ye[f]=new ri(f,0,!1,f,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var g=f[0];Ye[g]=new ri(g,1,!1,f[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(f){Ye[f]=new ri(f,2,!1,f.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){Ye[f]=new ri(f,2,!1,f,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){Ye[f]=new ri(f,3,!1,f.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(f){Ye[f]=new ri(f,3,!0,f,null,!1,!1)});["capture","download"].forEach(function(f){Ye[f]=new ri(f,4,!1,f,null,!1,!1)});["cols","rows","size","span"].forEach(function(f){Ye[f]=new ri(f,6,!1,f,null,!1,!1)});["rowSpan","start"].forEach(function(f){Ye[f]=new ri(f,5,!1,f.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function wc(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var g=f.replace(Ac,wc);Ye[g]=new ri(g,1,!1,f,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var g=f.replace(Ac,wc);Ye[g]=new ri(g,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(f){var g=f.replace(Ac,wc);Ye[g]=new ri(g,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(f){Ye[f]=new ri(f,1,!1,f.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(f){Ye[f]=new ri(f,1,!1,f.toLowerCase(),null,!0,!0)});function Mc(f,g,y,E){var w=Ye.hasOwnProperty(g)?Ye[g]:null;(w!==null?w.type!==0:E||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(H4(g,y,w,E)&&(y=null),E||w===null?X4(g)&&(y===null?f.removeAttribute(g):f.setAttribute(g,""+y)):w.mustUseProperty?f[w.propertyName]=y===null?w.type===3?!1:"":y:(g=w.attributeName,E=w.attributeNamespace,y===null?f.removeAttribute(g):(w=w.type,y=w===3||w===4&&y===!0?"":""+y,E?f.setAttributeNS(E,g,y):f.setAttribute(g,y))))}var $n=vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),gy=Symbol.for("react.provider"),my=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),yy=Symbol.for("react.offscreen"),mg=Symbol.iterator;function Sa(f){return f===null||typeof f!="object"?null:(f=mg&&f[mg]||f["@@iterator"],typeof f=="function"?f:null)}var ye=Object.assign,Rf;function Ia(f){if(Rf===void 0)try{throw Error()}catch(y){var g=y.stack.trim().match(/\n( *(at )?)/);Rf=g&&g[1]||""}return`
`+Rf+f}var Lf=!1;function Ff(f,g){if(!f||Lf)return"";Lf=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(a){var E=a}Reflect.construct(f,[],g)}else{try{g.call()}catch(a){E=a}f.call(g.prototype)}else{try{throw Error()}catch(a){E=a}f()}}catch(a){if(a&&E&&typeof a.stack=="string"){for(var w=a.stack.split(`
`),R=E.stack.split(`
`),c=w.length-1,x=R.length-1;1<=c&&0<=x&&w[c]!==R[x];)x--;for(;1<=c&&0<=x;c--,x--)if(w[c]!==R[x]){if(c!==1||x!==1)do if(c--,x--,0>x||w[c]!==R[x]){var t=`
`+w[c].replace(" at new "," at ");return f.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",f.displayName)),t}while(1<=c&&0<=x);break}}}finally{Lf=!1,Error.prepareStackTrace=y}return(f=f?f.displayName||f.name:"")?Ia(f):""}function $4(f){switch(f.tag){case 5:return Ia(f.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return f=Ff(f.type,!1),f;case 11:return f=Ff(f.type.render,!1),f;case 1:return f=Ff(f.type,!0),f;default:return""}}function vd(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Ss:return"Fragment";case Ts:return"Portal";case fd:return"Profiler";case Rc:return"StrictMode";case dd:return"Suspense";case cd:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case my:return(f.displayName||"Context")+".Consumer";case gy:return(f._context.displayName||"Context")+".Provider";case Lc:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Fc:return g=f.displayName||null,g!==null?g:vd(f.type)||"Memo";case nr:g=f._payload,f=f._init;try{return vd(f(g))}catch{}}return null}function K4(f){var g=f.type;switch(f.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=g.render,f=f.displayName||f.name||"",g.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vd(g);case 8:return g===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function xr(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function xy(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function j4(f){var g=xy(f)?"checked":"value",y=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),E=""+f[g];if(!f.hasOwnProperty(g)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,R=y.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return w.call(this)},set:function(c){E=""+c,R.call(this,c)}}),Object.defineProperty(f,g,{enumerable:y.enumerable}),{getValue:function(){return E},setValue:function(c){E=""+c},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function ph(f){f._valueTracker||(f._valueTracker=j4(f))}function Ty(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var y=g.getValue(),E="";return f&&(E=xy(f)?f.checked?"true":"false":f.value),f=E,f!==y?(g.setValue(f),!0):!1}function el(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function pd(f,g){var y=g.checked;return ye({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??f._wrapperState.initialChecked})}function yg(f,g){var y=g.defaultValue==null?"":g.defaultValue,E=g.checked!=null?g.checked:g.defaultChecked;y=xr(g.value!=null?g.value:y),f._wrapperState={initialChecked:E,initialValue:y,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Sy(f,g){g=g.checked,g!=null&&Mc(f,"checked",g,!1)}function gd(f,g){Sy(f,g);var y=xr(g.value),E=g.type;if(y!=null)E==="number"?(y===0&&f.value===""||f.value!=y)&&(f.value=""+y):f.value!==""+y&&(f.value=""+y);else if(E==="submit"||E==="reset"){f.removeAttribute("value");return}g.hasOwnProperty("value")?md(f,g.type,y):g.hasOwnProperty("defaultValue")&&md(f,g.type,xr(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(f.defaultChecked=!!g.defaultChecked)}function xg(f,g,y){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var E=g.type;if(!(E!=="submit"&&E!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+f._wrapperState.initialValue,y||g===f.value||(f.value=g),f.defaultValue=g}y=f.name,y!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,y!==""&&(f.name=y)}function md(f,g,y){(g!=="number"||el(f.ownerDocument)!==f)&&(y==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+y&&(f.defaultValue=""+y))}var Ba=Array.isArray;function Bs(f,g,y,E){if(f=f.options,g){g={};for(var w=0;w<y.length;w++)g["$"+y[w]]=!0;for(y=0;y<f.length;y++)w=g.hasOwnProperty("$"+f[y].value),f[y].selected!==w&&(f[y].selected=w),w&&E&&(f[y].defaultSelected=!0)}else{for(y=""+xr(y),g=null,w=0;w<f.length;w++){if(f[w].value===y){f[w].selected=!0,E&&(f[w].defaultSelected=!0);return}g!==null||f[w].disabled||(g=f[w])}g!==null&&(g.selected=!0)}}function yd(f,g){if(g.dangerouslySetInnerHTML!=null)throw Error(xt(91));return ye({},g,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Tg(f,g){var y=g.value;if(y==null){if(y=g.children,g=g.defaultValue,y!=null){if(g!=null)throw Error(xt(92));if(Ba(y)){if(1<y.length)throw Error(xt(93));y=y[0]}g=y}g==null&&(g=""),y=g}f._wrapperState={initialValue:xr(y)}}function Cy(f,g){var y=xr(g.value),E=xr(g.defaultValue);y!=null&&(y=""+y,y!==f.value&&(f.value=y),g.defaultValue==null&&f.defaultValue!==y&&(f.defaultValue=y)),E!=null&&(f.defaultValue=""+E)}function Sg(f){var g=f.textContent;g===f._wrapperState.initialValue&&g!==""&&g!==null&&(f.value=g)}function Ey(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(f,g){return f==null||f==="http://www.w3.org/1999/xhtml"?Ey(g):f==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var gh,Py=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,y,E,w){MSApp.execUnsafeLocalFunction(function(){return f(g,y,E,w)})}:f}(function(f,g){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=g;else{for(gh=gh||document.createElement("div"),gh.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=gh.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;g.firstChild;)f.appendChild(g.firstChild)}});function qa(f,g){if(g){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=g;return}}f.textContent=g}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z4=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(f){Z4.forEach(function(g){g=g+f.charAt(0).toUpperCase()+f.substring(1),ba[g]=ba[f]})});function Ay(f,g,y){return g==null||typeof g=="boolean"||g===""?"":y||typeof g!="number"||g===0||ba.hasOwnProperty(f)&&ba[f]?(""+g).trim():g+"px"}function wy(f,g){f=f.style;for(var y in g)if(g.hasOwnProperty(y)){var E=y.indexOf("--")===0,w=Ay(y,g[y],E);y==="float"&&(y="cssFloat"),E?f.setProperty(y,w):f[y]=w}}var Q4=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Td(f,g){if(g){if(Q4[f]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(xt(137,f));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(xt(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(xt(61))}if(g.style!=null&&typeof g.style!="object")throw Error(xt(62))}}function Sd(f,g){if(f.indexOf("-")===-1)return typeof g.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function Oc(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ed=null,Ns=null,Gs=null;function Cg(f){if(f=So(f)){if(typeof Ed!="function")throw Error(xt(280));var g=f.stateNode;g&&(g=Bl(g),Ed(f.stateNode,f.type,g))}}function My(f){Ns?Gs?Gs.push(f):Gs=[f]:Ns=f}function Ry(){if(Ns){var f=Ns,g=Gs;if(Gs=Ns=null,Cg(f),g)for(f=0;f<g.length;f++)Cg(g[f])}}function Ly(f,g){return f(g)}function Fy(){}var Of=!1;function Oy(f,g,y){if(Of)return f(g,y);Of=!0;try{return Ly(f,g,y)}finally{Of=!1,(Ns!==null||Gs!==null)&&(Fy(),Ry())}}function _a(f,g){var y=f.stateNode;if(y===null)return null;var E=Bl(y);if(E===null)return null;y=E[g];t:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break t;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(xt(231,g,typeof y));return y}var Pd=!1;if(Wn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Pd=!1}function J4(f,g,y,E,w,R,c,x,t){var a=Array.prototype.slice.call(arguments,3);try{g.apply(y,a)}catch(p){this.onError(p)}}var Ua=!1,il=null,nl=!1,Ad=null,k4={onError:function(f){Ua=!0,il=f}};function q4(f,g,y,E,w,R,c,x,t){Ua=!1,il=null,J4.apply(k4,arguments)}function _4(f,g,y,E,w,R,c,x,t){if(q4.apply(this,arguments),Ua){if(Ua){var a=il;Ua=!1,il=null}else throw Error(xt(198));nl||(nl=!0,Ad=a)}}function ts(f){var g=f,y=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,g.flags&4098&&(y=g.return),f=g.return;while(f)}return g.tag===3?y:null}function Dy(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function Eg(f){if(ts(f)!==f)throw Error(xt(188))}function tw(f){var g=f.alternate;if(!g){if(g=ts(f),g===null)throw Error(xt(188));return g!==f?null:f}for(var y=f,E=g;;){var w=y.return;if(w===null)break;var R=w.alternate;if(R===null){if(E=w.return,E!==null){y=E;continue}break}if(w.child===R.child){for(R=w.child;R;){if(R===y)return Eg(w),f;if(R===E)return Eg(w),g;R=R.sibling}throw Error(xt(188))}if(y.return!==E.return)y=w,E=R;else{for(var c=!1,x=w.child;x;){if(x===y){c=!0,y=w,E=R;break}if(x===E){c=!0,E=w,y=R;break}x=x.sibling}if(!c){for(x=R.child;x;){if(x===y){c=!0,y=R,E=w;break}if(x===E){c=!0,E=R,y=w;break}x=x.sibling}if(!c)throw Error(xt(189))}}if(y.alternate!==E)throw Error(xt(190))}if(y.tag!==3)throw Error(xt(188));return y.stateNode.current===y?f:g}function Iy(f){return f=tw(f),f!==null?By(f):null}function By(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var g=By(f);if(g!==null)return g;f=f.sibling}return null}var Ny=Ai.unstable_scheduleCallback,Pg=Ai.unstable_cancelCallback,ew=Ai.unstable_shouldYield,iw=Ai.unstable_requestPaint,we=Ai.unstable_now,nw=Ai.unstable_getCurrentPriorityLevel,Dc=Ai.unstable_ImmediatePriority,Gy=Ai.unstable_UserBlockingPriority,rl=Ai.unstable_NormalPriority,rw=Ai.unstable_LowPriority,zy=Ai.unstable_IdlePriority,Fl=null,Tn=null;function sw(f){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Fl,f,void 0,(f.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:hw,aw=Math.log,ow=Math.LN2;function hw(f){return f>>>=0,f===0?32:31-(aw(f)/ow|0)|0}var mh=64,yh=4194304;function Na(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function sl(f,g){var y=f.pendingLanes;if(y===0)return 0;var E=0,w=f.suspendedLanes,R=f.pingedLanes,c=y&268435455;if(c!==0){var x=c&~w;x!==0?E=Na(x):(R&=c,R!==0&&(E=Na(R)))}else c=y&~w,c!==0?E=Na(c):R!==0&&(E=Na(R));if(E===0)return 0;if(g!==0&&g!==E&&!(g&w)&&(w=E&-E,R=g&-g,w>=R||w===16&&(R&4194240)!==0))return g;if(E&4&&(E|=y&16),g=f.entangledLanes,g!==0)for(f=f.entanglements,g&=E;0<g;)y=31-hn(g),w=1<<y,E|=f[y],g&=~w;return E}function lw(f,g){switch(f){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uw(f,g){for(var y=f.suspendedLanes,E=f.pingedLanes,w=f.expirationTimes,R=f.pendingLanes;0<R;){var c=31-hn(R),x=1<<c,t=w[c];t===-1?(!(x&y)||x&E)&&(w[c]=lw(x,g)):t<=g&&(f.expiredLanes|=x),R&=~x}}function wd(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function by(){var f=mh;return mh<<=1,!(mh&4194240)&&(mh=64),f}function Df(f){for(var g=[],y=0;31>y;y++)g.push(f);return g}function xo(f,g,y){f.pendingLanes|=g,g!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,g=31-hn(g),f[g]=y}function fw(f,g){var y=f.pendingLanes&~g;f.pendingLanes=g,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=g,f.mutableReadLanes&=g,f.entangledLanes&=g,g=f.entanglements;var E=f.eventTimes;for(f=f.expirationTimes;0<y;){var w=31-hn(y),R=1<<w;g[w]=0,E[w]=-1,f[w]=-1,y&=~R}}function Ic(f,g){var y=f.entangledLanes|=g;for(f=f.entanglements;y;){var E=31-hn(y),w=1<<E;w&g|f[E]&g&&(f[E]|=g),y&=~w}}var ee=0;function Uy(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Vy,Bc,Wy,Xy,Yy,Md=!1,xh=[],lr=null,ur=null,fr=null,to=new Map,eo=new Map,sr=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ag(f,g){switch(f){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":to.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(g.pointerId)}}function Ea(f,g,y,E,w,R){return f===null||f.nativeEvent!==R?(f={blockedOn:g,domEventName:y,eventSystemFlags:E,nativeEvent:R,targetContainers:[w]},g!==null&&(g=So(g),g!==null&&Bc(g)),f):(f.eventSystemFlags|=E,g=f.targetContainers,w!==null&&g.indexOf(w)===-1&&g.push(w),f)}function cw(f,g,y,E,w){switch(g){case"focusin":return lr=Ea(lr,f,g,y,E,w),!0;case"dragenter":return ur=Ea(ur,f,g,y,E,w),!0;case"mouseover":return fr=Ea(fr,f,g,y,E,w),!0;case"pointerover":var R=w.pointerId;return to.set(R,Ea(to.get(R)||null,f,g,y,E,w)),!0;case"gotpointercapture":return R=w.pointerId,eo.set(R,Ea(eo.get(R)||null,f,g,y,E,w)),!0}return!1}function Hy(f){var g=Wr(f.target);if(g!==null){var y=ts(g);if(y!==null){if(g=y.tag,g===13){if(g=Dy(y),g!==null){f.blockedOn=g,Yy(f.priority,function(){Wy(y)});return}}else if(g===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Uh(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var y=Rd(f.domEventName,f.eventSystemFlags,g[0],f.nativeEvent);if(y===null){y=f.nativeEvent;var E=new y.constructor(y.type,y);Cd=E,y.target.dispatchEvent(E),Cd=null}else return g=So(y),g!==null&&Bc(g),f.blockedOn=y,!1;g.shift()}return!0}function wg(f,g,y){Uh(f)&&y.delete(g)}function vw(){Md=!1,lr!==null&&Uh(lr)&&(lr=null),ur!==null&&Uh(ur)&&(ur=null),fr!==null&&Uh(fr)&&(fr=null),to.forEach(wg),eo.forEach(wg)}function Pa(f,g){f.blockedOn===g&&(f.blockedOn=null,Md||(Md=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,vw)))}function io(f){function g(w){return Pa(w,f)}if(0<xh.length){Pa(xh[0],f);for(var y=1;y<xh.length;y++){var E=xh[y];E.blockedOn===f&&(E.blockedOn=null)}}for(lr!==null&&Pa(lr,f),ur!==null&&Pa(ur,f),fr!==null&&Pa(fr,f),to.forEach(g),eo.forEach(g),y=0;y<sr.length;y++)E=sr[y],E.blockedOn===f&&(E.blockedOn=null);for(;0<sr.length&&(y=sr[0],y.blockedOn===null);)Hy(y),y.blockedOn===null&&sr.shift()}var zs=$n.ReactCurrentBatchConfig,al=!0;function pw(f,g,y,E){var w=ee,R=zs.transition;zs.transition=null;try{ee=1,Nc(f,g,y,E)}finally{ee=w,zs.transition=R}}function gw(f,g,y,E){var w=ee,R=zs.transition;zs.transition=null;try{ee=4,Nc(f,g,y,E)}finally{ee=w,zs.transition=R}}function Nc(f,g,y,E){if(al){var w=Rd(f,g,y,E);if(w===null)Xf(f,g,E,ol,y),Ag(f,E);else if(cw(w,f,g,y,E))E.stopPropagation();else if(Ag(f,E),g&4&&-1<dw.indexOf(f)){for(;w!==null;){var R=So(w);if(R!==null&&Vy(R),R=Rd(f,g,y,E),R===null&&Xf(f,g,E,ol,y),R===w)break;w=R}w!==null&&E.stopPropagation()}else Xf(f,g,E,null,y)}}var ol=null;function Rd(f,g,y,E){if(ol=null,f=Oc(E),f=Wr(f),f!==null)if(g=ts(f),g===null)f=null;else if(y=g.tag,y===13){if(f=Dy(g),f!==null)return f;f=null}else if(y===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null);return ol=f,null}function $y(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nw()){case Dc:return 1;case Gy:return 4;case rl:case rw:return 16;case zy:return 536870912;default:return 16}default:return 16}}var or=null,Gc=null,Vh=null;function Ky(){if(Vh)return Vh;var f,g=Gc,y=g.length,E,w="value"in or?or.value:or.textContent,R=w.length;for(f=0;f<y&&g[f]===w[f];f++);var c=y-f;for(E=1;E<=c&&g[y-E]===w[R-E];E++);return Vh=w.slice(f,1<E?1-E:void 0)}function Wh(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function Th(){return!0}function Mg(){return!1}function Mi(f){function g(y,E,w,R,c){this._reactName=y,this._targetInst=w,this.type=E,this.nativeEvent=R,this.target=c,this.currentTarget=null;for(var x in f)f.hasOwnProperty(x)&&(y=f[x],this[x]=y?y(R):R[x]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Th:Mg,this.isPropagationStopped=Mg,this}return ye(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),g}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=Mi(na),To=ye({},na,{view:0,detail:0}),mw=Mi(To),If,Bf,Aa,Ol=ye({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Aa&&(Aa&&f.type==="mousemove"?(If=f.screenX-Aa.screenX,Bf=f.screenY-Aa.screenY):Bf=If=0,Aa=f),If)},movementY:function(f){return"movementY"in f?f.movementY:Bf}}),Rg=Mi(Ol),yw=ye({},Ol,{dataTransfer:0}),xw=Mi(yw),Tw=ye({},To,{relatedTarget:0}),Nf=Mi(Tw),Sw=ye({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),Cw=Mi(Sw),Ew=ye({},na,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Pw=Mi(Ew),Aw=ye({},na,{data:0}),Lg=Mi(Aw),ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=Rw[f])?!!g[f]:!1}function bc(){return Lw}var Fw=ye({},To,{key:function(f){if(f.key){var g=ww[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=Wh(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Mw[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(f){return f.type==="keypress"?Wh(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Wh(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Ow=Mi(Fw),Dw=ye({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fg=Mi(Dw),Iw=ye({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Bw=Mi(Iw),Nw=ye({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gw=Mi(Nw),zw=ye({},Ol,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=Mi(zw),Uw=[9,13,27,32],Uc=Wn&&"CompositionEvent"in window,Va=null;Wn&&"documentMode"in document&&(Va=document.documentMode);var Vw=Wn&&"TextEvent"in window&&!Va,jy=Wn&&(!Uc||Va&&8<Va&&11>=Va),Og=String.fromCharCode(32),Dg=!1;function Zy(f,g){switch(f){case"keyup":return Uw.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Cs=!1;function Ww(f,g){switch(f){case"compositionend":return Qy(g);case"keypress":return g.which!==32?null:(Dg=!0,Og);case"textInput":return f=g.data,f===Og&&Dg?null:f;default:return null}}function Xw(f,g){if(Cs)return f==="compositionend"||!Uc&&Zy(f,g)?(f=Ky(),Vh=Gc=or=null,Cs=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return jy&&g.locale!=="ko"?null:g.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!Yw[f.type]:g==="textarea"}function Jy(f,g,y,E){My(E),g=hl(g,"onChange"),0<g.length&&(y=new zc("onChange","change",null,y,E),f.push({event:y,listeners:g}))}var Wa=null,no=null;function Hw(f){o1(f,0)}function Dl(f){var g=As(f);if(Ty(g))return f}function $w(f,g){if(f==="change")return g}var ky=!1;if(Wn){var Gf;if(Wn){var zf="oninput"in document;if(!zf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),zf=typeof Bg.oninput=="function"}Gf=zf}else Gf=!1;ky=Gf&&(!document.documentMode||9<document.documentMode)}function Ng(){Wa&&(Wa.detachEvent("onpropertychange",qy),no=Wa=null)}function qy(f){if(f.propertyName==="value"&&Dl(no)){var g=[];Jy(g,no,f,Oc(f)),Oy(Hw,g)}}function Kw(f,g,y){f==="focusin"?(Ng(),Wa=g,no=y,Wa.attachEvent("onpropertychange",qy)):f==="focusout"&&Ng()}function jw(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Dl(no)}function Zw(f,g){if(f==="click")return Dl(g)}function Qw(f,g){if(f==="input"||f==="change")return Dl(g)}function Jw(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var un=typeof Object.is=="function"?Object.is:Jw;function ro(f,g){if(un(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var y=Object.keys(f),E=Object.keys(g);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var w=y[E];if(!ud.call(g,w)||!un(f[w],g[w]))return!1}return!0}function Gg(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function zg(f,g){var y=Gg(f);f=0;for(var E;y;){if(y.nodeType===3){if(E=f+y.textContent.length,f<=g&&E>=g)return{node:y,offset:g-f};f=E}t:{for(;y;){if(y.nextSibling){y=y.nextSibling;break t}y=y.parentNode}y=void 0}y=Gg(y)}}function _y(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?_y(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function t1(){for(var f=window,g=el();g instanceof f.HTMLIFrameElement;){try{var y=typeof g.contentWindow.location.href=="string"}catch{y=!1}if(y)f=g.contentWindow;else break;g=el(f.document)}return g}function Vc(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}function kw(f){var g=t1(),y=f.focusedElem,E=f.selectionRange;if(g!==y&&y&&y.ownerDocument&&_y(y.ownerDocument.documentElement,y)){if(E!==null&&Vc(y)){if(g=E.start,f=E.end,f===void 0&&(f=g),"selectionStart"in y)y.selectionStart=g,y.selectionEnd=Math.min(f,y.value.length);else if(f=(g=y.ownerDocument||document)&&g.defaultView||window,f.getSelection){f=f.getSelection();var w=y.textContent.length,R=Math.min(E.start,w);E=E.end===void 0?R:Math.min(E.end,w),!f.extend&&R>E&&(w=E,E=R,R=w),w=zg(y,R);var c=zg(y,E);w&&c&&(f.rangeCount!==1||f.anchorNode!==w.node||f.anchorOffset!==w.offset||f.focusNode!==c.node||f.focusOffset!==c.offset)&&(g=g.createRange(),g.setStart(w.node,w.offset),f.removeAllRanges(),R>E?(f.addRange(g),f.extend(c.node,c.offset)):(g.setEnd(c.node,c.offset),f.addRange(g)))}}for(g=[],f=y;f=f.parentNode;)f.nodeType===1&&g.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<g.length;y++)f=g[y],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var qw=Wn&&"documentMode"in document&&11>=document.documentMode,Es=null,Ld=null,Xa=null,Fd=!1;function bg(f,g,y){var E=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Fd||Es==null||Es!==el(E)||(E=Es,"selectionStart"in E&&Vc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Xa&&ro(Xa,E)||(Xa=E,E=hl(Ld,"onSelect"),0<E.length&&(g=new zc("onSelect","select",null,g,y),f.push({event:g,listeners:E}),g.target=Es)))}function Sh(f,g){var y={};return y[f.toLowerCase()]=g.toLowerCase(),y["Webkit"+f]="webkit"+g,y["Moz"+f]="moz"+g,y}var Ps={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},bf={},e1={};Wn&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Il(f){if(bf[f])return bf[f];if(!Ps[f])return f;var g=Ps[f],y;for(y in g)if(g.hasOwnProperty(y)&&y in e1)return bf[f]=g[y];return f}var i1=Il("animationend"),n1=Il("animationiteration"),r1=Il("animationstart"),s1=Il("transitionend"),a1=new Map,Ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(f,g){a1.set(f,g),_r(g,[f])}for(var Uf=0;Uf<Ug.length;Uf++){var Vf=Ug[Uf],_w=Vf.toLowerCase(),tM=Vf[0].toUpperCase()+Vf.slice(1);Er(_w,"on"+tM)}Er(i1,"onAnimationEnd");Er(n1,"onAnimationIteration");Er(r1,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(s1,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Vg(f,g,y){var E=f.type||"unknown-event";f.currentTarget=y,_4(E,g,void 0,f),f.currentTarget=null}function o1(f,g){g=(g&4)!==0;for(var y=0;y<f.length;y++){var E=f[y],w=E.event;E=E.listeners;t:{var R=void 0;if(g)for(var c=E.length-1;0<=c;c--){var x=E[c],t=x.instance,a=x.currentTarget;if(x=x.listener,t!==R&&w.isPropagationStopped())break t;Vg(w,x,a),R=t}else for(c=0;c<E.length;c++){if(x=E[c],t=x.instance,a=x.currentTarget,x=x.listener,t!==R&&w.isPropagationStopped())break t;Vg(w,x,a),R=t}}}if(nl)throw f=Ad,nl=!1,Ad=null,f}function le(f,g){var y=g[Nd];y===void 0&&(y=g[Nd]=new Set);var E=f+"__bubble";y.has(E)||(h1(g,f,2,!1),y.add(E))}function Wf(f,g,y){var E=0;g&&(E|=4),h1(y,f,E,g)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function so(f){if(!f[Ch]){f[Ch]=!0,py.forEach(function(y){y!=="selectionchange"&&(eM.has(y)||Wf(y,!1,f),Wf(y,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[Ch]||(g[Ch]=!0,Wf("selectionchange",!1,g))}}function h1(f,g,y,E){switch($y(g)){case 1:var w=pw;break;case 4:w=gw;break;default:w=Nc}y=w.bind(null,g,y,f),w=void 0,!Pd||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(w=!0),E?w!==void 0?f.addEventListener(g,y,{capture:!0,passive:w}):f.addEventListener(g,y,!0):w!==void 0?f.addEventListener(g,y,{passive:w}):f.addEventListener(g,y,!1)}function Xf(f,g,y,E,w){var R=E;if(!(g&1)&&!(g&2)&&E!==null)t:for(;;){if(E===null)return;var c=E.tag;if(c===3||c===4){var x=E.stateNode.containerInfo;if(x===w||x.nodeType===8&&x.parentNode===w)break;if(c===4)for(c=E.return;c!==null;){var t=c.tag;if((t===3||t===4)&&(t=c.stateNode.containerInfo,t===w||t.nodeType===8&&t.parentNode===w))return;c=c.return}for(;x!==null;){if(c=Wr(x),c===null)return;if(t=c.tag,t===5||t===6){E=R=c;continue t}x=x.parentNode}}E=E.return}Oy(function(){var a=R,p=Oc(y),o=[];t:{var s=a1.get(f);if(s!==void 0){var r=zc,e=f;switch(f){case"keypress":if(Wh(y)===0)break t;case"keydown":case"keyup":r=Ow;break;case"focusin":e="focus",r=Nf;break;case"focusout":e="blur",r=Nf;break;case"beforeblur":case"afterblur":r=Nf;break;case"click":if(y.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=Bw;break;case i1:case n1:case r1:r=Cw;break;case s1:r=Gw;break;case"scroll":r=mw;break;case"wheel":r=bw;break;case"copy":case"cut":case"paste":r=Pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=Fg}var n=(g&4)!==0,l=!n&&f==="scroll",i=n?s!==null?s+"Capture":null:s;n=[];for(var h=a,u;h!==null;){u=h;var d=u.stateNode;if(u.tag===5&&d!==null&&(u=d,i!==null&&(d=_a(h,i),d!=null&&n.push(ao(h,d,u)))),l)break;h=h.return}0<n.length&&(s=new r(s,e,null,y,p),o.push({event:s,listeners:n}))}}if(!(g&7)){t:{if(s=f==="mouseover"||f==="pointerover",r=f==="mouseout"||f==="pointerout",s&&y!==Cd&&(e=y.relatedTarget||y.fromElement)&&(Wr(e)||e[Xn]))break t;if((r||s)&&(s=p.window===p?p:(s=p.ownerDocument)?s.defaultView||s.parentWindow:window,r?(e=y.relatedTarget||y.toElement,r=a,e=e?Wr(e):null,e!==null&&(l=ts(e),e!==l||e.tag!==5&&e.tag!==6)&&(e=null)):(r=null,e=a),r!==e)){if(n=Rg,d="onMouseLeave",i="onMouseEnter",h="mouse",(f==="pointerout"||f==="pointerover")&&(n=Fg,d="onPointerLeave",i="onPointerEnter",h="pointer"),l=r==null?s:As(r),u=e==null?s:As(e),s=new n(d,h+"leave",r,y,p),s.target=l,s.relatedTarget=u,d=null,Wr(p)===a&&(n=new n(i,h+"enter",e,y,p),n.target=u,n.relatedTarget=l,d=n),l=d,r&&e)e:{for(n=r,i=e,h=0,u=n;u;u=ps(u))h++;for(u=0,d=i;d;d=ps(d))u++;for(;0<h-u;)n=ps(n),h--;for(;0<u-h;)i=ps(i),u--;for(;h--;){if(n===i||i!==null&&n===i.alternate)break e;n=ps(n),i=ps(i)}n=null}else n=null;r!==null&&Wg(o,s,r,n,!1),e!==null&&l!==null&&Wg(o,l,e,n,!0)}}t:{if(s=a?As(a):window,r=s.nodeName&&s.nodeName.toLowerCase(),r==="select"||r==="input"&&s.type==="file")var v=$w;else if(Ig(s))if(ky)v=Qw;else{v=jw;var m=Kw}else(r=s.nodeName)&&r.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(v=Zw);if(v&&(v=v(f,a))){Jy(o,v,y,p);break t}m&&m(f,s,a),f==="focusout"&&(m=s._wrapperState)&&m.controlled&&s.type==="number"&&md(s,"number",s.value)}switch(m=a?As(a):window,f){case"focusin":(Ig(m)||m.contentEditable==="true")&&(Es=m,Ld=a,Xa=null);break;case"focusout":Xa=Ld=Es=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,bg(o,y,p);break;case"selectionchange":if(qw)break;case"keydown":case"keyup":bg(o,y,p)}var T;if(Uc)t:{switch(f){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else Cs?Zy(f,y)&&(C="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(C="onCompositionStart");C&&(jy&&y.locale!=="ko"&&(Cs||C!=="onCompositionStart"?C==="onCompositionEnd"&&Cs&&(T=Ky()):(or=p,Gc="value"in or?or.value:or.textContent,Cs=!0)),m=hl(a,C),0<m.length&&(C=new Lg(C,f,null,y,p),o.push({event:C,listeners:m}),T?C.data=T:(T=Qy(y),T!==null&&(C.data=T)))),(T=Vw?Ww(f,y):Xw(f,y))&&(a=hl(a,"onBeforeInput"),0<a.length&&(p=new Lg("onBeforeInput","beforeinput",null,y,p),o.push({event:p,listeners:a}),p.data=T))}o1(o,g)})}function ao(f,g,y){return{instance:f,listener:g,currentTarget:y}}function hl(f,g){for(var y=g+"Capture",E=[];f!==null;){var w=f,R=w.stateNode;w.tag===5&&R!==null&&(w=R,R=_a(f,y),R!=null&&E.unshift(ao(f,R,w)),R=_a(f,g),R!=null&&E.push(ao(f,R,w))),f=f.return}return E}function ps(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Wg(f,g,y,E,w){for(var R=g._reactName,c=[];y!==null&&y!==E;){var x=y,t=x.alternate,a=x.stateNode;if(t!==null&&t===E)break;x.tag===5&&a!==null&&(x=a,w?(t=_a(y,R),t!=null&&c.unshift(ao(y,t,x))):w||(t=_a(y,R),t!=null&&c.push(ao(y,t,x)))),y=y.return}c.length!==0&&f.push({event:g,listeners:c})}var iM=/\r\n?/g,nM=/\u0000|\uFFFD/g;function Xg(f){return(typeof f=="string"?f:""+f).replace(iM,`
`).replace(nM,"")}function Eh(f,g,y){if(g=Xg(g),Xg(f)!==g&&y)throw Error(xt(425))}function ll(){}var Od=null,Dd=null;function Id(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,rM=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,sM=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(f){return Yg.resolve(null).then(f).catch(aM)}:Bd;function aM(f){setTimeout(function(){throw f})}function Yf(f,g){var y=g,E=0;do{var w=y.nextSibling;if(f.removeChild(y),w&&w.nodeType===8)if(y=w.data,y==="/$"){if(E===0){f.removeChild(w),io(g);return}E--}else y!=="$"&&y!=="$?"&&y!=="$!"||E++;y=w}while(y);io(g)}function dr(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return f}function Hg(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"){if(g===0)return f;g--}else y==="/$"&&g++}f=f.previousSibling}return null}var ra=Math.random().toString(36).slice(2),yn="__reactFiber$"+ra,oo="__reactProps$"+ra,Xn="__reactContainer$"+ra,Nd="__reactEvents$"+ra,oM="__reactListeners$"+ra,hM="__reactHandles$"+ra;function Wr(f){var g=f[yn];if(g)return g;for(var y=f.parentNode;y;){if(g=y[Xn]||y[yn]){if(y=g.alternate,g.child!==null||y!==null&&y.child!==null)for(f=Hg(f);f!==null;){if(y=f[yn])return y;f=Hg(f)}return g}f=y,y=f.parentNode}return null}function So(f){return f=f[yn]||f[Xn],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function As(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(xt(33))}function Bl(f){return f[oo]||null}var Gd=[],ws=-1;function Pr(f){return{current:f}}function ue(f){0>ws||(f.current=Gd[ws],Gd[ws]=null,ws--)}function ae(f,g){ws++,Gd[ws]=f.current,f.current=g}var Tr={},Je=Pr(Tr),fi=Pr(!1),Kr=Tr;function $s(f,g){var y=f.type.contextTypes;if(!y)return Tr;var E=f.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===g)return E.__reactInternalMemoizedMaskedChildContext;var w={},R;for(R in y)w[R]=g[R];return E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=g,f.__reactInternalMemoizedMaskedChildContext=w),w}function di(f){return f=f.childContextTypes,f!=null}function ul(){ue(fi),ue(Je)}function $g(f,g,y){if(Je.current!==Tr)throw Error(xt(168));ae(Je,g),ae(fi,y)}function l1(f,g,y){var E=f.stateNode;if(g=g.childContextTypes,typeof E.getChildContext!="function")return y;E=E.getChildContext();for(var w in E)if(!(w in g))throw Error(xt(108,K4(f)||"Unknown",w));return ye({},y,E)}function fl(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Tr,Kr=Je.current,ae(Je,f),ae(fi,fi.current),!0}function Kg(f,g,y){var E=f.stateNode;if(!E)throw Error(xt(169));y?(f=l1(f,g,Kr),E.__reactInternalMemoizedMergedChildContext=f,ue(fi),ue(Je),ae(Je,f)):ue(fi),ae(fi,y)}var Gn=null,Nl=!1,Hf=!1;function u1(f){Gn===null?Gn=[f]:Gn.push(f)}function lM(f){Nl=!0,u1(f)}function Ar(){if(!Hf&&Gn!==null){Hf=!0;var f=0,g=ee;try{var y=Gn;for(ee=1;f<y.length;f++){var E=y[f];do E=E(!0);while(E!==null)}Gn=null,Nl=!1}catch(w){throw Gn!==null&&(Gn=Gn.slice(f+1)),Ny(Dc,Ar),w}finally{ee=g,Hf=!1}}return null}var Ms=[],Rs=0,dl=null,cl=0,Ui=[],Vi=0,jr=null,zn=1,bn="";function Gr(f,g){Ms[Rs++]=cl,Ms[Rs++]=dl,dl=f,cl=g}function f1(f,g,y){Ui[Vi++]=zn,Ui[Vi++]=bn,Ui[Vi++]=jr,jr=f;var E=zn;f=bn;var w=32-hn(E)-1;E&=~(1<<w),y+=1;var R=32-hn(g)+w;if(30<R){var c=w-w%5;R=(E&(1<<c)-1).toString(32),E>>=c,w-=c,zn=1<<32-hn(g)+w|y<<w|E,bn=R+f}else zn=1<<R|y<<w|E,bn=f}function Wc(f){f.return!==null&&(Gr(f,1),f1(f,1,0))}function Xc(f){for(;f===dl;)dl=Ms[--Rs],Ms[Rs]=null,cl=Ms[--Rs],Ms[Rs]=null;for(;f===jr;)jr=Ui[--Vi],Ui[Vi]=null,bn=Ui[--Vi],Ui[Vi]=null,zn=Ui[--Vi],Ui[Vi]=null}var Ei=null,Ci=null,ce=!1,an=null;function d1(f,g){var y=Yi(5,null,null,0);y.elementType="DELETED",y.stateNode=g,y.return=f,g=f.deletions,g===null?(f.deletions=[y],f.flags|=16):g.push(y)}function jg(f,g){switch(f.tag){case 5:var y=f.type;return g=g.nodeType!==1||y.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(f.stateNode=g,Ei=f,Ci=dr(g.firstChild),!0):!1;case 6:return g=f.pendingProps===""||g.nodeType!==3?null:g,g!==null?(f.stateNode=g,Ei=f,Ci=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(y=jr!==null?{id:zn,overflow:bn}:null,f.memoizedState={dehydrated:g,treeContext:y,retryLane:1073741824},y=Yi(18,null,null,0),y.stateNode=g,y.return=f,f.child=y,Ei=f,Ci=null,!0):!1;default:return!1}}function zd(f){return(f.mode&1)!==0&&(f.flags&128)===0}function bd(f){if(ce){var g=Ci;if(g){var y=g;if(!jg(f,g)){if(zd(f))throw Error(xt(418));g=dr(y.nextSibling);var E=Ei;g&&jg(f,g)?d1(E,y):(f.flags=f.flags&-4097|2,ce=!1,Ei=f)}}else{if(zd(f))throw Error(xt(418));f.flags=f.flags&-4097|2,ce=!1,Ei=f}}}function Zg(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ei=f}function Ph(f){if(f!==Ei)return!1;if(!ce)return Zg(f),ce=!0,!1;var g;if((g=f.tag!==3)&&!(g=f.tag!==5)&&(g=f.type,g=g!=="head"&&g!=="body"&&!Id(f.type,f.memoizedProps)),g&&(g=Ci)){if(zd(f))throw c1(),Error(xt(418));for(;g;)d1(f,g),g=dr(g.nextSibling)}if(Zg(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(xt(317));t:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8){var y=f.data;if(y==="/$"){if(g===0){Ci=dr(f.nextSibling);break t}g--}else y!=="$"&&y!=="$!"&&y!=="$?"||g++}f=f.nextSibling}Ci=null}}else Ci=Ei?dr(f.stateNode.nextSibling):null;return!0}function c1(){for(var f=Ci;f;)f=dr(f.nextSibling)}function Ks(){Ci=Ei=null,ce=!1}function Yc(f){an===null?an=[f]:an.push(f)}var uM=$n.ReactCurrentBatchConfig;function rn(f,g){if(f&&f.defaultProps){g=ye({},g),f=f.defaultProps;for(var y in f)g[y]===void 0&&(g[y]=f[y]);return g}return g}var vl=Pr(null),pl=null,Ls=null,Hc=null;function $c(){Hc=Ls=pl=null}function Kc(f){var g=vl.current;ue(vl),f._currentValue=g}function Ud(f,g,y){for(;f!==null;){var E=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,E!==null&&(E.childLanes|=g)):E!==null&&(E.childLanes&g)!==g&&(E.childLanes|=g),f===y)break;f=f.return}}function bs(f,g){pl=f,Hc=Ls=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&g&&(ui=!0),f.firstContext=null)}function Ki(f){var g=f._currentValue;if(Hc!==f)if(f={context:f,memoizedValue:g,next:null},Ls===null){if(pl===null)throw Error(xt(308));Ls=f,pl.dependencies={lanes:0,firstContext:f}}else Ls=Ls.next=f;return g}var Xr=null;function jc(f){Xr===null?Xr=[f]:Xr.push(f)}function v1(f,g,y,E){var w=g.interleaved;return w===null?(y.next=y,jc(g)):(y.next=w.next,w.next=y),g.interleaved=y,Yn(f,E)}function Yn(f,g){f.lanes|=g;var y=f.alternate;for(y!==null&&(y.lanes|=g),y=f,f=f.return;f!==null;)f.childLanes|=g,y=f.alternate,y!==null&&(y.childLanes|=g),y=f,f=f.return;return y.tag===3?y.stateNode:null}var rr=!1;function Zc(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p1(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Vn(f,g){return{eventTime:f,lane:g,tag:0,payload:null,callback:null,next:null}}function cr(f,g,y){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,Jt&2){var w=E.pending;return w===null?g.next=g:(g.next=w.next,w.next=g),E.pending=g,Yn(f,y)}return w=E.interleaved,w===null?(g.next=g,jc(E)):(g.next=w.next,w.next=g),E.interleaved=g,Yn(f,y)}function Xh(f,g,y){if(g=g.updateQueue,g!==null&&(g=g.shared,(y&4194240)!==0)){var E=g.lanes;E&=f.pendingLanes,y|=E,g.lanes=y,Ic(f,y)}}function Qg(f,g){var y=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var w=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var c={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?w=R=c:R=R.next=c,y=y.next}while(y!==null);R===null?w=R=g:R=R.next=g}else w=R=g;y={baseState:E.baseState,firstBaseUpdate:w,lastBaseUpdate:R,shared:E.shared,effects:E.effects},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=g:f.next=g,y.lastBaseUpdate=g}function gl(f,g,y,E){var w=f.updateQueue;rr=!1;var R=w.firstBaseUpdate,c=w.lastBaseUpdate,x=w.shared.pending;if(x!==null){w.shared.pending=null;var t=x,a=t.next;t.next=null,c===null?R=a:c.next=a,c=t;var p=f.alternate;p!==null&&(p=p.updateQueue,x=p.lastBaseUpdate,x!==c&&(x===null?p.firstBaseUpdate=a:x.next=a,p.lastBaseUpdate=t))}if(R!==null){var o=w.baseState;c=0,p=a=t=null,x=R;do{var s=x.lane,r=x.eventTime;if((E&s)===s){p!==null&&(p=p.next={eventTime:r,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});t:{var e=f,n=x;switch(s=g,r=y,n.tag){case 1:if(e=n.payload,typeof e=="function"){o=e.call(r,o,s);break t}o=e;break t;case 3:e.flags=e.flags&-65537|128;case 0:if(e=n.payload,s=typeof e=="function"?e.call(r,o,s):e,s==null)break t;o=ye({},o,s);break t;case 2:rr=!0}}x.callback!==null&&x.lane!==0&&(f.flags|=64,s=w.effects,s===null?w.effects=[x]:s.push(x))}else r={eventTime:r,lane:s,tag:x.tag,payload:x.payload,callback:x.callback,next:null},p===null?(a=p=r,t=o):p=p.next=r,c|=s;if(x=x.next,x===null){if(x=w.shared.pending,x===null)break;s=x,x=s.next,s.next=null,w.lastBaseUpdate=s,w.shared.pending=null}}while(1);if(p===null&&(t=o),w.baseState=t,w.firstBaseUpdate=a,w.lastBaseUpdate=p,g=w.shared.interleaved,g!==null){w=g;do c|=w.lane,w=w.next;while(w!==g)}else R===null&&(w.shared.lanes=0);Qr|=c,f.lanes=c,f.memoizedState=o}}function Jg(f,g,y){if(f=g.effects,g.effects=null,f!==null)for(g=0;g<f.length;g++){var E=f[g],w=E.callback;if(w!==null){if(E.callback=null,E=y,typeof w!="function")throw Error(xt(191,w));w.call(E)}}}var g1=new vy.Component().refs;function Vd(f,g,y,E){g=f.memoizedState,y=y(E,g),y=y==null?g:ye({},g,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var Gl={isMounted:function(f){return(f=f._reactInternals)?ts(f)===f:!1},enqueueSetState:function(f,g,y){f=f._reactInternals;var E=ii(),w=pr(f),R=Vn(E,w);R.payload=g,y!=null&&(R.callback=y),g=cr(f,R,w),g!==null&&(ln(g,f,w,E),Xh(g,f,w))},enqueueReplaceState:function(f,g,y){f=f._reactInternals;var E=ii(),w=pr(f),R=Vn(E,w);R.tag=1,R.payload=g,y!=null&&(R.callback=y),g=cr(f,R,w),g!==null&&(ln(g,f,w,E),Xh(g,f,w))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var y=ii(),E=pr(f),w=Vn(y,E);w.tag=2,g!=null&&(w.callback=g),g=cr(f,w,E),g!==null&&(ln(g,f,E,y),Xh(g,f,E))}};function kg(f,g,y,E,w,R,c){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,R,c):g.prototype&&g.prototype.isPureReactComponent?!ro(y,E)||!ro(w,R):!0}function m1(f,g,y){var E=!1,w=Tr,R=g.contextType;return typeof R=="object"&&R!==null?R=Ki(R):(w=di(g)?Kr:Je.current,E=g.contextTypes,R=(E=E!=null)?$s(f,w):Tr),g=new g(y,R),f.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gl,f.stateNode=g,g._reactInternals=f,E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=w,f.__reactInternalMemoizedMaskedChildContext=R),g}function qg(f,g,y,E){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(y,E),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(y,E),g.state!==f&&Gl.enqueueReplaceState(g,g.state,null)}function Wd(f,g,y,E){var w=f.stateNode;w.props=y,w.state=f.memoizedState,w.refs=g1,Zc(f);var R=g.contextType;typeof R=="object"&&R!==null?w.context=Ki(R):(R=di(g)?Kr:Je.current,w.context=$s(f,R)),w.state=f.memoizedState,R=g.getDerivedStateFromProps,typeof R=="function"&&(Vd(f,g,R,y),w.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(g=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),g!==w.state&&Gl.enqueueReplaceState(w,w.state,null),gl(f,y,w,E),w.state=f.memoizedState),typeof w.componentDidMount=="function"&&(f.flags|=4194308)}function wa(f,g,y){if(f=y.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(xt(309));var E=y.stateNode}if(!E)throw Error(xt(147,f));var w=E,R=""+f;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===R?g.ref:(g=function(c){var x=w.refs;x===g1&&(x=w.refs={}),c===null?delete x[R]:x[R]=c},g._stringRef=R,g)}if(typeof f!="string")throw Error(xt(284));if(!y._owner)throw Error(xt(290,f))}return f}function Ah(f,g){throw f=Object.prototype.toString.call(g),Error(xt(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f))}function _g(f){var g=f._init;return g(f._payload)}function y1(f){function g(i,h){if(f){var u=i.deletions;u===null?(i.deletions=[h],i.flags|=16):u.push(h)}}function y(i,h){if(!f)return null;for(;h!==null;)g(i,h),h=h.sibling;return null}function E(i,h){for(i=new Map;h!==null;)h.key!==null?i.set(h.key,h):i.set(h.index,h),h=h.sibling;return i}function w(i,h){return i=gr(i,h),i.index=0,i.sibling=null,i}function R(i,h,u){return i.index=u,f?(u=i.alternate,u!==null?(u=u.index,u<h?(i.flags|=2,h):u):(i.flags|=2,h)):(i.flags|=1048576,h)}function c(i){return f&&i.alternate===null&&(i.flags|=2),i}function x(i,h,u,d){return h===null||h.tag!==6?(h=kf(u,i.mode,d),h.return=i,h):(h=w(h,u),h.return=i,h)}function t(i,h,u,d){var v=u.type;return v===Ss?p(i,h,u.props.children,d,u.key):h!==null&&(h.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===nr&&_g(v)===h.type)?(d=w(h,u.props),d.ref=wa(i,h,u),d.return=i,d):(d=Zh(u.type,u.key,u.props,null,i.mode,d),d.ref=wa(i,h,u),d.return=i,d)}function a(i,h,u,d){return h===null||h.tag!==4||h.stateNode.containerInfo!==u.containerInfo||h.stateNode.implementation!==u.implementation?(h=qf(u,i.mode,d),h.return=i,h):(h=w(h,u.children||[]),h.return=i,h)}function p(i,h,u,d,v){return h===null||h.tag!==7?(h=$r(u,i.mode,d,v),h.return=i,h):(h=w(h,u),h.return=i,h)}function o(i,h,u){if(typeof h=="string"&&h!==""||typeof h=="number")return h=kf(""+h,i.mode,u),h.return=i,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case vh:return u=Zh(h.type,h.key,h.props,null,i.mode,u),u.ref=wa(i,null,h),u.return=i,u;case Ts:return h=qf(h,i.mode,u),h.return=i,h;case nr:var d=h._init;return o(i,d(h._payload),u)}if(Ba(h)||Sa(h))return h=$r(h,i.mode,u,null),h.return=i,h;Ah(i,h)}return null}function s(i,h,u,d){var v=h!==null?h.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return v!==null?null:x(i,h,""+u,d);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case vh:return u.key===v?t(i,h,u,d):null;case Ts:return u.key===v?a(i,h,u,d):null;case nr:return v=u._init,s(i,h,v(u._payload),d)}if(Ba(u)||Sa(u))return v!==null?null:p(i,h,u,d,null);Ah(i,u)}return null}function r(i,h,u,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return i=i.get(u)||null,x(h,i,""+d,v);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case vh:return i=i.get(d.key===null?u:d.key)||null,t(h,i,d,v);case Ts:return i=i.get(d.key===null?u:d.key)||null,a(h,i,d,v);case nr:var m=d._init;return r(i,h,u,m(d._payload),v)}if(Ba(d)||Sa(d))return i=i.get(u)||null,p(h,i,d,v,null);Ah(h,d)}return null}function e(i,h,u,d){for(var v=null,m=null,T=h,C=h=0,S=null;T!==null&&C<u.length;C++){T.index>C?(S=T,T=null):S=T.sibling;var P=s(i,T,u[C],d);if(P===null){T===null&&(T=S);break}f&&T&&P.alternate===null&&g(i,T),h=R(P,h,C),m===null?v=P:m.sibling=P,m=P,T=S}if(C===u.length)return y(i,T),ce&&Gr(i,C),v;if(T===null){for(;C<u.length;C++)T=o(i,u[C],d),T!==null&&(h=R(T,h,C),m===null?v=T:m.sibling=T,m=T);return ce&&Gr(i,C),v}for(T=E(i,T);C<u.length;C++)S=r(T,i,C,u[C],d),S!==null&&(f&&S.alternate!==null&&T.delete(S.key===null?C:S.key),h=R(S,h,C),m===null?v=S:m.sibling=S,m=S);return f&&T.forEach(function(A){return g(i,A)}),ce&&Gr(i,C),v}function n(i,h,u,d){var v=Sa(u);if(typeof v!="function")throw Error(xt(150));if(u=v.call(u),u==null)throw Error(xt(151));for(var m=v=null,T=h,C=h=0,S=null,P=u.next();T!==null&&!P.done;C++,P=u.next()){T.index>C?(S=T,T=null):S=T.sibling;var A=s(i,T,P.value,d);if(A===null){T===null&&(T=S);break}f&&T&&A.alternate===null&&g(i,T),h=R(A,h,C),m===null?v=A:m.sibling=A,m=A,T=S}if(P.done)return y(i,T),ce&&Gr(i,C),v;if(T===null){for(;!P.done;C++,P=u.next())P=o(i,P.value,d),P!==null&&(h=R(P,h,C),m===null?v=P:m.sibling=P,m=P);return ce&&Gr(i,C),v}for(T=E(i,T);!P.done;C++,P=u.next())P=r(T,i,C,P.value,d),P!==null&&(f&&P.alternate!==null&&T.delete(P.key===null?C:P.key),h=R(P,h,C),m===null?v=P:m.sibling=P,m=P);return f&&T.forEach(function(L){return g(i,L)}),ce&&Gr(i,C),v}function l(i,h,u,d){if(typeof u=="object"&&u!==null&&u.type===Ss&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case vh:t:{for(var v=u.key,m=h;m!==null;){if(m.key===v){if(v=u.type,v===Ss){if(m.tag===7){y(i,m.sibling),h=w(m,u.props.children),h.return=i,i=h;break t}}else if(m.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===nr&&_g(v)===m.type){y(i,m.sibling),h=w(m,u.props),h.ref=wa(i,m,u),h.return=i,i=h;break t}y(i,m);break}else g(i,m);m=m.sibling}u.type===Ss?(h=$r(u.props.children,i.mode,d,u.key),h.return=i,i=h):(d=Zh(u.type,u.key,u.props,null,i.mode,d),d.ref=wa(i,h,u),d.return=i,i=d)}return c(i);case Ts:t:{for(m=u.key;h!==null;){if(h.key===m)if(h.tag===4&&h.stateNode.containerInfo===u.containerInfo&&h.stateNode.implementation===u.implementation){y(i,h.sibling),h=w(h,u.children||[]),h.return=i,i=h;break t}else{y(i,h);break}else g(i,h);h=h.sibling}h=qf(u,i.mode,d),h.return=i,i=h}return c(i);case nr:return m=u._init,l(i,h,m(u._payload),d)}if(Ba(u))return e(i,h,u,d);if(Sa(u))return n(i,h,u,d);Ah(i,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,h!==null&&h.tag===6?(y(i,h.sibling),h=w(h,u),h.return=i,i=h):(y(i,h),h=kf(u,i.mode,d),h.return=i,i=h),c(i)):y(i,h)}return l}var js=y1(!0),x1=y1(!1),Co={},Sn=Pr(Co),ho=Pr(Co),lo=Pr(Co);function Yr(f){if(f===Co)throw Error(xt(174));return f}function Qc(f,g){switch(ae(lo,g),ae(ho,f),ae(Sn,Co),f=g.nodeType,f){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:xd(null,"");break;default:f=f===8?g.parentNode:g,g=f.namespaceURI||null,f=f.tagName,g=xd(g,f)}ue(Sn),ae(Sn,g)}function Zs(){ue(Sn),ue(ho),ue(lo)}function T1(f){Yr(lo.current);var g=Yr(Sn.current),y=xd(g,f.type);g!==y&&(ae(ho,f),ae(Sn,y))}function Jc(f){ho.current===f&&(ue(Sn),ue(ho))}var pe=Pr(0);function ml(f){for(var g=f;g!==null;){if(g.tag===13){var y=g.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var $f=[];function kc(){for(var f=0;f<$f.length;f++)$f[f]._workInProgressVersionPrimary=null;$f.length=0}var Yh=$n.ReactCurrentDispatcher,Kf=$n.ReactCurrentBatchConfig,Zr=0,me=null,Oe=null,Ge=null,yl=!1,Ya=!1,uo=0,fM=0;function je(){throw Error(xt(321))}function qc(f,g){if(g===null)return!1;for(var y=0;y<g.length&&y<f.length;y++)if(!un(f[y],g[y]))return!1;return!0}function _c(f,g,y,E,w,R){if(Zr=R,me=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Yh.current=f===null||f.memoizedState===null?pM:gM,f=y(E,w),Ya){R=0;do{if(Ya=!1,uo=0,25<=R)throw Error(xt(301));R+=1,Ge=Oe=null,g.updateQueue=null,Yh.current=mM,f=y(E,w)}while(Ya)}if(Yh.current=xl,g=Oe!==null&&Oe.next!==null,Zr=0,Ge=Oe=me=null,yl=!1,g)throw Error(xt(300));return f}function tv(){var f=uo!==0;return uo=0,f}function gn(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?me.memoizedState=Ge=f:Ge=Ge.next=f,Ge}function ji(){if(Oe===null){var f=me.alternate;f=f!==null?f.memoizedState:null}else f=Oe.next;var g=Ge===null?me.memoizedState:Ge.next;if(g!==null)Ge=g,Oe=f;else{if(f===null)throw Error(xt(310));Oe=f,f={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ge===null?me.memoizedState=Ge=f:Ge=Ge.next=f}return Ge}function fo(f,g){return typeof g=="function"?g(f):g}function jf(f){var g=ji(),y=g.queue;if(y===null)throw Error(xt(311));y.lastRenderedReducer=f;var E=Oe,w=E.baseQueue,R=y.pending;if(R!==null){if(w!==null){var c=w.next;w.next=R.next,R.next=c}E.baseQueue=w=R,y.pending=null}if(w!==null){R=w.next,E=E.baseState;var x=c=null,t=null,a=R;do{var p=a.lane;if((Zr&p)===p)t!==null&&(t=t.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),E=a.hasEagerState?a.eagerState:f(E,a.action);else{var o={lane:p,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};t===null?(x=t=o,c=E):t=t.next=o,me.lanes|=p,Qr|=p}a=a.next}while(a!==null&&a!==R);t===null?c=E:t.next=x,un(E,g.memoizedState)||(ui=!0),g.memoizedState=E,g.baseState=c,g.baseQueue=t,y.lastRenderedState=E}if(f=y.interleaved,f!==null){w=f;do R=w.lane,me.lanes|=R,Qr|=R,w=w.next;while(w!==f)}else w===null&&(y.lanes=0);return[g.memoizedState,y.dispatch]}function Zf(f){var g=ji(),y=g.queue;if(y===null)throw Error(xt(311));y.lastRenderedReducer=f;var E=y.dispatch,w=y.pending,R=g.memoizedState;if(w!==null){y.pending=null;var c=w=w.next;do R=f(R,c.action),c=c.next;while(c!==w);un(R,g.memoizedState)||(ui=!0),g.memoizedState=R,g.baseQueue===null&&(g.baseState=R),y.lastRenderedState=R}return[R,E]}function S1(){}function C1(f,g){var y=me,E=ji(),w=g(),R=!un(E.memoizedState,w);if(R&&(E.memoizedState=w,ui=!0),E=E.queue,ev(A1.bind(null,y,E,f),[f]),E.getSnapshot!==g||R||Ge!==null&&Ge.memoizedState.tag&1){if(y.flags|=2048,co(9,P1.bind(null,y,E,w,g),void 0,null),ze===null)throw Error(xt(349));Zr&30||E1(y,g,w)}return w}function E1(f,g,y){f.flags|=16384,f={getSnapshot:g,value:y},g=me.updateQueue,g===null?(g={lastEffect:null,stores:null},me.updateQueue=g,g.stores=[f]):(y=g.stores,y===null?g.stores=[f]:y.push(f))}function P1(f,g,y,E){g.value=y,g.getSnapshot=E,w1(g)&&M1(f)}function A1(f,g,y){return y(function(){w1(g)&&M1(f)})}function w1(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!un(f,y)}catch{return!0}}function M1(f){var g=Yn(f,1);g!==null&&ln(g,f,1,-1)}function tm(f){var g=gn();return typeof f=="function"&&(f=f()),g.memoizedState=g.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:f},g.queue=f,f=f.dispatch=vM.bind(null,me,f),[g.memoizedState,f]}function co(f,g,y,E){return f={tag:f,create:g,destroy:y,deps:E,next:null},g=me.updateQueue,g===null?(g={lastEffect:null,stores:null},me.updateQueue=g,g.lastEffect=f.next=f):(y=g.lastEffect,y===null?g.lastEffect=f.next=f:(E=y.next,y.next=f,f.next=E,g.lastEffect=f)),f}function R1(){return ji().memoizedState}function Hh(f,g,y,E){var w=gn();me.flags|=f,w.memoizedState=co(1|g,y,void 0,E===void 0?null:E)}function zl(f,g,y,E){var w=ji();E=E===void 0?null:E;var R=void 0;if(Oe!==null){var c=Oe.memoizedState;if(R=c.destroy,E!==null&&qc(E,c.deps)){w.memoizedState=co(g,y,R,E);return}}me.flags|=f,w.memoizedState=co(1|g,y,R,E)}function em(f,g){return Hh(8390656,8,f,g)}function ev(f,g){return zl(2048,8,f,g)}function L1(f,g){return zl(4,2,f,g)}function F1(f,g){return zl(4,4,f,g)}function O1(f,g){if(typeof g=="function")return f=f(),g(f),function(){g(null)};if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function D1(f,g,y){return y=y!=null?y.concat([f]):null,zl(4,4,O1.bind(null,g,f),y)}function iv(){}function I1(f,g){var y=ji();g=g===void 0?null:g;var E=y.memoizedState;return E!==null&&g!==null&&qc(g,E[1])?E[0]:(y.memoizedState=[f,g],f)}function B1(f,g){var y=ji();g=g===void 0?null:g;var E=y.memoizedState;return E!==null&&g!==null&&qc(g,E[1])?E[0]:(f=f(),y.memoizedState=[f,g],f)}function N1(f,g,y){return Zr&21?(un(y,g)||(y=by(),me.lanes|=y,Qr|=y,f.baseState=!0),g):(f.baseState&&(f.baseState=!1,ui=!0),f.memoizedState=y)}function dM(f,g){var y=ee;ee=y!==0&&4>y?y:4,f(!0);var E=Kf.transition;Kf.transition={};try{f(!1),g()}finally{ee=y,Kf.transition=E}}function G1(){return ji().memoizedState}function cM(f,g,y){var E=pr(f);if(y={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null},z1(f))b1(g,y);else if(y=v1(f,g,y,E),y!==null){var w=ii();ln(y,f,E,w),U1(y,g,E)}}function vM(f,g,y){var E=pr(f),w={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null};if(z1(f))b1(g,w);else{var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=g.lastRenderedReducer,R!==null))try{var c=g.lastRenderedState,x=R(c,y);if(w.hasEagerState=!0,w.eagerState=x,un(x,c)){var t=g.interleaved;t===null?(w.next=w,jc(g)):(w.next=t.next,t.next=w),g.interleaved=w;return}}catch{}finally{}y=v1(f,g,w,E),y!==null&&(w=ii(),ln(y,f,E,w),U1(y,g,E))}}function z1(f){var g=f.alternate;return f===me||g!==null&&g===me}function b1(f,g){Ya=yl=!0;var y=f.pending;y===null?g.next=g:(g.next=y.next,y.next=g),f.pending=g}function U1(f,g,y){if(y&4194240){var E=g.lanes;E&=f.pendingLanes,y|=E,g.lanes=y,Ic(f,y)}}var xl={readContext:Ki,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},pM={readContext:Ki,useCallback:function(f,g){return gn().memoizedState=[f,g===void 0?null:g],f},useContext:Ki,useEffect:em,useImperativeHandle:function(f,g,y){return y=y!=null?y.concat([f]):null,Hh(4194308,4,O1.bind(null,g,f),y)},useLayoutEffect:function(f,g){return Hh(4194308,4,f,g)},useInsertionEffect:function(f,g){return Hh(4,2,f,g)},useMemo:function(f,g){var y=gn();return g=g===void 0?null:g,f=f(),y.memoizedState=[f,g],f},useReducer:function(f,g,y){var E=gn();return g=y!==void 0?y(g):g,E.memoizedState=E.baseState=g,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:g},E.queue=f,f=f.dispatch=cM.bind(null,me,f),[E.memoizedState,f]},useRef:function(f){var g=gn();return f={current:f},g.memoizedState=f},useState:tm,useDebugValue:iv,useDeferredValue:function(f){return gn().memoizedState=f},useTransition:function(){var f=tm(!1),g=f[0];return f=dM.bind(null,f[1]),gn().memoizedState=f,[g,f]},useMutableSource:function(){},useSyncExternalStore:function(f,g,y){var E=me,w=gn();if(ce){if(y===void 0)throw Error(xt(407));y=y()}else{if(y=g(),ze===null)throw Error(xt(349));Zr&30||E1(E,g,y)}w.memoizedState=y;var R={value:y,getSnapshot:g};return w.queue=R,em(A1.bind(null,E,R,f),[f]),E.flags|=2048,co(9,P1.bind(null,E,R,y,g),void 0,null),y},useId:function(){var f=gn(),g=ze.identifierPrefix;if(ce){var y=bn,E=zn;y=(E&~(1<<32-hn(E)-1)).toString(32)+y,g=":"+g+"R"+y,y=uo++,0<y&&(g+="H"+y.toString(32)),g+=":"}else y=fM++,g=":"+g+"r"+y.toString(32)+":";return f.memoizedState=g},unstable_isNewReconciler:!1},gM={readContext:Ki,useCallback:I1,useContext:Ki,useEffect:ev,useImperativeHandle:D1,useInsertionEffect:L1,useLayoutEffect:F1,useMemo:B1,useReducer:jf,useRef:R1,useState:function(){return jf(fo)},useDebugValue:iv,useDeferredValue:function(f){var g=ji();return N1(g,Oe.memoizedState,f)},useTransition:function(){var f=jf(fo)[0],g=ji().memoizedState;return[f,g]},useMutableSource:S1,useSyncExternalStore:C1,useId:G1,unstable_isNewReconciler:!1},mM={readContext:Ki,useCallback:I1,useContext:Ki,useEffect:ev,useImperativeHandle:D1,useInsertionEffect:L1,useLayoutEffect:F1,useMemo:B1,useReducer:Zf,useRef:R1,useState:function(){return Zf(fo)},useDebugValue:iv,useDeferredValue:function(f){var g=ji();return Oe===null?g.memoizedState=f:N1(g,Oe.memoizedState,f)},useTransition:function(){var f=Zf(fo)[0],g=ji().memoizedState;return[f,g]},useMutableSource:S1,useSyncExternalStore:C1,useId:G1,unstable_isNewReconciler:!1};function Qs(f,g){try{var y="",E=g;do y+=$4(E),E=E.return;while(E);var w=y}catch(R){w=`
Error generating stack: `+R.message+`
`+R.stack}return{value:f,source:g,stack:w,digest:null}}function Qf(f,g,y){return{value:f,source:null,stack:y??null,digest:g??null}}function Xd(f,g){try{console.error(g.value)}catch(y){setTimeout(function(){throw y})}}var yM=typeof WeakMap=="function"?WeakMap:Map;function V1(f,g,y){y=Vn(-1,y),y.tag=3,y.payload={element:null};var E=g.value;return y.callback=function(){Sl||(Sl=!0,qd=E),Xd(f,g)},y}function W1(f,g,y){y=Vn(-1,y),y.tag=3;var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var w=g.value;y.payload=function(){return E(w)},y.callback=function(){Xd(f,g)}}var R=f.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){Xd(f,g),typeof E!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var c=g.stack;this.componentDidCatch(g.value,{componentStack:c!==null?c:""})}),y}function im(f,g,y){var E=f.pingCache;if(E===null){E=f.pingCache=new yM;var w=new Set;E.set(g,w)}else w=E.get(g),w===void 0&&(w=new Set,E.set(g,w));w.has(y)||(w.add(y),f=DM.bind(null,f,g,y),g.then(f,f))}function nm(f){do{var g;if((g=f.tag===13)&&(g=f.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return f;f=f.return}while(f!==null);return null}function rm(f,g,y,E,w){return f.mode&1?(f.flags|=65536,f.lanes=w,f):(f===g?f.flags|=65536:(f.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(g=Vn(-1,1),g.tag=2,cr(y,g,1))),y.lanes|=1),f)}var xM=$n.ReactCurrentOwner,ui=!1;function ei(f,g,y,E){g.child=f===null?x1(g,null,y,E):js(g,f.child,y,E)}function sm(f,g,y,E,w){y=y.render;var R=g.ref;return bs(g,w),E=_c(f,g,y,E,R,w),y=tv(),f!==null&&!ui?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~w,Hn(f,g,w)):(ce&&y&&Wc(g),g.flags|=1,ei(f,g,E,w),g.child)}function am(f,g,y,E,w){if(f===null){var R=y.type;return typeof R=="function"&&!uv(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(g.tag=15,g.type=R,X1(f,g,R,E,w)):(f=Zh(y.type,null,E,g,g.mode,w),f.ref=g.ref,f.return=g,g.child=f)}if(R=f.child,!(f.lanes&w)){var c=R.memoizedProps;if(y=y.compare,y=y!==null?y:ro,y(c,E)&&f.ref===g.ref)return Hn(f,g,w)}return g.flags|=1,f=gr(R,E),f.ref=g.ref,f.return=g,g.child=f}function X1(f,g,y,E,w){if(f!==null){var R=f.memoizedProps;if(ro(R,E)&&f.ref===g.ref)if(ui=!1,g.pendingProps=E=R,(f.lanes&w)!==0)f.flags&131072&&(ui=!0);else return g.lanes=f.lanes,Hn(f,g,w)}return Yd(f,g,y,E,w)}function Y1(f,g,y){var E=g.pendingProps,w=E.children,R=f!==null?f.memoizedState:null;if(E.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Os,Si),Si|=y;else{if(!(y&1073741824))return f=R!==null?R.baseLanes|y:y,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:f,cachePool:null,transitions:null},g.updateQueue=null,ae(Os,Si),Si|=f,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=R!==null?R.baseLanes:y,ae(Os,Si),Si|=E}else R!==null?(E=R.baseLanes|y,g.memoizedState=null):E=y,ae(Os,Si),Si|=E;return ei(f,g,w,y),g.child}function H1(f,g){var y=g.ref;(f===null&&y!==null||f!==null&&f.ref!==y)&&(g.flags|=512,g.flags|=2097152)}function Yd(f,g,y,E,w){var R=di(y)?Kr:Je.current;return R=$s(g,R),bs(g,w),y=_c(f,g,y,E,R,w),E=tv(),f!==null&&!ui?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~w,Hn(f,g,w)):(ce&&E&&Wc(g),g.flags|=1,ei(f,g,y,w),g.child)}function om(f,g,y,E,w){if(di(y)){var R=!0;fl(g)}else R=!1;if(bs(g,w),g.stateNode===null)$h(f,g),m1(g,y,E),Wd(g,y,E,w),E=!0;else if(f===null){var c=g.stateNode,x=g.memoizedProps;c.props=x;var t=c.context,a=y.contextType;typeof a=="object"&&a!==null?a=Ki(a):(a=di(y)?Kr:Je.current,a=$s(g,a));var p=y.getDerivedStateFromProps,o=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function";o||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(x!==E||t!==a)&&qg(g,c,E,a),rr=!1;var s=g.memoizedState;c.state=s,gl(g,E,c,w),t=g.memoizedState,x!==E||s!==t||fi.current||rr?(typeof p=="function"&&(Vd(g,y,p,E),t=g.memoizedState),(x=rr||kg(g,y,x,E,s,t,a))?(o||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(g.flags|=4194308)):(typeof c.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=E,g.memoizedState=t),c.props=E,c.state=t,c.context=a,E=x):(typeof c.componentDidMount=="function"&&(g.flags|=4194308),E=!1)}else{c=g.stateNode,p1(f,g),x=g.memoizedProps,a=g.type===g.elementType?x:rn(g.type,x),c.props=a,o=g.pendingProps,s=c.context,t=y.contextType,typeof t=="object"&&t!==null?t=Ki(t):(t=di(y)?Kr:Je.current,t=$s(g,t));var r=y.getDerivedStateFromProps;(p=typeof r=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(x!==o||s!==t)&&qg(g,c,E,t),rr=!1,s=g.memoizedState,c.state=s,gl(g,E,c,w);var e=g.memoizedState;x!==o||s!==e||fi.current||rr?(typeof r=="function"&&(Vd(g,y,r,E),e=g.memoizedState),(a=rr||kg(g,y,a,E,s,e,t)||!1)?(p||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(E,e,t),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(E,e,t)),typeof c.componentDidUpdate=="function"&&(g.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof c.componentDidUpdate!="function"||x===f.memoizedProps&&s===f.memoizedState||(g.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||x===f.memoizedProps&&s===f.memoizedState||(g.flags|=1024),g.memoizedProps=E,g.memoizedState=e),c.props=E,c.state=e,c.context=t,E=a):(typeof c.componentDidUpdate!="function"||x===f.memoizedProps&&s===f.memoizedState||(g.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||x===f.memoizedProps&&s===f.memoizedState||(g.flags|=1024),E=!1)}return Hd(f,g,y,E,R,w)}function Hd(f,g,y,E,w,R){H1(f,g);var c=(g.flags&128)!==0;if(!E&&!c)return w&&Kg(g,y,!1),Hn(f,g,R);E=g.stateNode,xM.current=g;var x=c&&typeof y.getDerivedStateFromError!="function"?null:E.render();return g.flags|=1,f!==null&&c?(g.child=js(g,f.child,null,R),g.child=js(g,null,x,R)):ei(f,g,x,R),g.memoizedState=E.state,w&&Kg(g,y,!0),g.child}function $1(f){var g=f.stateNode;g.pendingContext?$g(f,g.pendingContext,g.pendingContext!==g.context):g.context&&$g(f,g.context,!1),Qc(f,g.containerInfo)}function hm(f,g,y,E,w){return Ks(),Yc(w),g.flags|=256,ei(f,g,y,E),g.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Kd(f){return{baseLanes:f,cachePool:null,transitions:null}}function K1(f,g,y){var E=g.pendingProps,w=pe.current,R=!1,c=(g.flags&128)!==0,x;if((x=c)||(x=f!==null&&f.memoizedState===null?!1:(w&2)!==0),x?(R=!0,g.flags&=-129):(f===null||f.memoizedState!==null)&&(w|=1),ae(pe,w&1),f===null)return bd(g),f=g.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(g.mode&1?f.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(c=E.children,f=E.fallback,R?(E=g.mode,R=g.child,c={mode:"hidden",children:c},!(E&1)&&R!==null?(R.childLanes=0,R.pendingProps=c):R=Vl(c,E,0,null),f=$r(f,E,y,null),R.return=g,f.return=g,R.sibling=f,g.child=R,g.child.memoizedState=Kd(y),g.memoizedState=$d,f):nv(g,c));if(w=f.memoizedState,w!==null&&(x=w.dehydrated,x!==null))return TM(f,g,c,E,x,w,y);if(R){R=E.fallback,c=g.mode,w=f.child,x=w.sibling;var t={mode:"hidden",children:E.children};return!(c&1)&&g.child!==w?(E=g.child,E.childLanes=0,E.pendingProps=t,g.deletions=null):(E=gr(w,t),E.subtreeFlags=w.subtreeFlags&14680064),x!==null?R=gr(x,R):(R=$r(R,c,y,null),R.flags|=2),R.return=g,E.return=g,E.sibling=R,g.child=E,E=R,R=g.child,c=f.child.memoizedState,c=c===null?Kd(y):{baseLanes:c.baseLanes|y,cachePool:null,transitions:c.transitions},R.memoizedState=c,R.childLanes=f.childLanes&~y,g.memoizedState=$d,E}return R=f.child,f=R.sibling,E=gr(R,{mode:"visible",children:E.children}),!(g.mode&1)&&(E.lanes=y),E.return=g,E.sibling=null,f!==null&&(y=g.deletions,y===null?(g.deletions=[f],g.flags|=16):y.push(f)),g.child=E,g.memoizedState=null,E}function nv(f,g){return g=Vl({mode:"visible",children:g},f.mode,0,null),g.return=f,f.child=g}function wh(f,g,y,E){return E!==null&&Yc(E),js(g,f.child,null,y),f=nv(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function TM(f,g,y,E,w,R,c){if(y)return g.flags&256?(g.flags&=-257,E=Qf(Error(xt(422))),wh(f,g,c,E)):g.memoizedState!==null?(g.child=f.child,g.flags|=128,null):(R=E.fallback,w=g.mode,E=Vl({mode:"visible",children:E.children},w,0,null),R=$r(R,w,c,null),R.flags|=2,E.return=g,R.return=g,E.sibling=R,g.child=E,g.mode&1&&js(g,f.child,null,c),g.child.memoizedState=Kd(c),g.memoizedState=$d,R);if(!(g.mode&1))return wh(f,g,c,null);if(w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var x=E.dgst;return E=x,R=Error(xt(419)),E=Qf(R,E,void 0),wh(f,g,c,E)}if(x=(c&f.childLanes)!==0,ui||x){if(E=ze,E!==null){switch(c&-c){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(E.suspendedLanes|c)?0:w,w!==0&&w!==R.retryLane&&(R.retryLane=w,Yn(f,w),ln(E,f,w,-1))}return lv(),E=Qf(Error(xt(421))),wh(f,g,c,E)}return w.data==="$?"?(g.flags|=128,g.child=f.child,g=IM.bind(null,f),w._reactRetry=g,null):(f=R.treeContext,Ci=dr(w.nextSibling),Ei=g,ce=!0,an=null,f!==null&&(Ui[Vi++]=zn,Ui[Vi++]=bn,Ui[Vi++]=jr,zn=f.id,bn=f.overflow,jr=g),g=nv(g,E.children),g.flags|=4096,g)}function lm(f,g,y){f.lanes|=g;var E=f.alternate;E!==null&&(E.lanes|=g),Ud(f.return,g,y)}function Jf(f,g,y,E,w){var R=f.memoizedState;R===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:w}:(R.isBackwards=g,R.rendering=null,R.renderingStartTime=0,R.last=E,R.tail=y,R.tailMode=w)}function j1(f,g,y){var E=g.pendingProps,w=E.revealOrder,R=E.tail;if(ei(f,g,E.children,y),E=pe.current,E&2)E=E&1|2,g.flags|=128;else{if(f!==null&&f.flags&128)t:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&lm(f,y,g);else if(f.tag===19)lm(f,y,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break t;for(;f.sibling===null;){if(f.return===null||f.return===g)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}if(ae(pe,E),!(g.mode&1))g.memoizedState=null;else switch(w){case"forwards":for(y=g.child,w=null;y!==null;)f=y.alternate,f!==null&&ml(f)===null&&(w=y),y=y.sibling;y=w,y===null?(w=g.child,g.child=null):(w=y.sibling,y.sibling=null),Jf(g,!1,w,y,R);break;case"backwards":for(y=null,w=g.child,g.child=null;w!==null;){if(f=w.alternate,f!==null&&ml(f)===null){g.child=w;break}f=w.sibling,w.sibling=y,y=w,w=f}Jf(g,!0,y,null,R);break;case"together":Jf(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function $h(f,g){!(g.mode&1)&&f!==null&&(f.alternate=null,g.alternate=null,g.flags|=2)}function Hn(f,g,y){if(f!==null&&(g.dependencies=f.dependencies),Qr|=g.lanes,!(y&g.childLanes))return null;if(f!==null&&g.child!==f.child)throw Error(xt(153));if(g.child!==null){for(f=g.child,y=gr(f,f.pendingProps),g.child=y,y.return=g;f.sibling!==null;)f=f.sibling,y=y.sibling=gr(f,f.pendingProps),y.return=g;y.sibling=null}return g.child}function SM(f,g,y){switch(g.tag){case 3:$1(g),Ks();break;case 5:T1(g);break;case 1:di(g.type)&&fl(g);break;case 4:Qc(g,g.stateNode.containerInfo);break;case 10:var E=g.type._context,w=g.memoizedProps.value;ae(vl,E._currentValue),E._currentValue=w;break;case 13:if(E=g.memoizedState,E!==null)return E.dehydrated!==null?(ae(pe,pe.current&1),g.flags|=128,null):y&g.child.childLanes?K1(f,g,y):(ae(pe,pe.current&1),f=Hn(f,g,y),f!==null?f.sibling:null);ae(pe,pe.current&1);break;case 19:if(E=(y&g.childLanes)!==0,f.flags&128){if(E)return j1(f,g,y);g.flags|=128}if(w=g.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ae(pe,pe.current),E)break;return null;case 22:case 23:return g.lanes=0,Y1(f,g,y)}return Hn(f,g,y)}var Z1,jd,Q1,J1;Z1=function(f,g){for(var y=g.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};jd=function(){};Q1=function(f,g,y,E){var w=f.memoizedProps;if(w!==E){f=g.stateNode,Yr(Sn.current);var R=null;switch(y){case"input":w=pd(f,w),E=pd(f,E),R=[];break;case"select":w=ye({},w,{value:void 0}),E=ye({},E,{value:void 0}),R=[];break;case"textarea":w=yd(f,w),E=yd(f,E),R=[];break;default:typeof w.onClick!="function"&&typeof E.onClick=="function"&&(f.onclick=ll)}Td(y,E);var c;y=null;for(a in w)if(!E.hasOwnProperty(a)&&w.hasOwnProperty(a)&&w[a]!=null)if(a==="style"){var x=w[a];for(c in x)x.hasOwnProperty(c)&&(y||(y={}),y[c]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ka.hasOwnProperty(a)?R||(R=[]):(R=R||[]).push(a,null));for(a in E){var t=E[a];if(x=w!=null?w[a]:void 0,E.hasOwnProperty(a)&&t!==x&&(t!=null||x!=null))if(a==="style")if(x){for(c in x)!x.hasOwnProperty(c)||t&&t.hasOwnProperty(c)||(y||(y={}),y[c]="");for(c in t)t.hasOwnProperty(c)&&x[c]!==t[c]&&(y||(y={}),y[c]=t[c])}else y||(R||(R=[]),R.push(a,y)),y=t;else a==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,x=x?x.__html:void 0,t!=null&&x!==t&&(R=R||[]).push(a,t)):a==="children"?typeof t!="string"&&typeof t!="number"||(R=R||[]).push(a,""+t):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(ka.hasOwnProperty(a)?(t!=null&&a==="onScroll"&&le("scroll",f),R||x===t||(R=[])):(R=R||[]).push(a,t))}y&&(R=R||[]).push("style",y);var a=R;(g.updateQueue=a)&&(g.flags|=4)}};J1=function(f,g,y,E){y!==E&&(g.flags|=4)};function Ma(f,g){if(!ce)switch(f.tailMode){case"hidden":g=f.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function Ze(f){var g=f.alternate!==null&&f.alternate.child===f.child,y=0,E=0;if(g)for(var w=f.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags&14680064,E|=w.flags&14680064,w.return=f,w=w.sibling;else for(w=f.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags,E|=w.flags,w.return=f,w=w.sibling;return f.subtreeFlags|=E,f.childLanes=y,g}function CM(f,g,y){var E=g.pendingProps;switch(Xc(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(g),null;case 1:return di(g.type)&&ul(),Ze(g),null;case 3:return E=g.stateNode,Zs(),ue(fi),ue(Je),kc(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(f===null||f.child===null)&&(Ph(g)?g.flags|=4:f===null||f.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,an!==null&&(ec(an),an=null))),jd(f,g),Ze(g),null;case 5:Jc(g);var w=Yr(lo.current);if(y=g.type,f!==null&&g.stateNode!=null)Q1(f,g,y,E,w),f.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!E){if(g.stateNode===null)throw Error(xt(166));return Ze(g),null}if(f=Yr(Sn.current),Ph(g)){E=g.stateNode,y=g.type;var R=g.memoizedProps;switch(E[yn]=g,E[oo]=R,f=(g.mode&1)!==0,y){case"dialog":le("cancel",E),le("close",E);break;case"iframe":case"object":case"embed":le("load",E);break;case"video":case"audio":for(w=0;w<Ga.length;w++)le(Ga[w],E);break;case"source":le("error",E);break;case"img":case"image":case"link":le("error",E),le("load",E);break;case"details":le("toggle",E);break;case"input":yg(E,R),le("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!R.multiple},le("invalid",E);break;case"textarea":Tg(E,R),le("invalid",E)}Td(y,R),w=null;for(var c in R)if(R.hasOwnProperty(c)){var x=R[c];c==="children"?typeof x=="string"?E.textContent!==x&&(R.suppressHydrationWarning!==!0&&Eh(E.textContent,x,f),w=["children",x]):typeof x=="number"&&E.textContent!==""+x&&(R.suppressHydrationWarning!==!0&&Eh(E.textContent,x,f),w=["children",""+x]):ka.hasOwnProperty(c)&&x!=null&&c==="onScroll"&&le("scroll",E)}switch(y){case"input":ph(E),xg(E,R,!0);break;case"textarea":ph(E),Sg(E);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(E.onclick=ll)}E=w,g.updateQueue=E,E!==null&&(g.flags|=4)}else{c=w.nodeType===9?w:w.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Ey(y)),f==="http://www.w3.org/1999/xhtml"?y==="script"?(f=c.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof E.is=="string"?f=c.createElement(y,{is:E.is}):(f=c.createElement(y),y==="select"&&(c=f,E.multiple?c.multiple=!0:E.size&&(c.size=E.size))):f=c.createElementNS(f,y),f[yn]=g,f[oo]=E,Z1(f,g,!1,!1),g.stateNode=f;t:{switch(c=Sd(y,E),y){case"dialog":le("cancel",f),le("close",f),w=E;break;case"iframe":case"object":case"embed":le("load",f),w=E;break;case"video":case"audio":for(w=0;w<Ga.length;w++)le(Ga[w],f);w=E;break;case"source":le("error",f),w=E;break;case"img":case"image":case"link":le("error",f),le("load",f),w=E;break;case"details":le("toggle",f),w=E;break;case"input":yg(f,E),w=pd(f,E),le("invalid",f);break;case"option":w=E;break;case"select":f._wrapperState={wasMultiple:!!E.multiple},w=ye({},E,{value:void 0}),le("invalid",f);break;case"textarea":Tg(f,E),w=yd(f,E),le("invalid",f);break;default:w=E}Td(y,w),x=w;for(R in x)if(x.hasOwnProperty(R)){var t=x[R];R==="style"?wy(f,t):R==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&Py(f,t)):R==="children"?typeof t=="string"?(y!=="textarea"||t!=="")&&qa(f,t):typeof t=="number"&&qa(f,""+t):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(ka.hasOwnProperty(R)?t!=null&&R==="onScroll"&&le("scroll",f):t!=null&&Mc(f,R,t,c))}switch(y){case"input":ph(f),xg(f,E,!1);break;case"textarea":ph(f),Sg(f);break;case"option":E.value!=null&&f.setAttribute("value",""+xr(E.value));break;case"select":f.multiple=!!E.multiple,R=E.value,R!=null?Bs(f,!!E.multiple,R,!1):E.defaultValue!=null&&Bs(f,!!E.multiple,E.defaultValue,!0);break;default:typeof w.onClick=="function"&&(f.onclick=ll)}switch(y){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break t;case"img":E=!0;break t;default:E=!1}}E&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ze(g),null;case 6:if(f&&g.stateNode!=null)J1(f,g,f.memoizedProps,E);else{if(typeof E!="string"&&g.stateNode===null)throw Error(xt(166));if(y=Yr(lo.current),Yr(Sn.current),Ph(g)){if(E=g.stateNode,y=g.memoizedProps,E[yn]=g,(R=E.nodeValue!==y)&&(f=Ei,f!==null))switch(f.tag){case 3:Eh(E.nodeValue,y,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Eh(E.nodeValue,y,(f.mode&1)!==0)}R&&(g.flags|=4)}else E=(y.nodeType===9?y:y.ownerDocument).createTextNode(E),E[yn]=g,g.stateNode=E}return Ze(g),null;case 13:if(ue(pe),E=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(ce&&Ci!==null&&g.mode&1&&!(g.flags&128))c1(),Ks(),g.flags|=98560,R=!1;else if(R=Ph(g),E!==null&&E.dehydrated!==null){if(f===null){if(!R)throw Error(xt(318));if(R=g.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(xt(317));R[yn]=g}else Ks(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;Ze(g),R=!1}else an!==null&&(ec(an),an=null),R=!0;if(!R)return g.flags&65536?g:null}return g.flags&128?(g.lanes=y,g):(E=E!==null,E!==(f!==null&&f.memoizedState!==null)&&E&&(g.child.flags|=8192,g.mode&1&&(f===null||pe.current&1?De===0&&(De=3):lv())),g.updateQueue!==null&&(g.flags|=4),Ze(g),null);case 4:return Zs(),jd(f,g),f===null&&so(g.stateNode.containerInfo),Ze(g),null;case 10:return Kc(g.type._context),Ze(g),null;case 17:return di(g.type)&&ul(),Ze(g),null;case 19:if(ue(pe),R=g.memoizedState,R===null)return Ze(g),null;if(E=(g.flags&128)!==0,c=R.rendering,c===null)if(E)Ma(R,!1);else{if(De!==0||f!==null&&f.flags&128)for(f=g.child;f!==null;){if(c=ml(f),c!==null){for(g.flags|=128,Ma(R,!1),E=c.updateQueue,E!==null&&(g.updateQueue=E,g.flags|=4),g.subtreeFlags=0,E=y,y=g.child;y!==null;)R=y,f=E,R.flags&=14680066,c=R.alternate,c===null?(R.childLanes=0,R.lanes=f,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=c.childLanes,R.lanes=c.lanes,R.child=c.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=c.memoizedProps,R.memoizedState=c.memoizedState,R.updateQueue=c.updateQueue,R.type=c.type,f=c.dependencies,R.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),y=y.sibling;return ae(pe,pe.current&1|2),g.child}f=f.sibling}R.tail!==null&&we()>Js&&(g.flags|=128,E=!0,Ma(R,!1),g.lanes=4194304)}else{if(!E)if(f=ml(c),f!==null){if(g.flags|=128,E=!0,y=f.updateQueue,y!==null&&(g.updateQueue=y,g.flags|=4),Ma(R,!0),R.tail===null&&R.tailMode==="hidden"&&!c.alternate&&!ce)return Ze(g),null}else 2*we()-R.renderingStartTime>Js&&y!==1073741824&&(g.flags|=128,E=!0,Ma(R,!1),g.lanes=4194304);R.isBackwards?(c.sibling=g.child,g.child=c):(y=R.last,y!==null?y.sibling=c:g.child=c,R.last=c)}return R.tail!==null?(g=R.tail,R.rendering=g,R.tail=g.sibling,R.renderingStartTime=we(),g.sibling=null,y=pe.current,ae(pe,E?y&1|2:y&1),g):(Ze(g),null);case 22:case 23:return hv(),E=g.memoizedState!==null,f!==null&&f.memoizedState!==null!==E&&(g.flags|=8192),E&&g.mode&1?Si&1073741824&&(Ze(g),g.subtreeFlags&6&&(g.flags|=8192)):Ze(g),null;case 24:return null;case 25:return null}throw Error(xt(156,g.tag))}function EM(f,g){switch(Xc(g),g.tag){case 1:return di(g.type)&&ul(),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return Zs(),ue(fi),ue(Je),kc(),f=g.flags,f&65536&&!(f&128)?(g.flags=f&-65537|128,g):null;case 5:return Jc(g),null;case 13:if(ue(pe),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(xt(340));Ks()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return ue(pe),null;case 4:return Zs(),null;case 10:return Kc(g.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var Mh=!1,Qe=!1,PM=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Fs(f,g){var y=f.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(E){Ce(f,g,E)}else y.current=null}function Zd(f,g,y){try{y()}catch(E){Ce(f,g,E)}}var um=!1;function AM(f,g){if(Od=al,f=t1(),Vc(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else t:{y=(y=f.ownerDocument)&&y.defaultView||window;var E=y.getSelection&&y.getSelection();if(E&&E.rangeCount!==0){y=E.anchorNode;var w=E.anchorOffset,R=E.focusNode;E=E.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break t}var c=0,x=-1,t=-1,a=0,p=0,o=f,s=null;e:for(;;){for(var r;o!==y||w!==0&&o.nodeType!==3||(x=c+w),o!==R||E!==0&&o.nodeType!==3||(t=c+E),o.nodeType===3&&(c+=o.nodeValue.length),(r=o.firstChild)!==null;)s=o,o=r;for(;;){if(o===f)break e;if(s===y&&++a===w&&(x=c),s===R&&++p===E&&(t=c),(r=o.nextSibling)!==null)break;o=s,s=o.parentNode}o=r}y=x===-1||t===-1?null:{start:x,end:t}}else y=null}y=y||{start:0,end:0}}else y=null;for(Dd={focusedElem:f,selectionRange:y},al=!1,Rt=g;Rt!==null;)if(g=Rt,f=g.child,(g.subtreeFlags&1028)!==0&&f!==null)f.return=g,Rt=f;else for(;Rt!==null;){g=Rt;try{var e=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(e!==null){var n=e.memoizedProps,l=e.memoizedState,i=g.stateNode,h=i.getSnapshotBeforeUpdate(g.elementType===g.type?n:rn(g.type,n),l);i.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var u=g.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xt(163))}}catch(d){Ce(g,g.return,d)}if(f=g.sibling,f!==null){f.return=g.return,Rt=f;break}Rt=g.return}return e=um,um=!1,e}function Ha(f,g,y){var E=g.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var w=E=E.next;do{if((w.tag&f)===f){var R=w.destroy;w.destroy=void 0,R!==void 0&&Zd(g,y,R)}w=w.next}while(w!==E)}}function bl(f,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&f)===f){var E=y.create;y.destroy=E()}y=y.next}while(y!==g)}}function Qd(f){var g=f.ref;if(g!==null){var y=f.stateNode;switch(f.tag){case 5:f=y;break;default:f=y}typeof g=="function"?g(f):g.current=f}}function k1(f){var g=f.alternate;g!==null&&(f.alternate=null,k1(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&(delete g[yn],delete g[oo],delete g[Nd],delete g[oM],delete g[hM])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function q1(f){return f.tag===5||f.tag===3||f.tag===4}function fm(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||q1(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Jd(f,g,y){var E=f.tag;if(E===5||E===6)f=f.stateNode,g?y.nodeType===8?y.parentNode.insertBefore(f,g):y.insertBefore(f,g):(y.nodeType===8?(g=y.parentNode,g.insertBefore(f,y)):(g=y,g.appendChild(f)),y=y._reactRootContainer,y!=null||g.onclick!==null||(g.onclick=ll));else if(E!==4&&(f=f.child,f!==null))for(Jd(f,g,y),f=f.sibling;f!==null;)Jd(f,g,y),f=f.sibling}function kd(f,g,y){var E=f.tag;if(E===5||E===6)f=f.stateNode,g?y.insertBefore(f,g):y.appendChild(f);else if(E!==4&&(f=f.child,f!==null))for(kd(f,g,y),f=f.sibling;f!==null;)kd(f,g,y),f=f.sibling}var We=null,sn=!1;function ir(f,g,y){for(y=y.child;y!==null;)_1(f,g,y),y=y.sibling}function _1(f,g,y){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Fl,y)}catch{}switch(y.tag){case 5:Qe||Fs(y,g);case 6:var E=We,w=sn;We=null,ir(f,g,y),We=E,sn=w,We!==null&&(sn?(f=We,y=y.stateNode,f.nodeType===8?f.parentNode.removeChild(y):f.removeChild(y)):We.removeChild(y.stateNode));break;case 18:We!==null&&(sn?(f=We,y=y.stateNode,f.nodeType===8?Yf(f.parentNode,y):f.nodeType===1&&Yf(f,y),io(f)):Yf(We,y.stateNode));break;case 4:E=We,w=sn,We=y.stateNode.containerInfo,sn=!0,ir(f,g,y),We=E,sn=w;break;case 0:case 11:case 14:case 15:if(!Qe&&(E=y.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){w=E=E.next;do{var R=w,c=R.destroy;R=R.tag,c!==void 0&&(R&2||R&4)&&Zd(y,g,c),w=w.next}while(w!==E)}ir(f,g,y);break;case 1:if(!Qe&&(Fs(y,g),E=y.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=y.memoizedProps,E.state=y.memoizedState,E.componentWillUnmount()}catch(x){Ce(y,g,x)}ir(f,g,y);break;case 21:ir(f,g,y);break;case 22:y.mode&1?(Qe=(E=Qe)||y.memoizedState!==null,ir(f,g,y),Qe=E):ir(f,g,y);break;default:ir(f,g,y)}}function dm(f){var g=f.updateQueue;if(g!==null){f.updateQueue=null;var y=f.stateNode;y===null&&(y=f.stateNode=new PM),g.forEach(function(E){var w=BM.bind(null,f,E);y.has(E)||(y.add(E),E.then(w,w))})}}function nn(f,g){var y=g.deletions;if(y!==null)for(var E=0;E<y.length;E++){var w=y[E];try{var R=f,c=g,x=c;t:for(;x!==null;){switch(x.tag){case 5:We=x.stateNode,sn=!1;break t;case 3:We=x.stateNode.containerInfo,sn=!0;break t;case 4:We=x.stateNode.containerInfo,sn=!0;break t}x=x.return}if(We===null)throw Error(xt(160));_1(R,c,w),We=null,sn=!1;var t=w.alternate;t!==null&&(t.return=null),w.return=null}catch(a){Ce(w,g,a)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)tx(g,f),g=g.sibling}function tx(f,g){var y=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(nn(g,f),pn(f),E&4){try{Ha(3,f,f.return),bl(3,f)}catch(n){Ce(f,f.return,n)}try{Ha(5,f,f.return)}catch(n){Ce(f,f.return,n)}}break;case 1:nn(g,f),pn(f),E&512&&y!==null&&Fs(y,y.return);break;case 5:if(nn(g,f),pn(f),E&512&&y!==null&&Fs(y,y.return),f.flags&32){var w=f.stateNode;try{qa(w,"")}catch(n){Ce(f,f.return,n)}}if(E&4&&(w=f.stateNode,w!=null)){var R=f.memoizedProps,c=y!==null?y.memoizedProps:R,x=f.type,t=f.updateQueue;if(f.updateQueue=null,t!==null)try{x==="input"&&R.type==="radio"&&R.name!=null&&Sy(w,R),Sd(x,c);var a=Sd(x,R);for(c=0;c<t.length;c+=2){var p=t[c],o=t[c+1];p==="style"?wy(w,o):p==="dangerouslySetInnerHTML"?Py(w,o):p==="children"?qa(w,o):Mc(w,p,o,a)}switch(x){case"input":gd(w,R);break;case"textarea":Cy(w,R);break;case"select":var s=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!R.multiple;var r=R.value;r!=null?Bs(w,!!R.multiple,r,!1):s!==!!R.multiple&&(R.defaultValue!=null?Bs(w,!!R.multiple,R.defaultValue,!0):Bs(w,!!R.multiple,R.multiple?[]:"",!1))}w[oo]=R}catch(n){Ce(f,f.return,n)}}break;case 6:if(nn(g,f),pn(f),E&4){if(f.stateNode===null)throw Error(xt(162));w=f.stateNode,R=f.memoizedProps;try{w.nodeValue=R}catch(n){Ce(f,f.return,n)}}break;case 3:if(nn(g,f),pn(f),E&4&&y!==null&&y.memoizedState.isDehydrated)try{io(g.containerInfo)}catch(n){Ce(f,f.return,n)}break;case 4:nn(g,f),pn(f);break;case 13:nn(g,f),pn(f),w=f.child,w.flags&8192&&(R=w.memoizedState!==null,w.stateNode.isHidden=R,!R||w.alternate!==null&&w.alternate.memoizedState!==null||(av=we())),E&4&&dm(f);break;case 22:if(p=y!==null&&y.memoizedState!==null,f.mode&1?(Qe=(a=Qe)||p,nn(g,f),Qe=a):nn(g,f),pn(f),E&8192){if(a=f.memoizedState!==null,(f.stateNode.isHidden=a)&&!p&&f.mode&1)for(Rt=f,p=f.child;p!==null;){for(o=Rt=p;Rt!==null;){switch(s=Rt,r=s.child,s.tag){case 0:case 11:case 14:case 15:Ha(4,s,s.return);break;case 1:Fs(s,s.return);var e=s.stateNode;if(typeof e.componentWillUnmount=="function"){E=s,y=s.return;try{g=E,e.props=g.memoizedProps,e.state=g.memoizedState,e.componentWillUnmount()}catch(n){Ce(E,y,n)}}break;case 5:Fs(s,s.return);break;case 22:if(s.memoizedState!==null){vm(o);continue}}r!==null?(r.return=s,Rt=r):vm(o)}p=p.sibling}t:for(p=null,o=f;;){if(o.tag===5){if(p===null){p=o;try{w=o.stateNode,a?(R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(x=o.stateNode,t=o.memoizedProps.style,c=t!=null&&t.hasOwnProperty("display")?t.display:null,x.style.display=Ay("display",c))}catch(n){Ce(f,f.return,n)}}}else if(o.tag===6){if(p===null)try{o.stateNode.nodeValue=a?"":o.memoizedProps}catch(n){Ce(f,f.return,n)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===f)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===f)break t;for(;o.sibling===null;){if(o.return===null||o.return===f)break t;p===o&&(p=null),o=o.return}p===o&&(p=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:nn(g,f),pn(f),E&4&&dm(f);break;case 21:break;default:nn(g,f),pn(f)}}function pn(f){var g=f.flags;if(g&2){try{t:{for(var y=f.return;y!==null;){if(q1(y)){var E=y;break t}y=y.return}throw Error(xt(160))}switch(E.tag){case 5:var w=E.stateNode;E.flags&32&&(qa(w,""),E.flags&=-33);var R=fm(f);kd(f,R,w);break;case 3:case 4:var c=E.stateNode.containerInfo,x=fm(f);Jd(f,x,c);break;default:throw Error(xt(161))}}catch(t){Ce(f,f.return,t)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function wM(f,g,y){Rt=f,ex(f)}function ex(f,g,y){for(var E=(f.mode&1)!==0;Rt!==null;){var w=Rt,R=w.child;if(w.tag===22&&E){var c=w.memoizedState!==null||Mh;if(!c){var x=w.alternate,t=x!==null&&x.memoizedState!==null||Qe;x=Mh;var a=Qe;if(Mh=c,(Qe=t)&&!a)for(Rt=w;Rt!==null;)c=Rt,t=c.child,c.tag===22&&c.memoizedState!==null?pm(w):t!==null?(t.return=c,Rt=t):pm(w);for(;R!==null;)Rt=R,ex(R),R=R.sibling;Rt=w,Mh=x,Qe=a}cm(f)}else w.subtreeFlags&8772&&R!==null?(R.return=w,Rt=R):cm(f)}}function cm(f){for(;Rt!==null;){var g=Rt;if(g.flags&8772){var y=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:Qe||bl(5,g);break;case 1:var E=g.stateNode;if(g.flags&4&&!Qe)if(y===null)E.componentDidMount();else{var w=g.elementType===g.type?y.memoizedProps:rn(g.type,y.memoizedProps);E.componentDidUpdate(w,y.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var R=g.updateQueue;R!==null&&Jg(g,R,E);break;case 3:var c=g.updateQueue;if(c!==null){if(y=null,g.child!==null)switch(g.child.tag){case 5:y=g.child.stateNode;break;case 1:y=g.child.stateNode}Jg(g,c,y)}break;case 5:var x=g.stateNode;if(y===null&&g.flags&4){y=x;var t=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&y.focus();break;case"img":t.src&&(y.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var a=g.alternate;if(a!==null){var p=a.memoizedState;if(p!==null){var o=p.dehydrated;o!==null&&io(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xt(163))}Qe||g.flags&512&&Qd(g)}catch(s){Ce(g,g.return,s)}}if(g===f){Rt=null;break}if(y=g.sibling,y!==null){y.return=g.return,Rt=y;break}Rt=g.return}}function vm(f){for(;Rt!==null;){var g=Rt;if(g===f){Rt=null;break}var y=g.sibling;if(y!==null){y.return=g.return,Rt=y;break}Rt=g.return}}function pm(f){for(;Rt!==null;){var g=Rt;try{switch(g.tag){case 0:case 11:case 15:var y=g.return;try{bl(4,g)}catch(t){Ce(g,y,t)}break;case 1:var E=g.stateNode;if(typeof E.componentDidMount=="function"){var w=g.return;try{E.componentDidMount()}catch(t){Ce(g,w,t)}}var R=g.return;try{Qd(g)}catch(t){Ce(g,R,t)}break;case 5:var c=g.return;try{Qd(g)}catch(t){Ce(g,c,t)}}}catch(t){Ce(g,g.return,t)}if(g===f){Rt=null;break}var x=g.sibling;if(x!==null){x.return=g.return,Rt=x;break}Rt=g.return}}var MM=Math.ceil,Tl=$n.ReactCurrentDispatcher,rv=$n.ReactCurrentOwner,$i=$n.ReactCurrentBatchConfig,Jt=0,ze=null,Re=null,Xe=0,Si=0,Os=Pr(0),De=0,vo=null,Qr=0,Ul=0,sv=0,$a=null,li=null,av=0,Js=1/0,Nn=null,Sl=!1,qd=null,vr=null,Rh=!1,hr=null,Cl=0,Ka=0,_d=null,Kh=-1,jh=0;function ii(){return Jt&6?we():Kh!==-1?Kh:Kh=we()}function pr(f){return f.mode&1?Jt&2&&Xe!==0?Xe&-Xe:uM.transition!==null?(jh===0&&(jh=by()),jh):(f=ee,f!==0||(f=window.event,f=f===void 0?16:$y(f.type)),f):1}function ln(f,g,y,E){if(50<Ka)throw Ka=0,_d=null,Error(xt(185));xo(f,y,E),(!(Jt&2)||f!==ze)&&(f===ze&&(!(Jt&2)&&(Ul|=y),De===4&&ar(f,Xe)),ci(f,E),y===1&&Jt===0&&!(g.mode&1)&&(Js=we()+500,Nl&&Ar()))}function ci(f,g){var y=f.callbackNode;uw(f,g);var E=sl(f,f===ze?Xe:0);if(E===0)y!==null&&Pg(y),f.callbackNode=null,f.callbackPriority=0;else if(g=E&-E,f.callbackPriority!==g){if(y!=null&&Pg(y),g===1)f.tag===0?lM(gm.bind(null,f)):u1(gm.bind(null,f)),sM(function(){!(Jt&6)&&Ar()}),y=null;else{switch(Uy(E)){case 1:y=Dc;break;case 4:y=Gy;break;case 16:y=rl;break;case 536870912:y=zy;break;default:y=rl}y=lx(y,ix.bind(null,f))}f.callbackPriority=g,f.callbackNode=y}}function ix(f,g){if(Kh=-1,jh=0,Jt&6)throw Error(xt(327));var y=f.callbackNode;if(Us()&&f.callbackNode!==y)return null;var E=sl(f,f===ze?Xe:0);if(E===0)return null;if(E&30||E&f.expiredLanes||g)g=El(f,E);else{g=E;var w=Jt;Jt|=2;var R=rx();(ze!==f||Xe!==g)&&(Nn=null,Js=we()+500,Hr(f,g));do try{FM();break}catch(x){nx(f,x)}while(1);$c(),Tl.current=R,Jt=w,Re!==null?g=0:(ze=null,Xe=0,g=De)}if(g!==0){if(g===2&&(w=wd(f),w!==0&&(E=w,g=tc(f,w))),g===1)throw y=vo,Hr(f,0),ar(f,E),ci(f,we()),y;if(g===6)ar(f,E);else{if(w=f.current.alternate,!(E&30)&&!RM(w)&&(g=El(f,E),g===2&&(R=wd(f),R!==0&&(E=R,g=tc(f,R))),g===1))throw y=vo,Hr(f,0),ar(f,E),ci(f,we()),y;switch(f.finishedWork=w,f.finishedLanes=E,g){case 0:case 1:throw Error(xt(345));case 2:zr(f,li,Nn);break;case 3:if(ar(f,E),(E&130023424)===E&&(g=av+500-we(),10<g)){if(sl(f,0)!==0)break;if(w=f.suspendedLanes,(w&E)!==E){ii(),f.pingedLanes|=f.suspendedLanes&w;break}f.timeoutHandle=Bd(zr.bind(null,f,li,Nn),g);break}zr(f,li,Nn);break;case 4:if(ar(f,E),(E&4194240)===E)break;for(g=f.eventTimes,w=-1;0<E;){var c=31-hn(E);R=1<<c,c=g[c],c>w&&(w=c),E&=~R}if(E=w,E=we()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*MM(E/1960))-E,10<E){f.timeoutHandle=Bd(zr.bind(null,f,li,Nn),E);break}zr(f,li,Nn);break;case 5:zr(f,li,Nn);break;default:throw Error(xt(329))}}}return ci(f,we()),f.callbackNode===y?ix.bind(null,f):null}function tc(f,g){var y=$a;return f.current.memoizedState.isDehydrated&&(Hr(f,g).flags|=256),f=El(f,g),f!==2&&(g=li,li=y,g!==null&&ec(g)),f}function ec(f){li===null?li=f:li.push.apply(li,f)}function RM(f){for(var g=f;;){if(g.flags&16384){var y=g.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var E=0;E<y.length;E++){var w=y[E],R=w.getSnapshot;w=w.value;try{if(!un(R(),w))return!1}catch{return!1}}}if(y=g.child,g.subtreeFlags&16384&&y!==null)y.return=g,g=y;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function ar(f,g){for(g&=~sv,g&=~Ul,f.suspendedLanes|=g,f.pingedLanes&=~g,f=f.expirationTimes;0<g;){var y=31-hn(g),E=1<<y;f[y]=-1,g&=~E}}function gm(f){if(Jt&6)throw Error(xt(327));Us();var g=sl(f,0);if(!(g&1))return ci(f,we()),null;var y=El(f,g);if(f.tag!==0&&y===2){var E=wd(f);E!==0&&(g=E,y=tc(f,E))}if(y===1)throw y=vo,Hr(f,0),ar(f,g),ci(f,we()),y;if(y===6)throw Error(xt(345));return f.finishedWork=f.current.alternate,f.finishedLanes=g,zr(f,li,Nn),ci(f,we()),null}function ov(f,g){var y=Jt;Jt|=1;try{return f(g)}finally{Jt=y,Jt===0&&(Js=we()+500,Nl&&Ar())}}function Jr(f){hr!==null&&hr.tag===0&&!(Jt&6)&&Us();var g=Jt;Jt|=1;var y=$i.transition,E=ee;try{if($i.transition=null,ee=1,f)return f()}finally{ee=E,$i.transition=y,Jt=g,!(Jt&6)&&Ar()}}function hv(){Si=Os.current,ue(Os)}function Hr(f,g){f.finishedWork=null,f.finishedLanes=0;var y=f.timeoutHandle;if(y!==-1&&(f.timeoutHandle=-1,rM(y)),Re!==null)for(y=Re.return;y!==null;){var E=y;switch(Xc(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&ul();break;case 3:Zs(),ue(fi),ue(Je),kc();break;case 5:Jc(E);break;case 4:Zs();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Kc(E.type._context);break;case 22:case 23:hv()}y=y.return}if(ze=f,Re=f=gr(f.current,null),Xe=Si=g,De=0,vo=null,sv=Ul=Qr=0,li=$a=null,Xr!==null){for(g=0;g<Xr.length;g++)if(y=Xr[g],E=y.interleaved,E!==null){y.interleaved=null;var w=E.next,R=y.pending;if(R!==null){var c=R.next;R.next=w,E.next=c}y.pending=E}Xr=null}return f}function nx(f,g){do{var y=Re;try{if($c(),Yh.current=xl,yl){for(var E=me.memoizedState;E!==null;){var w=E.queue;w!==null&&(w.pending=null),E=E.next}yl=!1}if(Zr=0,Ge=Oe=me=null,Ya=!1,uo=0,rv.current=null,y===null||y.return===null){De=1,vo=g,Re=null;break}t:{var R=f,c=y.return,x=y,t=g;if(g=Xe,x.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var a=t,p=x,o=p.tag;if(!(p.mode&1)&&(o===0||o===11||o===15)){var s=p.alternate;s?(p.updateQueue=s.updateQueue,p.memoizedState=s.memoizedState,p.lanes=s.lanes):(p.updateQueue=null,p.memoizedState=null)}var r=nm(c);if(r!==null){r.flags&=-257,rm(r,c,x,R,g),r.mode&1&&im(R,a,g),g=r,t=a;var e=g.updateQueue;if(e===null){var n=new Set;n.add(t),g.updateQueue=n}else e.add(t);break t}else{if(!(g&1)){im(R,a,g),lv();break t}t=Error(xt(426))}}else if(ce&&x.mode&1){var l=nm(c);if(l!==null){!(l.flags&65536)&&(l.flags|=256),rm(l,c,x,R,g),Yc(Qs(t,x));break t}}R=t=Qs(t,x),De!==4&&(De=2),$a===null?$a=[R]:$a.push(R),R=c;do{switch(R.tag){case 3:R.flags|=65536,g&=-g,R.lanes|=g;var i=V1(R,t,g);Qg(R,i);break t;case 1:x=t;var h=R.type,u=R.stateNode;if(!(R.flags&128)&&(typeof h.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(vr===null||!vr.has(u)))){R.flags|=65536,g&=-g,R.lanes|=g;var d=W1(R,x,g);Qg(R,d);break t}}R=R.return}while(R!==null)}ax(y)}catch(v){g=v,Re===y&&y!==null&&(Re=y=y.return);continue}break}while(1)}function rx(){var f=Tl.current;return Tl.current=xl,f===null?xl:f}function lv(){(De===0||De===3||De===2)&&(De=4),ze===null||!(Qr&268435455)&&!(Ul&268435455)||ar(ze,Xe)}function El(f,g){var y=Jt;Jt|=2;var E=rx();(ze!==f||Xe!==g)&&(Nn=null,Hr(f,g));do try{LM();break}catch(w){nx(f,w)}while(1);if($c(),Jt=y,Tl.current=E,Re!==null)throw Error(xt(261));return ze=null,Xe=0,De}function LM(){for(;Re!==null;)sx(Re)}function FM(){for(;Re!==null&&!ew();)sx(Re)}function sx(f){var g=hx(f.alternate,f,Si);f.memoizedProps=f.pendingProps,g===null?ax(f):Re=g,rv.current=null}function ax(f){var g=f;do{var y=g.alternate;if(f=g.return,g.flags&32768){if(y=EM(y,g),y!==null){y.flags&=32767,Re=y;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{De=6,Re=null;return}}else if(y=CM(y,g,Si),y!==null){Re=y;return}if(g=g.sibling,g!==null){Re=g;return}Re=g=f}while(g!==null);De===0&&(De=5)}function zr(f,g,y){var E=ee,w=$i.transition;try{$i.transition=null,ee=1,OM(f,g,y,E)}finally{$i.transition=w,ee=E}return null}function OM(f,g,y,E){do Us();while(hr!==null);if(Jt&6)throw Error(xt(327));y=f.finishedWork;var w=f.finishedLanes;if(y===null)return null;if(f.finishedWork=null,f.finishedLanes=0,y===f.current)throw Error(xt(177));f.callbackNode=null,f.callbackPriority=0;var R=y.lanes|y.childLanes;if(fw(f,R),f===ze&&(Re=ze=null,Xe=0),!(y.subtreeFlags&2064)&&!(y.flags&2064)||Rh||(Rh=!0,lx(rl,function(){return Us(),null})),R=(y.flags&15990)!==0,y.subtreeFlags&15990||R){R=$i.transition,$i.transition=null;var c=ee;ee=1;var x=Jt;Jt|=4,rv.current=null,AM(f,y),tx(y,f),kw(Dd),al=!!Od,Dd=Od=null,f.current=y,wM(y),iw(),Jt=x,ee=c,$i.transition=R}else f.current=y;if(Rh&&(Rh=!1,hr=f,Cl=w),R=f.pendingLanes,R===0&&(vr=null),sw(y.stateNode),ci(f,we()),g!==null)for(E=f.onRecoverableError,y=0;y<g.length;y++)w=g[y],E(w.value,{componentStack:w.stack,digest:w.digest});if(Sl)throw Sl=!1,f=qd,qd=null,f;return Cl&1&&f.tag!==0&&Us(),R=f.pendingLanes,R&1?f===_d?Ka++:(Ka=0,_d=f):Ka=0,Ar(),null}function Us(){if(hr!==null){var f=Uy(Cl),g=$i.transition,y=ee;try{if($i.transition=null,ee=16>f?16:f,hr===null)var E=!1;else{if(f=hr,hr=null,Cl=0,Jt&6)throw Error(xt(331));var w=Jt;for(Jt|=4,Rt=f.current;Rt!==null;){var R=Rt,c=R.child;if(Rt.flags&16){var x=R.deletions;if(x!==null){for(var t=0;t<x.length;t++){var a=x[t];for(Rt=a;Rt!==null;){var p=Rt;switch(p.tag){case 0:case 11:case 15:Ha(8,p,R)}var o=p.child;if(o!==null)o.return=p,Rt=o;else for(;Rt!==null;){p=Rt;var s=p.sibling,r=p.return;if(k1(p),p===a){Rt=null;break}if(s!==null){s.return=r,Rt=s;break}Rt=r}}}var e=R.alternate;if(e!==null){var n=e.child;if(n!==null){e.child=null;do{var l=n.sibling;n.sibling=null,n=l}while(n!==null)}}Rt=R}}if(R.subtreeFlags&2064&&c!==null)c.return=R,Rt=c;else t:for(;Rt!==null;){if(R=Rt,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Ha(9,R,R.return)}var i=R.sibling;if(i!==null){i.return=R.return,Rt=i;break t}Rt=R.return}}var h=f.current;for(Rt=h;Rt!==null;){c=Rt;var u=c.child;if(c.subtreeFlags&2064&&u!==null)u.return=c,Rt=u;else t:for(c=h;Rt!==null;){if(x=Rt,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:bl(9,x)}}catch(v){Ce(x,x.return,v)}if(x===c){Rt=null;break t}var d=x.sibling;if(d!==null){d.return=x.return,Rt=d;break t}Rt=x.return}}if(Jt=w,Ar(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Fl,f)}catch{}E=!0}return E}finally{ee=y,$i.transition=g}}return!1}function mm(f,g,y){g=Qs(y,g),g=V1(f,g,1),f=cr(f,g,1),g=ii(),f!==null&&(xo(f,1,g),ci(f,g))}function Ce(f,g,y){if(f.tag===3)mm(f,f,y);else for(;g!==null;){if(g.tag===3){mm(g,f,y);break}else if(g.tag===1){var E=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(vr===null||!vr.has(E))){f=Qs(y,f),f=W1(g,f,1),g=cr(g,f,1),f=ii(),g!==null&&(xo(g,1,f),ci(g,f));break}}g=g.return}}function DM(f,g,y){var E=f.pingCache;E!==null&&E.delete(g),g=ii(),f.pingedLanes|=f.suspendedLanes&y,ze===f&&(Xe&y)===y&&(De===4||De===3&&(Xe&130023424)===Xe&&500>we()-av?Hr(f,0):sv|=y),ci(f,g)}function ox(f,g){g===0&&(f.mode&1?(g=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):g=1);var y=ii();f=Yn(f,g),f!==null&&(xo(f,g,y),ci(f,y))}function IM(f){var g=f.memoizedState,y=0;g!==null&&(y=g.retryLane),ox(f,y)}function BM(f,g){var y=0;switch(f.tag){case 13:var E=f.stateNode,w=f.memoizedState;w!==null&&(y=w.retryLane);break;case 19:E=f.stateNode;break;default:throw Error(xt(314))}E!==null&&E.delete(g),ox(f,y)}var hx;hx=function(f,g,y){if(f!==null)if(f.memoizedProps!==g.pendingProps||fi.current)ui=!0;else{if(!(f.lanes&y)&&!(g.flags&128))return ui=!1,SM(f,g,y);ui=!!(f.flags&131072)}else ui=!1,ce&&g.flags&1048576&&f1(g,cl,g.index);switch(g.lanes=0,g.tag){case 2:var E=g.type;$h(f,g),f=g.pendingProps;var w=$s(g,Je.current);bs(g,y),w=_c(null,g,E,f,w,y);var R=tv();return g.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,di(E)?(R=!0,fl(g)):R=!1,g.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Zc(g),w.updater=Gl,g.stateNode=w,w._reactInternals=g,Wd(g,E,f,y),g=Hd(null,g,E,!0,R,y)):(g.tag=0,ce&&R&&Wc(g),ei(null,g,w,y),g=g.child),g;case 16:E=g.elementType;t:{switch($h(f,g),f=g.pendingProps,w=E._init,E=w(E._payload),g.type=E,w=g.tag=GM(E),f=rn(E,f),w){case 0:g=Yd(null,g,E,f,y);break t;case 1:g=om(null,g,E,f,y);break t;case 11:g=sm(null,g,E,f,y);break t;case 14:g=am(null,g,E,rn(E.type,f),y);break t}throw Error(xt(306,E,""))}return g;case 0:return E=g.type,w=g.pendingProps,w=g.elementType===E?w:rn(E,w),Yd(f,g,E,w,y);case 1:return E=g.type,w=g.pendingProps,w=g.elementType===E?w:rn(E,w),om(f,g,E,w,y);case 3:t:{if($1(g),f===null)throw Error(xt(387));E=g.pendingProps,R=g.memoizedState,w=R.element,p1(f,g),gl(g,E,null,y);var c=g.memoizedState;if(E=c.element,R.isDehydrated)if(R={element:E,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},g.updateQueue.baseState=R,g.memoizedState=R,g.flags&256){w=Qs(Error(xt(423)),g),g=hm(f,g,E,y,w);break t}else if(E!==w){w=Qs(Error(xt(424)),g),g=hm(f,g,E,y,w);break t}else for(Ci=dr(g.stateNode.containerInfo.firstChild),Ei=g,ce=!0,an=null,y=x1(g,null,E,y),g.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Ks(),E===w){g=Hn(f,g,y);break t}ei(f,g,E,y)}g=g.child}return g;case 5:return T1(g),f===null&&bd(g),E=g.type,w=g.pendingProps,R=f!==null?f.memoizedProps:null,c=w.children,Id(E,w)?c=null:R!==null&&Id(E,R)&&(g.flags|=32),H1(f,g),ei(f,g,c,y),g.child;case 6:return f===null&&bd(g),null;case 13:return K1(f,g,y);case 4:return Qc(g,g.stateNode.containerInfo),E=g.pendingProps,f===null?g.child=js(g,null,E,y):ei(f,g,E,y),g.child;case 11:return E=g.type,w=g.pendingProps,w=g.elementType===E?w:rn(E,w),sm(f,g,E,w,y);case 7:return ei(f,g,g.pendingProps,y),g.child;case 8:return ei(f,g,g.pendingProps.children,y),g.child;case 12:return ei(f,g,g.pendingProps.children,y),g.child;case 10:t:{if(E=g.type._context,w=g.pendingProps,R=g.memoizedProps,c=w.value,ae(vl,E._currentValue),E._currentValue=c,R!==null)if(un(R.value,c)){if(R.children===w.children&&!fi.current){g=Hn(f,g,y);break t}}else for(R=g.child,R!==null&&(R.return=g);R!==null;){var x=R.dependencies;if(x!==null){c=R.child;for(var t=x.firstContext;t!==null;){if(t.context===E){if(R.tag===1){t=Vn(-1,y&-y),t.tag=2;var a=R.updateQueue;if(a!==null){a=a.shared;var p=a.pending;p===null?t.next=t:(t.next=p.next,p.next=t),a.pending=t}}R.lanes|=y,t=R.alternate,t!==null&&(t.lanes|=y),Ud(R.return,y,g),x.lanes|=y;break}t=t.next}}else if(R.tag===10)c=R.type===g.type?null:R.child;else if(R.tag===18){if(c=R.return,c===null)throw Error(xt(341));c.lanes|=y,x=c.alternate,x!==null&&(x.lanes|=y),Ud(c,y,g),c=R.sibling}else c=R.child;if(c!==null)c.return=R;else for(c=R;c!==null;){if(c===g){c=null;break}if(R=c.sibling,R!==null){R.return=c.return,c=R;break}c=c.return}R=c}ei(f,g,w.children,y),g=g.child}return g;case 9:return w=g.type,E=g.pendingProps.children,bs(g,y),w=Ki(w),E=E(w),g.flags|=1,ei(f,g,E,y),g.child;case 14:return E=g.type,w=rn(E,g.pendingProps),w=rn(E.type,w),am(f,g,E,w,y);case 15:return X1(f,g,g.type,g.pendingProps,y);case 17:return E=g.type,w=g.pendingProps,w=g.elementType===E?w:rn(E,w),$h(f,g),g.tag=1,di(E)?(f=!0,fl(g)):f=!1,bs(g,y),m1(g,E,w),Wd(g,E,w,y),Hd(null,g,E,!0,f,y);case 19:return j1(f,g,y);case 22:return Y1(f,g,y)}throw Error(xt(156,g.tag))};function lx(f,g){return Ny(f,g)}function NM(f,g,y,E){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(f,g,y,E){return new NM(f,g,y,E)}function uv(f){return f=f.prototype,!(!f||!f.isReactComponent)}function GM(f){if(typeof f=="function")return uv(f)?1:0;if(f!=null){if(f=f.$$typeof,f===Lc)return 11;if(f===Fc)return 14}return 2}function gr(f,g){var y=f.alternate;return y===null?(y=Yi(f.tag,g,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=g,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&14680064,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,g=f.dependencies,y.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y}function Zh(f,g,y,E,w,R){var c=2;if(E=f,typeof f=="function")uv(f)&&(c=1);else if(typeof f=="string")c=5;else t:switch(f){case Ss:return $r(y.children,w,R,g);case Rc:c=8,w|=8;break;case fd:return f=Yi(12,y,g,w|2),f.elementType=fd,f.lanes=R,f;case dd:return f=Yi(13,y,g,w),f.elementType=dd,f.lanes=R,f;case cd:return f=Yi(19,y,g,w),f.elementType=cd,f.lanes=R,f;case yy:return Vl(y,w,R,g);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case gy:c=10;break t;case my:c=9;break t;case Lc:c=11;break t;case Fc:c=14;break t;case nr:c=16,E=null;break t}throw Error(xt(130,f==null?f:typeof f,""))}return g=Yi(c,y,g,w),g.elementType=f,g.type=E,g.lanes=R,g}function $r(f,g,y,E){return f=Yi(7,f,E,g),f.lanes=y,f}function Vl(f,g,y,E){return f=Yi(22,f,E,g),f.elementType=yy,f.lanes=y,f.stateNode={isHidden:!1},f}function kf(f,g,y){return f=Yi(6,f,null,g),f.lanes=y,f}function qf(f,g,y){return g=Yi(4,f.children!==null?f.children:[],f.key,g),g.lanes=y,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}function zM(f,g,y,E,w){this.tag=g,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=E,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function fv(f,g,y,E,w,R,c,x,t){return f=new zM(f,g,y,x,t),g===1?(g=1,R===!0&&(g|=8)):g=0,R=Yi(3,null,null,g),f.current=R,R.stateNode=f,R.memoizedState={element:E,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(R),f}function bM(f,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:E==null?null:""+E,children:f,containerInfo:g,implementation:y}}function ux(f){if(!f)return Tr;f=f._reactInternals;t:{if(ts(f)!==f||f.tag!==1)throw Error(xt(170));var g=f;do{switch(g.tag){case 3:g=g.stateNode.context;break t;case 1:if(di(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break t}}g=g.return}while(g!==null);throw Error(xt(171))}if(f.tag===1){var y=f.type;if(di(y))return l1(f,y,g)}return g}function fx(f,g,y,E,w,R,c,x,t){return f=fv(y,E,!0,f,w,R,c,x,t),f.context=ux(null),y=f.current,E=ii(),w=pr(y),R=Vn(E,w),R.callback=g??null,cr(y,R,w),f.current.lanes=w,xo(f,w,E),ci(f,E),f}function Wl(f,g,y,E){var w=g.current,R=ii(),c=pr(w);return y=ux(y),g.context===null?g.context=y:g.pendingContext=y,g=Vn(R,c),g.payload={element:f},E=E===void 0?null:E,E!==null&&(g.callback=E),f=cr(w,g,c),f!==null&&(ln(f,w,c,R),Xh(f,w,c)),c}function Pl(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function ym(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<g?y:g}}function dv(f,g){ym(f,g),(f=f.alternate)&&ym(f,g)}function UM(){return null}var dx=typeof reportError=="function"?reportError:function(f){console.error(f)};function cv(f){this._internalRoot=f}Xl.prototype.render=cv.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(xt(409));Wl(f,g,null,null)};Xl.prototype.unmount=cv.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;Jr(function(){Wl(null,f,null,null)}),g[Xn]=null}};function Xl(f){this._internalRoot=f}Xl.prototype.unstable_scheduleHydration=function(f){if(f){var g=Xy();f={blockedOn:null,target:f,priority:g};for(var y=0;y<sr.length&&g!==0&&g<sr[y].priority;y++);sr.splice(y,0,f),y===0&&Hy(f)}};function vv(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Yl(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function xm(){}function VM(f,g,y,E,w){if(w){if(typeof E=="function"){var R=E;E=function(){var a=Pl(c);R.call(a)}}var c=fx(g,E,f,0,null,!1,!1,"",xm);return f._reactRootContainer=c,f[Xn]=c.current,so(f.nodeType===8?f.parentNode:f),Jr(),c}for(;w=f.lastChild;)f.removeChild(w);if(typeof E=="function"){var x=E;E=function(){var a=Pl(t);x.call(a)}}var t=fv(f,0,!1,null,null,!1,!1,"",xm);return f._reactRootContainer=t,f[Xn]=t.current,so(f.nodeType===8?f.parentNode:f),Jr(function(){Wl(g,t,y,E)}),t}function Hl(f,g,y,E,w){var R=y._reactRootContainer;if(R){var c=R;if(typeof w=="function"){var x=w;w=function(){var t=Pl(c);x.call(t)}}Wl(g,c,f,w)}else c=VM(y,g,f,w,E);return Pl(c)}Vy=function(f){switch(f.tag){case 3:var g=f.stateNode;if(g.current.memoizedState.isDehydrated){var y=Na(g.pendingLanes);y!==0&&(Ic(g,y|1),ci(g,we()),!(Jt&6)&&(Js=we()+500,Ar()))}break;case 13:Jr(function(){var E=Yn(f,1);if(E!==null){var w=ii();ln(E,f,1,w)}}),dv(f,1)}};Bc=function(f){if(f.tag===13){var g=Yn(f,134217728);if(g!==null){var y=ii();ln(g,f,134217728,y)}dv(f,134217728)}};Wy=function(f){if(f.tag===13){var g=pr(f),y=Yn(f,g);if(y!==null){var E=ii();ln(y,f,g,E)}dv(f,g)}};Xy=function(){return ee};Yy=function(f,g){var y=ee;try{return ee=f,g()}finally{ee=y}};Ed=function(f,g,y){switch(g){case"input":if(gd(f,y),g=y.name,y.type==="radio"&&g!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<y.length;g++){var E=y[g];if(E!==f&&E.form===f.form){var w=Bl(E);if(!w)throw Error(xt(90));Ty(E),gd(E,w)}}}break;case"textarea":Cy(f,y);break;case"select":g=y.value,g!=null&&Bs(f,!!y.multiple,g,!1)}};Ly=ov;Fy=Jr;var WM={usingClientEntryPoint:!1,Events:[So,As,Bl,My,Ry,ov]},Ra={findFiberByHostInstance:Wr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XM={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Iy(f),f===null?null:f.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||UM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{Fl=Lh.inject(XM),Tn=Lh}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WM;wi.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(g))throw Error(xt(200));return bM(f,g,null,y)};wi.createRoot=function(f,g){if(!vv(f))throw Error(xt(299));var y=!1,E="",w=dx;return g!=null&&(g.unstable_strictMode===!0&&(y=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onRecoverableError!==void 0&&(w=g.onRecoverableError)),g=fv(f,1,!1,null,null,y,!1,E,w),f[Xn]=g.current,so(f.nodeType===8?f.parentNode:f),new cv(g)};wi.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(xt(188)):(f=Object.keys(f).join(","),Error(xt(268,f)));return f=Iy(g),f=f===null?null:f.stateNode,f};wi.flushSync=function(f){return Jr(f)};wi.hydrate=function(f,g,y){if(!Yl(g))throw Error(xt(200));return Hl(null,f,g,!0,y)};wi.hydrateRoot=function(f,g,y){if(!vv(f))throw Error(xt(405));var E=y!=null&&y.hydratedSources||null,w=!1,R="",c=dx;if(y!=null&&(y.unstable_strictMode===!0&&(w=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(c=y.onRecoverableError)),g=fx(g,null,f,1,y??null,w,!1,R,c),f[Xn]=g.current,so(f),E)for(f=0;f<E.length;f++)y=E[f],w=y._getVersion,w=w(y._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[y,w]:g.mutableSourceEagerHydrationData.push(y,w);return new Xl(g)};wi.render=function(f,g,y){if(!Yl(g))throw Error(xt(200));return Hl(null,f,g,!1,y)};wi.unmountComponentAtNode=function(f){if(!Yl(f))throw Error(xt(40));return f._reactRootContainer?(Jr(function(){Hl(null,null,f,!1,function(){f._reactRootContainer=null,f[Xn]=null})}),!0):!1};wi.unstable_batchedUpdates=ov;wi.unstable_renderSubtreeIntoContainer=function(f,g,y,E){if(!Yl(y))throw Error(xt(200));if(f==null||f._reactInternals===void 0)throw Error(xt(38));return Hl(f,g,y,!1,E)};wi.version="18.2.0-next-9e3b772b8-20220608";function cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cx)}catch(f){console.error(f)}}cx(),fy.exports=wi;var YM=fy.exports,vx,Tm=YM;vx=Tm.createRoot,Tm.hydrateRoot;var HM=typeof Element<"u",$M=typeof Map=="function",KM=typeof Set=="function",jM=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Qh(f,g){if(f===g)return!0;if(f&&g&&typeof f=="object"&&typeof g=="object"){if(f.constructor!==g.constructor)return!1;var y,E,w;if(Array.isArray(f)){if(y=f.length,y!=g.length)return!1;for(E=y;E--!==0;)if(!Qh(f[E],g[E]))return!1;return!0}var R;if($M&&f instanceof Map&&g instanceof Map){if(f.size!==g.size)return!1;for(R=f.entries();!(E=R.next()).done;)if(!g.has(E.value[0]))return!1;for(R=f.entries();!(E=R.next()).done;)if(!Qh(E.value[1],g.get(E.value[0])))return!1;return!0}if(KM&&f instanceof Set&&g instanceof Set){if(f.size!==g.size)return!1;for(R=f.entries();!(E=R.next()).done;)if(!g.has(E.value[0]))return!1;return!0}if(jM&&ArrayBuffer.isView(f)&&ArrayBuffer.isView(g)){if(y=f.length,y!=g.length)return!1;for(E=y;E--!==0;)if(f[E]!==g[E])return!1;return!0}if(f.constructor===RegExp)return f.source===g.source&&f.flags===g.flags;if(f.valueOf!==Object.prototype.valueOf&&typeof f.valueOf=="function"&&typeof g.valueOf=="function")return f.valueOf()===g.valueOf();if(f.toString!==Object.prototype.toString&&typeof f.toString=="function"&&typeof g.toString=="function")return f.toString()===g.toString();if(w=Object.keys(f),y=w.length,y!==Object.keys(g).length)return!1;for(E=y;E--!==0;)if(!Object.prototype.hasOwnProperty.call(g,w[E]))return!1;if(HM&&f instanceof Element)return!1;for(E=y;E--!==0;)if(!((w[E]==="_owner"||w[E]==="__v"||w[E]==="__o")&&f.$$typeof)&&!Qh(f[w[E]],g[w[E]]))return!1;return!0}return f!==f&&g!==g}var ZM=function(g,y){try{return Qh(g,y)}catch(E){if((E.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw E}};const QM=ea(ZM);var JM=function(f,g,y,E,w,R,c,x){if(!f){var t;if(g===void 0)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[y,E,w,R,c,x],p=0;t=new Error(g.replace(/%s/g,function(){return a[p++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}},kM=JM;const Sm=ea(kM);var qM=function(g,y,E,w){var R=E?E.call(w,g,y):void 0;if(R!==void 0)return!!R;if(g===y)return!0;if(typeof g!="object"||!g||typeof y!="object"||!y)return!1;var c=Object.keys(g),x=Object.keys(y);if(c.length!==x.length)return!1;for(var t=Object.prototype.hasOwnProperty.bind(y),a=0;a<c.length;a++){var p=c[a];if(!t(p))return!1;var o=g[p],s=y[p];if(R=E?E.call(w,o,s,p):void 0,R===!1||R===void 0&&o!==s)return!1}return!0};const _M=ea(qM);var px=(f=>(f.BASE="base",f.BODY="body",f.HEAD="head",f.HTML="html",f.LINK="link",f.META="meta",f.NOSCRIPT="noscript",f.SCRIPT="script",f.STYLE="style",f.TITLE="title",f.FRAGMENT="Symbol(react.fragment)",f))(px||{}),_f={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Cm=Object.values(px),pv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},t5=Object.entries(pv).reduce((f,[g,y])=>(f[y]=g,f),{}),on="data-rh",Vs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ws=(f,g)=>{for(let y=f.length-1;y>=0;y-=1){const E=f[y];if(Object.prototype.hasOwnProperty.call(E,g))return E[g]}return null},e5=f=>{let g=Ws(f,"title");const y=Ws(f,Vs.TITLE_TEMPLATE);if(Array.isArray(g)&&(g=g.join("")),y&&g)return y.replace(/%s/g,()=>g);const E=Ws(f,Vs.DEFAULT_TITLE);return g||E||void 0},i5=f=>Ws(f,Vs.ON_CHANGE_CLIENT_STATE)||(()=>{}),td=(f,g)=>g.filter(y=>typeof y[f]<"u").map(y=>y[f]).reduce((y,E)=>({...y,...E}),{}),n5=(f,g)=>g.filter(y=>typeof y.base<"u").map(y=>y.base).reverse().reduce((y,E)=>{if(!y.length){const w=Object.keys(E);for(let R=0;R<w.length;R+=1){const x=w[R].toLowerCase();if(f.indexOf(x)!==-1&&E[x])return y.concat(E)}}return y},[]),r5=f=>console&&typeof console.warn=="function"&&console.warn(f),La=(f,g,y)=>{const E={};return y.filter(w=>Array.isArray(w[f])?!0:(typeof w[f]<"u"&&r5(`Helmet: ${f} should be of type "Array". Instead found type "${typeof w[f]}"`),!1)).map(w=>w[f]).reverse().reduce((w,R)=>{const c={};R.filter(t=>{let a;const p=Object.keys(t);for(let s=0;s<p.length;s+=1){const r=p[s],e=r.toLowerCase();g.indexOf(e)!==-1&&!(a==="rel"&&t[a].toLowerCase()==="canonical")&&!(e==="rel"&&t[e].toLowerCase()==="stylesheet")&&(a=e),g.indexOf(r)!==-1&&(r==="innerHTML"||r==="cssText"||r==="itemprop")&&(a=r)}if(!a||!t[a])return!1;const o=t[a].toLowerCase();return E[a]||(E[a]={}),c[a]||(c[a]={}),E[a][o]?!1:(c[a][o]=!0,!0)}).reverse().forEach(t=>w.push(t));const x=Object.keys(c);for(let t=0;t<x.length;t+=1){const a=x[t],p={...E[a],...c[a]};E[a]=p}return w},[]).reverse()},s5=(f,g)=>{if(Array.isArray(f)&&f.length){for(let y=0;y<f.length;y+=1)if(f[y][g])return!0}return!1},a5=f=>({baseTag:n5(["href"],f),bodyAttributes:td("bodyAttributes",f),defer:Ws(f,Vs.DEFER),encode:Ws(f,Vs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:td("htmlAttributes",f),linkTags:La("link",["rel","href"],f),metaTags:La("meta",["name","charset","http-equiv","property","itemprop"],f),noscriptTags:La("noscript",["innerHTML"],f),onChangeClientState:i5(f),scriptTags:La("script",["src","innerHTML"],f),styleTags:La("style",["cssText"],f),title:e5(f),titleAttributes:td("titleAttributes",f),prioritizeSeoTags:s5(f,Vs.PRIORITIZE_SEO_TAGS)}),gx=f=>Array.isArray(f)?f.join(""):f,o5=(f,g)=>{const y=Object.keys(f);for(let E=0;E<y.length;E+=1)if(g[y[E]]&&g[y[E]].includes(f[y[E]]))return!0;return!1},ed=(f,g)=>Array.isArray(f)?f.reduce((y,E)=>(o5(E,g)?y.priority.push(E):y.default.push(E),y),{priority:[],default:[]}):{default:f,priority:[]},Em=(f,g)=>({...f,[g]:void 0}),h5=["noscript","script","style"],ic=(f,g=!0)=>g===!1?String(f):String(f).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),mx=f=>Object.keys(f).reduce((g,y)=>{const E=typeof f[y]<"u"?`${y}="${f[y]}"`:`${y}`;return g?`${g} ${E}`:E},""),l5=(f,g,y,E)=>{const w=mx(y),R=gx(g);return w?`<${f} ${on}="true" ${w}>${ic(R,E)}</${f}>`:`<${f} ${on}="true">${ic(R,E)}</${f}>`},u5=(f,g,y=!0)=>g.reduce((E,w)=>{const R=w,c=Object.keys(R).filter(a=>!(a==="innerHTML"||a==="cssText")).reduce((a,p)=>{const o=typeof R[p]>"u"?p:`${p}="${ic(R[p],y)}"`;return a?`${a} ${o}`:o},""),x=R.innerHTML||R.cssText||"",t=h5.indexOf(f)===-1;return`${E}<${f} ${on}="true" ${c}${t?"/>":`>${x}</${f}>`}`},""),yx=(f,g={})=>Object.keys(f).reduce((y,E)=>{const w=pv[E];return y[w||E]=f[E],y},g),f5=(f,g,y)=>{const E={key:g,[on]:!0},w=yx(y,E);return[Xi.createElement("title",w,g)]},Jh=(f,g)=>g.map((y,E)=>{const w={key:E,[on]:!0};return Object.keys(y).forEach(R=>{const x=pv[R]||R;if(x==="innerHTML"||x==="cssText"){const t=y.innerHTML||y.cssText;w.dangerouslySetInnerHTML={__html:t}}else w[x]=y[R]}),Xi.createElement(f,w)}),bi=(f,g,y=!0)=>{switch(f){case"title":return{toComponent:()=>f5(f,g.title,g.titleAttributes),toString:()=>l5(f,g.title,g.titleAttributes,y)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>yx(g),toString:()=>mx(g)};default:return{toComponent:()=>Jh(f,g),toString:()=>u5(f,g,y)}}},d5=({metaTags:f,linkTags:g,scriptTags:y,encode:E})=>{const w=ed(f,_f.meta),R=ed(g,_f.link),c=ed(y,_f.script);return{priorityMethods:{toComponent:()=>[...Jh("meta",w.priority),...Jh("link",R.priority),...Jh("script",c.priority)],toString:()=>`${bi("meta",w.priority,E)} ${bi("link",R.priority,E)} ${bi("script",c.priority,E)}`},metaTags:w.default,linkTags:R.default,scriptTags:c.default}},c5=f=>{const{baseTag:g,bodyAttributes:y,encode:E=!0,htmlAttributes:w,noscriptTags:R,styleTags:c,title:x="",titleAttributes:t,prioritizeSeoTags:a}=f;let{linkTags:p,metaTags:o,scriptTags:s}=f,r={toComponent:()=>{},toString:()=>""};return a&&({priorityMethods:r,linkTags:p,metaTags:o,scriptTags:s}=d5(f)),{priority:r,base:bi("base",g,E),bodyAttributes:bi("bodyAttributes",y,E),htmlAttributes:bi("htmlAttributes",w,E),link:bi("link",p,E),meta:bi("meta",o,E),noscript:bi("noscript",R,E),script:bi("script",s,E),style:bi("style",c,E),title:bi("title",{title:x,titleAttributes:t},E)}},nc=c5,Fh=[],xx=!!(typeof window<"u"&&window.document&&window.document.createElement),rc=class{constructor(f,g){Bn(this,"instances",[]);Bn(this,"canUseDOM",xx);Bn(this,"context");Bn(this,"value",{setHelmet:f=>{this.context.helmet=f},helmetInstances:{get:()=>this.canUseDOM?Fh:this.instances,add:f=>{(this.canUseDOM?Fh:this.instances).push(f)},remove:f=>{const g=(this.canUseDOM?Fh:this.instances).indexOf(f);(this.canUseDOM?Fh:this.instances).splice(g,1)}}});this.context=f,this.canUseDOM=g||!1,g||(f.helmet=nc({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},v5={},Tx=Xi.createContext(v5),Ys,Sx=(Ys=class extends Pi.Component{constructor(y){super(y);Bn(this,"helmetData");this.helmetData=new rc(this.props.context||{},Ys.canUseDOM)}render(){return Xi.createElement(Tx.Provider,{value:this.helmetData.value},this.props.children)}},Bn(Ys,"canUseDOM",xx),Ys),gs=(f,g)=>{const y=document.head||document.querySelector("head"),E=y.querySelectorAll(`${f}[${on}]`),w=[].slice.call(E),R=[];let c;return g&&g.length&&g.forEach(x=>{const t=document.createElement(f);for(const a in x)if(Object.prototype.hasOwnProperty.call(x,a))if(a==="innerHTML")t.innerHTML=x.innerHTML;else if(a==="cssText")t.styleSheet?t.styleSheet.cssText=x.cssText:t.appendChild(document.createTextNode(x.cssText));else{const p=a,o=typeof x[p]>"u"?"":x[p];t.setAttribute(a,o)}t.setAttribute(on,"true"),w.some((a,p)=>(c=p,t.isEqualNode(a)))?w.splice(c,1):R.push(t)}),w.forEach(x=>{var t;return(t=x.parentNode)==null?void 0:t.removeChild(x)}),R.forEach(x=>y.appendChild(x)),{oldTags:w,newTags:R}},sc=(f,g)=>{const y=document.getElementsByTagName(f)[0];if(!y)return;const E=y.getAttribute(on),w=E?E.split(","):[],R=[...w],c=Object.keys(g);for(const x of c){const t=g[x]||"";y.getAttribute(x)!==t&&y.setAttribute(x,t),w.indexOf(x)===-1&&w.push(x);const a=R.indexOf(x);a!==-1&&R.splice(a,1)}for(let x=R.length-1;x>=0;x-=1)y.removeAttribute(R[x]);w.length===R.length?y.removeAttribute(on):y.getAttribute(on)!==c.join(",")&&y.setAttribute(on,c.join(","))},p5=(f,g)=>{typeof f<"u"&&document.title!==f&&(document.title=gx(f)),sc("title",g)},Pm=(f,g)=>{const{baseTag:y,bodyAttributes:E,htmlAttributes:w,linkTags:R,metaTags:c,noscriptTags:x,onChangeClientState:t,scriptTags:a,styleTags:p,title:o,titleAttributes:s}=f;sc("body",E),sc("html",w),p5(o,s);const r={baseTag:gs("base",y),linkTags:gs("link",R),metaTags:gs("meta",c),noscriptTags:gs("noscript",x),scriptTags:gs("script",a),styleTags:gs("style",p)},e={},n={};Object.keys(r).forEach(l=>{const{newTags:i,oldTags:h}=r[l];i.length&&(e[l]=i),h.length&&(n[l]=r[l].oldTags)}),g&&g(),t(f,e,n)},Fa=null,g5=f=>{Fa&&cancelAnimationFrame(Fa),f.defer?Fa=requestAnimationFrame(()=>{Pm(f,()=>{Fa=null})}):(Pm(f),Fa=null)},m5=g5,Am=class extends Pi.Component{constructor(){super(...arguments);Bn(this,"rendered",!1)}shouldComponentUpdate(g){return!_M(g,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:g}=this.props.context;g.remove(this),this.emitChange()}emitChange(){const{helmetInstances:g,setHelmet:y}=this.props.context;let E=null;const w=a5(g.get().map(R=>{const c={...R.props};return delete c.context,c}));Sx.canUseDOM?m5(w):nc&&(E=nc(w)),y(E)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:g}=this.props.context;g.add(this),this.emitChange()}render(){return this.init(),null}},ld,y5=(ld=class extends Pi.Component{shouldComponentUpdate(f){return!QM(Em(this.props,"helmetData"),Em(f,"helmetData"))}mapNestedChildrenToProps(f,g){if(!g)return null;switch(f.type){case"script":case"noscript":return{innerHTML:g};case"style":return{cssText:g};default:throw new Error(`<${f.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(f,g,y,E){return{...g,[f.type]:[...g[f.type]||[],{...y,...this.mapNestedChildrenToProps(f,E)}]}}mapObjectTypeChildren(f,g,y,E){switch(f.type){case"title":return{...g,[f.type]:E,titleAttributes:{...y}};case"body":return{...g,bodyAttributes:{...y}};case"html":return{...g,htmlAttributes:{...y}};default:return{...g,[f.type]:{...y}}}}mapArrayTypeChildrenToProps(f,g){let y={...g};return Object.keys(f).forEach(E=>{y={...y,[E]:f[E]}}),y}warnOnInvalidChildren(f,g){return Sm(Cm.some(y=>f.type===y),typeof f.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Cm.join(", ")} are allowed. Helmet does not support rendering <${f.type}> elements. Refer to our API for more information.`),Sm(!g||typeof g=="string"||Array.isArray(g)&&!g.some(y=>typeof y!="string"),`Helmet expects a string as a child of <${f.type}>. Did you forget to wrap your children in braces? ( <${f.type}>{\`\`}</${f.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(f,g){let y={};return Xi.Children.forEach(f,E=>{if(!E||!E.props)return;const{children:w,...R}=E.props,c=Object.keys(R).reduce((t,a)=>(t[t5[a]||a]=R[a],t),{});let{type:x}=E;switch(typeof x=="symbol"?x=x.toString():this.warnOnInvalidChildren(E,w),x){case"Symbol(react.fragment)":g=this.mapChildrenToProps(w,g);break;case"link":case"meta":case"noscript":case"script":case"style":y=this.flattenArrayTypeChildren(E,y,c,w);break;default:g=this.mapObjectTypeChildren(E,g,c,w);break}}),this.mapArrayTypeChildrenToProps(y,g)}render(){const{children:f,...g}=this.props;let y={...g},{helmetData:E}=g;if(f&&(y=this.mapChildrenToProps(f,y)),E&&!(E instanceof rc)){const w=E;E=new rc(w.context,!0),delete y.helmetData}return E?Xi.createElement(Am,{...y,context:E.value}):Xi.createElement(Tx.Consumer,null,w=>Xi.createElement(Am,{...y,context:w}))}},Bn(ld,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ld),Cx={exports:{}},ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.element"),mv=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),jl=Symbol.for("react.profiler"),Zl=Symbol.for("react.provider"),Ql=Symbol.for("react.context"),x5=Symbol.for("react.server_context"),Jl=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),_l=Symbol.for("react.memo"),tu=Symbol.for("react.lazy"),T5=Symbol.for("react.offscreen"),Ex;Ex=Symbol.for("react.module.reference");function Qi(f){if(typeof f=="object"&&f!==null){var g=f.$$typeof;switch(g){case gv:switch(f=f.type,f){case $l:case jl:case Kl:case kl:case ql:return f;default:switch(f=f&&f.$$typeof,f){case x5:case Ql:case Jl:case tu:case _l:case Zl:return f;default:return g}}case mv:return g}}}ie.ContextConsumer=Ql;ie.ContextProvider=Zl;ie.Element=gv;ie.ForwardRef=Jl;ie.Fragment=$l;ie.Lazy=tu;ie.Memo=_l;ie.Portal=mv;ie.Profiler=jl;ie.StrictMode=Kl;ie.Suspense=kl;ie.SuspenseList=ql;ie.isAsyncMode=function(){return!1};ie.isConcurrentMode=function(){return!1};ie.isContextConsumer=function(f){return Qi(f)===Ql};ie.isContextProvider=function(f){return Qi(f)===Zl};ie.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===gv};ie.isForwardRef=function(f){return Qi(f)===Jl};ie.isFragment=function(f){return Qi(f)===$l};ie.isLazy=function(f){return Qi(f)===tu};ie.isMemo=function(f){return Qi(f)===_l};ie.isPortal=function(f){return Qi(f)===mv};ie.isProfiler=function(f){return Qi(f)===jl};ie.isStrictMode=function(f){return Qi(f)===Kl};ie.isSuspense=function(f){return Qi(f)===kl};ie.isSuspenseList=function(f){return Qi(f)===ql};ie.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===$l||f===jl||f===Kl||f===kl||f===ql||f===T5||typeof f=="object"&&f!==null&&(f.$$typeof===tu||f.$$typeof===_l||f.$$typeof===Zl||f.$$typeof===Ql||f.$$typeof===Jl||f.$$typeof===Ex||f.getModuleId!==void 0)};ie.typeOf=Qi;Cx.exports=ie;var Px=Cx.exports;function S5(f){function g(Z,V,H,N,b){for(var X=0,$=0,Q=0,J=0,k,et,nt=0,st=0,ot,ut=ot=k=0,at=0,ct=0,Et=0,St=0,Ct=H.length,dt=Ct-1,Tt,vt="",wt="",Bt="",Zt="",Ut;at<Ct;){if(et=H.charCodeAt(at),at===dt&&$+J+Q+X!==0&&($!==0&&(et=$===47?10:47),J=Q=X=0,Ct++,dt++),$+J+Q+X===0){if(at===dt&&(0<ct&&(vt=vt.replace(s,"")),0<vt.trim().length)){switch(et){case 32:case 9:case 59:case 13:case 10:break;default:vt+=H.charAt(at)}et=59}switch(et){case 123:for(vt=vt.trim(),k=vt.charCodeAt(0),ot=1,St=++at;at<Ct;){switch(et=H.charCodeAt(at)){case 123:ot++;break;case 125:ot--;break;case 47:switch(et=H.charCodeAt(at+1)){case 42:case 47:t:{for(ut=at+1;ut<dt;++ut)switch(H.charCodeAt(ut)){case 47:if(et===42&&H.charCodeAt(ut-1)===42&&at+2!==ut){at=ut+1;break t}break;case 10:if(et===47){at=ut+1;break t}}at=ut}}break;case 91:et++;case 40:et++;case 34:case 39:for(;at++<dt&&H.charCodeAt(at)!==et;);}if(ot===0)break;at++}switch(ot=H.substring(St,at),k===0&&(k=(vt=vt.replace(o,"").trim()).charCodeAt(0)),k){case 64:switch(0<ct&&(vt=vt.replace(s,"")),et=vt.charCodeAt(1),et){case 100:case 109:case 115:case 45:ct=V;break;default:ct=B}if(ot=g(V,ct,ot,et,b+1),St=ot.length,0<z&&(ct=y(B,vt,Et),Ut=x(3,ot,ct,V,F,L,St,et,b,N),vt=ct.join(""),Ut!==void 0&&(St=(ot=Ut.trim()).length)===0&&(et=0,ot="")),0<St)switch(et){case 115:vt=vt.replace(m,c);case 100:case 109:case 45:ot=vt+"{"+ot+"}";break;case 107:vt=vt.replace(h,"$1 $2"),ot=vt+"{"+ot+"}",ot=D===1||D===2&&R("@"+ot,3)?"@-webkit-"+ot+"@"+ot:"@"+ot;break;default:ot=vt+ot,N===112&&(ot=(wt+=ot,""))}else ot="";break;default:ot=g(V,y(V,vt,Et),ot,N,b+1)}Bt+=ot,ot=Et=ct=ut=k=0,vt="",et=H.charCodeAt(++at);break;case 125:case 59:if(vt=(0<ct?vt.replace(s,""):vt).trim(),1<(St=vt.length))switch(ut===0&&(k=vt.charCodeAt(0),k===45||96<k&&123>k)&&(St=(vt=vt.replace(" ",":")).length),0<z&&(Ut=x(1,vt,V,Z,F,L,wt.length,N,b,N))!==void 0&&(St=(vt=Ut.trim()).length)===0&&(vt="\0\0"),k=vt.charCodeAt(0),et=vt.charCodeAt(1),k){case 0:break;case 64:if(et===105||et===99){Zt+=vt+H.charAt(at);break}default:vt.charCodeAt(St-1)!==58&&(wt+=w(vt,k,et,vt.charCodeAt(2)))}Et=ct=ut=k=0,vt="",et=H.charCodeAt(++at)}}switch(et){case 13:case 10:$===47?$=0:1+k===0&&N!==107&&0<vt.length&&(ct=1,vt+="\0"),0<z*Y&&x(0,vt,V,Z,F,L,wt.length,N,b,N),L=1,F++;break;case 59:case 125:if($+J+Q+X===0){L++;break}default:switch(L++,Tt=H.charAt(at),et){case 9:case 32:if(J+X+$===0)switch(nt){case 44:case 58:case 9:case 32:Tt="";break;default:et!==32&&(Tt=" ")}break;case 0:Tt="\\0";break;case 12:Tt="\\f";break;case 11:Tt="\\v";break;case 38:J+$+X===0&&(ct=Et=1,Tt="\f"+Tt);break;case 108:if(J+$+X+I===0&&0<ut)switch(at-ut){case 2:nt===112&&H.charCodeAt(at-3)===58&&(I=nt);case 8:st===111&&(I=st)}break;case 58:J+$+X===0&&(ut=at);break;case 44:$+Q+J+X===0&&(ct=1,Tt+="\r");break;case 34:case 39:$===0&&(J=J===et?0:J===0?et:J);break;case 91:J+$+Q===0&&X++;break;case 93:J+$+Q===0&&X--;break;case 41:J+$+X===0&&Q--;break;case 40:if(J+$+X===0){if(k===0)switch(2*nt+3*st){case 533:break;default:k=1}Q++}break;case 64:$+Q+J+X+ut+ot===0&&(ot=1);break;case 42:case 47:if(!(0<J+X+Q))switch($){case 0:switch(2*et+3*H.charCodeAt(at+1)){case 235:$=47;break;case 220:St=at,$=42}break;case 42:et===47&&nt===42&&St+2!==at&&(H.charCodeAt(St+2)===33&&(wt+=H.substring(St,at+1)),Tt="",$=0)}}$===0&&(vt+=Tt)}st=nt,nt=et,at++}if(St=wt.length,0<St){if(ct=V,0<z&&(Ut=x(2,wt,ct,Z,F,L,St,N,b,N),Ut!==void 0&&(wt=Ut).length===0))return Zt+wt+Bt;if(wt=ct.join(",")+"{"+wt+"}",D*I!==0){switch(D!==2||R(wt,2)||(I=0),I){case 111:wt=wt.replace(d,":-moz-$1")+wt;break;case 112:wt=wt.replace(u,"::-webkit-input-$1")+wt.replace(u,"::-moz-$1")+wt.replace(u,":-ms-input-$1")+wt}I=0}}return Zt+wt+Bt}function y(Z,V,H){var N=V.trim().split(l);V=N;var b=N.length,X=Z.length;switch(X){case 0:case 1:var $=0;for(Z=X===0?"":Z[0]+" ";$<b;++$)V[$]=E(Z,V[$],H).trim();break;default:var Q=$=0;for(V=[];$<b;++$)for(var J=0;J<X;++J)V[Q++]=E(Z[J]+" ",N[$],H).trim()}return V}function E(Z,V,H){var N=V.charCodeAt(0);switch(33>N&&(N=(V=V.trim()).charCodeAt(0)),N){case 38:return V.replace(i,"$1"+Z.trim());case 58:return Z.trim()+V.replace(i,"$1"+Z.trim());default:if(0<1*H&&0<V.indexOf("\f"))return V.replace(i,(Z.charCodeAt(0)===58?"":"$1")+Z.trim())}return Z+V}function w(Z,V,H,N){var b=Z+";",X=2*V+3*H+4*N;if(X===944){Z=b.indexOf(":",9)+1;var $=b.substring(Z,b.length-1).trim();return $=b.substring(0,Z).trim()+$+";",D===1||D===2&&R($,1)?"-webkit-"+$+$:$}if(D===0||D===2&&!R(b,1))return b;switch(X){case 1015:return b.charCodeAt(10)===97?"-webkit-"+b+b:b;case 951:return b.charCodeAt(3)===116?"-webkit-"+b+b:b;case 963:return b.charCodeAt(5)===110?"-webkit-"+b+b:b;case 1009:if(b.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+b+b;case 978:return"-webkit-"+b+"-moz-"+b+b;case 1019:case 983:return"-webkit-"+b+"-moz-"+b+"-ms-"+b+b;case 883:if(b.charCodeAt(8)===45)return"-webkit-"+b+b;if(0<b.indexOf("image-set(",11))return b.replace(A,"$1-webkit-$2")+b;break;case 932:if(b.charCodeAt(4)===45)switch(b.charCodeAt(5)){case 103:return"-webkit-box-"+b.replace("-grow","")+"-webkit-"+b+"-ms-"+b.replace("grow","positive")+b;case 115:return"-webkit-"+b+"-ms-"+b.replace("shrink","negative")+b;case 98:return"-webkit-"+b+"-ms-"+b.replace("basis","preferred-size")+b}return"-webkit-"+b+"-ms-"+b+b;case 964:return"-webkit-"+b+"-ms-flex-"+b+b;case 1023:if(b.charCodeAt(8)!==99)break;return $=b.substring(b.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+$+"-webkit-"+b+"-ms-flex-pack"+$+b;case 1005:return e.test(b)?b.replace(r,":-webkit-")+b.replace(r,":-moz-")+b:b;case 1e3:switch($=b.substring(13).trim(),V=$.indexOf("-")+1,$.charCodeAt(0)+$.charCodeAt(V)){case 226:$=b.replace(v,"tb");break;case 232:$=b.replace(v,"tb-rl");break;case 220:$=b.replace(v,"lr");break;default:return b}return"-webkit-"+b+"-ms-"+$+b;case 1017:if(b.indexOf("sticky",9)===-1)break;case 975:switch(V=(b=Z).length-10,$=(b.charCodeAt(V)===33?b.substring(0,V):b).substring(Z.indexOf(":",7)+1).trim(),X=$.charCodeAt(0)+($.charCodeAt(7)|0)){case 203:if(111>$.charCodeAt(8))break;case 115:b=b.replace($,"-webkit-"+$)+";"+b;break;case 207:case 102:b=b.replace($,"-webkit-"+(102<X?"inline-":"")+"box")+";"+b.replace($,"-webkit-"+$)+";"+b.replace($,"-ms-"+$+"box")+";"+b}return b+";";case 938:if(b.charCodeAt(5)===45)switch(b.charCodeAt(6)){case 105:return $=b.replace("-items",""),"-webkit-"+b+"-webkit-box-"+$+"-ms-flex-"+$+b;case 115:return"-webkit-"+b+"-ms-flex-item-"+b.replace(C,"")+b;default:return"-webkit-"+b+"-ms-flex-line-pack"+b.replace("align-content","").replace(C,"")+b}break;case 973:case 989:if(b.charCodeAt(3)!==45||b.charCodeAt(4)===122)break;case 931:case 953:if(P.test(Z)===!0)return($=Z.substring(Z.indexOf(":")+1)).charCodeAt(0)===115?w(Z.replace("stretch","fill-available"),V,H,N).replace(":fill-available",":stretch"):b.replace($,"-webkit-"+$)+b.replace($,"-moz-"+$.replace("fill-",""))+b;break;case 962:if(b="-webkit-"+b+(b.charCodeAt(5)===102?"-ms-"+b:"")+b,H+N===211&&b.charCodeAt(13)===105&&0<b.indexOf("transform",10))return b.substring(0,b.indexOf(";",27)+1).replace(n,"$1-webkit-$2")+b}return b}function R(Z,V){var H=Z.indexOf(V===1?":":"{"),N=Z.substring(0,V!==3?H:10);return H=Z.substring(H+1,Z.length-1),W(V!==2?N:N.replace(S,"$1"),H,V)}function c(Z,V){var H=w(V,V.charCodeAt(0),V.charCodeAt(1),V.charCodeAt(2));return H!==V+";"?H.replace(T," or ($1)").substring(4):"("+V+")"}function x(Z,V,H,N,b,X,$,Q,J,k){for(var et=0,nt=V,st;et<z;++et)switch(st=G[et].call(p,Z,nt,H,N,b,X,$,Q,J,k)){case void 0:case!1:case!0:case null:break;default:nt=st}if(nt!==V)return nt}function t(Z){switch(Z){case void 0:case null:z=G.length=0;break;default:if(typeof Z=="function")G[z++]=Z;else if(typeof Z=="object")for(var V=0,H=Z.length;V<H;++V)t(Z[V]);else Y=!!Z|0}return t}function a(Z){return Z=Z.prefix,Z!==void 0&&(W=null,Z?typeof Z!="function"?D=1:(D=2,W=Z):D=0),a}function p(Z,V){var H=Z;if(33>H.charCodeAt(0)&&(H=H.trim()),K=H,H=[K],0<z){var N=x(-1,V,H,H,F,L,0,0,0,0);N!==void 0&&typeof N=="string"&&(V=N)}var b=g(B,H,V,0,0);return 0<z&&(N=x(-2,b,H,H,F,L,b.length,0,0,0),N!==void 0&&(b=N)),K="",I=0,L=F=1,b}var o=/^\0+/g,s=/[\0\r\f]/g,r=/: */g,e=/zoo|gra/,n=/([,: ])(transform)/g,l=/,\r+?/g,i=/([\t\r\n ])*\f?&/g,h=/@(k\w+)\s*(\S*)\s*/,u=/::(place)/g,d=/:(read-only)/g,v=/[svh]\w+-[tblr]{2}/,m=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,P=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,L=1,F=1,I=0,D=1,B=[],G=[],z=0,W=null,Y=0,K="";return p.use=t,p.set=a,f!==void 0&&a(f),p}var C5={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function E5(f){var g=Object.create(null);return function(y){return g[y]===void 0&&(g[y]=f(y)),g[y]}}var P5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wm=E5(function(f){return P5.test(f)||f.charCodeAt(0)===111&&f.charCodeAt(1)===110&&f.charCodeAt(2)<91}),Ax={exports:{}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=typeof Symbol=="function"&&Symbol.for,yv=be?Symbol.for("react.element"):60103,xv=be?Symbol.for("react.portal"):60106,eu=be?Symbol.for("react.fragment"):60107,iu=be?Symbol.for("react.strict_mode"):60108,nu=be?Symbol.for("react.profiler"):60114,ru=be?Symbol.for("react.provider"):60109,su=be?Symbol.for("react.context"):60110,Tv=be?Symbol.for("react.async_mode"):60111,au=be?Symbol.for("react.concurrent_mode"):60111,ou=be?Symbol.for("react.forward_ref"):60112,hu=be?Symbol.for("react.suspense"):60113,A5=be?Symbol.for("react.suspense_list"):60120,lu=be?Symbol.for("react.memo"):60115,uu=be?Symbol.for("react.lazy"):60116,w5=be?Symbol.for("react.block"):60121,M5=be?Symbol.for("react.fundamental"):60117,R5=be?Symbol.for("react.responder"):60118,L5=be?Symbol.for("react.scope"):60119;function Ri(f){if(typeof f=="object"&&f!==null){var g=f.$$typeof;switch(g){case yv:switch(f=f.type,f){case Tv:case au:case eu:case nu:case iu:case hu:return f;default:switch(f=f&&f.$$typeof,f){case su:case ou:case uu:case lu:case ru:return f;default:return g}}case xv:return g}}}function wx(f){return Ri(f)===au}ne.AsyncMode=Tv;ne.ConcurrentMode=au;ne.ContextConsumer=su;ne.ContextProvider=ru;ne.Element=yv;ne.ForwardRef=ou;ne.Fragment=eu;ne.Lazy=uu;ne.Memo=lu;ne.Portal=xv;ne.Profiler=nu;ne.StrictMode=iu;ne.Suspense=hu;ne.isAsyncMode=function(f){return wx(f)||Ri(f)===Tv};ne.isConcurrentMode=wx;ne.isContextConsumer=function(f){return Ri(f)===su};ne.isContextProvider=function(f){return Ri(f)===ru};ne.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===yv};ne.isForwardRef=function(f){return Ri(f)===ou};ne.isFragment=function(f){return Ri(f)===eu};ne.isLazy=function(f){return Ri(f)===uu};ne.isMemo=function(f){return Ri(f)===lu};ne.isPortal=function(f){return Ri(f)===xv};ne.isProfiler=function(f){return Ri(f)===nu};ne.isStrictMode=function(f){return Ri(f)===iu};ne.isSuspense=function(f){return Ri(f)===hu};ne.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===eu||f===au||f===nu||f===iu||f===hu||f===A5||typeof f=="object"&&f!==null&&(f.$$typeof===uu||f.$$typeof===lu||f.$$typeof===ru||f.$$typeof===su||f.$$typeof===ou||f.$$typeof===M5||f.$$typeof===R5||f.$$typeof===L5||f.$$typeof===w5)};ne.typeOf=Ri;Ax.exports=ne;var F5=Ax.exports,Sv=F5,O5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},I5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Cv={};Cv[Sv.ForwardRef]=I5;Cv[Sv.Memo]=Mx;function Mm(f){return Sv.isMemo(f)?Mx:Cv[f.$$typeof]||O5}var B5=Object.defineProperty,N5=Object.getOwnPropertyNames,Rm=Object.getOwnPropertySymbols,G5=Object.getOwnPropertyDescriptor,z5=Object.getPrototypeOf,Lm=Object.prototype;function Rx(f,g,y){if(typeof g!="string"){if(Lm){var E=z5(g);E&&E!==Lm&&Rx(f,E,y)}var w=N5(g);Rm&&(w=w.concat(Rm(g)));for(var R=Mm(f),c=Mm(g),x=0;x<w.length;++x){var t=w[x];if(!D5[t]&&!(y&&y[t])&&!(c&&c[t])&&!(R&&R[t])){var a=G5(g,t);try{B5(f,t,a)}catch{}}}}return f}var b5=Rx;const U5=ea(b5);var mn={};function Un(){return(Un=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(f[E]=y[E])}return f}).apply(this,arguments)}var Fm=function(f,g){for(var y=[f[0]],E=0,w=g.length;E<w;E+=1)y.push(g[E],f[E+1]);return y},ac=function(f){return f!==null&&typeof f=="object"&&(f.toString?f.toString():Object.prototype.toString.call(f))==="[object Object]"&&!Px.typeOf(f)},Al=Object.freeze([]),mr=Object.freeze({});function po(f){return typeof f=="function"}function Om(f){return f.displayName||f.name||"Component"}function Ev(f){return f&&typeof f.styledComponentId=="string"}var ks=typeof process<"u"&&(mn.REACT_APP_SC_ATTR||mn.SC_ATTR)||"data-styled",Pv=typeof window<"u"&&"HTMLElement"in window,V5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&mn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&mn.REACT_APP_SC_DISABLE_SPEEDY!==""?mn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&mn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&mn.SC_DISABLE_SPEEDY!==void 0&&mn.SC_DISABLE_SPEEDY!==""&&mn.SC_DISABLE_SPEEDY!=="false"&&mn.SC_DISABLE_SPEEDY);function Eo(f){for(var g=arguments.length,y=new Array(g>1?g-1:0),E=1;E<g;E++)y[E-1]=arguments[E];throw new Error("An error occurred. See https://git.io/JUIaE#"+f+" for more information."+(y.length>0?" Args: "+y.join(", "):""))}var W5=function(){function f(y){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=y}var g=f.prototype;return g.indexOfGroup=function(y){for(var E=0,w=0;w<y;w++)E+=this.groupSizes[w];return E},g.insertRules=function(y,E){if(y>=this.groupSizes.length){for(var w=this.groupSizes,R=w.length,c=R;y>=c;)(c<<=1)<0&&Eo(16,""+y);this.groupSizes=new Uint32Array(c),this.groupSizes.set(w),this.length=c;for(var x=R;x<c;x++)this.groupSizes[x]=0}for(var t=this.indexOfGroup(y+1),a=0,p=E.length;a<p;a++)this.tag.insertRule(t,E[a])&&(this.groupSizes[y]++,t++)},g.clearGroup=function(y){if(y<this.length){var E=this.groupSizes[y],w=this.indexOfGroup(y),R=w+E;this.groupSizes[y]=0;for(var c=w;c<R;c++)this.tag.deleteRule(w)}},g.getGroup=function(y){var E="";if(y>=this.length||this.groupSizes[y]===0)return E;for(var w=this.groupSizes[y],R=this.indexOfGroup(y),c=R+w,x=R;x<c;x++)E+=this.tag.getRule(x)+`/*!sc*/
`;return E},f}(),kh=new Map,wl=new Map,ja=1,Oh=function(f){if(kh.has(f))return kh.get(f);for(;wl.has(ja);)ja++;var g=ja++;return kh.set(f,g),wl.set(g,f),g},X5=function(f){return wl.get(f)},Y5=function(f,g){g>=ja&&(ja=g+1),kh.set(f,g),wl.set(g,f)},H5="style["+ks+'][data-styled-version="5.3.6"]',$5=new RegExp("^"+ks+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),K5=function(f,g,y){for(var E,w=y.split(","),R=0,c=w.length;R<c;R++)(E=w[R])&&f.registerName(g,E)},j5=function(f,g){for(var y=(g.textContent||"").split(`/*!sc*/
`),E=[],w=0,R=y.length;w<R;w++){var c=y[w].trim();if(c){var x=c.match($5);if(x){var t=0|parseInt(x[1],10),a=x[2];t!==0&&(Y5(a,t),K5(f,a,x[3]),f.getTag().insertRules(t,E)),E.length=0}else E.push(c)}}},Z5=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Lx=function(f){var g=document.head,y=f||g,E=document.createElement("style"),w=function(x){for(var t=x.childNodes,a=t.length;a>=0;a--){var p=t[a];if(p&&p.nodeType===1&&p.hasAttribute(ks))return p}}(y),R=w!==void 0?w.nextSibling:null;E.setAttribute(ks,"active"),E.setAttribute("data-styled-version","5.3.6");var c=Z5();return c&&E.setAttribute("nonce",c),y.insertBefore(E,R),E},Q5=function(){function f(y){var E=this.element=Lx(y);E.appendChild(document.createTextNode("")),this.sheet=function(w){if(w.sheet)return w.sheet;for(var R=document.styleSheets,c=0,x=R.length;c<x;c++){var t=R[c];if(t.ownerNode===w)return t}Eo(17)}(E),this.length=0}var g=f.prototype;return g.insertRule=function(y,E){try{return this.sheet.insertRule(E,y),this.length++,!0}catch{return!1}},g.deleteRule=function(y){this.sheet.deleteRule(y),this.length--},g.getRule=function(y){var E=this.sheet.cssRules[y];return E!==void 0&&typeof E.cssText=="string"?E.cssText:""},f}(),J5=function(){function f(y){var E=this.element=Lx(y);this.nodes=E.childNodes,this.length=0}var g=f.prototype;return g.insertRule=function(y,E){if(y<=this.length&&y>=0){var w=document.createTextNode(E),R=this.nodes[y];return this.element.insertBefore(w,R||null),this.length++,!0}return!1},g.deleteRule=function(y){this.element.removeChild(this.nodes[y]),this.length--},g.getRule=function(y){return y<this.length?this.nodes[y].textContent:""},f}(),k5=function(){function f(y){this.rules=[],this.length=0}var g=f.prototype;return g.insertRule=function(y,E){return y<=this.length&&(this.rules.splice(y,0,E),this.length++,!0)},g.deleteRule=function(y){this.rules.splice(y,1),this.length--},g.getRule=function(y){return y<this.length?this.rules[y]:""},f}(),Dm=Pv,q5={isServer:!Pv,useCSSOMInjection:!V5},Fx=function(){function f(y,E,w){y===void 0&&(y=mr),E===void 0&&(E={}),this.options=Un({},q5,{},y),this.gs=E,this.names=new Map(w),this.server=!!y.isServer,!this.server&&Pv&&Dm&&(Dm=!1,function(R){for(var c=document.querySelectorAll(H5),x=0,t=c.length;x<t;x++){var a=c[x];a&&a.getAttribute(ks)!=="active"&&(j5(R,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}f.registerId=function(y){return Oh(y)};var g=f.prototype;return g.reconstructWithOptions=function(y,E){return E===void 0&&(E=!0),new f(Un({},this.options,{},y),this.gs,E&&this.names||void 0)},g.allocateGSInstance=function(y){return this.gs[y]=(this.gs[y]||0)+1},g.getTag=function(){return this.tag||(this.tag=(w=(E=this.options).isServer,R=E.useCSSOMInjection,c=E.target,y=w?new k5(c):R?new Q5(c):new J5(c),new W5(y)));var y,E,w,R,c},g.hasNameForId=function(y,E){return this.names.has(y)&&this.names.get(y).has(E)},g.registerName=function(y,E){if(Oh(y),this.names.has(y))this.names.get(y).add(E);else{var w=new Set;w.add(E),this.names.set(y,w)}},g.insertRules=function(y,E,w){this.registerName(y,E),this.getTag().insertRules(Oh(y),w)},g.clearNames=function(y){this.names.has(y)&&this.names.get(y).clear()},g.clearRules=function(y){this.getTag().clearGroup(Oh(y)),this.clearNames(y)},g.clearTag=function(){this.tag=void 0},g.toString=function(){return function(y){for(var E=y.getTag(),w=E.length,R="",c=0;c<w;c++){var x=X5(c);if(x!==void 0){var t=y.names.get(x),a=E.getGroup(c);if(t&&a&&t.size){var p=ks+".g"+c+'[id="'+x+'"]',o="";t!==void 0&&t.forEach(function(s){s.length>0&&(o+=s+",")}),R+=""+a+p+'{content:"'+o+`"}/*!sc*/
`}}}return R}(this)},f}(),_5=/(a)(d)/gi,Im=function(f){return String.fromCharCode(f+(f>25?39:97))};function oc(f){var g,y="";for(g=Math.abs(f);g>52;g=g/52|0)y=Im(g%52)+y;return(Im(g%52)+y).replace(_5,"$1-$2")}var Ds=function(f,g){for(var y=g.length;y;)f=33*f^g.charCodeAt(--y);return f},Ox=function(f){return Ds(5381,f)};function t9(f){for(var g=0;g<f.length;g+=1){var y=f[g];if(po(y)&&!Ev(y))return!1}return!0}var e9=Ox("5.3.6"),i9=function(){function f(g,y,E){this.rules=g,this.staticRulesId="",this.isStatic=(E===void 0||E.isStatic)&&t9(g),this.componentId=y,this.baseHash=Ds(e9,y),this.baseStyle=E,Fx.registerId(y)}return f.prototype.generateAndInjectStyles=function(g,y,E){var w=this.componentId,R=[];if(this.baseStyle&&R.push(this.baseStyle.generateAndInjectStyles(g,y,E)),this.isStatic&&!E.hash)if(this.staticRulesId&&y.hasNameForId(w,this.staticRulesId))R.push(this.staticRulesId);else{var c=qs(this.rules,g,y,E).join(""),x=oc(Ds(this.baseHash,c)>>>0);if(!y.hasNameForId(w,x)){var t=E(c,"."+x,void 0,w);y.insertRules(w,x,t)}R.push(x),this.staticRulesId=x}else{for(var a=this.rules.length,p=Ds(this.baseHash,E.hash),o="",s=0;s<a;s++){var r=this.rules[s];if(typeof r=="string")o+=r;else if(r){var e=qs(r,g,y,E),n=Array.isArray(e)?e.join(""):e;p=Ds(p,n+s),o+=n}}if(o){var l=oc(p>>>0);if(!y.hasNameForId(w,l)){var i=E(o,"."+l,void 0,w);y.insertRules(w,l,i)}R.push(l)}}return R.join(" ")},f}(),n9=/^\s*\/\/.*$/gm,r9=[":","[",".","#"];function s9(f){var g,y,E,w,R=f===void 0?mr:f,c=R.options,x=c===void 0?mr:c,t=R.plugins,a=t===void 0?Al:t,p=new S5(x),o=[],s=function(n){function l(i){if(i)try{n(i+"}")}catch{}}return function(i,h,u,d,v,m,T,C,S,P){switch(i){case 1:if(S===0&&h.charCodeAt(0)===64)return n(h+";"),"";break;case 2:if(C===0)return h+"/*|*/";break;case 3:switch(C){case 102:case 112:return n(u[0]+h),"";default:return h+(P===0?"/*|*/":"")}case-2:h.split("/*|*/}").forEach(l)}}}(function(n){o.push(n)}),r=function(n,l,i){return l===0&&r9.indexOf(i[y.length])!==-1||i.match(w)?n:"."+g};function e(n,l,i,h){h===void 0&&(h="&");var u=n.replace(n9,""),d=l&&i?i+" "+l+" { "+u+" }":u;return g=h,y=l,E=new RegExp("\\"+y+"\\b","g"),w=new RegExp("(\\"+y+"\\b){2,}"),p(i||!l?"":l,d)}return p.use([].concat(a,[function(n,l,i){n===2&&i.length&&i[0].lastIndexOf(y)>0&&(i[0]=i[0].replace(E,r))},s,function(n){if(n===-2){var l=o;return o=[],l}}])),e.hash=a.length?a.reduce(function(n,l){return l.name||Eo(15),Ds(n,l.name)},5381).toString():"",e}var Dx=Xi.createContext();Dx.Consumer;var Ix=Xi.createContext(),a9=(Ix.Consumer,new Fx),hc=s9();function o9(){return Pi.useContext(Dx)||a9}function h9(){return Pi.useContext(Ix)||hc}var l9=function(){function f(g,y){var E=this;this.inject=function(w,R){R===void 0&&(R=hc);var c=E.name+R.hash;w.hasNameForId(E.id,c)||w.insertRules(E.id,c,R(E.rules,c,"@keyframes"))},this.toString=function(){return Eo(12,String(E.name))},this.name=g,this.id="sc-keyframes-"+g,this.rules=y}return f.prototype.getName=function(g){return g===void 0&&(g=hc),this.name+g.hash},f}(),u9=/([A-Z])/,f9=/([A-Z])/g,d9=/^ms-/,c9=function(f){return"-"+f.toLowerCase()};function Bm(f){return u9.test(f)?f.replace(f9,c9).replace(d9,"-ms-"):f}var Nm=function(f){return f==null||f===!1||f===""};function qs(f,g,y,E){if(Array.isArray(f)){for(var w,R=[],c=0,x=f.length;c<x;c+=1)(w=qs(f[c],g,y,E))!==""&&(Array.isArray(w)?R.push.apply(R,w):R.push(w));return R}if(Nm(f))return"";if(Ev(f))return"."+f.styledComponentId;if(po(f)){if(typeof(a=f)!="function"||a.prototype&&a.prototype.isReactComponent||!g)return f;var t=f(g);return qs(t,g,y,E)}var a;return f instanceof l9?y?(f.inject(y,E),f.getName(E)):f:ac(f)?function p(o,s){var r,e,n=[];for(var l in o)o.hasOwnProperty(l)&&!Nm(o[l])&&(Array.isArray(o[l])&&o[l].isCss||po(o[l])?n.push(Bm(l)+":",o[l],";"):ac(o[l])?n.push.apply(n,p(o[l],l)):n.push(Bm(l)+": "+(r=l,(e=o[l])==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||r in C5?String(e).trim():e+"px")+";"));return s?[s+" {"].concat(n,["}"]):n}(f):f.toString()}var Gm=function(f){return Array.isArray(f)&&(f.isCss=!0),f};function v9(f){for(var g=arguments.length,y=new Array(g>1?g-1:0),E=1;E<g;E++)y[E-1]=arguments[E];return po(f)||ac(f)?Gm(qs(Fm(Al,[f].concat(y)))):y.length===0&&f.length===1&&typeof f[0]=="string"?f:Gm(qs(Fm(f,y)))}var p9=function(f,g,y){return y===void 0&&(y=mr),f.theme!==y.theme&&f.theme||g||y.theme},g9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,m9=/(^-|-$)/g;function id(f){return f.replace(g9,"-").replace(m9,"")}var y9=function(f){return oc(Ox(f)>>>0)};function Dh(f){return typeof f=="string"&&!0}var lc=function(f){return typeof f=="function"||typeof f=="object"&&f!==null&&!Array.isArray(f)},x9=function(f){return f!=="__proto__"&&f!=="constructor"&&f!=="prototype"};function T9(f,g,y){var E=f[y];lc(g)&&lc(E)?Bx(E,g):f[y]=g}function Bx(f){for(var g=arguments.length,y=new Array(g>1?g-1:0),E=1;E<g;E++)y[E-1]=arguments[E];for(var w=0,R=y;w<R.length;w++){var c=R[w];if(lc(c))for(var x in c)x9(x)&&T9(f,c[x],x)}return f}var Nx=Xi.createContext();Nx.Consumer;var nd={};function Gx(f,g,y){var E=Ev(f),w=!Dh(f),R=g.attrs,c=R===void 0?Al:R,x=g.componentId,t=x===void 0?function(h,u){var d=typeof h!="string"?"sc":id(h);nd[d]=(nd[d]||0)+1;var v=d+"-"+y9("5.3.6"+d+nd[d]);return u?u+"-"+v:v}(g.displayName,g.parentComponentId):x,a=g.displayName,p=a===void 0?function(h){return Dh(h)?"styled."+h:"Styled("+Om(h)+")"}(f):a,o=g.displayName&&g.componentId?id(g.displayName)+"-"+g.componentId:g.componentId||t,s=E&&f.attrs?Array.prototype.concat(f.attrs,c).filter(Boolean):c,r=g.shouldForwardProp;E&&f.shouldForwardProp&&(r=g.shouldForwardProp?function(h,u,d){return f.shouldForwardProp(h,u,d)&&g.shouldForwardProp(h,u,d)}:f.shouldForwardProp);var e,n=new i9(y,o,E?f.componentStyle:void 0),l=n.isStatic&&c.length===0,i=function(h,u){return function(d,v,m,T){var C=d.attrs,S=d.componentStyle,P=d.defaultProps,A=d.foldedComponentIds,L=d.shouldForwardProp,F=d.styledComponentId,I=d.target,D=function(N,b,X){N===void 0&&(N=mr);var $=Un({},b,{theme:N}),Q={};return X.forEach(function(J){var k,et,nt,st=J;for(k in po(st)&&(st=st($)),st)$[k]=Q[k]=k==="className"?(et=Q[k],nt=st[k],et&&nt?et+" "+nt:et||nt):st[k]}),[$,Q]}(p9(v,Pi.useContext(Nx),P)||mr,v,C),B=D[0],G=D[1],z=function(N,b,X,$){var Q=o9(),J=h9(),k=b?N.generateAndInjectStyles(mr,Q,J):N.generateAndInjectStyles(X,Q,J);return k}(S,T,B),W=m,Y=G.$as||v.$as||G.as||v.as||I,K=Dh(Y),Z=G!==v?Un({},v,{},G):v,V={};for(var H in Z)H[0]!=="$"&&H!=="as"&&(H==="forwardedAs"?V.as=Z[H]:(L?L(H,wm,Y):!K||wm(H))&&(V[H]=Z[H]));return v.style&&G.style!==v.style&&(V.style=Un({},v.style,{},G.style)),V.className=Array.prototype.concat(A,F,z!==F?z:null,v.className,G.className).filter(Boolean).join(" "),V.ref=W,Pi.createElement(Y,V)}(e,h,u,l)};return i.displayName=p,(e=Xi.forwardRef(i)).attrs=s,e.componentStyle=n,e.displayName=p,e.shouldForwardProp=r,e.foldedComponentIds=E?Array.prototype.concat(f.foldedComponentIds,f.styledComponentId):Al,e.styledComponentId=o,e.target=E?f.target:f,e.withComponent=function(h){var u=g.componentId,d=function(m,T){if(m==null)return{};var C,S,P={},A=Object.keys(m);for(S=0;S<A.length;S++)C=A[S],T.indexOf(C)>=0||(P[C]=m[C]);return P}(g,["componentId"]),v=u&&u+"-"+(Dh(h)?h:id(Om(h)));return Gx(h,Un({},d,{attrs:s,componentId:v}),y)},Object.defineProperty(e,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(h){this._foldedDefaultProps=E?Bx({},f.defaultProps,h):h}}),e.toString=function(){return"."+e.styledComponentId},w&&U5(e,f,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),e}var uc=function(f){return function g(y,E,w){if(w===void 0&&(w=mr),!Px.isValidElementType(E))return Eo(1,String(E));var R=function(){return y(E,w,v9.apply(void 0,arguments))};return R.withConfig=function(c){return g(y,E,Un({},w,{},c))},R.attrs=function(c){return g(y,E,Un({},w,{attrs:Array.prototype.concat(w.attrs,c).filter(Boolean)}))},R}(Gx,f)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(f){uc[f]=uc(f)});const zx=uc;var bx={exports:{}};(function(f,g){(function(E,w){f.exports=w()})(y4,()=>(()=>{var y={50792:c=>{var x=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function p(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function o(e,n,l,i,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var u=new p(l,i||e,h),d=t?t+n:n;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],u]:e._events[d].push(u):(e._events[d]=u,e._eventsCount++),e}function s(e,n){--e._eventsCount===0?e._events=new a:delete e._events[n]}function r(){this._events=new a,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,i;if(this._eventsCount===0)return n;for(i in l=this._events)x.call(l,i)&&n.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,i=this._events[l];if(!i)return[];if(i.fn)return[i.fn];for(var h=0,u=i.length,d=new Array(u);h<u;h++)d[h]=i[h].fn;return d},r.prototype.listenerCount=function(n){var l=t?t+n:n,i=this._events[l];return i?i.fn?1:i.length:0},r.prototype.emit=function(n,l,i,h,u,d){var v=t?t+n:n;if(!this._events[v])return!1;var m=this._events[v],T=arguments.length,C,S;if(m.fn){switch(m.once&&this.removeListener(n,m.fn,void 0,!0),T){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,i),!0;case 4:return m.fn.call(m.context,l,i,h),!0;case 5:return m.fn.call(m.context,l,i,h,u),!0;case 6:return m.fn.call(m.context,l,i,h,u,d),!0}for(S=1,C=new Array(T-1);S<T;S++)C[S-1]=arguments[S];m.fn.apply(m.context,C)}else{var P=m.length,A;for(S=0;S<P;S++)switch(m[S].once&&this.removeListener(n,m[S].fn,void 0,!0),T){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,l);break;case 3:m[S].fn.call(m[S].context,l,i);break;case 4:m[S].fn.call(m[S].context,l,i,h);break;default:if(!C)for(A=1,C=new Array(T-1);A<T;A++)C[A-1]=arguments[A];m[S].fn.apply(m[S].context,C)}}return!0},r.prototype.on=function(n,l,i){return o(this,n,l,i,!1)},r.prototype.once=function(n,l,i){return o(this,n,l,i,!0)},r.prototype.removeListener=function(n,l,i,h){var u=t?t+n:n;if(!this._events[u])return this;if(!l)return s(this,u),this;var d=this._events[u];if(d.fn)d.fn===l&&(!h||d.once)&&(!i||d.context===i)&&s(this,u);else{for(var v=0,m=[],T=d.length;v<T;v++)(d[v].fn!==l||h&&!d[v].once||i&&d[v].context!==i)&&m.push(d[v]);m.length?this._events[u]=m.length===1?m[0]:m:s(this,u)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&s(this,l)):(this._events=new a,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,c.exports=r},11517:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38829),p=function(o,s,r,e){for(var n=o[0],l=1;l<o.length;l++){var i=o[l];a(i,n,s,r,e),n=i}return o};c.exports=p},80318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"angle",s,r,e,n)};c.exports=p},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=0;o<t.length;o++){var s=t[o];a.call(p,s)}return t};c.exports=x},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){p===void 0&&(p=0);for(var o=p;o<t.length;o++){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};c.exports=x},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){p===void 0&&(p=0);for(var o=t.length-1;o>=p;o--){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};c.exports=x},94420:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(11879),p=t(60461),o=t(95540),s=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),n=function(l,i){i===void 0&&(i={});var h=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),d=o(i,"width",-1),v=o(i,"height",-1),m=o(i,"cellWidth",1),T=o(i,"cellHeight",m),C=o(i,"position",p.TOP_LEFT),S=o(i,"x",0),P=o(i,"y",0),A=0,L=0,F=d*m,I=v*T;e.setPosition(S,P),e.setSize(m,T);for(var D=0;D<l.length;D++)if(a(l[D],e,C),h&&d===-1)e.x+=m;else if(u&&v===-1)e.y+=T;else if(u&&!h){if(L+=T,e.y+=T,L===I&&(L=0,A+=m,e.y=P,e.x+=m,A===F))break}else if(A+=m,e.x+=m,A===F&&(A=0,L+=T,e.x=S,e.y+=T,L===I))break;return l};c.exports=n},41721:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};c.exports=p},67285:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};c.exports=p},9074:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};c.exports=p},75222:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};c.exports=p},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=0),o===void 0&&(o=6.28);for(var s=p,r=(o-p)/t.length,e=a.x,n=a.y,l=a.radius,i=0;i<t.length;i++)t[i].x=e+l*Math.cos(s),t[i].y=n+l*Math.sin(s),s+=r;return t};c.exports=x},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=0),o===void 0&&(o=6.28);for(var s=p,r=(o-p)/t.length,e=a.width/2,n=a.height/2,l=0;l<t.length;l++)t[l].x=a.x+e*Math.cos(s),t[l].y=a.y+n*Math.sin(s),s+=r;return t};c.exports=x},88505:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15258),p=t(26708),o=function(s,r,e){var n;e?n=p(r,e,s.length):n=a(r,s.length);for(var l=0;l<s.length;l++){var i=s[l],h=n[l];i.x=h.x,i.y=h.y}return s};c.exports=o},41346:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14649),p=t(86003),o=t(49498),s=function(r,e,n){n===void 0&&(n=0);var l=a(e,!1,r.length);n>0?p(l,n):n<0&&o(l,Math.abs(n));for(var i=0;i<r.length;i++)r[i].x=l[i].x,r[i].y=l[i].y;return r};c.exports=s},11575:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84993),p=function(o,s,r){var e=a({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),n=a({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),l=a({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);e.pop(),n.pop(),l.pop(),e=e.concat(n,l);for(var i=e.length/o.length,h=0,u=0;u<o.length;u++){var d=o[u],v=e[Math.floor(h)];d.x=v.x,d.y=v.y,h+=i}return o};c.exports=p},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=0;o<t.length;o++){var s=t[o];s.anims&&s.anims.play(a,p)}return t};c.exports=x},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]+=p+n*o,n++;else for(e=s;e>=0;e--)t[e][a]+=p+n*o,n++;return t};c.exports=x},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]=p+n*o,n++;else for(e=s;e>=0;e--)t[e][a]=p+n*o,n++;return t};c.exports=x},88926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28176),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},33286:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(24820),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},96e3:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65822),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},28789:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26597),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},97154:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90260),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};c.exports=p},20510:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};c.exports=p},91051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1163),p=t(20339),o=function(s,r,e){for(var n=r.x,l=r.y,i=0;i<s.length;i++){var h=s[i];a(h,n,l,e,Math.max(1,p(h.x,h.y,n,l)))}return s};c.exports=o},76332:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1163),p=function(o,s,r,e){var n=s.x,l=s.y;if(e===0)return o;for(var i=0;i<o.length;i++)a(o[i],n,l,r,e);return o};c.exports=p},61619:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};c.exports=p},94868:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};c.exports=p},95532:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66979),p=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};c.exports=p},8689:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};c.exports=p},2645:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e){return a(o,"blendMode",s,0,r,e)};c.exports=p},32372:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"depth",s,r,e,n)};c.exports=p},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=0;o<t.length;o++)t[o].setInteractive(a,p);return t};c.exports=x},81583:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"originX",s,e,l,i),a(o,"originY",r,n,l,i),o.forEach(function(h){h.updateDisplayOrigin()}),o};c.exports=p},79939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};c.exports=p},2699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};c.exports=p},98739:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};c.exports=p},98476:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};c.exports=p},6207:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scrollFactorX",s,e,l,i),a(o,"scrollFactorY",r,n,l,i)};c.exports=p},6607:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scrollFactorX",s,r,e,n)};c.exports=p},72248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"scrollFactorY",s,r,e,n)};c.exports=p},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){for(var r=0;r<t.length;r++)t[r].setTint(a,p,o,s);return t};c.exports=x},50159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e){return a(o,"visible",s,0,r,e)};c.exports=p},77597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};c.exports=p},83194:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};c.exports=p},67678:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43967),p=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};c.exports=p},35850:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=new a);var l,i,h=o.length;if(h===1)l=o[0].x,i=o[0].y,o[0].x=s,o[0].y=r;else{var u=1,d=0;e===0&&(d=h-1,u=h-2),l=o[d].x,i=o[d].y,o[d].x=s,o[d].y=r;for(var v=0;v<h;v++)if(!(u>=h||u===-1)){var m=o[u],T=m.x,C=m.y;m.x=l,m.y=i,l=T,i=C,e===0?u--:u++}}return n.x=l,n.y=i,n};c.exports=p},8628:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33680),p=function(o){return a(o)};c.exports=p},21837:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7602),p=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};c.exports=p},21910:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54261),p=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};c.exports=p},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][a]+=(o+p)/2:t[0][a]=(o+p)/2,t;var r=Math.abs(o-p)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][a]+=e*r+p;else for(e=0;e<t.length;e++)t[e][a]=e*r+p;return t};c.exports=x},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};c.exports=x},39665:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),p=function(o,s,r){r===void 0&&(r=0);for(var e=0;e<o.length;e++){var n=o[e];n.x=a(n.x,s.left-r,s.right+r),n.y=a(n.y,s.top-r,s.bottom+r)}return o};c.exports=p},61061:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(74943),s=t(81957),r=t(41138),e=t(35154),n=t(90126),l=new p({initialize:function(h,u,d){this.manager=h,this.key=u,this.type="frame",this.frames=this.getFrames(h.textureManager,e(d,"frames",[]),e(d,"defaultTextureKey",null),e(d,"sortFrames",!0)),this.frameRate=e(d,"frameRate",null),this.duration=e(d,"duration",null),this.msPerFrame,this.skipMissedFrames=e(d,"skipMissedFrames",!0),this.delay=e(d,"delay",0),this.repeat=e(d,"repeat",0),this.repeatDelay=e(d,"repeatDelay",0),this.yoyo=e(d,"yoyo",!1),this.showBeforeDelay=e(d,"showBeforeDelay",!1),this.showOnStart=e(d,"showOnStart",!1),this.hideOnComplete=e(d,"hideOnComplete",!1),this.randomFrame=e(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,h,u,d){u===null&&d===null?(i.frameRate=24,i.duration=24/h*1e3):u&&d===null?(i.duration=u,i.frameRate=h/(u/1e3)):(i.frameRate=d,i.duration=h/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,h){var u=this.getFrames(this.manager.textureManager,h);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var d=this.frames.slice(0,i),v=this.frames.slice(i);this.frames=d.concat(u,v)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,h,u,d){d===void 0&&(d=!0);var v=[],m,T,C=1,S,P;if(typeof h=="string"){if(P=h,!i.exists(P))return console.warn('Texture "%s" not found',P),v;var A=i.get(P),L=A.getFrameNames();d&&n(L),h=[],L.forEach(function(z){h.push({key:P,frame:z})})}if(!Array.isArray(h)||h.length===0)return v;for(S=0;S<h.length;S++){var F=h[S],I=e(F,"key",u);if(I){var D=e(F,"frame",0),B=i.getFrame(I,D);if(!B){console.warn('Texture "%s" not found',I);continue}T=new r(I,D,C,B),T.duration=e(F,"duration",0),T.isFirst=!m,m&&(m.nextFrame=T,T.prevFrame=m),v.push(T),m=T,C++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var G=1/(v.length-1);for(S=0;S<v.length;S++)v[S].progress=S*G}return v},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameByProgress:function(i){return i=a(i,0,1),s(i,this.frames,"progress")},nextFrame:function(i){var h=i.currentFrame;h.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,h.nextFrame)},handleYoyoFrame:function(i,h){if(h||(h=!1),i.inReverse===!h&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=h),this.repeatAnimation(i);return}if(i.inReverse!==h&&i.repeatCounter===0){i.complete();return}i.forward=h;var u=h?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var h=i.currentFrame;h.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,h.prevFrame)},updateAndGetNextTick:function(i,h){i.setCurrentFrame(h),this.getNextTick(i)},removeFrame:function(i){var h=this.frames.indexOf(i);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){i.frames.push(h.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,h=1/(i-1),u,d=0;d<i;d++)u=this.frames[d],u.index=d+1,u.isFirst=!1,u.isLast=!1,u.progress=d*h,d===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[d+1])):d===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[d-1],u.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l){l===void 0&&(l=!1),this.textureKey=s,this.textureFrame=r,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=p},60848:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42099),p=t(83419),o=t(90330),s=t(50792),r=t(74943),e=t(8443),n=t(95540),l=t(35154),i=t(36383),h=t(20283),u=t(41836),d=new p({Extends:s,initialize:function(m){s.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",m.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(v,m,T){var C=this.anims,S=this.mixes,P=typeof v=="string"?v:v.key,A=typeof m=="string"?m:m.key;if(C.has(P)&&C.has(A)){var L=S.get(P);L||(L={}),L[A]=T,S.set(P,L)}return this},removeMix:function(v,m){var T=this.mixes,C=typeof v=="string"?v:v.key,S=T.get(C);if(S)if(m){var P=typeof m=="string"?m:m.key;S.hasOwnProperty(P)&&delete S[P]}else m||T.delete(C);return this},getMix:function(v,m){var T=this.mixes,C=typeof v=="string"?v:v.key,S=typeof m=="string"?m:m.key,P=T.get(C);return P&&P.hasOwnProperty(S)?P[S]:0},add:function(v,m){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(m.key=v,this.anims.set(v,m),this.emit(r.ADD_ANIMATION,v,m),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,m,T){var C=[],S=this.game.cache.json.get(v);if(!S)return console.warn("No Aseprite data found for: "+v),C;var P=this,A=l(S,"meta",null),L=l(S,"frames",null);if(A&&L){var F=l(A,"frameTags",[]);F.forEach(function(I){var D=[],B=n(I,"name",null),G=n(I,"from",0),z=n(I,"to",0),W=n(I,"direction","forward");if(B&&(!m||m&&m.indexOf(B)>-1)){for(var Y=0,K=G;K<=z;K++){var Z=K.toString(),V=L[Z];if(V){var H=n(V,"duration",i.MAX_SAFE_INTEGER);D.push({key:v,frame:Z,duration:H}),Y+=H}}W==="reverse"&&(D=D.reverse());var N={key:B,frames:D,duration:Y,yoyo:W==="pingpong"},b;T?T.anims&&(b=T.anims.create(N)):b=P.create(N),b&&C.push(b)}})}return C},create:function(v){var m=v.key,T=!1;return m&&(T=this.get(m),T?console.warn("AnimationManager key already exists: "+m):(T=new a(this,m,v),this.anims.set(m,T),this.emit(r.ADD_ANIMATION,m,T))),T},fromJSON:function(v,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var T=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var C=0;C<v.anims.length;C++)T.push(this.create(v.anims[C]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&T.push(this.create(v));return T},generateFrameNames:function(v,m){var T=l(m,"prefix",""),C=l(m,"start",0),S=l(m,"end",0),P=l(m,"suffix",""),A=l(m,"zeroPad",0),L=l(m,"outputArray",[]),F=l(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),L;var I=this.textureManager.get(v);if(!I)return L;var D;if(m)for(F||(F=h(C,S)),D=0;D<F.length;D++){var B=T+u(F[D],A,"0",1)+P;I.has(B)?L.push({key:v,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,v)}else for(F=I.getFrameNames(),D=0;D<F.length;D++)L.push({key:v,frame:F[D]});return L},generateFrameNumbers:function(v,m){var T=l(m,"start",0),C=l(m,"end",-1),S=l(m,"first",!1),P=l(m,"outputArray",[]),A=l(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),P;var L=this.textureManager.get(v);if(!L)return P;S&&L.has(S)&&P.push({key:v,frame:S}),A||(C===-1&&(C=L.frameTotal-2),A=h(T,C));for(var F=0;F<A.length;F++){var I=A[F];L.has(I)?P.push({key:v,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,v)}return P},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var m=this.textureManager.get(v),T=m.key,C=this.anims.getArray(),S=[],P=0;P<C.length;P++)for(var A=C[P],L=A.frames,F=0;F<L.length;F++)if(L[F].textureKey===T){S.push(A.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(v,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].anims.play(v);return this},staggerPlay:function(v,m,T,C){T===void 0&&(T=0),C===void 0&&(C=!0),Array.isArray(m)||(m=[m]);var S=m.length;C||S--;for(var P=0;P<m.length;P++){var A=T<0?Math.abs(T)*(S-P):T*P;m[P].anims.playAfterDelay(v,A)}return this},remove:function(v){var m=this.get(v);return m&&(this.emit(r.REMOVE_ANIMATION,v,m),this.anims.delete(v),this.removeMix(v)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(v){var m={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?m.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(T,C){m.anims.push(C.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=d},9674:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42099),p=t(30976),o=t(83419),s=t(90330),r=t(74943),e=t(95540),n=new o({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var i=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var u=l[h];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var i=this.animationManager,h=typeof l=="string"?l:e(l,"key",null),u=this.exists(h)?this.get(h):i.get(h);if(!u)console.warn("Missing animation: "+h);else{this.currentAnim=u;var d=u.getTotalFrames(),v=e(l,"frameRate",u.frameRate),m=e(l,"duration",u.duration);u.calculateDuration(this,d,m,v),this.delay=e(l,"delay",u.delay),this.repeat=e(l,"repeat",u.repeat),this.repeatDelay=e(l,"repeatDelay",u.repeatDelay),this.yoyo=e(l,"yoyo",u.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(l,"showOnStart",u.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(l,"randomFrame",u.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var T=e(l,"startFrame",0);T>d&&(T=0),this.randomFrame&&(T=p(0,d-1));var C=u.frames[T];T===0&&!this.forward&&(C=u.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,i){if(!this.isPlaying)this.delayCounter=i,this.play(l,!0);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(l,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(l);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(l,i){i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent,d=typeof l=="string"?l:l.key;if(i&&this.isPlaying&&h.key===d)return u;if(h&&this.isPlaying){var v=this.animationManager.getMix(h.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,i){i===void 0&&(i=!1);var h=typeof l=="string"?l:l.key;return i&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var i=this.currentAnim,h=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,i){var h=this.currentAnim;if(h){var u=this.currentFrame,d=this.parent,v=u.textureFrame;d.emit(l,h,u,d,v),i&&d.emit(i+h.key,h,u,d,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var i=l.progress;return this.inReverse&&(i*=-1),i},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,i){l===void 0&&(l=!1),i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent;return h?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,i){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?h.nextFrame(this):h.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(l){var i=this.parent;return this.currentFrame=l,i.texture=l.frame.texture,i.frame=l.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),l.setAlpha&&(i.alpha=l.alpha),i.setSizeToFrame(),i._originComponent&&(l.frame.customPivot?i.setOrigin(l.frame.pivotX,l.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var i=l.key,h=!1;return i&&(h=this.get(i),h?console.warn("Animation key already exists: "+i):(h=new a(this,i,l),this.anims||(this.anims=new s),this.anims.set(i,h))),h},createFromAseprite:function(l,i){return this.animationManager.createFromAseprite(l,i,this.parent)},generateFrameNames:function(l,i){return this.animationManager.generateFrameNames(l,i)},generateFrameNumbers:function(l,i){return this.animationManager.generateFrameNumbers(l,i)},remove:function(l){var i=this.get(l);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(l)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=n},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(90330),o=t(50792),s=t(24736),r=new a({initialize:function(){this.entries=new p,this.events=new o},add:function(e,n){return this.entries.set(e,n),this.events.emit(s.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=r},24047:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2161),p=t(83419),o=t(8443),s=new p({initialize:function(e){this.game=e,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new a),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});c.exports=s},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(39506),s=t(50792),r=t(19715),e=t(87841),n=t(61340),l=t(80333),i=t(26099),h=new a({Extends:s,Mixins:[p.AlphaSingle,p.Visible],initialize:function(d,v,m,T){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=d,this._y=v,this._width=m,this._height=T,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(m/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,d){return u===void 0&&(u=.5),d===void 0&&(d=u),this.originX=u,this.originY=d,this},getScroll:function(u,d,v){v===void 0&&(v=new i);var m=this.width*.5,T=this.height*.5;return v.x=u-m,v.y=d-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(u){var d=this.width*.5;return this.midPoint.x=u,this.scrollX=u-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var d=this.height*.5;return this.midPoint.y=u,this.scrollY=u-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,d){return this.centerOnX(u),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,d=this.width*.5,v=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-d,this.scrollY=u.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var d=this.matrix.matrix,v=d[0],m=d[1],T=d[2],C=d[3],S=v*C-m*T;if(!S)return u;var P=d[4],A=d[5],L=this.scrollX,F=this.scrollY,I=this.width,D=this.height,B=this.y,G=B+D,z=this.x,W=z+I,Y=this.culledObjects,K=u.length;S=1/S,Y.length=0;for(var Z=0;Z<K;++Z){var V=u[Z];if(!V.hasOwnProperty("width")||V.parentContainer){Y.push(V);continue}var H=V.width,N=V.height,b=V.x-L*V.scrollFactorX-H*V.originX,X=V.y-F*V.scrollFactorY-N*V.originY,$=b*v+X*T+P,Q=b*m+X*C+A,J=(b+H)*v+(X+N)*T+P,k=(b+H)*m+(X+N)*C+A;J>z&&$<W&&k>B&&Q<G&&Y.push(V)}return Y},getWorldPoint:function(u,d,v){v===void 0&&(v=new i);var m=this.matrix.matrix,T=m[0],C=m[1],S=m[2],P=m[3],A=m[4],L=m[5],F=T*P-C*S;if(!F)return v.x=u,v.y=d,v;F=1/F;var I=P*F,D=-C*F,B=-S*F,G=T*F,z=(S*L-P*A)*F,W=(C*A-T*L)*F,Y=Math.cos(this.rotation),K=Math.sin(this.rotation),Z=this.zoomX,V=this.zoomY,H=this.scrollX,N=this.scrollY,b=u+(H*Y-N*K)*Z,X=d+(H*K+N*Y)*V;return v.x=b*I+X*B+z,v.y=b*D+X*G+W,v},ignore:function(u){var d=this.id;Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var m=u[v];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=d}return this},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,v=u*.5,m=d*.5,T=this.zoomX,C=this.zoomY,S=this.matrix,P=u*this.originX,A=d*this.originY,L=this.scrollX,F=this.scrollY;this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.scrollX=L,this.scrollY=F;var I=L+v,D=F+m;this.midPoint.set(I,D);var B=u/T,G=d/C;this.worldView.setTo(I-B/2,D-G/2,B,G),S.applyITRS(this.x+P,this.y+A,this.rotation,T,C),S.translate(-P,-A)},clampX:function(u){var d=this._bounds,v=this.displayWidth,m=d.x+(v-this.width)/2,T=Math.max(m,m+d.width-v);return u<m?u=m:u>T&&(u=T),u},clampY:function(u){var d=this._bounds,v=this.displayHeight,m=d.y+(v-this.height)/2,T=Math.max(m,m+d.height-v);return u<m?u=m:u>T&&(u=T),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=o(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=l(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,d,v,m,T){return T===void 0&&(T=!1),this._bounds.setTo(u,d,v,m),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var d=this._bounds;return u.setTo(d.x,d.y,d.width,d.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,d){return d===void 0&&(d=u),this.x=u,this.y=d,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=d;var v=u.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(u,d){return d===void 0&&(d=u),this.scrollX=u,this.scrollY=d,this},setSize:function(u,d){return d===void 0&&(d=u),this.width=u,this.height=d,this},setViewport:function(u,d,v,m){return this.x=u,this.y=d,this.width=v,this.height=m,this},setZoom:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),u===0&&(u=.001),d===0&&(d=.001),this.zoomX=u,this.zoomY=d,this},setMask:function(u,d){return d===void 0&&(d=!0),this.mask=u,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;u&&!this._customViewport?d.customViewports++:!u&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=h},38058:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71911),p=t(67502),o=t(45319),s=t(83419),r=t(31401),e=t(20052),n=t(19715),l=t(28915),i=t(87841),h=t(26099),u=new s({Extends:a,Mixins:[r.PostPipeline],initialize:function(v,m,T,C){a.call(this,v,m,T,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(d,v){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=v):this.deadzone=new i(0,0,d,v),this._follow){var m=this.width/2,T=this.height/2,C=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(C,S),this.scrollX=C-m,this.scrollY=S-T}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,v,m,T,C,S){return this.fadeEffect.start(!1,d,v,m,T,!0,C,S)},fadeOut:function(d,v,m,T,C,S){return this.fadeEffect.start(!0,d,v,m,T,!0,C,S)},fadeFrom:function(d,v,m,T,C,S,P){return this.fadeEffect.start(!1,d,v,m,T,C,S,P)},fade:function(d,v,m,T,C,S,P){return this.fadeEffect.start(!0,d,v,m,T,C,S,P)},flash:function(d,v,m,T,C,S,P){return this.flashEffect.start(d,v,m,T,C,S,P)},shake:function(d,v,m,T,C){return this.shakeEffect.start(d,v,m,T,C)},pan:function(d,v,m,T,C,S,P){return this.panEffect.start(d,v,m,T,C,S,P)},rotateTo:function(d,v,m,T,C,S,P){return this.rotateToEffect.start(d,v,m,T,C,S,P)},zoomTo:function(d,v,m,T,C,S){return this.zoomEffect.start(d,v,m,T,C,S)},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,m=d*.5,T=v*.5,C=this.zoom,S=this.matrix,P=d*this.originX,A=v*this.originY,L=this._follow,F=this.deadzone,I=this.scrollX,D=this.scrollY;F&&p(F,this.midPoint.x,this.midPoint.y);var B=!1;if(L&&!this.panEffect.isRunning){var G=this.lerp,z=L.x-this.followOffset.x,W=L.y-this.followOffset.y;F?(z<F.x?I=l(I,I-(F.x-z),G.x):z>F.right&&(I=l(I,I+(z-F.right),G.x)),W<F.y?D=l(D,D-(F.y-W),G.y):W>F.bottom&&(D=l(D,D+(W-F.bottom),G.y))):(I=l(I,z-P,G.x),D=l(D,W-A,G.y)),B=!0}this.useBounds&&(I=this.clampX(I),D=this.clampY(D)),this.scrollX=I,this.scrollY=D;var Y=I+m,K=D+T;this.midPoint.set(Y,K);var Z=d/C,V=v/C,H=Math.floor(Y-Z/2),N=Math.floor(K-V/2);this.worldView.setTo(H,N,Z,V),S.applyITRS(Math.floor(this.x+P),Math.floor(this.y+A),this.rotation,C,C),S.translate(-P,-A),this.shakeEffect.preRender(),B&&this.emit(n.FOLLOW_UPDATE,this,L)},setLerp:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),this.lerp.set(d,v),this},setFollowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=0),this.followOffset.set(d,v),this},startFollow:function(d,v,m,T,C,S){v===void 0&&(v=!1),m===void 0&&(m=1),T===void 0&&(T=m),C===void 0&&(C=0),S===void 0&&(S=C),this._follow=d,this.roundPixels=v,m=o(m,0,1),T=o(T,0,1),this.lerp.set(m,T),this.followOffset.set(C,S);var P=this.width/2,A=this.height/2,L=d.x-C,F=d.y-S;return this.midPoint.set(L,F),this.scrollX=L-P,this.scrollY=F-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,v){this.visible&&(this.rotateToEffect.update(d,v),this.panEffect.update(d,v),this.zoomEffect.update(d,v),this.shakeEffect.update(d,v),this.flashEffect.update(d,v),this.fadeEffect.update(d,v))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=u},32743:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38058),p=t(83419),o=t(95540),s=t(37277),r=t(37303),e=t(97480),n=t(44594),l=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(n.BOOT,this.boot,this),h.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(n.UPDATE,this.update,this),h.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,h,u,d,v,m){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),v===void 0&&(v=!1),m===void 0&&(m="");var T=new a(i,h,u,d);return T.setName(m),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(i,h){h===void 0&&(h=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),h&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,h=1,u=0;u<32;u++){for(var d=!1,v=0;v<i.length;v++){var m=i[v];if(m&&m.id===h){d=!0;continue}}if(d)h=h<<1;else return h}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var h=0,u=this.cameras,d=0;d<u.length;d++){var v=u[d];(!i||i&&v.visible)&&h++}return h},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var h=this.scene.sys.scale.width,u=this.scene.sys.scale.height,d=0;d<i.length;d++){var v=i[d],m=o(v,"x",0),T=o(v,"y",0),C=o(v,"width",h),S=o(v,"height",u),P=this.add(m,T,C,S);P.name=o(v,"name",""),P.zoom=o(v,"zoom",1),P.rotation=o(v,"rotation",0),P.scrollX=o(v,"scrollX",0),P.scrollY=o(v,"scrollY",0),P.roundPixels=o(v,"roundPixels",!1),P.visible=o(v,"visible",!0);var A=o(v,"backgroundColor",!1);A&&P.setBackgroundColor(A);var L=o(v,"bounds",null);if(L){var F=o(L,"x",0),I=o(L,"y",0),D=o(L,"width",h),B=o(L,"height",u);P.setBounds(F,I,D,B)}}return this},getCamera:function(i){for(var h=this.cameras,u=0;u<h.length;u++)if(h[u].name===i)return h[u];return null},getCamerasBelowPointer:function(i){for(var h=this.cameras,u=i.x,d=i.y,v=[],m=0;m<h.length;m++){var T=h[m];T.visible&&T.inputEnabled&&r(T,u,d)&&v.unshift(T)}return v},remove:function(i,h){h===void 0&&(h=!0),Array.isArray(i)||(i=[i]);for(var u=0,d=this.cameras,v=0;v<i.length;v++){var m=d.indexOf(i[v]);m!==-1&&(h?d[m].destroy():d[m].renderList=[],d.splice(m,1),u++)}return!this.main&&d[0]&&(this.main=d[0]),u},render:function(i,h){for(var u=this.scene,d=this.cameras,v=0;v<d.length;v++){var m=d[v];if(m.visible&&m.alpha>0){m.preRender();var T=this.getVisibleChildren(h.getChildren(),m);i.render(u,T,m)}}},getVisibleChildren:function(i,h){return i.filter(function(u){return u.willRender(h)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,h)},onResize:function(i,h,u,d,v){for(var m=0;m<this.cameras.length;m++){var T=this.cameras[m];T._x===0&&T._y===0&&T._width===d&&T._height===v&&T.setSize(h.width,h.height)}},resize:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,h)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var h=this.systems.events;h.off(n.UPDATE,this.update,this),h.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,u,d){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d;var v=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,e,n,l,i),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},10662:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,u){return r===void 0&&(r=250),e===void 0&&(e=255),n===void 0&&(n=255),l===void 0&&(l=255),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(o.FLASH_START,this.camera,this,r,e,n,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},20359:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(62640),s=t(19715),r=t(26099),e=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,i,h,u,d,v){i===void 0&&(i=1e3),h===void 0&&(h=o.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(n,l),m.getScroll(n,l,this.current),typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(s.PAN_START,this.camera,this,i,n,l)),m},update:function(n,l){if(this.isRunning){this._elapsed+=l;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var h=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);h.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*u,v=this.source.y+(this.current.y-this.source.y)*u;h.setScroll(d,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,d,v)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,x,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=t(62640),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,l,i,h,u,d){l===void 0&&(l=1e3),i===void 0&&(i=s.Linear),h===void 0&&(h=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=e;e<0?(v=-1*e,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;v=v-Math.floor(v/m)*m;var T=this.camera;if(!h&&this.isRunning)return T;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=T.rotation,this.destination=v,typeof i=="string"&&s.hasOwnProperty(i)?this.ease=s[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.shortestPath){var C=0,S=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+m)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+m)-this.destination,C<S?this.clockwise=!0:C>S&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),T},update:function(e,n){if(this.isRunning){this._elapsed+=n;var l=a(this._elapsed/this.duration,0,1);this.progress=l;var i=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=i.rotation;var u=0,d=360*Math.PI/180,v=this.destination,m=this.current;this.clockwise===!1&&(v=this.current,m=this.destination),v>=m?u=Math.abs(v-m):u=Math.abs(v+d)-m;var T=0;this.clockwise?T=i.rotation+u*h:T=i.rotation-u*h,i.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,T)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=r},30330:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(19715),s=t(26099),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h){return e===void 0&&(e=100),n===void 0&&(n=.05),l===void 0&&(l=!1),i===void 0&&(i=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=h,this.camera.emit(o.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,i=this.camera.width,h=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*l.x*i*2-l.x*i)*u,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=r},45641:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(62640),s=t(19715),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h,u){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=d.zoom,this.destination=e,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(s.ZOOM_START,this.camera,this,n,e)),d},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},20052:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(35154),o=new a({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(r,"speed.x",0),this.speedY=p(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},58818:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(35154),o=new a({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(r,"acceleration.x",0),this.accelY=p(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=p(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=p(r,"drag.x",0),this.dragY=p(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=p(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=p(r,"maxSpeed.x",0),this.maxSpeedY=p(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},38865:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=a},69547:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(8054),o=t(42363),s=t(82264),r=t(95540),e=t(35154),n=t(41212),l=t(29747),i=t(75508),h=t(36060),u=t(80333),d=new a({initialize:function(m){m===void 0&&(m={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",S=e(m,"scale",null);this.width=e(S,"width",1024,m),this.height=e(S,"height",768,m),this.zoom=e(S,"zoom",1,m),this.parent=e(S,"parent",void 0,m),this.scaleMode=e(S,S?"mode":"scaleMode",0,m),this.expandParent=e(S,"expandParent",!0,m),this.autoRound=e(S,"autoRound",!1,m),this.autoCenter=e(S,"autoCenter",0,m),this.resizeInterval=e(S,"resizeInterval",500,m),this.fullscreenTarget=e(S,"fullscreenTarget",null,m),this.minWidth=e(S,"min.width",0,m),this.maxWidth=e(S,"max.width",0,m),this.minHeight=e(S,"min.height",0,m),this.maxHeight=e(S,"max.height",0,m),this.snapWidth=e(S,"snap.width",0,m),this.snapHeight=e(S,"snap.height",0,m),this.renderType=e(m,"type",p.AUTO),this.canvas=e(m,"canvas",null),this.context=e(m,"context",null),this.canvasStyle=e(m,"canvasStyle",null),this.customEnvironment=e(m,"customEnvironment",!1),this.sceneConfig=e(m,"scene",null),this.seed=e(m,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(m,"title",""),this.gameURL=e(m,"url","https://phaser.io"),this.gameVersion=e(m,"version",""),this.autoFocus=e(m,"autoFocus",!0),this.stableSort=e(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(m,"dom.createContainer",!1),this.domPointerEvents=e(m,"dom.pointerEvents","none"),this.inputKeyboard=e(m,"input.keyboard",!0),this.inputKeyboardEventTarget=e(m,"input.keyboard.target",window),this.inputKeyboardCapture=e(m,"input.keyboard.capture",[]),this.inputMouse=e(m,"input.mouse",!0),this.inputMouseEventTarget=e(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(m,"input.touch",s.input.touch),this.inputTouchEventTarget=e(m,"input.touch.target",null),this.inputTouchCapture=e(m,"input.touch.capture",!0),this.inputActivePointers=e(m,"input.activePointers",1),this.inputSmoothFactor=e(m,"input.smoothFactor",0),this.inputWindowEvents=e(m,"input.windowEvents",!0),this.inputGamepad=e(m,"input.gamepad",!1),this.inputGamepadEventTarget=e(m,"input.gamepad.target",window),this.disableContextMenu=e(m,"disableContextMenu",!1),this.audio=e(m,"audio",{}),this.hideBanner=e(m,"banner",null)===!1,this.hidePhaser=e(m,"banner.hidePhaser",!1),this.bannerTextColor=e(m,"banner.text",C),this.bannerBackgroundColor=e(m,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(m,"fps",null),this.disablePreFX=e(m,"disablePreFX",!1),this.disablePostFX=e(m,"disablePostFX",!1);var P=e(m,"render",null);this.pipeline=e(P,"pipeline",null,m),this.autoMobilePipeline=e(P,"autoMobilePipeline",!0,m),this.defaultPipeline=e(P,"defaultPipeline",h.MULTI_PIPELINE,m),this.antialias=e(P,"antialias",!0,m),this.antialiasGL=e(P,"antialiasGL",!0,m),this.mipmapFilter=e(P,"mipmapFilter","",m),this.desynchronized=e(P,"desynchronized",!1,m),this.roundPixels=e(P,"roundPixels",!0,m),this.pixelArt=e(P,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(P,"transparent",!1,m),this.clearBeforeRender=e(P,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=e(P,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=e(P,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=e(P,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=e(P,"powerPreference","default",m),this.batchSize=e(P,"batchSize",4096,m),this.maxTextures=e(P,"maxTextures",-1,m),this.maxLights=e(P,"maxLights",10,m);var A=e(m,"backgroundColor",0);this.backgroundColor=u(A),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(m,"callbacks.preBoot",l),this.postBoot=e(m,"callbacks.postBoot",l),this.physics=e(m,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(m,"loader.baseURL",""),this.loaderPath=e(m,"loader.path",""),this.loaderMaxParallelDownloads=e(m,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(m,"loader.crossOrigin",void 0),this.loaderResponseType=e(m,"loader.responseType",""),this.loaderAsync=e(m,"loader.async",!0),this.loaderUser=e(m,"loader.user",""),this.loaderPassword=e(m,"loader.password",""),this.loaderTimeout=e(m,"loader.timeout",0),this.loaderWithCredentials=e(m,"loader.withCredentials",!1),this.loaderImageLoadType=e(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(m,"fx.glow.quality",.1),this.glowFXDistance=e(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=e(m,"plugins",null),F=o.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:n(L)&&(this.installGlobalPlugins=r(L,"global",[]),this.installScenePlugins=r(L,"scene",[]),Array.isArray(L.default)?F=L.default:Array.isArray(L.defaultMerge)&&(F=F.concat(L.defaultMerge)))),this.defaultPlugins=F;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(m,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(m,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});c.exports=d},86054:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20623),p=t(27919),o=t(8054),s=t(89357),r=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=s.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||p.disableSmoothing();var l=e.scale.baseSize,i=l.width,h=l.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=i,e.canvas.height=h):e.canvas=p.create(e,i,h,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||a.setCrisp(e.canvas),n.renderType!==o.HEADLESS){var u,d;u=t(68627),d=t(74797),n.renderType===o.WEBGL?e.renderer=new d(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};c.exports=r},96391:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8054),p=function(o){var s=o.config;if(!s.hideBanner){var r="WebGL";s.renderType===a.CANVAS?r="Canvas":s.renderType===a.HEADLESS&&(r="Headless");var e=s.audio,n=o.device.audio,l;if(n.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var i="",h=[i];if(Array.isArray(s.bannerBackgroundColor)){var u;s.bannerBackgroundColor.forEach(function(v){i=i.concat("%c "),h.push("background: "+v),u=v}),h[h.length-1]="color: "+s.bannerTextColor+"; background: "+u}else i=i.concat("%c "),h.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);h.push("background: transparent"),s.gameTitle&&(i=i.concat(s.gameTitle),s.gameVersion&&(i=i.concat(" v"+s.gameVersion)),s.hidePhaser||(i=i.concat(" / ")));var d="";s.hidePhaser||(i=i.concat("Phaser v"+a.VERSION+d+" ("+r+" | "+l+")")),i=i.concat(" %c "+s.gameURL),h[0]=i,console.log.apply(console,h)}}};c.exports=p},50127:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),p=t(60848),o=t(24047),s=t(27919),r=t(83419),e=t(69547),n=t(83719),l=t(86054),i=t(45893),h=t(96391),u=t(82264),d=t(57264),v=t(50792),m=t(8443),T=t(7003),C=t(37277),S=t(77332),P=t(76531),A=t(60903),L=t(69442),F=t(17130),I=t(65898),D=t(51085),B=t(14747),G=new r({initialize:function(W){this.config=new e(W),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new p(this),this.textures=new F(this),this.cache=new o(this),this.registry=new i(this,new v),this.input=new T(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=u,this.scale=new P(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new I(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),h(this),a(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var z=this.events;z.on(m.HIDDEN,this.onHidden,this),z.on(m.VISIBLE,this.onVisible,this),z.on(m.BLUR,this.onBlur,this),z.on(m.FOCUS,this.onFocus,this)},step:function(z,W){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(m.PRE_STEP,z,W),Y.emit(m.STEP,z,W),this.scene.update(z,W),Y.emit(m.POST_STEP,z,W);var K=this.renderer;K.preRender(),Y.emit(m.PRE_RENDER,K,z,W),this.scene.render(K),K.postRender(),Y.emit(m.POST_RENDER,K,z,W)}},headlessStep:function(z,W){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(m.PRE_STEP,z,W),Y.emit(m.STEP,z,W),this.scene.update(z,W),Y.emit(m.POST_STEP,z,W),this.scene.isProcessing=!1,Y.emit(m.PRE_RENDER,null,z,W),Y.emit(m.POST_RENDER,null,z,W)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var z=this.isPaused;this.isPaused=!0,z||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var z=this.isPaused;this.isPaused=!1,z&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(z,W){W===void 0&&(W=!1),this.pendingDestroy=!0,this.removeCanvas=z,this.noReturn=W},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=G},65898:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(35154),o=t(29747),s=t(43092),r=new a({initialize:function(n,l){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=p(l,"min",5),this.targetFps=p(l,"target",60),this.fpsLimit=p(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=p(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(l,"deltaHistory",10),this.panicMax=p(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,l=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[n],e=Math.min(e,this._min)),l[n]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var h=0,u=0;u<i;u++)h+=l[u];return h/=i,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=r},51085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8443),p=function(o){var s,r=o.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},s=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(a.HIDDEN):r.emit(a.VISIBLE)};s&&document.addEventListener(s,n,!1),window.onblur=function(){r.emit(a.BLUR)},window.onfocus=function(){r.emit(a.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};c.exports=p},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(5290),p=t(27919),o=t(35154),s=function(r){var e=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",a),i=o(r,"pixelWidth",1),h=o(r,"pixelHeight",i),u=o(r,"resizeCanvas",!0),d=o(r,"clearCanvas",!0),v=o(r,"preRender",null),m=o(r,"postRender",null),T=Math.floor(Math.abs(e[0].length*i)),C=Math.floor(Math.abs(e.length*h));n||(n=p.create2D(this,T,C),u=!1,d=!1),u&&(n.width=T,n.height=C);var S=n.getContext("2d",{willReadFrequently:!0});d&&S.clearRect(0,0,T,C),v&&v(n,S);for(var P=0;P<e.length;P++)for(var A=e[P],L=0;L<A.length;L++){var F=A[L];F!=="."&&F!==" "&&(S.fillStyle=l[F],S.fillRect(L*i,P*h,i,h))}return m&&m(n,S),n};c.exports=s},15822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(36316),o=t(80021),s=t(26099),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(h=new s(n[6],n[7]),i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2,u=this.p3;return n.set(p(e,l.x,i.x,h.x,u.x),p(e,l.y,i.y,h.y,u.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]),u=new s(n[6],n[7]);return new r(l,i,h,u)},c.exports=r},80021:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(19217),o=t(87841),s=t(26099),r=new a({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var i=Math.max(1,Math.round(l/n));return p(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var n=this.getLength(),l=Math.max(1,n/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,i=this.getPoint(0,this._tmpVec2A),h=0;n.push(0);for(var u=1;u<=e;u++)l=this.getPoint(u/e,this._tmpVec2B),h+=l.distance(i),n.push(h),i.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var l=this.getUtoTmapping(e);return this.getPoint(l,n)},getPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++)l.push(this.getPoint(i/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++){var h=this.getUtoTmapping(i/e,null,e);l.push(this.getPoint(h))}return l},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new s);var l=1e-4,i=e-l,h=e+l;return i<0&&(i=0),h>1&&(h=1),this.getPoint(i,this._tmpVec2A),this.getPoint(h,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var l=this.getUtoTmapping(e);return this.getTangent(l,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,l){var i=this.getLengths(l),h=0,u=i.length,d;n?d=Math.min(n,i[u-1]):d=e*i[u-1];for(var v=0,m=u-1,T;v<=m;)if(h=Math.floor(v+(m-v)/2),T=i[h]-d,T<0)v=h+1;else if(T>0)m=h-1;else{m=h;break}if(h=m,i[h]===d)return h/(u-1);var C=i[h],S=i[h+1],P=S-C,A=(d-C)/P;return(h+A)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=r},73825:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(80021),o=t(39506),s=t(35154),r=t(43396),e=t(26099),n=new a({Extends:p,initialize:function(i,h,u,d,v,m,T,C){if(typeof i=="object"){var S=i;i=s(S,"x",0),h=s(S,"y",0),u=s(S,"xRadius",0),d=s(S,"yRadius",u),v=s(S,"startAngle",0),m=s(S,"endAngle",360),T=s(S,"clockwise",!1),C=s(S,"rotation",0)}else d===void 0&&(d=u),v===void 0&&(v=0),m===void 0&&(m=360),T===void 0&&(T=!1),C===void 0&&(C=0);p.call(this,"EllipseCurve"),this.p0=new e(i,h),this._xRadius=u,this._yRadius=d,this._startAngle=o(v),this._endAngle=o(m),this._clockwise=T,this._rotation=o(C)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,i){i===void 0&&(i=new e);for(var h=Math.PI*2,u=this._endAngle-this._startAngle,d=Math.abs(u)<Number.EPSILON;u<0;)u+=h;for(;u>h;)u-=h;u<Number.EPSILON&&(d?u=0:u=h),this._clockwise&&!d&&(u===h?u=-h:u=u-h);var v=this._startAngle+l*u,m=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var C=Math.cos(this._rotation),S=Math.sin(this._rotation),P=m-this.p0.x,A=T-this.p0.y;m=P*C-A*S+this.p0.x,T=P*S+A*C+this.p0.y}return i.set(m,T)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},c.exports=n},33951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(80021),o=t(19217),s=t(87841),r=t(26099),e=new a({Extends:p,initialize:function(l,i){p.call(this,"LineCurve"),Array.isArray(l)&&(i=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new s),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,i){var h;if(l){var u=this.getLengths(i),d=u[u.length-1],v=Math.min(l,d);h=v/d}else h=n;return h},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var l=n.points,i=new r(l[0],l[1]),h=new r(l[2],l[3]);return new e(i,h)},c.exports=e},14744:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(80021),o=t(32112),s=t(26099),r=new a({Extends:p,initialize:function(n,l,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2;return n.set(o(e,l.x,i.x,h.x),o(e,l.y,i.y,h.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]);return new r(l,i,h)},c.exports=r},42534:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87842),p=t(83419),o=t(80021),s=t(26099),r=new p({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var l=new s;typeof e[n]=="number"?(l.x=e[n],l.y=e[n+1],n++):Array.isArray(e[n])?(l.x=e[n][0],l.y=e[n][1]):(l.x=e[n].x,l.y=e[n].y),this.points.push(l)}return this},addPoint:function(e,n){var l=new s(e,n);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.points,i=(l.length-1)*e,h=Math.floor(i),u=i-h,d=l[h===0?h:h-1],v=l[h],m=l[h>l.length-2?l.length-1:h+1],T=l[h>l.length-3?l.length-1:h+2];return n.set(a(u,d.x,v.x,m.x,T.x),a(u,d.y,v.y,m.y,T.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},c.exports=r},25410:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(r,e){this.active=!1,this.p0=new p(r,e)},getPoint:function(s,r){return r===void 0&&(r=new p),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=o},46669:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(46728),o=t(73825),s=t(39429),r=t(33951),e=t(68618),n=t(14744),l=t(87841),i=t(42534),h=t(26099),u=t(36383),d=new a({initialize:function(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,m,T){return m===void 0&&(m=!1),this.ellipseTo(v,v,0,360,m,T)},closePath:function(){var v=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return v.equals(m)||this.curves.push(new r(m,v)),this},cubicBezierTo:function(v,m,T,C,S,P){var A=this.getEndPoint(),L,F,I;return v instanceof h?(L=v,F=m,I=T):(L=new h(T,C),F=new h(S,P),I=new h(v,m)),this.add(new p(A,L,F,I))},quadraticBezierTo:function(v,m,T,C){var S=this.getEndPoint(),P,A;return v instanceof h?(P=v,A=m):(P=new h(T,C),A=new h(v,m)),this.add(new n(S,P,A))},draw:function(v,m){for(var T=0;T<this.curves.length;T++){var C=this.curves[T];C.active&&C.draw(v,m)}return v},ellipseTo:function(v,m,T,C,S,P){var A=new o(0,0,v,m,T,C,S,P),L=this.getEndPoint(this._tmpVec2A),F=A.getStartPoint(this._tmpVec2B);return L.subtract(F),A.x=L.x,A.y=L.y,this.add(A)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var m=0;m<v.curves.length;m++){var T=v.curves[m];switch(T.type){case"LineCurve":this.add(r.fromJSON(T));break;case"EllipseCurve":this.add(o.fromJSON(T));break;case"SplineCurve":this.add(i.fromJSON(T));break;case"CubicBezierCurve":this.add(p.fromJSON(T));break;case"QuadraticBezierCurve":this.add(n.fromJSON(T));break}}return this},getBounds:function(v,m){v===void 0&&(v=new l),m===void 0&&(m=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new l,C=u.MIN_SAFE_INTEGER,S=u.MIN_SAFE_INTEGER,P=0;P<this.curves.length;P++){var A=this.curves[P];A.active&&(A.getBounds(T,m),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),C=Math.max(C,T.right),S=Math.max(S,T.bottom))}return v.right=C,v.bottom=S,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],m=0,T=0;T<this.curves.length;T++)m+=this.curves[T].getLength(),v.push(m);return this.cacheLengths=v,v},getCurveAt:function(v){for(var m=v*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=m)return this.curves[C];C++}return null},getEndPoint:function(v){return v===void 0&&(v=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,m){m===void 0&&(m=new h);for(var T=v*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=T){var P=C[S]-T,A=this.curves[S],L=A.getLength(),F=L===0?0:1-P/L;return A.getPointAt(F,m)}S++}return null},getPoints:function(v,m){!v&&!m&&(v=this.defaultDivisions);for(var T=[],C,S=0;S<this.curves.length;S++){var P=this.curves[S];if(P.active)for(var A=P.getResolution(v),L=P.getPoints(A,m),F=0;F<L.length;F++){var I=L[F];C&&C.equals(I)||(T.push(I),C=I)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(v){return v===void 0&&(v=new h),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var m=[],T=0;T<=v;T++)m.push(this.getPoint(T/v));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(v){return v===void 0&&(v=new h),v.copy(this.startPoint)},getTangent:function(v,m){m===void 0&&(m=new h);for(var T=v*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=T){var P=C[S]-T,A=this.curves[S],L=A.getLength(),F=L===0?0:1-P/L;return A.getTangentAt(F,m)}S++}return null},lineTo:function(v,m){v instanceof h?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,m);var T=this.getEndPoint(this._tmpVec2A);return this.add(new r([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new i(v))},moveTo:function(v,m){return v instanceof h?this.add(new e(v.x,v.y)):this.add(new e(v,m))},toJSON:function(){for(var v=[],m=0;m<this.curves.length;m++)v.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(v,m){return new d(v,m)}),c.exports=d},45893:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(24882),o=new a({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var e=[],n=0;n<s.length;n++)e.push(r[s[n]]);return e}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(r[e]=this.list[e]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var e=this,n=this.list,l=this.events,i=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return n[s]},set:function(h){if(!e._frozen){var u=n[s];n[s]=h,l.emit(p.CHANGE_DATA,i,s,h,u),l.emit(p.CHANGE_DATA_KEY+s,i,h,u)}}}),n[s]=r,l.emit(p.SET_DATA,i,s,r)}return this},each:function(s,r){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var l in this.list)e[1]=l,e[2]=this.list[l],s.apply(r,e);return this},merge:function(s,r){r===void 0&&(r=!0);for(var e in s)s.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});c.exports=o},63646:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45893),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){p.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),c.exports=r},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var e=function(i,h){var u=s.canPlayType("audio/"+i).replace(/^no$/,"");return h?!!(u||s.canPlayType("audio/"+h).replace(/^no$/,"")):!!u};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)p.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(p.dolby=!0)}}}}catch{}return p}c.exports=o()},84148:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(p.edge=!0,p.es2019=!0):/OPR/.test(s)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(s)&&!a.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&a.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!a.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(p.silk=!0),p}c.exports=o()},89289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var i=new Image;i.onload=function(){var h=a.create2D(i,6),u=h.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(l,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var d=u.getImageData(2,0,1,1).data;a.remove(i),p.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=e+"/wCKxvRF"+n},l.src=e+"AP804Oa6"+n,!1}function s(){var e=a.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var i=n.getImageData(1,0,1,1),h=i.data[0]===l.data[0]&&i.data[1]===l.data[1]&&i.data[2]===l.data[2]&&i.data[3]===l.data[3];return a.remove(this),h}function r(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=o(),p.supportInverseAlpha=s()),p}c.exports=r()},89357:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),p=t(84148),o=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),i=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var i=o.createWebGL(this),h=i.getContext("webgl")||i.getContext("experimental-webgl"),u=o.create2D(this),d=u.getContext("2d",{willReadFrequently:!0}),v=d.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(i),o.remove(u),!!h}catch{return!1}return!1};return s.webGL=l(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(p.ie||p.firefox||p.chrome)&&(s.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&n,s}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return x;var a,p="Fullscreen",o="FullScreen",s=["request"+p,"request"+o,"webkitRequest"+p,"webkitRequest"+o,"msRequest"+p,"msRequest"+o,"mozRequest"+o,"mozRequest"+p];for(a=0;a<s.length;a++)if(document.documentElement[s[a]]){x.available=!0,x.request=s[a];break}var r=["cancel"+o,"exit"+p,"webkitCancel"+o,"webkitExit"+p,"msCancel"+o,"msExit"+p,"mozCancel"+o,"mozExit"+p];if(x.available){for(a=0;a<r.length;a++)if(document[r[a]]){x.cancel=r[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}c.exports=t()},31784:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}c.exports=o()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var p=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!p||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}c.exports=t()},43267:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return p;var s=document.createElement("video"),r=!!s.canPlayType,e=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),p.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=a(n[l],"url",n[l]);if(i.indexOf("blob:")===0)return{url:i,type:""};var h;if(i.indexOf("data:")===0?h=i.split(",")[0].match(/\/(.*?);/):h=i.match(/\.([a-zA-Z0-9]+)($|\?)/),h=a(n[l],"type",h?h[1]:"").toLowerCase(),p[h])return{url:i,type:h}}return null},p}c.exports=o()},82264:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new Float32Array(20),o=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var e=Math.cos(s),n=Math.sin(s),l=.213,i=.715,h=.072;return this.multiply([l+e*(1-l)+n*-l,i+e*-i+n*-i,h+e*-h+n*(1-h),0,0,l+e*-l+n*.143,i+e*(1-i)+n*.14,h+e*-h+n*-.283,0,0,l+e*-l+n*-(1-l),i+e*-i+n*i,h+e*(1-h)+n*h,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(o.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(o.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(o.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(o.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(o.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(o.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(o.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(o.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(o.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(o.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(o.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,n=p;return n.set(e),e.set([n[0]*s[0]+n[1]*s[5]+n[2]*s[10]+n[3]*s[15],n[0]*s[1]+n[1]*s[6]+n[2]*s[11]+n[3]*s[16],n[0]*s[2]+n[1]*s[7]+n[2]*s[12]+n[3]*s[17],n[0]*s[3]+n[1]*s[8]+n[2]*s[13]+n[3]*s[18],n[0]*s[4]+n[1]*s[9]+n[2]*s[14]+n[3]*s[19]+n[4],n[5]*s[0]+n[6]*s[5]+n[7]*s[10]+n[8]*s[15],n[5]*s[1]+n[6]*s[6]+n[7]*s[11]+n[8]*s[16],n[5]*s[2]+n[6]*s[7]+n[7]*s[12]+n[8]*s[17],n[5]*s[3]+n[6]*s[8]+n[7]*s[13]+n[8]*s[18],n[5]*s[4]+n[6]*s[9]+n[7]*s[14]+n[8]*s[19]+n[9],n[10]*s[0]+n[11]*s[5]+n[12]*s[10]+n[13]*s[15],n[10]*s[1]+n[11]*s[6]+n[12]*s[11]+n[13]*s[16],n[10]*s[2]+n[11]*s[7]+n[12]*s[12]+n[13]*s[17],n[10]*s[3]+n[11]*s[8]+n[12]*s[13]+n[13]*s[18],n[10]*s[4]+n[11]*s[9]+n[12]*s[14]+n[13]*s[19]+n[14],n[15]*s[0]+n[16]*s[5]+n[17]*s[10]+n[18]*s[15],n[15]*s[1]+n[16]*s[6]+n[17]*s[11]+n[18]*s[16],n[15]*s[2]+n[16]*s[7]+n[17]*s[12]+n[18]*s[17],n[15]*s[3]+n[16]*s[8]+n[17]*s[13]+n[18]*s[18],n[15]*s[4]+n[16]*s[9]+n[17]*s[14]+n[18]*s[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=o},51767:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(29747),o=new a({initialize:function(r,e,n){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(r,e,n)},set:function(s,r,e){return s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[s,r,e],this.onChange(),this},equals:function(s,r,e){var n=this._rgb;return n[0]===s&&n[1]===r&&n[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=o},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=x},54312:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(35893),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},46768:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},35827:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(54380),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},46871:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66786),p=t(35893),o=t(7702),s=function(r,e,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),a(r,p(e)+n,o(e)+l),r};c.exports=s},5198:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(26541),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},11879:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(54312),p[a.BOTTOM_LEFT]=t(46768),p[a.BOTTOM_RIGHT]=t(35827),p[a.CENTER]=t(46871),p[a.LEFT_CENTER]=t(5198),p[a.RIGHT_CENTER]=t(80503),p[a.TOP_CENTER]=t(89698),p[a.TOP_LEFT]=t(922),p[a.TOP_RIGHT]=t(21373),p[a.LEFT_BOTTOM]=p[a.BOTTOM_LEFT],p[a.LEFT_TOP]=p[a.TOP_LEFT],p[a.RIGHT_BOTTOM]=p[a.BOTTOM_RIGHT],p[a.RIGHT_TOP]=p[a.TOP_RIGHT];var o=function(s,r,e,n,l){return p[e](s,r,n,l)};c.exports=o},80503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(54380),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},89698:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35893),p=t(17717),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};c.exports=r},922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),p=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,p(n)-i),e};c.exports=r},21373:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),p=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};c.exports=r},91660:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=t(79291),o={In:t(91660),To:t(16694)};o=p(!1,o,a),c.exports=o},21578:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(35893),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)+l),s(e,a(n)+i),e};c.exports=r},10210:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)-l),s(e,a(n)+i),e};c.exports=r},82341:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(54380),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)+l),s(e,a(n)+i),e};c.exports=r},87958:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},40080:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(26541),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};c.exports=r},88466:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),p=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,p(n)-i),e};c.exports=r},38829:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(21578),p[a.BOTTOM_LEFT]=t(10210),p[a.BOTTOM_RIGHT]=t(82341),p[a.LEFT_BOTTOM]=t(87958),p[a.LEFT_CENTER]=t(40080),p[a.LEFT_TOP]=t(88466),p[a.RIGHT_BOTTOM]=t(19211),p[a.RIGHT_CENTER]=t(34609),p[a.RIGHT_TOP]=t(48741),p[a.TOP_CENTER]=t(49440),p[a.TOP_LEFT]=t(81288),p[a.TOP_RIGHT]=t(61323);var o=function(s,r,e,n,l){return p[e](s,r,n,l)};c.exports=o},19211:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(54380),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},34609:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7702),p=t(54380),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};c.exports=r},48741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),p=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};c.exports=r},49440:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35893),p=t(17717),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,p(n)-i),e};c.exports=r},81288:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26541),p=t(17717),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)-l),o(e,p(n)-i),e};c.exports=r},61323:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54380),p=t(17717),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,p(n)-i),e};c.exports=r},16694:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(88417),p=t(20786),o=function(s,r,e){return a(s,r),p(s,e)};c.exports=o},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y+t.height-t.height*t.originY};c.exports=x},72873:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62235),p=t(26541),o=t(54380),s=t(17717),r=t(87841),e=function(n,l){l===void 0&&(l=new r);var i=p(n),h=s(n);return l.x=i,l.y=h,l.width=o(n)-i,l.height=a(n)-h,l};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=x},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=x},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX};c.exports=x},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.originX};c.exports=x},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height*t.originY};c.exports=x},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x+t.width-t.width*t.originX};c.exports=x},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY};c.exports=x},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.y=a-t.height+t.height*t.originY,t};c.exports=x},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.width*t.originX;return t.x=a+p-t.width*.5,t};c.exports=x},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.height*t.originY;return t.y=a+p-t.height*.5,t};c.exports=x},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x=a+t.width*t.originX,t};c.exports=x},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x=a-t.width+t.width*t.originX,t};c.exports=x},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.y=a+t.height*t.originY,t};c.exports=x},58724:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=x},27919:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8054),p=t(68703),o=[],s=!1,r=function(){var e=function(T,C,S,P,A){C===void 0&&(C=1),S===void 0&&(S=1),P===void 0&&(P=a.CANVAS),A===void 0&&(A=!1);var L,F=i(P);return F===null?(F={parent:T,canvas:document.createElement("canvas"),type:P},P===a.CANVAS&&o.push(F),L=F.canvas):(F.parent=T,L=F.canvas),A&&(F.parent=L),L.width=C,L.height=S,s&&P===a.CANVAS&&p.disable(L.getContext("2d",{willReadFrequently:!1})),L},n=function(T,C,S){return e(T,C,S,a.CANVAS)},l=function(T,C,S){return e(T,C,S,a.WEBGL)},i=function(T){if(T===void 0&&(T=a.CANVAS),T===a.WEBGL)return null;for(var C=0;C<o.length;C++){var S=o[C];if(!S.parent&&S.type===T)return S}return null},h=function(T){var C=T instanceof HTMLCanvasElement;o.forEach(function(S){(C&&S.canvas===T||!C&&S.parent===T)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},u=function(){var T=0;return o.forEach(function(C){C.parent&&T++}),T},d=function(){return o.length-u()},v=function(){s=!0},m=function(){s=!1};return{create2D:n,create:e,createWebGL:l,disableSmoothing:v,enableSmoothing:m,first:i,free:d,pool:o,remove:h,total:u}};c.exports=r()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",t=function(){var a=function(r){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var l=e[n]+"mageSmoothingEnabled";if(l in r)return l}return null},p=function(r){return x===""&&(x=a(r)),x&&(r[x]=!0),r},o=function(r){return x===""&&(x=a(r)),x&&(r[x]=!1),r},s=function(r){return x!==null?r[x]:null};return{disable:o,enable:p,getPrefix:a,isEnabled:s}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};c.exports=x},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(o){t.style[o+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=x},26253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37589),o=t(1e3),s=t(7537),r=t(87837),e=new a({initialize:function(l,i,h,u){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,i,h,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,i,h,u){return h===void 0&&(h=255),u===void 0&&(u=!0),this._locked=!0,this.red=n,this.green=l,this.blue=i,this.alpha=h,this._locked=!1,this.update(u)},setGLTo:function(n,l,i,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=i,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,i){return s(n,l,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,i=this.g,h=this.b,u=this.a;return this._color=p(l,i,h),this._color32=o(l,i,h,u),this._rgba="rgba("+l+","+i+","+h+","+u/255+")",n&&r(l,i,h,this),this},updateHSV:function(){var n=this.r,l=this.g,i=this.b;return r(n,l,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n)),h=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n));return this.setTo(i,h,u)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,i=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),this.setTo(l,i,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,s(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,s(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,s(this._h,this._s,n,this)}}});c.exports=e},92728:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589),p=function(o){o===void 0&&(o=1024);var s=[],r=255,e,n=255,l=0,i=0;for(e=0;e<=r;e++)s.push({r:n,g:e,b:i,color:a(n,e,i)});for(l=255,e=r;e>=0;e--)s.push({r:e,g:l,b:i,color:a(e,l,i)});for(n=0,e=0;e<=r;e++,l--)s.push({r:n,g:l,b:e,color:a(n,l,e)});for(l=0,i=255,e=0;e<=r;e++,i--,n++)s.push({r:n,g:l,b:i,color:a(n,l,i)});if(o===1024)return s;var h=[],u=0,d=1024/o;for(e=0;e<o;e++)h.push(s[Math.floor(u)]),u+=d;return h};c.exports=p},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};c.exports=x},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};c.exports=x},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t<<16|a<<8|p};c.exports=x},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return o<<24|t<<16|a<<8|p};c.exports=x},62183:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=t(89528),o=function(s,r,e){var n=e,l=e,i=e;if(r!==0){var h=e<.5?e*(1+r):e+r-e*r,u=2*e-h;n=p(u,h,s+1/3),l=p(u,h,s),i=p(u,h,s-1/3)}var d=new a;return d.setGLTo(n,l,i,1)};c.exports=o},27939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7537),p=function(o,s){o===void 0&&(o=1),s===void 0&&(s=1);for(var r=[],e=0;e<=359;e++)r.push(a(e/359,o,s));return r};c.exports=p},7537:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589);function p(s,r,e,n){var l=(s+r*6)%6,i=Math.min(l,4-l,1);return Math.round(255*(n-n*e*Math.max(0,i)))}var o=function(s,r,e,n){r===void 0&&(r=1),e===void 0&&(e=1);var l=p(5,s,r,e),i=p(3,s,r,e),h=p(1,s,r,e);return n?n.setTo?n.setTo(l,i,h,n.alpha,!0):(n.r=l,n.g=i,n.b=h,n.color=a(l,i,h),n):{r:l,g:i,b:h,color:a(l,i,h)}};c.exports=o},70238:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=function(o){var s=new a;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,h,u,d){return h+h+u+u+d+d});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var e=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);s.setTo(e,n,l)}return s};c.exports=p},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(a-t)*6*p:p<.5?a:p<.6666666666666666?t+(a-t)*(.6666666666666666-p)*6:t};c.exports=x},30100:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=t(90664),o=function(s){var r=p(s);return new a(r.r,r.g,r.b,r.a)};c.exports=o},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=x},13699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28915),p=function(r,e,n,l,i,h,u,d){u===void 0&&(u=100),d===void 0&&(d=0);var v=d/u;return{r:a(r,l,v),g:a(e,i,v),b:a(n,h,v)}},o=function(r,e,n,l){return n===void 0&&(n=100),l===void 0&&(l=0),p(r.r,r.g,r.b,e.r,e.g,e.b,n,l)},s=function(r,e,n,l,i,h){return i===void 0&&(i=100),h===void 0&&(h=0),p(r.r,r.g,r.b,e,n,l,i,h)};c.exports={RGBWithRGB:p,ColorWithRGB:s,ColorWithColor:o}},68957:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=function(o){return new a(o.r,o.g,o.b,o.a)};c.exports=p},87388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987),p=function(o){var s=new a,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var e=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(e,n,l,i*255)}return s};c.exports=p},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,a/=255,p/=255;var s=Math.min(t,a,p),r=Math.max(t,a,p),e=r-s,n=0,l=r===0?0:e/r,i=r;return r!==s&&(r===t?n=(a-p)/e+(a<p?6:0):r===a?n=(p-t)/e+2:r===p&&(n=(t-a)/e+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=i):(o.h=n,o.s=l,o.v=i),o};c.exports=x},75723:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62957),p=function(o,s,r,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+a(e)+a(o)+a(s)+a(r)};c.exports=p},85386:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(40987),o=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new p(a(s,r),a(s,r),a(s,r))};c.exports=o},80333:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70238),p=t(30100),o=t(68957),s=t(87388),r=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):a(e);case"number":return p(e);case"object":return o(e)}};c.exports=r},3956:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),c.exports=a},27460:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(39429),o=new a({initialize:function(r,e,n,l,i,h){e||(e=r.sys.make.image({x:n,y:l,key:i,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(s,r,e,n,l){return new o(this.scene,s,r,e,n,l)}),c.exports=o},80661:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,s,r){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,s,r){var e=o.gl,n=this.geometryMask,l=o.maskCount,i=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,n.renderWebGL(o,n,s),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,i):e.stencilFunc(e.EQUAL,l,i)},postRenderWebGL:function(o){var s=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(o,s,r){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=p},69781:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=n}});c.exports=p},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p;if(a)typeof a=="string"?p=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(p=a);else if(t.parentElement||a===null)return t;return p||(p=document.body),p.appendChild(t),t};c.exports=x},83719:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),p=function(o){var s=o.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,a(r,s.parent)}};c.exports=p},57264:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25892),p=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),o()};document.body?a.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};c.exports=p},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),p={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),p.w=a===90?o.offsetHeight:window.innerWidth,p.h=a===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?p.h:p.w};c.exports=x},45818:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13560),p=function(o,s){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return s>o?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};c.exports=p},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};c.exports=x},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a="";try{if(window.DOMParser){var p=new DOMParser;a=p.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};c.exports=x},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=x},43092:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(29747),o=new a({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(s,r,e){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});c.exports=o},84902:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=a},47565:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(37277),s=new a({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",s,"events"),c.exports=s},93055:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n){n===void 0&&(n=1),p.call(this,o.BARREL,e),this.amount=n}});c.exports=s},32251:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,u,d){l===void 0&&(l=1),i===void 0&&(i=1),h===void 0&&(h=1),u===void 0&&(u=1),d===void 0&&(d=4),p.call(this,o.BLOOM,e),this.steps=d,this.offsetX=l,this.offsetY=i,this.blurStrength=h,this.strength=u,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},9047:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,u,d){n===void 0&&(n=0),l===void 0&&(l=2),i===void 0&&(i=2),h===void 0&&(h=1),d===void 0&&(d=4),p.call(this,o.BLUR,e),this.quality=n,this.x=l,this.y=i,this.steps=d,this.strength=h,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},27885:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,u,d,v){n===void 0&&(n=.5),l===void 0&&(l=1),i===void 0&&(i=.2),h===void 0&&(h=!1),u===void 0&&(u=1),d===void 0&&(d=1),v===void 0&&(v=1),p.call(this,o.BOKEH,e),this.radius=n,this.amount=l,this.contrast=i,this.isTiltShift=h,this.strength=v,this.blurX=u,this.blurY=d}});c.exports=s},12578:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,u){n===void 0&&(n=8),h===void 0&&(h=1),u===void 0&&(u=.005),p.call(this,o.CIRCLE,e),this.scale=h,this.feather=u,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});c.exports=s},15802:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89422),o=t(14811),s=new a({Extends:p,initialize:function(e){p.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=s},72898:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=p},44553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),i===void 0&&(i=.005),p.call(this,o.DISPLACEMENT,e),this.x=l,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});c.exports=s},68531:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){l===void 0&&(l=4),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,o.GLOW,e),this.outerStrength=l,this.innerStrength=i,this.knockout=h,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},37102:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,u,d,v,m){i===void 0&&(i=.2),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=1),m===void 0&&(m=0),p.call(this,o.GRADIENT,e),this.alpha=i,this.size=m,this.fromX=h,this.fromY=u,this.toX=d,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});c.exports=s},86886:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n){n===void 0&&(n=1),p.call(this,o.PIXELATE,e),this.amount=n}});c.exports=s},92322:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,u,d,v){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=.1),h===void 0&&(h=1),d===void 0&&(d=6),v===void 0&&(v=1),p.call(this,o.SHADOW,e),this.x=n,this.y=l,this.decay=i,this.power=h,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=v,u!==void 0&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=s},39563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=3),h===void 0&&(h=!1),p.call(this,o.SHINE,e),this.speed=n,this.lineWidth=l,this.gradient=i,this.reveal=h}});c.exports=s},56448:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=.5),h===void 0&&(h=.5),p.call(this,o.VIGNETTE,e),this.x=n,this.y=l,this.radius=i,this.strength=h}});c.exports=s},38433:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.1),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=i,this.reveal=h}});c.exports=s},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=x},66064:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=a(!1,o,p),c.exports=o},25305:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(23568),o=function(s,r,e){r.x=p(e,"x",0),r.y=p(e,"y",0),r.depth=p(e,"depth",0),r.flipX=p(e,"flipX",!1),r.flipY=p(e,"flipY",!1);var n=p(e,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=p(n,"x",1),r.scaleY=p(n,"y",1));var l=p(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=p(l,"x",1),r.scrollFactorY=p(l,"y",1)),r.rotation=p(e,"rotation",0);var i=p(e,"angle",null);i!==null&&(r.angle=i),r.alpha=p(e,"alpha",1);var h=p(e,"origin",null);if(typeof h=="number")r.setOrigin(h);else if(h!==null){var u=p(h,"x",.5),d=p(h,"y",.5);r.setOrigin(u,d)}r.blendMode=p(e,"blendMode",a.NORMAL),r.visible=p(e,"visible",!0);var v=p(e,"add",!0);return v&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};c.exports=o},13059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23568),p=function(o,s){var r=a(s,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var e=o.anims,n=a(r,"key",void 0);if(n){var l=a(r,"startFrame",void 0),i=a(r,"delay",0),h=a(r,"repeat",0),u=a(r,"repeatDelay",0),d=a(r,"yoyo",!1),v=a(r,"play",!1),m=a(r,"delayedPlay",0),T={key:n,delay:i,repeat:h,repeatDelay:u,yoyo:d,startFrame:l};v?e.play(T):m>0?e.playAfterDelay(T,m):e.load(T)}}return o};c.exports=p},8050:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(73162),o=t(37277),s=t(51708),r=t(44594),e=t(19186),n=new a({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,i){return l._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),c.exports=n},95643:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(53774),o=t(45893),s=t(50792),r=t(51708),e=t(44594),n=new a({Extends:s,initialize:function(i,h){s.call(this),this.scene=i,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,i){return this.data||(this.data=new o(this)),this.data.set(l,i),this},incData:function(l,i){return this.data||(this.data=new o(this)),this.data.inc(l,i),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,i,h){return this.scene.sys.input.enable(this,l,i,h),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(l){var i=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,i=this.parentContainer,h=[];i&&(h.unshift(i.getIndex(l)),l=i,i.parentContainer);)i=i.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,c.exports=n},44603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectCreator",s,"make"),c.exports=s},39429:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectFactory",s,"add"),c.exports=s},91296:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),p=new a,o=new a,s=new a,r={camera:p,sprite:o,calc:s},e=function(n,l,i){var h=p,u=o,d=s;return u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(l.matrix),i?(h.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=l.scrollX*n.scrollFactorX,u.f-=l.scrollY*n.scrollFactorY),h.multiply(u,d),r};c.exports=e},45027:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(25774),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){p.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var l=this._active,i=l.length,h=0;h<i;h++){var u=l[h];u.active&&u.preUpdate.call(u,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(s.PRE_UPDATE,this.update,this),n.off(s.UPDATE,this.sceneUpdate,this),n.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),c.exports=r},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r,e,n,l,i,h,u,d,v,m){var T=p.x-a.displayOriginX+s,C=p.y-a.displayOriginY+r,S=T+p.w,P=C+p.h,A=e.getXRound(T,C,n),L=e.getYRound(T,C,n),F=e.getXRound(T,P,n),I=e.getYRound(T,P,n),D=e.getXRound(S,P,n),B=e.getYRound(S,P,n),G=e.getXRound(S,C,n),z=e.getYRound(S,C,n);t.batchQuad(a,A,L,F,I,D,B,G,z,o.u0,o.v0,o.u1,o.v1,l,i,h,u,d,v,m)};c.exports=x},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){if(p===void 0&&(p=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var s=t.text,r=s.length,e=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,i=Number.MAX_VALUE,h=0,u=0,d=t.fontData.chars,v=t.fontData.lineHeight,m=t.letterSpacing,T=t.lineSpacing,C=0,S=0,P=0,A=null,L=t._align,F=0,I=0,D=t.fontSize/t.fontData.size,B=D*t.scaleX,G=D*t.scaleY,z=null,W=0,Y=[],K=Number.MAX_VALUE,Z=0,V=0,H=0,N,b=[],X=[],$=null;if(e>0){for(N=0;N<r;N++){if(P=s.charCodeAt(N),P===10){$!==null&&(b.push({word:$.word,i:$.i,x:$.x*B,y:$.y*G,w:$.w*B,h:$.h*G,cr:!0}),$=null),C=0,S+=v+T,z=null;continue}if(A=d[P],!!A){if(z!==null)var Q=A.kerning[W];P===n?$!==null&&(b.push({word:$.word,i:$.i,x:$.x*B,y:$.y*G,w:$.w*B,h:$.h*G,cr:!1}),$=null):($===null&&($={word:"",i:N,x:C,y:S,w:0,h:v,cr:!1}),$.word=$.word.concat(s[N]),$.w+=A.xOffset+A.xAdvance+(Q!==void 0?Q:0)),C+=A.xAdvance+m,z=A,W=P}}$!==null&&b.push({word:$.word,i:$.i,x:$.x*B,y:$.y*G,w:$.w*B,h:$.h*G,cr:!1}),C=0,S=0,z=null,W=0;var J,k=0,et=[];for(N=0;N<b.length;N++){var nt=b[N],st=nt.x,ot=nt.x+nt.w;if(J){var ut=st-(J.x+J.w);k=st-(ut+J.w),J=null}var at=st-k,ct=ot-k;at>e||ct>e?(et.push(nt.i-1),nt.cr?(et.push(nt.i+nt.word.length),k=0,J=null):J=nt):nt.cr&&(et.push(nt.i+nt.word.length),k=0,J=null)}var Et=function(kt,Te,Ee){return kt.substr(0,Te)+Ee+kt.substr(Te+1)};for(N=et.length-1;N>=0;N--)s=Et(s,et[N],`
`);o.wrappedText=s,r=s.length,b=[],$=null}var St=0;for(N=0;N<r;N++){if(P=s.charCodeAt(N),P===10){$!==null&&(b.push({word:$.word,i:$.i,x:$.x*B,y:$.y*G,w:$.w*B,h:$.h*G}),$=null),C=0,S+=v+T,z=null,Y[V]=H,H>Z&&(Z=H),H<K&&(K=H),V++,H=0;continue}if(A=d[P],!!A){if(F=C,I=S,z!==null){var Ct=A.kerning[W];F+=Ct!==void 0?Ct:0}l>F&&(l=F),i>I&&(i=I);var dt=F+A.xAdvance,Tt=I+v;h<dt&&(h=dt),u<Tt&&(u=Tt);var vt=A.xOffset+A.xAdvance+(Ct!==void 0?Ct:0);P===n?$!==null&&(b.push({word:$.word,i:$.i,x:$.x*B,y:$.y*G,w:$.w*B,h:$.h*G}),$=null):($===null&&($={word:"",i:St,x:C,y:S,w:0,h:v}),$.word=$.word.concat(s[N]),$.w+=vt),X.push({i:St,idx:N,char:s[N],code:P,x:(A.xOffset+F)*D,y:(A.yOffset+S)*D,w:A.width*D,h:A.height*D,t:S*D,r:dt*D,b:v*D,line:V,glyph:A}),C+=A.xAdvance+m+(Ct!==void 0?Ct:0),z=A,W=P,H=dt*D,St++}}if($!==null&&b.push({word:$.word,i:$.i,x:$.x*B,y:$.y*G,w:$.w*B,h:$.h*G}),Y[V]=H,H>Z&&(Z=H),H<K&&(K=H),L>0)for(var wt=0;wt<X.length;wt++){var Bt=X[wt];if(L===1){var Zt=(Z-Y[Bt.line])/2;Bt.x+=Zt,Bt.r+=Zt}else if(L===2){var Ut=Z-Y[Bt.line];Bt.x+=Ut,Bt.r+=Ut}}var Ht=o.local,Nt=o.global,oe=o.lines;return Ht.x=l*D,Ht.y=i*D,Ht.width=h*D,Ht.height=u*D,Nt.x=t.x-t._displayOriginX+l*B,Nt.y=t.y-t._displayOriginY+i*G,Nt.width=h*B,Nt.height=u*G,oe.shortest=K,oe.longest=Z,oe.lengths=Y,a&&(Ht.x=Math.ceil(Ht.x),Ht.y=Math.ceil(Ht.y),Ht.width=Math.ceil(Ht.width),Ht.height=Math.ceil(Ht.height),Nt.x=Math.ceil(Nt.x),Nt.y=Math.ceil(Nt.y),Nt.width=Math.ceil(Nt.width),Nt.height=Math.ceil(Nt.height),oe.shortest=Math.ceil(K),oe.longest=Math.ceil(Z)),p&&(t._displayOriginX=t.originX*Ht.width,t._displayOriginY=t.originY*Ht.height,Nt.x=t.x-t._displayOriginX*t.scaleX,Nt.y=t.y-t._displayOriginY*t.scaleY,a&&(Nt.x=Math.ceil(Nt.x),Nt.y=Math.ceil(Nt.y))),o.words=b,o.characters=X,o.lines.height=v,o.scale=D,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};c.exports=x},61327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21859),p=function(o,s,r,e,n,l,i){var h=o.sys.textures.get(r),u=h.get(e),d=o.sys.cache.xml.get(n);if(u&&d){var v=a(d,u,l,i,h);return o.sys.cache.bitmapFont.add(s,{data:v,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=p},6925:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=function(o,s){var r=s.width,e=s.height,n=Math.floor(r/2),l=Math.floor(e/2),i=a(s,"chars","");if(i!==""){var h=a(s,"image",""),u=o.sys.textures.getFrame(h),d=u.cutX,v=u.cutY,m=u.source.width,T=u.source.height,C=a(s,"offset.x",0),S=a(s,"offset.y",0),P=a(s,"spacing.x",0),A=a(s,"spacing.y",0),L=a(s,"lineSpacing",0),F=a(s,"charsPerRow",null);F===null&&(F=m/r,F>i.length&&(F=i.length));for(var I=C,D=S,B={retroFont:!0,font:h,size:r,lineHeight:e+L,chars:{}},G=0,z=0;z<i.length;z++){var W=i.charCodeAt(z),Y=(d+I)/m,K=(v+D)/T,Z=(d+I+r)/m,V=(v+D+e)/T;B.chars[W]={x:I,y:D,width:r,height:e,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:Y,v0:K,u1:Z,v1:V},G++,G===F?(G=0,I=C,D+=e+A):I+=r+P}var H={data:B,frame:null,texture:h};return H}};c.exports=p},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,p){return parseInt(a.getAttribute(p),10)}var t=function(a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0);var e=p.cutX,n=p.cutY,l=p.source.width,i=p.source.height,h=p.sourceIndex,u={},d=a.getElementsByTagName("info")[0],v=a.getElementsByTagName("common")[0];u.font=d.getAttribute("face"),u.size=x(d,"size"),u.lineHeight=x(v,"lineHeight")+s,u.chars={};var m=a.getElementsByTagName("char"),T=p!==void 0&&p.trimmed;if(T)var C=p.height,S=p.width;for(var P=0;P<m.length;P++){var A=m[P],L=x(A,"id"),F=String.fromCharCode(L),I=x(A,"x"),D=x(A,"y"),B=x(A,"width"),G=x(A,"height");T&&(I<S&&(S=I),D<C&&(C=D)),T&&C!==0&&S!==0&&(I-=p.x,D-=p.y);var z=(e+I)/l,W=(n+D)/i,Y=(e+I+B)/l,K=(n+D+G)/i;if(u.chars[L]={x:I,y:D,width:B,height:G,centerX:Math.floor(B/2),centerY:Math.floor(G/2),xOffset:x(A,"xoffset"),yOffset:x(A,"yoffset"),xAdvance:x(A,"xadvance")+o,data:{},kerning:{},u0:z,v0:W,u1:Y,v1:K},r&&B!==0&&G!==0){var Z=r.add(F,h,I,D,B,G);Z&&Z.setUVs(B,G,z,W,Y,K)}}var V=a.getElementsByTagName("kerning");for(P=0;P<V.length;P++){var H=V[P],N=x(H,"first"),b=x(H,"second"),X=x(H,"amount");u.chars[b].kerning[N]=X}return u};c.exports=t},196:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87662),p=t(79291),o={Parse:t(6925)};o=p(!1,o,a),c.exports=o},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=x},2638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),p=t(83419),o=t(12310),s=new p({Extends:a,Mixins:[o],initialize:function(e,n,l,i,h,u,d){a.call(this,e,n,l,i,h,u,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});c.exports=s},86741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20926),p=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,u=s.displayCallback,d=s.callbackData,v=s.fontData.chars,m=s.fontData.lineHeight,T=s._letterSpacing,C=0,S=0,P=0,A=null,L=0,F=0,I=0,D=0,B=0,G=0,z=null,W=0,Y=s.frame.source.image,K=h.cutX,Z=h.cutY,V=0,H=0,N=s._fontSize/s.fontData.size,b=s._align,X=0,$=0;s.getTextBounds(!1);var Q=s._bounds.lines;b===1?$=(Q.longest-Q.lengths[0])/2:b===2&&($=Q.longest-Q.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);var J=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(i.beginPath(),i.rect(0,0,s.cropWidth,s.cropHeight),i.clip());for(var k=0;k<l;k++){if(H=N,V=0,P=n.charCodeAt(k),P===10){X++,b===1?$=(Q.longest-Q.lengths[X])/2:b===2&&($=Q.longest-Q.lengths[X]),C=0,S+=m,z=null;continue}if(A=v[P],!!A){if(L=K+A.x,F=Z+A.y,I=A.width,D=A.height,B=A.xOffset+C-s.scrollX,G=A.yOffset+S-s.scrollY,z!==null){var et=A.kerning[W];B+=et!==void 0?et:0}if(u){d.index=k,d.charCode=P,d.x=B,d.y=G,d.scale=H,d.rotation=V,d.data=A.data;var nt=u(d);B=nt.x,G=nt.y,H=nt.scale,V=nt.rotation}B*=H,G*=H,B+=$,C+=A.xAdvance+T+(et!==void 0?et:0),z=A,W=P,!(I===0||D===0||P===32)&&(J&&(B=Math.round(B),G=Math.round(G)),i.save(),i.translate(B,G),i.rotate(V),i.scale(H,H),i.drawImage(Y,L,F,I,D,0,0,I,D),i.restore())}}i.restore()}};c.exports=p},11164:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2638),p=t(25305),o=t(44603),s=t(23568);o.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var n=s(r,"font",""),l=s(r,"text",""),i=s(r,"size",!1),h=new a(this.scene,0,0,n,l,i);return e!==void 0&&(r.add=e),p(this.scene,h,r),h})},72566:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2638),p=t(39429);p.register("dynamicBitmapText",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,e,n))})},12310:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(73482),o=t(86741),c.exports={renderWebGL:p,renderCanvas:o}},73482:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(61340),o=t(70554),s=new p,r=function(e,n,l,i){var h=n.text,u=h.length;if(u!==0){l.addToRenderList(n);var d=e.pipelines.set(n.pipeline,n),v=a(n,l,i);e.pipelines.preBatch(n);var m=v.sprite,T=v.calc,C=s,S=n.cropWidth>0||n.cropHeight>0;S&&(d.flush(),e.pushScissor(T.tx,T.ty,n.cropWidth*T.scaleX,n.cropHeight*T.scaleY));var P=n.frame,A=P.glTexture,L=n.tintFill,F=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),I=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),D=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),B=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),G=d.setGameObject(n),z=0,W=0,Y=0,K=0,Z=n.letterSpacing,V,H=0,N=0,b,X=n.scrollX,$=n.scrollY,Q=n.fontData,J=Q.chars,k=Q.lineHeight,et=n.fontSize/Q.size,nt=0,st=n._align,ot=0,ut=0,at=n.getTextBounds(!1);n.maxWidth>0&&(h=at.wrappedText,u=h.length);var ct=n._bounds.lines;st===1?ut=(ct.longest-ct.lengths[0])/2:st===2&&(ut=ct.longest-ct.lengths[0]);for(var Et=l.roundPixels,St=n.displayCallback,Ct=n.callbackData,dt=0;dt<u;dt++){if(Y=h.charCodeAt(dt),Y===10){ot++,st===1?ut=(ct.longest-ct.lengths[ot])/2:st===2&&(ut=ct.longest-ct.lengths[ot]),z=0,W+=k,b=null;continue}if(V=J[Y],!!V){H=V.width,N=V.height;var Tt=V.xOffset+z-X,vt=V.yOffset+W-$;if(b!==null){var wt=V.kerning[K];Tt+=wt!==void 0?wt:0}if(z+=V.xAdvance+Z,b=V,K=Y,!(H===0||N===0||Y===32)){if(et=n.fontSize/n.fontData.size,nt=0,St){Ct.color=0,Ct.tint.topLeft=F,Ct.tint.topRight=I,Ct.tint.bottomLeft=D,Ct.tint.bottomRight=B,Ct.index=dt,Ct.charCode=Y,Ct.x=Tt,Ct.y=vt,Ct.scale=et,Ct.rotation=nt,Ct.data=V.data;var Bt=St(Ct);Tt=Bt.x,vt=Bt.y,et=Bt.scale,nt=Bt.rotation,Bt.color?(F=Bt.color,I=Bt.color,D=Bt.color,B=Bt.color):(F=Bt.tint.topLeft,I=Bt.tint.topRight,D=Bt.tint.bottomLeft,B=Bt.tint.bottomRight),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaTL),I=o.getTintAppendFloatAlpha(I,l.alpha*n._alphaTR),D=o.getTintAppendFloatAlpha(D,l.alpha*n._alphaBL),B=o.getTintAppendFloatAlpha(B,l.alpha*n._alphaBR)}Tt*=et,vt*=et,Tt-=n.displayOriginX,vt-=n.displayOriginY,Tt+=ut,C.applyITRS(Tt,vt,nt,et,et),T.multiply(C,m);var Zt=V.u0,Ut=V.v0,Ht=V.u1,Nt=V.v1,oe=H,kt=N,Te=m.e,Ee=m.f,Ue=kt*m.c+m.e,Ji=kt*m.d+m.f,ki=oe*m.a+kt*m.c+m.e,Cn=oe*m.b+kt*m.d+m.f,En=oe*m.a+m.e,Pn=oe*m.b+m.f;Et&&(Te=Math.round(Te),Ee=Math.round(Ee),Ue=Math.round(Ue),Ji=Math.round(Ji),ki=Math.round(ki),Cn=Math.round(Cn),En=Math.round(En),Pn=Math.round(Pn)),d.shouldFlush(6)&&(d.flush(),G=d.setGameObject(n)),d.batchQuad(n,Te,Ee,Ue,Ji,ki,Cn,En,Pn,Zt,Ut,Ht,Nt,F,I,D,B,L,A,G)}}}S&&(d.flush(),e.popScissor()),e.pipelines.postBatch(n)}};c.exports=r},22186:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45319),o=t(31401),s=t(95643),r=t(53048),e=t(61327),n=t(21859),l=t(87841),i=t(18658),h=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,i],initialize:function(d,v,m,T,C,S,P){C===void 0&&(C=""),P===void 0&&(P=0),s.call(this,d,"BitmapText"),this.font=T;var A=this.scene.sys.cache.bitmapFont.get(T);A||console.warn("Invalid BitmapText key: "+T),this.fontData=A.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=P,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,d,v,m){return u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=.5),this.dropShadowX=u,this.dropShadowY=d,this.dropShadowColor=v,this.dropShadowAlpha=m,this},setCharacterTint:function(u,d,v,m,T,C,S){u===void 0&&(u=0),d===void 0&&(d=1),v===void 0&&(v=!1),m===void 0&&(m=-1),T===void 0&&(T=m,C=m,S=m);var P=this.text.length;d===-1&&(d=P),u<0&&(u=P+u),u=p(u,0,P-1);for(var A=p(u+d,u,P),L=this.charColors,F=u;F<A;F++){var I=L[F];if(m===-1)L[F]=null;else{var D=v?1:0;I?(I.tintEffect=D,I.tintTL=m,I.tintTR=T,I.tintBL=C,I.tintBR=S):L[F]={tintEffect:D,tintTL:m,tintTR:T,tintBL:C,tintBR:S}}}return this},setWordTint:function(u,d,v,m,T,C,S){d===void 0&&(d=1);for(var P=this.getTextBounds(),A=P.words,L=typeof u=="number",F=0,I=0;I<A.length;I++){var D=A[I];if((L&&I===u||!L&&D.word===u)&&(this.setCharacterTint(D.i,D.word.length,v,m,T,C,S),F++,F===d))return this}return this},getTextBounds:function(u){var d=this._bounds;return(this._dirty||u||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(r(this,u,!0,d),this._dirty=!1),d},getCharacterAt:function(u,d,v){for(var m=this.getLocalPoint(u,d,null,v),T=this.getTextBounds(),C=T.characters,S=new l,P=0;P<C.length;P++){var A=C[P];if(S.setTo(A.x,A.t,A.r-A.x,A.b),S.contains(m.x,m.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,d,v){d===void 0&&(d=this._fontSize),v===void 0&&(v=this._align);var m=this.scene.sys.cache.bitmapFont.get(u);return m&&(this.font=u,this.fontData=m.data,this._fontSize=d,this._align=v,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,d){return this._maxWidth=u,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=o.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=d,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=n,c.exports=h},37289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20926),p=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,u=s.fontData.chars,d=s.fontData.lineHeight,v=s._letterSpacing,m=s._lineSpacing,T=0,C=0,S=0,P=null,A=0,L=0,F=0,I=0,D=0,B=0,G=null,z=0,W=h.source.image,Y=h.cutX,K=h.cutY,Z=s._fontSize/s.fontData.size,V=s._align,H=0,N=0,b=s.getTextBounds(!1);s.maxWidth>0&&(n=b.wrappedText,l=n.length);var X=s._bounds.lines;V===1?N=(X.longest-X.lengths[0])/2:V===2&&(N=X.longest-X.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);for(var $=r.roundPixels,Q=0;Q<l;Q++){if(S=n.charCodeAt(Q),S===10){H++,V===1?N=(X.longest-X.lengths[H])/2:V===2&&(N=X.longest-X.lengths[H]),T=0,C+=d+m,G=null;continue}if(P=u[S],!!P){if(A=Y+P.x,L=K+P.y,F=P.width,I=P.height,D=P.xOffset+T,B=P.yOffset+C,G!==null){var J=P.kerning[z];D+=J!==void 0?J:0}D*=Z,B*=Z,D+=N,T+=P.xAdvance+v+(J!==void 0?J:0),G=P,z=S,!(F===0||I===0||S===32)&&($&&(D=Math.round(D),B=Math.round(B)),i.save(),i.translate(D,B),i.scale(Z,Z),i.drawImage(W,A,L,F,I,0,0,F,I),i.restore())}}i.restore()}};c.exports=p},57336:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),p=t(25305),o=t(44603),s=t(23568),r=t(35154);o.register("bitmapText",function(e,n){e===void 0&&(e={});var l=r(e,"font",""),i=s(e,"text",""),h=s(e,"size",!1),u=r(e,"align",0),d=new a(this.scene,0,0,l,i,h,u);return n!==void 0&&(e.add=n),p(this.scene,d,e),d})},34914:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22186),p=t(39429);p.register("bitmapText",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},18658:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(33590),o=t(37289),c.exports={renderWebGL:p,renderCanvas:o}},33590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3217),p=t(91296),o=t(70554),s=function(r,e,n,l){var i=e._text,h=i.length;if(h!==0){n.addToRenderList(e);var u=r.pipelines.set(e.pipeline,e),d=p(e,n,l).calc;r.pipelines.preBatch(e);var v=n.roundPixels,m=n.alpha,T=e.charColors,C=e.tintFill,S=o.getTintAppendFloatAlpha,P=S(e.tintTopLeft,m*e._alphaTL),A=S(e.tintTopRight,m*e._alphaTR),L=S(e.tintBottomLeft,m*e._alphaBL),F=S(e.tintBottomRight,m*e._alphaBR),I=e.frame.glTexture,D=u.setGameObject(e),B=e.getTextBounds(!1),G,z,W,Y=B.characters,K=e.dropShadowX,Z=e.dropShadowY,V=K!==0||Z!==0;if(V){var H=e.dropShadowColor,N=e.dropShadowAlpha,b=S(H,m*N*e._alphaTL),X=S(H,m*N*e._alphaTR),$=S(H,m*N*e._alphaBL),Q=S(H,m*N*e._alphaBR);for(G=0;G<Y.length;G++)z=Y[G],W=z.glyph,!(z.code===32||W.width===0||W.height===0)&&a(u,e,z,W,K,Z,d,v,b,X,$,Q,1,I,D)}for(G=0;G<Y.length;G++)if(z=Y[G],W=z.glyph,!(z.code===32||W.width===0||W.height===0))if(u.shouldFlush(6)&&(u.flush(),D=u.setGameObject(e)),T[z.i]){var J=T[z.i],k=J.tintEffect,et=S(J.tintTL,m*e._alphaTL),nt=S(J.tintTR,m*e._alphaTR),st=S(J.tintBL,m*e._alphaBL),ot=S(J.tintBR,m*e._alphaBR);a(u,e,z,W,0,0,d,v,et,nt,st,ot,k,I,D)}else a(u,e,z,W,0,0,d,v,P,A,L,F,C,I,D);r.pipelines.postBatch(e)}};c.exports=s},6107:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(48011),p=t(46590),o=t(83419),s=t(31401),r=t(4327),e=t(95643),n=t(73162),l=new o({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(h,u,d,v,m){e.call(this,h,"Blitter"),this.setTexture(v,m),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,h,u,d,v){d===void 0&&(d=!0),v===void 0&&(v=this.children.length),u===void 0?u=this.frame:u instanceof r||(u=this.texture.get(u));var m=new p(this,i,h,u,d);return this.children.addAt(m,v,!1),this.dirty=!0,m},createFromCallback:function(i,h,u,d){for(var v=this.createMultiple(h,u,d),m=0;m<v.length;m++){var T=v[m];i.call(this,T,m)}return v},createMultiple:function(i,h,u){h===void 0&&(h=this.frame.name),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);var d=[],v=this;return h.forEach(function(m){for(var T=0;T<i;T++)d.push(v.create(0,0,m,u))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=a.getRenderList();if(s.length!==0){var r=t.currentContext,e=p.alpha*a.alpha;if(e!==0){p.addToRenderList(a),r.globalCompositeOperation=t.blendModes[a.blendMode],r.imageSmoothingEnabled=!a.frame.source.scaleMode;var n=a.x-p.scrollX*a.scrollFactorX,l=a.y-p.scrollY*a.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var i=p.roundPixels,h=0;h<s.length;h++){var u=s[h],d=u.flipX||u.flipY,v=u.frame,m=v.canvasData,T=v.x,C=v.y,S=1,P=1,A=u.alpha*e;A!==0&&(r.globalAlpha=A,d?(u.flipX&&(S=-1,T-=m.width),u.flipY&&(P=-1,C-=m.height),m.width>0&&m.height>0&&(r.save(),r.translate(u.x+n,u.y+l),r.scale(S,P),r.drawImage(v.source.image,m.x,m.y,m.width,m.height,T,C,m.width,m.height),r.restore())):(i&&(T=Math.round(T),C=Math.round(C)),m.width>0&&m.height>0&&r.drawImage(v.source.image,m.x,m.y,m.width,m.height,T+u.x+n,C+u.y+l,m.width,m.height)))}r.restore()}}};c.exports=x},9403:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6107),p=t(25305),o=t(44603),s=t(23568);o.register("blitter",function(r,e){r===void 0&&(r={});var n=s(r,"key",null),l=s(r,"frame",null),i=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),p(this.scene,i,r),i})},12709:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6107),p=t(39429);p.register("blitter",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},48011:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(99485),o=t(72396),c.exports={renderWebGL:p,renderCanvas:o}},99485:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),p=t(70554),o=new a,s=function(r,e,n,l){var i=e.getRenderList(),h=n.alpha*e.alpha;if(!(i.length===0||h===0)){n.addToRenderList(e);var u=r.pipelines.set(this.pipeline,e),d=n.scrollX*e.scrollFactorX,v=n.scrollY*e.scrollFactorY,m=o.copyFrom(n.matrix);l&&(m.multiplyWithOffset(l,-d,-v),d=0,v=0);var T=e.x-d,C=e.y-v,S=-1,P=!1;r.pipelines.preBatch(e);for(var A=0;A<i.length;A++){var L=i[A],F=L.frame,I=L.alpha*h;if(I!==0){var D=F.width,B=F.height,G=T+L.x+F.x,z=C+L.y+F.y;L.flipX&&(D*=-1,G+=F.width),L.flipY&&(B*=-1,z+=F.height);var W=m.setQuad(G,z,G+D,z+B),Y=p.getTintAppendFloatAlpha(L.tint,I);if(F.sourceIndex!==S){var K=u.setGameObject(e,F);S=F.sourceIndex}u.batchQuad(e,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],F.u0,F.v0,F.u1,F.v1,Y,Y,Y,Y,P,F.glTexture,K)&&(S=-1)}}r.pipelines.postBatch(e)}};c.exports=s},46590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(4327),o=new a({initialize:function(r,e,n,l,i){this.parent=r,this.x=e,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof p&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,e){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});c.exports=o},16005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,e,n){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=a(s,0,1),this._alphaTR=a(r,0,1),this._alphaBL=a(e,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=a(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=a(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=a(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=a(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=p)}}};c.exports=o},88509:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}}};c.exports=o},90065:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=a[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};c.exports=p},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};c.exports=x},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,p,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,p,o,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=x},89272:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};c.exports=x},47059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(66064),o=t(19133),s=new a({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var l=n[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===r&&(o(i,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,e);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=r,r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,n,l,i,h){return this.add(new p.Glow(this.gameObject,r,e,n,l),{quality:i,distance:h})},addShadow:function(r,e,n,l,i,h,u){return this.add(new p.Shadow(this.gameObject,r,e,n,l,i,h,u))},addPixelate:function(r){return this.add(new p.Pixelate(this.gameObject,r))},addVignette:function(r,e,n,l){return this.add(new p.Vignette(this.gameObject,r,e,n,l))},addShine:function(r,e,n,l){return this.add(new p.Shine(this.gameObject,r,e,n,l))},addBlur:function(r,e,n,l,i,h){return this.add(new p.Blur(this.gameObject,r,e,n,l,i,h))},addGradient:function(r,e,n,l,i,h,u,d){return this.add(new p.Gradient(this.gameObject,r,e,n,l,i,h,u,d))},addBloom:function(r,e,n,l,i,h){return this.add(new p.Bloom(this.gameObject,r,e,n,l,i,h))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(r,e,n,l,i){return this.add(new p.Circle(this.gameObject,r,e,n,l,i))},addBarrel:function(r){return this.add(new p.Barrel(this.gameObject,r))},addDisplacement:function(r,e,n){return this.add(new p.Displacement(this.gameObject,r,e,n))},addWipe:function(r,e,n){return this.add(new p.Wipe(this.gameObject,r,e,n))},addReveal:function(r,e,n){return this.add(new p.Wipe(this.gameObject,r,e,n,!0))},addBokeh:function(r,e,n){return this.add(new p.Bokeh(this.gameObject,r,e,n))},addTiltShift:function(r,e,n,l,i,h){return this.add(new p.Bokeh(this.gameObject,r,e,n,!0,l,i,h))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=s},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=x},8004:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(11520),o=t(26099),s={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(r,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new a);var e,n,l,i,h,u,d,v;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),m.transformPoint(r.x,r.y,r),e=r.x,n=r.y,this.getTopRight(r),m.transformPoint(r.x,r.y,r),l=r.x,i=r.y,this.getBottomLeft(r),m.transformPoint(r.x,r.y,r),h=r.x,u=r.y,this.getBottomRight(r),m.transformPoint(r.x,r.y,r),d=r.x,v=r.y}else this.getTopLeft(r),e=r.x,n=r.y,this.getTopRight(r),l=r.x,i=r.y,this.getBottomLeft(r),h=r.x,u=r.y,this.getBottomRight(r),d=r.x,v=r.y;return r.x=Math.min(e,l,h,d),r.y=Math.min(n,i,u,v),r.width=Math.max(e,l,h,d)-r.x,r.height=Math.max(n,i,u,v)-r.y,r}};c.exports=s},8573:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6858),p=t(80661),o={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,e,n,l){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new a(this.scene,s,r,e,n,l)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new p(this.scene,s)}};c.exports=o},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=x},37640:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39506),p=t(57355),o=t(35154),s=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var h=p(n,"positionOnPath",!1);this.rotateToPath=p(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var u=o(n,"startAt",l);if(u&&(n.onStart=function(v){var m=v.data[0];m.progress=u,m.elapsed=m.duration*u;var T=m.ease(m.progress);m.current=m.start+(m.end-m.start)*T,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],i=this.pathDelta,h=this.pathVector;if(i.copy(h).negate(),l.state===s.COMPLETE){this.path.getPoint(l.end,h),i.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),h),i.add(h),h.add(this.pathOffset);var u=this.x,d=this.y;this.setPosition(h.x,h.y);var v=this.x-u,m=this.y-d;if(v===0&&m===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,v)+a(this.pathRotationOffset))}}};c.exports=e},72699:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){o===void 0&&(o=r.default);var e=r.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,s,r){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),s&&(this.pipelineData=r?a(s):s)}return this},setPipelineData:function(o,s){var r=this.pipelineData;return s===void 0?delete r[o]:r[o]=s,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};c.exports=p},17581:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),p=t(47059),o=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),r&&(this.preFX=new p(this,!1))},setPostPipeline:function(r,e,n){var l=this.scene.sys.renderer;if(!l)return this;var i=l.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var u=i.getPostPipeline(r[h],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=n?a(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var n=this.postPipelineData;return e===void 0?delete n[r]:n[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=[],i=0;i<n.length;i++){var h=n[i];(e&&h.name===r||!e&&h instanceof r)&&l.push(h)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var i=n[l];(e&&i.name===r||!e&&i===r)&&(i.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=s},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};c.exports=x},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};c.exports=x},37726:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4327),p=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(s,r,e,n){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r,e,n)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=o},79812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4327),p=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,e,n){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,e,n,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=o},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,p,o){return t===void 0&&(t=16777215),a===void 0&&(a=t,p=t,o=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=p,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,a,p,o){return this.setTint(t,a,p,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=x},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};c.exports=x},16901:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(61340),o=t(85955),s=t(86554),r=t(30954),e=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=s(i)}},setPosition:function(i,h,u,d){return i===void 0&&(i=0),h===void 0&&(h=i),u===void 0&&(u=0),d===void 0&&(d=0),this.x=i,this.y=h,this.z=u,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,h,u,d){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=h+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=i),this.scaleX=i,this.scaleY=h,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,h){i===void 0&&(i=new p);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);for(h||(h=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)h.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),h.multiply(i,i),u=u.parentContainer;return i},getLocalPoint:function(i,h,u,d){u||(u=new e),d||(d=this.scene.sys.cameras.main);var v=d.scrollX,m=d.scrollY,T=i+v*this.scrollFactorX-v,C=h+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,C,u):o(T,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var i=0,h=this.parentContainer;h;)i+=h.rotation,h=h.parentContainer;return i}};c.exports=l},61340:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(36383),o=t(26099),s=new a({initialize:function(e,n,l,i,h,u){e===void 0&&(e=1),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=1),h===void 0&&(h=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,n,l,i,h,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||i?p.TAU-(i>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var n=this.matrix;return n[4]=n[0]*r+n[2]*e+n[4],n[5]=n[1]*r+n[3]*e+n[5],this},scale:function(r,e){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=e,n[3]*=e,this},rotate:function(r){var e=Math.sin(r),n=Math.cos(r),l=this.matrix,i=l[0],h=l[1],u=l[2],d=l[3];return l[0]=i*n+u*e,l[1]=h*n+d*e,l[2]=i*-e+u*n,l[3]=h*-e+d*n,this},multiply:function(r,e){var n=this.matrix,l=r.matrix,i=n[0],h=n[1],u=n[2],d=n[3],v=n[4],m=n[5],T=l[0],C=l[1],S=l[2],P=l[3],A=l[4],L=l[5],F=e===void 0?n:e.matrix;return F[0]=T*i+C*u,F[1]=T*h+C*d,F[2]=S*i+P*u,F[3]=S*h+P*d,F[4]=A*i+L*u+v,F[5]=A*h+L*d+m,F},multiplyWithOffset:function(r,e,n){var l=this.matrix,i=r.matrix,h=l[0],u=l[1],d=l[2],v=l[3],m=l[4],T=l[5],C=e*h+n*d+m,S=e*u+n*v+T,P=i[0],A=i[1],L=i[2],F=i[3],I=i[4],D=i[5];return l[0]=P*h+A*d,l[1]=P*u+A*v,l[2]=L*h+F*d,l[3]=L*u+F*v,l[4]=I*h+D*d+C,l[5]=I*u+D*v+S,this},transform:function(r,e,n,l,i,h){var u=this.matrix,d=u[0],v=u[1],m=u[2],T=u[3],C=u[4],S=u[5];return u[0]=r*d+e*m,u[1]=r*v+e*T,u[2]=n*d+l*m,u[3]=n*v+l*T,u[4]=i*d+h*m+C,u[5]=i*v+h*T+S,this},transformPoint:function(r,e,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,i=l[0],h=l[1],u=l[2],d=l[3],v=l[4],m=l[5];return n.x=r*i+e*u+v,n.y=r*h+e*d+m,n},invert:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3],h=r[4],u=r[5],d=e*i-n*l;return r[0]=i/d,r[1]=-n/d,r[2]=-l/d,r[3]=e/d,r[4]=(l*u-i*h)/d,r[5]=-(e*u-n*h)/d,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,n,l,i,h){var u=this.matrix;return u[0]=r,u[1]=e,u[2]=n,u[3]=l,u[4]=i,u[5]=h,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,n=e[0],l=e[1],i=e[2],h=e[3],u=n*h-l*i;if(r.translateX=e[4],r.translateY=e[5],n||l){var d=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/d):-Math.acos(n/d),r.scaleX=d,r.scaleY=u/d}else if(i||h){var v=Math.sqrt(i*i+h*h);r.rotation=Math.PI*.5-(h>0?Math.acos(-i/v):-Math.acos(i/v)),r.scaleX=u/v,r.scaleY=v}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,n,l,i){var h=this.matrix,u=Math.sin(n),d=Math.cos(n);return h[4]=r,h[5]=e,h[0]=d*l,h[1]=u*l,h[2]=-u*i,h[3]=d*i,this},applyInverse:function(r,e,n){n===void 0&&(n=new o);var l=this.matrix,i=l[0],h=l[1],u=l[2],d=l[3],v=l[4],m=l[5],T=1/(i*d+u*-h);return n.x=d*T*r+-u*T*e+(m*u-v*d)*T,n.y=i*T*e+-h*T*r+(-m*i+v*h)*T,n},setQuad:function(r,e,n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=this.quad);var u=this.matrix,d=u[0],v=u[1],m=u[2],T=u[3],C=u[4],S=u[5];return i?(h[0]=Math.round(r*d+e*m+C),h[1]=Math.round(r*v+e*T+S),h[2]=Math.round(r*d+l*m+C),h[3]=Math.round(r*v+l*T+S),h[4]=Math.round(n*d+l*m+C),h[5]=Math.round(n*v+l*T+S),h[6]=Math.round(n*d+e*m+C),h[7]=Math.round(n*v+e*T+S)):(h[0]=r*d+e*m+C,h[1]=r*v+e*T+S,h[2]=r*d+l*m+C,h[3]=r*v+l*T+S,h[4]=n*d+l*m+C,h[5]=n*v+l*T+S,h[6]=n*d+e*m+C,h[7]=n*v+e*T+S),h},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,n){var l=this.getX(r,e);return n&&(l=Math.round(l)),l},getYRound:function(r,e,n){var l=this.getY(r,e);return n&&(l=Math.round(l)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=s},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(a){return this.visible=a,this}};c.exports=t},31401:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),p=t(10312),o=t(83419),s=t(31401),r=t(51708),e=t(95643),n=t(87841),l=t(29959),i=t(36899),h=t(26099),u=new o({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,l],initialize:function(v,m,T,C){e.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,T),this.setBlendMode(p.SKIP_CHECK),C&&this.add(C)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new n),d.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),m=v.transformPoint(this.x,this.y);d.setTo(m.x,m.y,0,0)}if(this.list.length>0){var T=this.list,C=new n,S=!1;d.setEmpty();for(var P=0;P<T.length;P++){var A=T[P];A.getBounds&&(A.getBounds(C),S?i(C,d,d):(d.setTo(C.x,C.y,C.width,C.height),S=!0))}}return d},addHandler:function(d){d.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(r.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,v){v===void 0&&(v=new h),this.parentContainer?this.parentContainer.pointToContainer(d,v):(v.x=d.x,v.y=d.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(d.x,d.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(d){return a.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,v){return a.AddAt(this.list,d,v,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,v){return d?(v===void 0&&(v=function(m,T){return m[d]-T[d]}),a.StableSort(this.list,v),this):this},getByName:function(d){return a.GetFirst(this.list,"name",d)},getRandom:function(d,v){return a.GetRandom(this.list,d,v)},getFirst:function(d,v,m,T){return a.GetFirst(this.list,d,v,m,T)},getAll:function(d,v,m,T){return a.GetAll(this.list,d,v,m,T)},count:function(d,v,m,T){return a.CountAllMatching(this.list,d,v,m,T)},swap:function(d,v){return a.Swap(this.list,d,v),this},moveTo:function(d,v){return a.MoveTo(this.list,d,v),this},moveAbove:function(d,v){return a.MoveAbove(this.list,d,v),this},moveBelow:function(d,v){return a.MoveBelow(this.list,d,v),this},remove:function(d,v){var m=a.Remove(this.list,d,this.removeHandler,this);if(v&&m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].destroy()}return this},removeAt:function(d,v){var m=a.RemoveAt(this.list,d,this.removeHandler,this);return v&&m&&m.destroy(),this},removeBetween:function(d,v,m){var T=a.RemoveBetween(this.list,d,v,this.removeHandler,this);if(m)for(var C=0;C<T.length;C++)T[C].destroy();return this},removeAll:function(d){var v=this.list;if(d){for(var m=0;m<v.length;m++)v[m]&&v[m].scene&&(v[m].off(r.DESTROY,this.onChildDestroyed,this),v[m].destroy());this.list=[]}else a.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(d){return a.BringToTop(this.list,d),this},sendToBack:function(d){return a.SendToBack(this.list,d),this},moveUp:function(d){return a.MoveUp(this.list,d),this},moveDown:function(d){return a.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(d,v,m){var T=a.Replace(this.list,d,v);return T&&(this.addHandler(v),this.removeHandler(d),m&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,v,m,T){return a.SetAll(this.list,d,v,m,T),this},each:function(d,v){var m=[null],T,C=this.list.slice(),S=C.length;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<S;T++)m[0]=C[T],d.apply(v,m);return this},iterate:function(d,v){var m=[null],T;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<this.list.length;T++)m[0]=this.list[T],d.apply(v,m);return this},setScrollFactor:function(d,v,m){return v===void 0&&(v=d),m===void 0&&(m=!1),this.scrollFactorX=d,this.scrollFactorY=v,m&&(a.SetAll(this.list,"scrollFactorX",d),a.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(d){a.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});c.exports=u},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a);var s=a.list;if(s.length!==0){var r=a.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(a.x,a.y),r.rotate(a.rotation),r.scale(a.scaleX,a.scaleY)):r.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var e=a.blendMode!==-1;e||t.setBlendMode(0);var n=a._alpha,l=a.scrollFactorX,i=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var h=0;h<s.length;h++){var u=s[h];if(u.willRender(p)){var d=u.alpha,v=u.scrollFactorX,m=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(v*l,m*i),u.setAlpha(d*n),u.renderCanvas(t,u,p,r),u.setAlpha(d),u.setScrollFactor(v,m)}}a.mask&&a.mask.postRenderCanvas(t)}};c.exports=x},77143:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(31559),o=t(44603),s=t(23568),r=t(95540);o.register("container",function(e,n){e===void 0&&(e={});var l=s(e,"x",0),i=s(e,"y",0),h=r(e,"children",null),u=new p(this.scene,l,i,h);return n!==void 0&&(e.add=n),a(this.scene,u,e),u})},24961:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31559),p=t(39429);p.register("container",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},29959:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(72249),o=t(53584),c.exports={renderWebGL:p,renderCanvas:o}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a);var s=a.list,r=s.length;if(r!==0){var e=a.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(a.x,a.y),e.rotate(a.rotation),e.scale(a.scaleX,a.scaleY)):e.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var n=a.blendMode!==-1;n||t.setBlendMode(0);for(var l=a.alpha,i=a.scrollFactorX,h=a.scrollFactorY,u=0;u<r;u++){var d=s[u];if(d.willRender(p)){var v,m,T,C;if(d.alphaTopLeft!==void 0)v=d.alphaTopLeft,m=d.alphaTopRight,T=d.alphaBottomLeft,C=d.alphaBottomRight;else{var S=d.alpha;v=S,m=S,T=S,C=S}var P=d.scrollFactorX,A=d.scrollFactorY;!n&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var L=d.mask;L&&L.preRenderWebGL(t,d,p);var F=d.type;F!==t.currentType&&(t.newType=!0,t.currentType=F),t.nextTypeMatch=u<r-1?s[u+1].type===t.currentType:!1,d.setScrollFactor(P*i,A*h),d.setAlpha(v*l,m*l,T*l,C*l),d.renderWebGL(t,d,p,e,a),d.setAlpha(v,m,T,C),d.setScrollFactor(P,A),L&&L.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};c.exports=x},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(441),s=t(95643),r=t(41212),e=t(35846),n=t(44594),l=t(61369),i=new a({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,o],initialize:function(u,d,v,m,T,C){s.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,v),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),T,C):this.createElement(m,T,C):m&&this.setElement(m,T,C),u.sys.events.on(n.SLEEP,this.handleSceneEvent,this),u.sys.events.on(n.WAKE,this.handleSceneEvent,this),u.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var u=this.node,d=u.style;u&&(d.display=h.settings.visible?"block":"none")},setSkew:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.skewX=h,this.skewY=u,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.addEventListener(h[u],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.removeEventListener(h[u],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,u,d){return this.setElement(document.createElement(h),u,d)},setElement:function(h,u,d){this.removeElement();var v;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),v=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(v=h),!v)return this;if(this.node=v,u&&r(u))for(var m in u)v.style[m]=u[m];else typeof u=="string"&&(v.style=u);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),d&&(v.innerText=d),this.updateSize()},createFromCache:function(h,u){var d=this.cache.get(h);return d&&this.createFromHTML(d,u),this},createFromHTML:function(h,u){u===void 0&&(u="div"),this.removeElement();var d=document.createElement(u);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node,u=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(h,u){if(this.node){for(var d=this.node.querySelectorAll("*"),v=0;v<d.length;v++)if(d[v][h]===u)return d[v]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,u=this.node;u&&h&&!h.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});c.exports=i},49381:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(47407),p=t(95643),o=t(61340),s=new o,r=new o,e=new o,n=function(l,i,h,u){if(i.node){var d=i.node.style,v=i.scene.sys.settings;if(!d||!v.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&h.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var m=i.parentContainer,T=h.alpha*i.alpha;m&&(T*=m.alpha);var C=s,S=r,P=e,A=0,L=0,F="0%",I="0%";u?(A=i.width*i.scaleX*i.originX,L=i.height*i.scaleY*i.originY,S.applyITRS(i.x-A,i.y-L,i.rotation,i.scaleX,i.scaleY),C.copyFrom(h.matrix),C.multiplyWithOffset(u,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),S.e=i.x-A,S.f=i.y-L,C.multiply(S,P)):(A=i.width*i.originX,L=i.height*i.originY,S.applyITRS(i.x-A,i.y-L,i.rotation,i.scaleX,i.scaleY),C.copyFrom(h.matrix),F=100*i.originX+"%",I=100*i.originY+"%",S.e-=h.scrollX*i.scrollFactorX,S.f-=h.scrollY*i.scrollFactorY,C.multiply(S,P)),i.transformOnly||(d.display="block",d.opacity=T,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=a[i._blendMode]),d.transform=P.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=F+" "+I}};c.exports=n},2611:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3069),p=t(39429);p.register("dom",function(o,s,r,e,n){var l=new a(this.scene,o,s,r,e,n);return this.displayList.add(l),l})},441:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(49381),o=t(49381),c.exports={renderWebGL:p,renderCanvas:o}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(64993),r=new a({Extends:o,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,s],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=r},70217:()=>{},56315:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42421),p=t(39429);p.register("extern",function(){var o=new a(this.scene);return this.displayList.add(o),o})},64993:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(80287),o=t(70217),c.exports={renderWebGL:p,renderCanvas:o}},80287:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){o.pipelines.clear();var n=a(s,r,e).calc;s.render.call(s,o,r,n),o.pipelines.rebind()};c.exports=p},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71911),p=t(83419),o=t(85592),s=t(31401),r=t(8497),e=t(95643),n=t(95540),l=t(35154),i=t(36383),h=t(84503),u=new p({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,h],initialize:function(v,m){var T=l(m,"x",0),C=l(m,"y",0);e.call(this,v,"Graphics"),this.setPosition(T,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(d){return l(d,"lineStyle",null)&&(this.defaultStrokeWidth=l(d,"lineStyle.width",1),this.defaultStrokeColor=l(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(d,"fillStyle",null)&&(this.defaultFillColor=l(d,"fillStyle.color",16777215),this.defaultFillAlpha=l(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,v,m){return m===void 0&&(m=1),this.commandBuffer.push(o.LINE_STYLE,d,v,m),this._lineWidth=d,this},fillStyle:function(d,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,d,v),this},fillGradientStyle:function(d,v,m,T,C,S,P,A){return C===void 0&&(C=1),S===void 0&&(S=C),P===void 0&&(P=C),A===void 0&&(A=C),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,C,S,P,A,d,v,m,T),this},lineGradientStyle:function(d,v,m,T,C,S){return S===void 0&&(S=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,d,S,v,m,T,C),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,v,m){return this.beginPath(),this.arc(d,v,m,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,v,m){return this.beginPath(),this.arc(d,v,m,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,v,m,T){return this.commandBuffer.push(o.FILL_RECT,d,v,m,T),this},strokeRect:function(d,v,m,T){var C=this._lineWidth/2,S=d-C,P=d+C;return this.beginPath(),this.moveTo(d,v),this.lineTo(d,v+T),this.strokePath(),this.beginPath(),this.moveTo(d+m,v),this.lineTo(d+m,v+T),this.strokePath(),this.beginPath(),this.moveTo(S,v),this.lineTo(P+m,v),this.strokePath(),this.beginPath(),this.moveTo(S,v+T),this.lineTo(P+m,v+T),this.strokePath(),this},fillRoundedRect:function(d,v,m,T,C){C===void 0&&(C=20);var S=C,P=C,A=C,L=C;typeof C!="number"&&(S=n(C,"tl",20),P=n(C,"tr",20),A=n(C,"bl",20),L=n(C,"br",20));var F=S>=0,I=P>=0,D=A>=0,B=L>=0;return S=Math.abs(S),P=Math.abs(P),A=Math.abs(A),L=Math.abs(L),this.beginPath(),this.moveTo(d+S,v),this.lineTo(d+m-P,v),I?this.arc(d+m-P,v+P,P,-i.TAU,0):this.arc(d+m,v,P,Math.PI,i.TAU,!0),this.lineTo(d+m,v+T-L),B?this.arc(d+m-L,v+T-L,L,0,i.TAU):this.arc(d+m,v+T,L,-i.TAU,Math.PI,!0),this.lineTo(d+A,v+T),D?this.arc(d+A,v+T-A,A,i.TAU,Math.PI):this.arc(d,v+T,A,0,-i.TAU,!0),this.lineTo(d,v+S),F?this.arc(d+S,v+S,S,-Math.PI,-i.TAU):this.arc(d,v,S,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,v,m,T,C){C===void 0&&(C=20);var S=C,P=C,A=C,L=C,F=Math.min(m,T)/2;typeof C!="number"&&(S=n(C,"tl",20),P=n(C,"tr",20),A=n(C,"bl",20),L=n(C,"br",20));var I=S>=0,D=P>=0,B=A>=0,G=L>=0;return S=Math.min(Math.abs(S),F),P=Math.min(Math.abs(P),F),A=Math.min(Math.abs(A),F),L=Math.min(Math.abs(L),F),this.beginPath(),this.moveTo(d+S,v),this.lineTo(d+m-P,v),this.moveTo(d+m-P,v),D?this.arc(d+m-P,v+P,P,-i.TAU,0):this.arc(d+m,v,P,Math.PI,i.TAU,!0),this.lineTo(d+m,v+T-L),this.moveTo(d+m,v+T-L),G?this.arc(d+m-L,v+T-L,L,0,i.TAU):this.arc(d+m,v+T,L,-i.TAU,Math.PI,!0),this.lineTo(d+A,v+T),this.moveTo(d+A,v+T),B?this.arc(d+A,v+T-A,A,i.TAU,Math.PI):this.arc(d,v+T,A,0,-i.TAU,!0),this.lineTo(d,v+S),this.moveTo(d,v+S),I?this.arc(d+S,v+S,S,-Math.PI,-i.TAU):this.arc(d,v,S,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,v){return this.fillPoint(d.x,d.y,v)},fillPoint:function(d,v,m){return!m||m<1?m=1:(d-=m/2,v-=m/2),this.commandBuffer.push(o.FILL_RECT,d,v,m,m),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,v,m,T,C,S){return this.commandBuffer.push(o.FILL_TRIANGLE,d,v,m,T,C,S),this},strokeTriangle:function(d,v,m,T,C,S){return this.commandBuffer.push(o.STROKE_TRIANGLE,d,v,m,T,C,S),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,v,m,T){return this.beginPath(),this.moveTo(d,v),this.lineTo(m,T),this.strokePath(),this},lineTo:function(d,v){return this.commandBuffer.push(o.LINE_TO,d,v),this},moveTo:function(d,v){return this.commandBuffer.push(o.MOVE_TO,d,v),this},strokePoints:function(d,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var C=1;C<T;C++)this.lineTo(d[C].x,d[C].y);return v&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(d,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var C=1;C<T;C++)this.lineTo(d[C].x,d[C].y);return v&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,v){v===void 0&&(v=32);var m=d.getPoints(v);return this.strokePoints(m,!0)},strokeEllipse:function(d,v,m,T,C){C===void 0&&(C=32);var S=new r(d,v,m,T),P=S.getPoints(C);return this.strokePoints(P,!0)},fillEllipseShape:function(d,v){v===void 0&&(v=32);var m=d.getPoints(v);return this.fillPoints(m,!0)},fillEllipse:function(d,v,m,T,C){C===void 0&&(C=32);var S=new r(d,v,m,T),P=S.getPoints(C);return this.fillPoints(P,!0)},arc:function(d,v,m,T,C,S,P){return S===void 0&&(S=!1),P===void 0&&(P=0),this.commandBuffer.push(o.ARC,d,v,m,T,C,S,P),this},slice:function(d,v,m,T,C,S,P){return S===void 0&&(S=!1),P===void 0&&(P=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,d,v),this.commandBuffer.push(o.ARC,d,v,m,T,C,S,P),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(d,v){return this.commandBuffer.push(o.TRANSLATE,d,v),this},scaleCanvas:function(d,v){return this.commandBuffer.push(o.SCALE,d,v),this},rotateCanvas:function(d){return this.commandBuffer.push(o.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,v,m){var T=this.scene.sys,C=T.game.renderer;v===void 0&&(v=T.scale.width),m===void 0&&(m=T.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,v,m),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var S,P,A={willReadFrequently:!0};if(typeof d=="string")if(T.textures.exists(d)){S=T.textures.get(d);var L=S.getSourceImage();L instanceof HTMLCanvasElement&&(P=L.getContext("2d",A))}else S=T.textures.createCanvas(d,v,m),P=S.getSourceImage().getContext("2d",A);else d instanceof HTMLCanvasElement&&(P=d.getContext("2d",A));return P&&(this.renderCanvas(C,this,u.TargetCamera,null,P,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new a,c.exports=u},32768:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85592),p=t(20926),o=function(s,r,e,n,l,i){var h=r.commandBuffer,u=h.length,d=l||s.currentContext;if(!(u===0||!p(s,d,r,e,n))){e.addToRenderList(r);var v=1,m=1,T=0,C=0,S=1,P=0,A=0,L=0;d.beginPath();for(var F=0;F<u;++F){var I=h[F];switch(I){case a.ARC:d.arc(h[F+1],h[F+2],h[F+3],h[F+4],h[F+5],h[F+6]),F+=7;break;case a.LINE_STYLE:S=h[F+1],T=h[F+2],v=h[F+3],P=(T&16711680)>>>16,A=(T&65280)>>>8,L=T&255,d.strokeStyle="rgba("+P+","+A+","+L+","+v+")",d.lineWidth=S,F+=3;break;case a.FILL_STYLE:C=h[F+1],m=h[F+2],P=(C&16711680)>>>16,A=(C&65280)>>>8,L=C&255,d.fillStyle="rgba("+P+","+A+","+L+","+m+")",F+=2;break;case a.BEGIN_PATH:d.beginPath();break;case a.CLOSE_PATH:d.closePath();break;case a.FILL_PATH:i||d.fill();break;case a.STROKE_PATH:i||d.stroke();break;case a.FILL_RECT:i?d.rect(h[F+1],h[F+2],h[F+3],h[F+4]):d.fillRect(h[F+1],h[F+2],h[F+3],h[F+4]),F+=4;break;case a.FILL_TRIANGLE:d.beginPath(),d.moveTo(h[F+1],h[F+2]),d.lineTo(h[F+3],h[F+4]),d.lineTo(h[F+5],h[F+6]),d.closePath(),i||d.fill(),F+=6;break;case a.STROKE_TRIANGLE:d.beginPath(),d.moveTo(h[F+1],h[F+2]),d.lineTo(h[F+3],h[F+4]),d.lineTo(h[F+5],h[F+6]),d.closePath(),i||d.stroke(),F+=6;break;case a.LINE_TO:d.lineTo(h[F+1],h[F+2]),F+=2;break;case a.MOVE_TO:d.moveTo(h[F+1],h[F+2]),F+=2;break;case a.LINE_FX_TO:d.lineTo(h[F+1],h[F+2]),F+=5;break;case a.MOVE_FX_TO:d.moveTo(h[F+1],h[F+2]),F+=5;break;case a.SAVE:d.save();break;case a.RESTORE:d.restore();break;case a.TRANSLATE:d.translate(h[F+1],h[F+2]),F+=2;break;case a.SCALE:d.scale(h[F+1],h[F+2]),F+=2;break;case a.ROTATE:d.rotate(h[F+1]),F+=1;break;case a.GRADIENT_FILL_STYLE:F+=5;break;case a.GRADIENT_LINE_STYLE:F+=6;break}}d.restore()}};c.exports=o},87079:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(43831);a.register("graphics",function(o,s){o===void 0&&(o={}),s!==void 0&&(o.add=s);var r=new p(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43831),p=t(39429);p.register("graphics",function(o){return this.displayList.add(new a(this.scene,o))})},84503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(77545),o=t(32768),o=t(32768),c.exports={renderWebGL:p,renderCanvas:o}},77545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85592),p=t(91296),o=t(61340),s=t(70554),r=function(h,u,d){this.x=h,this.y=u,this.width=d},e=function(h,u,d){this.points=[],this.pointsLength=1,this.points[0]=new r(h,u,d)},n=[],l=new o,i=function(h,u,d,v){if(u.commandBuffer.length!==0){d.addToRenderList(u);var m=h.pipelines.set(u.pipeline,u);h.pipelines.preBatch(u);for(var T=p(u,d,v).calc,C=l.loadIdentity(),S=u.commandBuffer,P=d.alpha*u.alpha,A=1,L=m.fillTint,F=m.strokeTint,I=0,D=0,B=0,G=.01,z=Math.PI*2,W,Y=[],K=0,Z=!0,V=null,H=s.getTintAppendFloatAlpha,N=0;N<S.length;N++)switch(W=S[N],W){case a.BEGIN_PATH:{Y.length=0,V=null,Z=!0;break}case a.CLOSE_PATH:{Z=!1,V&&V.points.length&&V.points.push(V.points[0]);break}case a.FILL_PATH:{for(K=0;K<Y.length;K++)m.batchFillPath(Y[K].points,C,T);break}case a.STROKE_PATH:{for(K=0;K<Y.length;K++)m.batchStrokePath(Y[K].points,A,Z,C,T);break}case a.LINE_STYLE:{A=S[++N];var b=S[++N],X=S[++N]*P,$=H(b,X);F.TL=$,F.TR=$,F.BL=$,F.BR=$;break}case a.FILL_STYLE:{var Q=S[++N],J=S[++N]*P,k=H(Q,J);L.TL=k,L.TR=k,L.BL=k,L.BR=k;break}case a.GRADIENT_FILL_STYLE:{var et=S[++N]*P,nt=S[++N]*P,st=S[++N]*P,ot=S[++N]*P;L.TL=H(S[++N],et),L.TR=H(S[++N],nt),L.BL=H(S[++N],st),L.BR=H(S[++N],ot);break}case a.GRADIENT_LINE_STYLE:{A=S[++N];var ut=S[++N]*P;F.TL=H(S[++N],ut),F.TR=H(S[++N],ut),F.BL=H(S[++N],ut),F.BR=H(S[++N],ut);break}case a.ARC:{var at=0,ct=S[++N],Et=S[++N],St=S[++N],Ct=S[++N],dt=S[++N],Tt=S[++N],vt=S[++N];for(dt-=Ct,Tt?dt<-z?dt=-z:dt>0&&(dt=-z+dt%z):dt>z?dt=z:dt<0&&(dt=z+dt%z),V===null&&(V=new e(ct+Math.cos(Ct)*St,Et+Math.sin(Ct)*St,A),Y.push(V),at+=G);at<1+vt;)B=dt*at+Ct,I=ct+Math.cos(B)*St,D=Et+Math.sin(B)*St,V.points.push(new r(I,D,A)),at+=G;B=dt+Ct,I=ct+Math.cos(B)*St,D=Et+Math.sin(B)*St,V.points.push(new r(I,D,A));break}case a.FILL_RECT:{m.batchFillRect(S[++N],S[++N],S[++N],S[++N],C,T);break}case a.FILL_TRIANGLE:{m.batchFillTriangle(S[++N],S[++N],S[++N],S[++N],S[++N],S[++N],C,T);break}case a.STROKE_TRIANGLE:{m.batchStrokeTriangle(S[++N],S[++N],S[++N],S[++N],S[++N],S[++N],A,C,T);break}case a.LINE_TO:{V!==null?V.points.push(new r(S[++N],S[++N],A)):(V=new e(S[++N],S[++N],A),Y.push(V));break}case a.MOVE_TO:{V=new e(S[++N],S[++N],A),Y.push(V);break}case a.SAVE:{n.push(C.copyToArray());break}case a.RESTORE:{C.copyFromArray(n.pop());break}case a.TRANSLATE:{ct=S[++N],Et=S[++N],C.translate(ct,Et);break}case a.SCALE:{ct=S[++N],Et=S[++N],C.scale(ct,Et);break}case a.ROTATE:{C.rotate(S[++N]);break}}h.pipelines.postBatch(u)}};c.exports=i},26479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61061),p=t(83419),o=t(51708),s=t(50792),r=t(46710),e=t(95540),n=t(35154),l=t(97022),i=t(41212),h=t(88492),u=t(35072),d=t(68287),v=new p({Extends:s,initialize:function(T,C,S){s.call(this),S?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?i(C[0])&&(S=C,C=null):i(C)&&(S=C,C=null),this.scene=T,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(S,"classType",d),this.name=e(S,"name",""),this.active=e(S,"active",!0),this.maxSize=e(S,"maxSize",-1),this.defaultKey=e(S,"defaultKey",null),this.defaultFrame=e(S,"defaultFrame",null),this.runChildUpdate=e(S,"runChildUpdate",!1),this.createCallback=e(S,"createCallback",null),this.removeCallback=e(S,"removeCallback",null),this.createMultipleCallback=e(S,"createMultipleCallback",null),this.internalCreateCallback=e(S,"internalCreateCallback",null),this.internalRemoveCallback=e(S,"internalRemoveCallback",null),C&&this.addMultiple(C),S&&this.createMultiple(S),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,T,C,S,P,A){if(m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=this.defaultKey),S===void 0&&(S=this.defaultFrame),P===void 0&&(P=!0),A===void 0&&(A=!0),this.isFull())return null;var L=new this.classType(this.scene,m,T,C,S);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=P,L.setActive(A),this.add(L),L},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var T=[];if(m[0].key)for(var C=0;C<m.length;C++){var S=this.createFromConfig(m[C]);T=T.concat(S)}return T},createFromConfig:function(m){if(this.isFull())return[];this.classType=e(m,"classType",this.classType);var T=e(m,"key",void 0),C=e(m,"frame",null),S=e(m,"visible",!0),P=e(m,"active",!0),A=[];if(T===void 0)return A;Array.isArray(T)||(T=[T]),Array.isArray(C)||(C=[C]);var L=e(m,"repeat",0),F=e(m,"randomKey",!1),I=e(m,"randomFrame",!1),D=e(m,"yoyo",!1),B=e(m,"quantity",!1),G=e(m,"frameQuantity",1),z=e(m,"max",0),W=h(T,C,{max:z,qty:B||G,random:F,randomB:I,repeat:L,yoyo:D});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var Y=0;Y<W.length;Y++){var K=this.create(0,0,W[Y].a,W[Y].b,S,P);if(!K)break;A.push(K)}if(l(m,"setXY")){var Z=n(m,"setXY.x",0),V=n(m,"setXY.y",0),H=n(m,"setXY.stepX",0),N=n(m,"setXY.stepY",0);a.SetXY(A,Z,V,H,N)}if(l(m,"setRotation")){var b=n(m,"setRotation.value",0),X=n(m,"setRotation.step",0);a.SetRotation(A,b,X)}if(l(m,"setScale")){var $=n(m,"setScale.x",1),Q=n(m,"setScale.y",$),J=n(m,"setScale.stepX",0),k=n(m,"setScale.stepY",0);a.SetScale(A,$,Q,J,k)}if(l(m,"setOrigin")){var et=n(m,"setOrigin.x",.5),nt=n(m,"setOrigin.y",et),st=n(m,"setOrigin.stepX",0),ot=n(m,"setOrigin.stepY",0);a.SetOrigin(A,et,nt,st,ot)}if(l(m,"setAlpha")){var ut=n(m,"setAlpha.value",1),at=n(m,"setAlpha.step",0);a.SetAlpha(A,ut,at)}if(l(m,"setDepth")){var ct=n(m,"setDepth.value",0),Et=n(m,"setDepth.step",0);a.SetDepth(A,ct,Et)}if(l(m,"setScrollFactor")){var St=n(m,"setScrollFactor.x",1),Ct=n(m,"setScrollFactor.y",St),dt=n(m,"setScrollFactor.stepX",0),Tt=n(m,"setScrollFactor.stepY",0);a.SetScrollFactor(A,St,Ct,dt,Tt)}var vt=e(m,"hitArea",null),wt=e(m,"hitAreaCallback",null);vt&&a.SetHitArea(A,vt,wt);var Bt=e(m,"gridAlign",!1);return Bt&&a.GridAlign(A,Bt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(m,T){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),S=0;S<C.length;S++){var P=C[S];P.active&&P.update(m,T)}},add:function(m,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),T&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(o.DESTROY,this.remove,this),this)},addMultiple:function(m,T){if(T===void 0&&(T=!1),Array.isArray(m))for(var C=0;C<m.length;C++)this.add(m[C],T);return this},remove:function(m,T,C){return T===void 0&&(T=!1),C===void 0&&(C=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(o.DESTROY,this.remove,this),C?m.destroy():T&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);for(var C=this.children,S=0;S<C.size;S++){var P=C.entries[S];P.off(o.DESTROY,this.remove,this),T?P.destroy():m&&(P.removeFromDisplayList(),P.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,T,C,S){return r(this.children.entries,m,T,C,S)},getFirst:function(m,T,C,S,P,A,L){return this.getHandler(!0,1,m,T,C,S,P,A,L)},getFirstNth:function(m,T,C,S,P,A,L,F){return this.getHandler(!0,m,T,C,S,P,A,L,F)},getLast:function(m,T,C,S,P,A,L){return this.getHandler(!1,1,m,T,C,S,P,A,L)},getLastNth:function(m,T,C,S,P,A,L,F){return this.getHandler(!1,m,T,C,S,P,A,L,F)},getHandler:function(m,T,C,S,P,A,L,F,I){C===void 0&&(C=!1),S===void 0&&(S=!1);var D,B,G=0,z=this.children.entries;if(m)for(B=0;B<z.length;B++)if(D=z[B],D.active===C){if(G++,G===T)break}else D=null;else for(B=z.length-1;B>=0;B--)if(D=z[B],D.active===C){if(G++,G===T)break}else D=null;return D?(typeof P=="number"&&(D.x=P),typeof A=="number"&&(D.y=A),D):S?this.create(P,A,L,F,I):null},get:function(m,T,C,S,P){return this.getFirst(!1,!0,m,T,C,S,P)},getFirstAlive:function(m,T,C,S,P,A){return this.getFirst(!0,m,T,C,S,P,A)},getFirstDead:function(m,T,C,S,P,A){return this.getFirst(!1,m,T,C,S,P,A)},playAnimation:function(m,T){return a.PlayAnimation(this.children.entries,m,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var T=0,C=0;C<this.children.size;C++)this.children.entries[C].active===m&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,T,C,S,P){return a.PropertyValueSet(this.children.entries,m,T,C,S,P),this},propertyValueInc:function(m,T,C,S,P){return a.PropertyValueInc(this.children.entries,m,T,C,S,P),this},setX:function(m,T){return a.SetX(this.children.entries,m,T),this},setY:function(m,T){return a.SetY(this.children.entries,m,T),this},setXY:function(m,T,C,S){return a.SetXY(this.children.entries,m,T,C,S),this},incX:function(m,T){return a.IncX(this.children.entries,m,T),this},incY:function(m,T){return a.IncY(this.children.entries,m,T),this},incXY:function(m,T,C,S){return a.IncXY(this.children.entries,m,T,C,S),this},shiftPosition:function(m,T,C){return a.ShiftPosition(this.children.entries,m,T,C),this},angle:function(m,T){return a.Angle(this.children.entries,m,T),this},rotate:function(m,T){return a.Rotate(this.children.entries,m,T),this},rotateAround:function(m,T){return a.RotateAround(this.children.entries,m,T),this},rotateAroundDistance:function(m,T,C){return a.RotateAroundDistance(this.children.entries,m,T,C),this},setAlpha:function(m,T){return a.SetAlpha(this.children.entries,m,T),this},setTint:function(m,T,C,S){return a.SetTint(this.children.entries,m,T,C,S),this},setOrigin:function(m,T,C,S){return a.SetOrigin(this.children.entries,m,T,C,S),this},scaleX:function(m,T){return a.ScaleX(this.children.entries,m,T),this},scaleY:function(m,T){return a.ScaleY(this.children.entries,m,T),this},scaleXY:function(m,T,C,S){return a.ScaleXY(this.children.entries,m,T,C,S),this},setDepth:function(m,T){return a.SetDepth(this.children.entries,m,T),this},setBlendMode:function(m){return a.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,T){return a.SetHitArea(this.children.entries,m,T),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,T,C){return a.SetVisible(this.children.entries,m,T,C),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,m),this.scene=void 0,this.children=void 0)}});c.exports=v},94975:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(26479);a.register("group",function(o){return new p(this.scene,null,o)})},3385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26479),p=t(39429);p.register("group",function(o,s){return this.updateList.add(new a(this.scene,o,s))})},88571:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(59819),r=new a({Extends:o,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,s],initialize:function(n,l,i,h,u){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,u),this.setPosition(l,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=r},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};c.exports=x},82459:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(88571);p.register("image",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),i=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,i,r),i})},2117:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(88571),p=t(39429);p.register("image",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},59819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(99517),o=t(40652),c.exports={renderWebGL:p,renderCanvas:o}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),this.pipeline.batchSprite(a,p,o)};c.exports=x},77856:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),c.exports=a},93595:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(83419),o=t(31401),s=t(53774),r=t(45893),e=t(50792),n=t(51708),l=t(73162),i=t(33963),h=t(44594),u=t(19186),d=new p({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,i],initialize:function(m,T){l.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),T&&this.add(T),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,m){return this.data||(this.data=new r(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new r(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,T=[];m&&(T.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return T.unshift(this.displayList.getIndex(v)),T},addChildCallback:function(v){var m=v.displayList;m&&m!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=d},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=a.list;if(o.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var r=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var e=0;e<o.length;e++){var n=o[e];if(n.willRender(p)){var l=n.alpha;!s&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,p),n.setAlpha(l)}}a.mask&&a.mask.postRenderCanvas(t)}};c.exports=x},25179:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(93595),o=t(44603),s=t(23568);o.register("layer",function(r,e){r===void 0&&(r={});var n=s(r,"children",null),l=new p(this.scene,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},20005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(93595),p=t(39429);p.register("layer",function(o){return this.displayList.add(new a(this.scene,o))})},33963:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(15869),o=t(2956),c.exports={renderWebGL:p,renderCanvas:o}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=a.list,s=o.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var r=a.blendMode!==-1;r||t.setBlendMode(0);for(var e=a.alpha,n=0;n<s;n++){var l=o[n];if(l.willRender(p)){var i,h,u,d;if(l.alphaTopLeft!==void 0)i=l.alphaTopLeft,h=l.alphaTopRight,u=l.alphaBottomLeft,d=l.alphaBottomRight;else{var v=l.alpha;i=v,h=v,u=v,d=v}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var m=l.mask;m&&m.preRenderWebGL(t,l,p);var T=l.type;T!==t.currentType&&(t.newType=!0,t.currentType=T),t.nextTypeMatch=n<s-1?o[n+1].type===t.currentType:!1,l.setAlpha(i*e,h*e,u*e,d*e),l.renderWebGL(t,l,p),l.setAlpha(i,h,u,d),m&&m.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};c.exports=x},41432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=t(83419),o=t(31401),s=t(51767),r=t(70554),e=new p({Extends:a,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,i,h,u,d,v,m){a.call(this,l,i,h),this.color=new s(u,d,v),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81491),p=t(83419),o=t(20339),s=t(41432),r=t(80321),e=t(51767),n=t(19133),l=t(19186),i=t(70554),h=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,d,v,m,T,C){return this.systems.displayList.add(new r(this.scene,u,d,v,m,T,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var d=this.lights,v=u.worldView,m=[],T=0;T<d.length;T++){var C=d[T];C.willRender(u)&&a(C,v)&&m.push({light:C,distance:o(C.x,C.y,v.centerX,v.centerY)})}return m.length>this.maxLights&&(l(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(u,d){return u.distance>=d.distance},setAmbientColor:function(u){var d=i.getFloatsFromUintRGB(u);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,d,v,m,T){u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=16777215),T===void 0&&(T=1);var C=i.getFloatsFromUintRGB(m),S=new s(u,d,v,C[0],C[1],C[2],T);return this.lights.push(S),S},removeLight:function(u){var d=this.lights.indexOf(u);return d>=0&&n(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=h},88992:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(61356),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),c.exports=r},4703:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(39506),s=t(83997),r=t(95643),e=t(34684),n=t(92515),l=t(91296),i=t(37867),h=t(29807),u=t(43396),d=t(19186),v=t(25836),m=t(39318),T=new a({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,h],initialize:function(S,P,A,L,F,I,D,B,G,z,W,Y){P===void 0&&(P=0),A===void 0&&(A=0),L===void 0&&(L="__WHITE"),r.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new v,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var K=S.sys.renderer;this.setPosition(P,A),this.setTexture(L,F),this.setSize(K.width,K.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(K.width,K.height),I&&this.addVertices(I,D,B,G,z,W,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(v.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=v.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,S,P,A,L){return P===void 0&&(P=45),A===void 0&&(A=.01),L===void 0&&(L=1e3),this.fov=P,this.projectionMatrix.perspective(o(P),C/S,A,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,S,P,A){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),P===void 0&&(P=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-S,S,P,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,S,P,A,L,F,I,D,B){var G=this.scene.sys.cache.obj.get(C),z;return G&&(z=e(G,this,S,P,A,L,F,I,D,B)),(!z||z.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,S){return C.depth-S.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(C,S,P,A,L,F,I){var D=new m(C,S,P,A,L,F,I);return this.vertices.push(D),D},addFace:function(C,S,P){var A=new s(C,S,P);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(C,S,P,A,L,F,I){var D=n(C,S,P,A,L,F,I);return D?(this.faces=this.faces.concat(D.faces),this.vertices=this.vertices.concat(D.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,S,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var A=l(this,P).calc,L=this.faces,F=0;F<L.length;F++){var I=L[F];if(I.contains(C,S,A))return!0}return!1},getFaceAt:function(C,S,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var A=l(this,P).calc,L=this.faces,F=[],I=0;I<L.length;I++){var D=L[I];D.contains(C,S,A)&&F.push(D)}return d(F,this.sortByDepth)},setDebug:function(C,S){return this.debugGraphic=C,!C&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,S=this.modelRotation,P=this.modelScale,A=this.dirtyCache,L=C.x,F=C.y,I=C.z,D=S.x,B=S.y,G=S.z,z=P.x,W=P.y,Y=P.z,K=this.getFaceCount(),Z=A[0],V=A[1],H=A[2],N=A[3],b=A[4],X=A[5],$=A[6],Q=A[7],J=A[8],k=A[9];return A[0]=L,A[1]=F,A[2]=I,A[3]=D,A[4]=B,A[5]=G,A[6]=z,A[7]=W,A[8]=Y,A[9]=K,Z!==L||V!==F||H!==I||N!==D||b!==B||X!==G||$!==z||Q!==W||J!==Y||k!==K},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var S=this.width,P=this.height,A=this.viewMatrix,L=this.viewPosition;C[10]&&(A.identity(),A.translate(L),A.invert(),C[10]=0);var F=this.transformMatrix;F.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=L.z,D=this.faces,B=0;B<D.length;B++)D[B].transformCoordinatesLocal(F,S,P,I);this.depthSort()}},renderDebug:function(C,S){for(var P=C.debugGraphic,A=0;A<S.length;A++){var L=S[A],F=L.vertex1.tx,I=L.vertex1.ty,D=L.vertex2.tx,B=L.vertex2.ty,G=L.vertex3.tx,z=L.vertex3.ty;P.strokeTriangle(F,I,D,B,G,z)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var S=(function(P,A,L){for(var F=this.faces,I=0;I<F.length;I++){var D=F[I];if(D.contains(A,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,C,S),this},setTint:function(C){C===void 0&&(C=16777215);for(var S=this.vertices,P=0;P<S.length;P++)S[P].color=C;return this},uvScroll:function(C,S){for(var P=this.faces,A=0;A<P.length;A++)P[A].scrollUV(C,S);return this},uvScale:function(C,S){for(var P=this.faces,A=0;A<P.length;A++)P[A].scaleUV(C,S);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(C){this.modelRotation.x=o(C)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(C){this.modelRotation.y=o(C)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(C){this.modelRotation.z=o(C)}}});c.exports=T},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},20527:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(4703);p.register("mesh",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"vertices",[]),u=s(e,"uvs",[]),d=s(e,"indicies",[]),v=s(e,"containsZ",!1),m=s(e,"normals",[]),T=s(e,"colors",16777215),C=s(e,"alphas",1),S=new r(this.scene,0,0,l,i,h,u,d,v,m,T,C);return n!==void 0&&(e.add=n),a(this.scene,S,e),S})},9225:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4703),p=t(39429);p.register("mesh",function(o,s,r,e,n,l,i,h,u,d,v){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,u,d,v))})},29807:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(48833),o=t(36488),c.exports={renderWebGL:p,renderCanvas:o}},48833:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){var n=s.faces,l=n.length;if(l!==0){r.addToRenderList(s);var i=o.pipelines.set(s.pipeline,s),h=a(s,r,e).calc;o.pipelines.preBatch(s);for(var u=i.setGameObject(s),d=i.vertexViewF32,v=i.vertexViewU32,m=i.vertexCount*i.currentShader.vertexComponentCount-1,T=s.tintFill,C=[],S=s.debugCallback,P=h.a,A=h.b,L=h.c,F=h.d,I=h.e,D=h.f,B=s.viewPosition.z,G=s.hideCCW,z=r.roundPixels,W=r.alpha*s.alpha,Y=0,K=0;K<l;K++){var Z=n[K];Z.isInView(r,G,B,W,P,A,L,F,I,D,z)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(s),m=0),m=Z.load(d,v,m,u,T),Y++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,S&&C.push(Z))}s.totalFrame+=Y,S&&S.call(s,s,C),o.pipelines.postBatch(s)}};c.exports=p},28103:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(78023),r=t(39318),e=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,s],initialize:function(l,i,h,u,d,v,m,T,C,S,P){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=l.textures.getFrame(u,d);this.is3Slice=!S&&!P,A.scale9&&(this.is3Slice=A.is3Slice);for(var L=this.is3Slice?18:54,F=0;F<L;F++)this.vertices.push(new r);this.setPosition(i,h),this.setTexture(u,d),this.setSlices(v,m,T,C,S,P,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,i,h,u,d,v){i===void 0&&(i=10),h===void 0&&(h=10),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=!1);var m=this.frame,T=!1;if(this.is3Slice&&v&&u!==0&&d!==0&&(T=!0),T)console.warn("Cannot change 9 slice to 3 slice");else{if(m.scale9&&!v){var C=m.data.scale9Borders,S=C.x,P=C.y;i=S,h=m.width-C.w-S,u=P,d=m.height-C.h-P,n===void 0&&(n=m.width),l===void 0&&(l=m.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=i,this.rightWidth=h,this.topHeight=u,this.bottomHeight=d,this.is3Slice&&(l=m.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,n/u,i/d),this.updateQuadUVs(6,n/u,0,1-l/u,i/d),this.updateQuadUVs(12,1-l/u,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,n/u,1-h/d),this.updateQuadUVs(24,n/u,i/d,1-l/u,1-h/d),this.updateQuadUVs(30,1-l/u,i/d,1,1-h/d),this.updateQuadUVs(36,0,1-h/d,n/u,1),this.updateQuadUVs(42,n/u,1-h/d,1-l/u,1),this.updateQuadUVs(48,1-l/u,1-h/d,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+n/u,.5-i/d),this.updateQuad(6,-.5+n/u,.5,.5-l/u,.5-i/d),this.updateQuad(12,.5-l/u,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+n/u,-.5+h/d),this.updateQuad(24,-.5+n/u,.5-i/d,.5-l/u,-.5+h/d),this.updateQuad(30,.5-l/u,.5-i/d,.5,-.5+h/d),this.updateQuad(36,-.5,-.5+h/d,-.5+n/u,-.5),this.updateQuad(42,-.5+n/u,-.5+h/d,.5-l/u,-.5),this.updateQuad(48,.5-l/u,-.5+h/d,.5,-.5))},updateQuad:function(n,l,i,h,u){var d=this.width,v=this.height,m=this.originX,T=this.originY,C=this.vertices;C[n+0].resize(l,i,d,v,m,T),C[n+1].resize(l,u,d,v,m,T),C[n+2].resize(h,i,d,v,m,T),C[n+3].resize(l,u,d,v,m,T),C[n+4].resize(h,u,d,v,m,T),C[n+5].resize(h,i,d,v,m,T)},updateQuadUVs:function(n,l,i,h,u){var d=this.vertices,v=this.frame,m=v.u0,T=v.v0,C=v.u1,S=v.v1;if(m!==0||C!==1){var P=C-m;l=m+l*P,h=m+h*P}if(T!==0||S!==1){var A=S-T;i=T+i*A,u=T+u*A}d[n+0].setUVs(l,i),d[n+1].setUVs(l,u),d[n+2].setUVs(h,i),d[n+3].setUVs(l,u),d[n+4].setUVs(h,u),d[n+5].setUVs(h,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(28103);p.register("nineslice",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"width",256),u=s(e,"height",256),d=s(e,"leftWidth",10),v=s(e,"rightWidth",10),m=s(e,"topHeight",0),T=s(e,"bottomHeight",0),C=new r(this.scene,0,0,l,i,h,u,d,v,m,T);return n!==void 0&&(e.add=n),a(this.scene,C,e),C})},47521:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28103),p=t(39429);p.register("nineslice",function(o,s,r,e,n,l,i,h,u,d){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,u,d))})},78023:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(52230),c.exports={renderWebGL:p,renderCanvas:o}},52230:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){var l=r.vertices,i=l.length;if(i!==0){e.addToRenderList(r);var h=s.pipelines.set(r.pipeline,r),u=a(r,e,n,!1).calc;s.pipelines.preBatch(r);var d=h.setGameObject(r),v=h.vertexViewF32,m=h.vertexViewU32,T=h.vertexCount*h.currentShader.vertexComponentCount-1,C=e.roundPixels,S=r.tintFill,P=e.alpha*r.alpha,A=p.getTintAppendFloatAlpha(r.tint,P),L=h.vertexAvailable(),F=-1;L<i&&(F=L);for(var I=0;I<i;I++){var D=l[I];I===F&&(h.flush(),d=h.setGameObject(r),T=0),v[++T]=u.getXRound(D.vx,D.vy,C),v[++T]=u.getYRound(D.vx,D.vy,C),v[++T]=D.u,v[++T]=D.v,v[++T]=d,v[++T]=S,m[++T]=A,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}s.pipelines.postBatch(r)}};c.exports=o},76472:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(44777),o=t(37589),s=t(6113),r=t(91389),e=t(90664),n=new a({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,i=l,h=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=s("Linear"),this.interpolation=r("linear"),h=this.easedValueEmit,u=this.easeValueUpdate,i=l[0],this.active=!0;for(var d=0;d<l.length;d++){var v=e(l[d]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=h,this.onUpdate=u,this.current=i,this},setEase:function(l){this.easeName=l,this.ease=s(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,i,h){var u=this.ease(h),d=this.interpolation(this.r,u),v=this.interpolation(this.g,u),m=this.interpolation(this.b,u),T=o(d,v,m);return this.current=T,T}});c.exports=n},44777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(45319),o=t(83419),s=t(99472),r=t(6113),e=t(95540),n=t(91389),l=t(77720),i=t(15994),h=new o({initialize:function(d,v,m){m===void 0&&(m=!1),this.propertyKey=d,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,d){u===void 0&&(u={}),d&&(this.propertyKey=d),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var d;switch(this.method){case 1:case 3:case 8:d=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(d=u);break;case 4:var v=(this.end-this.start)/this.steps;d=l(u,v),this.counter=d;break;case 5:case 6:case 7:d=p(u,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var d=typeof u;if(d==="number")return 1;if(Array.isArray(u))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,d=u,v=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,d=u[0];break;case 3:this._onEmit=u,v=this.proxyEmit;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,v=this.steppedEmit,d=this.start;break;case 5:this.start=u.start,this.end=u.end;var T=this.has(u,"ease")?u.ease:"Linear";this.ease=r(T,u.easeParams),v=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,d=this.start;break;case 6:this.start=u.min,this.end=u.max,v=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var C=u.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),v=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,v=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=u.values;var S=this.has(u,"ease")?u.ease:"Linear";this.ease=r(S,u.easeParams),this.interpolation=n(u.interpolation),v=this.easedValueEmit,m=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=v,this.onUpdate=m,this.current=d,this},has:function(u,d){return u.hasOwnProperty(d)},hasBoth:function(u,d,v){return u.hasOwnProperty(d)&&u.hasOwnProperty(v)},hasEither:function(u,d,v){return u.hasOwnProperty(d)||u.hasOwnProperty(v)},defaultEmit:function(u,d,v){return v},defaultUpdate:function(u,d,v,m){return m},proxyEmit:function(u,d,v){var m=this._onEmit(u,d,v);return this.current=m,m},proxyUpdate:function(u,d,v,m){var T=this._onUpdate(u,d,v,m);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,d){var v=s(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=v,u.data[d].max=this.end),this.current=v,v},randomRangedIntEmit:function(u,d){var v=a(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=v,u.data[d].max=this.end),this.current=v,v},steppedEmit:function(){var u=this.counter,d=u,v=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(d+=v,d>=this.end&&(m=d-this.end,d=this.end-m,this.direction=1)):(d-=v,d<=this.start&&(m=this.start-d,d=this.start+m,this.direction=0)),this.counter=d}else this.counter=i(d+v,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,d){if(u&&u.data[d]){var v=u.data[d];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,d,v){var m=u.data[d],T,C=this.ease(v);return this.interpolation?T=this.interpolation(this.start,C):T=(m.max-m.min)*C+m.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=h},24502:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(20286),s=new a({Extends:o,initialize:function(e,n,l,i,h){if(typeof e=="object"){var u=e;e=p(u,"x",0),n=p(u,"y",0),l=p(u,"power",0),i=p(u,"epsilon",100),h=p(u,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=100),h===void 0&&(h=50);o.call(this,e,n,!0),this._gravity=h,this._power=l*h,this._epsilon=i*i},update:function(r,e){var n=this.x-r.x,l=this.y-r.y,i=n*n+l*l;if(i!==0){var h=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*h)*100;r.velocityX+=n*u,r.velocityY+=l*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});c.exports=s},56480:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(45319),o=t(83419),s=t(39506),r=t(87841),e=t(11520),n=t(26099),l=new o({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=new a(this),this.bounds=new r},emit:function(i,h,u,d,v,m){return this.emitter.emit(i,h,u,d,v,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.x=i,this.y=h},fire:function(i,h){var u=this.emitter,d=u.ops,v=u.getAnim();if(v?this.anims.play(v):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,h===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=h+d.y.onEmit(this,"y"):this.y+=h,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var m=d.speedX.onEmit(this,"speedX"),T=d.speedY.active?d.speedY.onEmit(this,"speedY"):m;if(u.radial){var C=s(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(m),this.velocityY=Math.sin(C)*Math.abs(T)}else if(u.moveTo){var S=d.moveToX.onEmit(this,"moveToX"),P=d.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(S-this.x)/A,this.velocityY=(P-this.y)/A}else this.velocityX=m,this.velocityY=T;return u.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,h,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var d=this.emitter,v=d.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=v.x.onUpdate(this,"x",m,this.x),this.y=v.y.onUpdate(this,"y",m,this.y),d.moveTo){var T=v.moveToX.onUpdate(this,"moveToX",m,d.moveToX),C=v.moveToY.onUpdate(this,"moveToY",m,d.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/S,this.velocityY=(C-this.y)/S}return this.computeVelocity(d,i,h,u,m),this.scaleX=v.scaleX.onUpdate(this,"scaleX",m,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=s(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(v.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",m,this.tint):this.tint=v.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,h,u,d,v){var m=i.ops,T=this.velocityX,C=this.velocityY,S=m.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),P=m.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),A=m.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),L=m.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",v,this.bounce),T+=i.gravityX*u+S*u,C+=i.gravityY*u+P*u,T=p(T,-A,A),C=p(C,-L,L),this.velocityX=T,this.velocityY=C,this.x+=T*u,this.y+=C*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var F=0;F<d.length;F++){var I=d[F];I.active&&I.update(this,h,u,v)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var h=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,d=this.x,v=this.y,m=this.rotation,T=this.frame.width*h/2,C=this.frame.height*u/2,S=this.bounds,P=new n(d-T,v-C),A=new n(d+T,v-C),L=new n(d-T,v+C),F=new n(d+T,v+C);return m!==0&&(e(P,d,v,m),e(A,d,v,m),e(L,d,v,m),e(F,d,v,m)),i.transformPoint(P.x,P.y,P),i.transformPoint(A.x,A.y,A),i.transformPoint(L.x,L.y,L),i.transformPoint(F.x,F.y,F),S.x=Math.min(P.x,A.x,L.x,F.x),S.y=Math.min(P.y,A.y,L.y,F.y),S.width=Math.max(P.x,A.x,L.x,F.x)-S.x,S.height=Math.max(P.y,A.y,L.y,F.y)-S.y,S},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(20286),o=t(87841),s=new a({Extends:p,initialize:function(e,n,l,i,h,u,d,v){h===void 0&&(h=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),v===void 0&&(v=!0),p.call(this,e,n,!0),this.bounds=new o(e,n,l,i),this.collideLeft=h,this.collideRight=u,this.collideTop=d,this.collideBottom=v},update:function(r){var e=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=n):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=n),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=n):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=n)}});c.exports=s},31600:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(53774),s=t(43459),r=t(26388),e=t(19909),n=t(76472),l=t(44777),i=t(20696),h=t(95643),u=t(95540),d=t(26546),v=t(24502),m=t(1985),T=t(97022),C=t(86091),S=t(73162),P=t(20074),A=t(56480),L=t(68875),F=t(87841),I=t(59996),D=t(72905),B=t(90668),G=t(19186),z=t(61340),W=t(26099),Y=t(15994),K=t(69601),Z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],H=new a({Extends:h,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,B],initialize:function(b,X,$,Q,J){h.call(this,b,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new z,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new S(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(X,$),this.setTexture(Q),J&&this.setConfig(J)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;var b=0,X="",$=this.ops;for(b=0;b<V.length;b++)X=V[b],$[X].loadConfig(N);for(b=0;b<Z.length;b++)X=Z[b],T(N,X)&&(this[X]=u(N,X));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,T(N,"speed")&&($.speedX.loadConfig(N,"speed"),$.speedY.active=!1),(m(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(N,"scale")&&($.scaleX.loadConfig(N,"scale"),$.scaleY.active=!1),T(N,"callbackScope")){var Q=u(N,"callbackScope",null);this.emitCallbackScope=Q,this.deathCallbackScope=Q}if(T(N,"emitZone")&&this.addEmitZone(N.emitZone),T(N,"deathZone")&&this.addDeathZone(N.deathZone),T(N,"bounds")){var J=this.addParticleBounds(N.bounds);J.collideLeft=u(N,"collideLeft",!0),J.collideRight=u(N,"collideRight",!0),J.collideTop=u(N,"collideTop",!0),J.collideBottom=u(N,"collideBottom",!0)}return T(N,"followOffset")&&this.followOffset.setFromObject(u(N,"followOffset",0)),T(N,"texture")&&this.setTexture(N.texture),T(N,"frame")?this.setEmitterFrame(N.frame):T(N,"anim")&&this.setAnim(N.anim),T(N,"reserve")&&this.reserve(N.reserve),T(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},toJSON:function(){var N=o(this),b=0,X="";for(b=0;b<Z.length;b++)X=Z[b],N[X]=this[X];var $=this.ops;for(b=0;b<V.length;b++)X=V[b],$[X]&&(N[X]=$[X].toJSON());return $.speedY.active||(delete N.speedX,N.speed=$.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=$.scaleX.toJSON()),N},resetCounters:function(N,b){var X=this.counters;X.fill(0),X[0]=N,b&&(X[5]=1)},startFollow:function(N,b,X,$){return b===void 0&&(b=0),X===void 0&&(X=0),$===void 0&&($=!1),this.follow=N,this.followOffset.set(b,X),this.trackVisible=$,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,b=N.length,X;return b===1?X=N[0]:this.randomFrame?X=d(N):(X=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===b&&(this.currentFrame=0))),this.texture.get(X)},setEmitterFrame:function(N,b,X){b===void 0&&(b=!0),X===void 0&&(X=1),this.randomFrame=b,this.frameQuantity=X,this.currentFrame=0;var $=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if($==="string"||$==="number")this.frames.push(N);else if($==="object"){var Q=N;N=u(Q,"frames",null),N&&(this.frames=this.frames.concat(N));var J=u(Q,"cycle",!1);this.randomFrame=!J,this.frameQuantity=u(Q,"quantity",X)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,b=N.length;if(b===0)return null;if(b===1)return N[0];if(this.randomAnim)return d(N);var X=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,b)),X},setAnim:function(N,b,X){b===void 0&&(b=!0),X===void 0&&(X=1),this.randomAnim=b,this.animQuantity=X,this.currentAnim=0;var $=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if($==="string")this.anims.push(N);else if($==="object"){var Q=N;N=u(Q,"anims",null),N&&(this.anims=this.anims.concat(N));var J=u(Q,"cycle",!1);this.randomAnim=!J,this.animQuantity=u(Q,"quantity",X)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,b,X,$,Q,J,k,et){if(typeof N=="object"){var nt=N;N=nt.x,b=nt.y,X=T(nt,"w")?nt.w:nt.width,$=T(nt,"h")?nt.h:nt.height}return this.addParticleProcessor(new K(N,b,X,$,Q,J,k,et))},setParticleSpeed:function(N,b){return b===void 0&&(b=N),this.ops.speedX.onChange(N),N===b?this.ops.speedY.active=!1:this.ops.speedY.onChange(b),this.radial=!0,this},setParticleScale:function(N,b){return N===void 0&&(N=1),b===void 0&&(b=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(b),this},setParticleGravity:function(N,b){return this.gravityX=N,this.gravityY=b,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,b){return this.frequency=N,this.flowCounter=N>0?N:0,b&&(this.quantity=b),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var b,X=[],$=0;$<N.length;$++)if(b=N[$],b instanceof r)X.push(b);else if(typeof b.contains=="function")b=new r(b,!0),X.push(b);else{var Q=u(b,"type","onEnter"),J=u(b,"source",null);if(J&&typeof J.contains=="function"){var k=Q==="onEnter";b=new r(J,k),X.push(b)}}return this.deathZones=this.deathZones.concat(X),X},removeDeathZone:function(N){return D(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var b,X=[],$=0;$<N.length;$++)if(b=N[$],b instanceof L||b instanceof e)X.push(b);else{var Q=u(b,"source",null);if(Q){var J=u(b,"type","random");if(J==="random"&&typeof Q.getRandomPoint=="function")b=new L(Q),X.push(b);else if(J==="edge"&&typeof Q.getPoints=="function"){var k=u(b,"quantity",1),et=u(b,"stepRate",0),nt=u(b,"yoyo",!1),st=u(b,"seamless",!0),ot=u(b,"total",-1);b=new e(Q,k,et,nt,st,ot),X.push(b)}}}return this.emitZones=this.emitZones.concat(X),X},removeEmitZone:function(N){return D(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var b=this.emitZones,X=b.length;if(X!==0){var $=b[this.zoneIndex];$.getPoint(N),$.total>-1&&(this.zoneTotal++,this.zoneTotal===$.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===X&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var b=this.deathZones,X=0;X<b.length;X++){var $=b[X];if($.willKill(N))return this.emit(i.DEATH_ZONE,this,N,$),!0}return!1},setEmitZone:function(N){var b;return isFinite(N)?b=N:b=this.emitZones.indexOf(N),b>=0&&(this.zoneIndex=b),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new v(N))},reserve:function(N){var b=this.dead;if(this.maxParticles>0){var X=this.getParticleCount();X+N>this.maxParticles&&(N=this.maxParticles-(X+N))}for(var $=0;$<N;$++)b.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,b){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,b&&(this.emitCallbackScope=b)),this},onParticleDeath:function(N,b){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,b&&(this.deathCallbackScope=b)),this},killAll:function(){for(var N=this.dead,b=this.alive;b.length>0;)N.push(b.pop());return this},forEachAlive:function(N,b){for(var X=this.alive,$=X.length,Q=0;Q<$;Q++)N.call(b,X[Q],this);return this},forEachDead:function(N,b){for(var X=this.dead,$=X.length,Q=0;Q<$;Q++)N.call(b,X[Q],this);return this},start:function(N,b){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),b!==void 0&&(this.duration=Math.abs(b)),this.emit(i.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,b){return N===void 0&&(N=""),b===void 0&&(b=this.true),this.sortProperty=N,this.sortOrderAsc=b,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return G(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,b){var X=this.sortProperty;return this.sortOrderAsc?N[X]-b[X]:b[X]-N[X]},flow:function(N,b,X){return b===void 0&&(b=1),this.emitting=!1,this.frequency=N,this.quantity=b,X!==void 0&&(this.stopAfter=X),this.start()},explode:function(N,b,X){this.frequency=-1,this.resetCounters(-1,!0);var $=this.emitParticle(N,b,X);return this.emit(i.EXPLODE,this,$),$},emitParticleAt:function(N,b,X){return this.emitParticle(X,N,b)},emitParticle:function(N,b,X){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var $=this.dead,Q=this.stopAfter,J=this.follow?this.follow.x+this.followOffset.x:b,k=this.follow?this.follow.y+this.followOffset.y:X,et=0;et<N;et++){var nt=$.pop();if(nt||(nt=new this.particleClass(this)),nt.fire(J,k)?(this.particleBringToTop?this.alive.push(nt):this.alive.unshift(nt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,nt,this)):this.dead.push(nt),Q>0&&(this.stopCounter++,this.stopCounter>=Q)||this.atLimit())break}return nt}},fastForward:function(N,b){b===void 0&&(b=1e3/60);var X=0;for(this.skipping=!0;X<Math.abs(N);)this.preUpdate(0,b),X+=b;return this.skipping=!1,this},preUpdate:function(N,b){b*=this.timeScale;var X=b/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var $=this.getProcessors(),Q=this.alive,J=this.dead,k=0,et=[],nt=Q.length;for(k=0;k<nt;k++){var st=Q[k];st.update(b,X,$)&&et.push({index:k,particle:st})}if(nt=et.length,nt>0){var ot=this.deathCallback,ut=this.deathCallbackScope;for(k=nt-1;k>=0;k--){var at=et[k];Q.splice(at.index,1),J.push(at.particle),ot&&ot.call(ut,at.particle),at.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Q.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=b;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=b,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var b=this.getWorldTransformMatrix(),X=this.alive,$=X.length,Q=[],J=0;J<$;J++){var k=X[J];I(N,k.getBounds(b))&&Q.push(k)}return Q},getBounds:function(N,b,X,$){N===void 0&&(N=0),b===void 0&&(b=0),X===void 0&&(X=1e3/60),$===void 0&&($=new F);var Q=this.getWorldTransformMatrix(),J,k,et=this.alive,nt=!1;if($.setTo(0,0,0,0),b>0){var st=0;for(this.skipping=!0;st<Math.abs(b);){for(this.preUpdate(0,X),J=0;J<et.length;J++)k=et[J].getBounds(Q),nt?P($,k):(nt=!0,s(k,$));st+=X}this.skipping=!1}else for(J=0;J<et.length;J++)k=et[J].getBounds(Q),nt?P($,k):(nt=!0,s(k,$));return N>0&&C($,N,N),$},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,b=this.ops;for(N=0;N<V.length;N++){var X=V[N];b[X].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=H},9871:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(59996),p=t(61340),o=new p,s=new p,r=new p,e=new p,n=function(l,i,h,u){var d=o,v=s,m=r,T=e;u?(T.loadIdentity(),T.multiply(u),T.translate(i.x,i.y),T.rotate(i.rotation),T.scale(i.scaleX,i.scaleY)):T.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var C=l.currentContext,S=h.roundPixels,P=h.alpha,A=i.alpha,L=i.alive,F=L.length,I=i.viewBounds;if(!(!i.visible||F===0||I&&!a(I,h.worldView))){i.sortCallback&&i.depthSort(),h.addToRenderList(i);var D=i.scrollFactorX,B=i.scrollFactorY;C.save(),C.globalCompositeOperation=l.blendModes[i.blendMode];for(var G=0;G<F;G++){var z=L[G],W=z.alpha*A*P;if(!(W<=0||z.scaleX===0||z.scaleY===0)){m.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),d.copyFrom(h.matrix),d.multiplyWithOffset(T,-h.scrollX*D,-h.scrollY*B),m.e=z.x,m.f=z.y,d.multiply(m,v);var Y=z.frame,K=Y.canvasData;if(K.width>0&&K.height>0){var Z=-Y.halfWidth,V=-Y.halfHeight;C.globalAlpha=W,C.save(),v.setToContext(C),S&&(Z=Math.round(Z),V=Math.round(V)),C.imageSmoothingEnabled=!Y.source.scaleMode,C.drawImage(Y.source.image,K.x,K.y,K.width,K.height,Z,V,K.width,K.height),C.restore()}}}C.restore()}};c.exports=n},92730:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(95540),r=t(31600);p.register("particles",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=s(e,"config",null),h=new r(this.scene,0,0,l);return n!==void 0&&(e.add=n),a(this.scene,h,e),i&&h.setConfig(i),h})},676:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(31600);a.register("particles",function(o,s,r,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,o,s,r,e))})},90668:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(21188),o=t(9871),c.exports={renderWebGL:p,renderCanvas:o}},21188:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(59996),p=t(61340),o=t(70554),s=new p,r=new p,e=new p,n=new p,l=function(i,h,u,d){var v=i.pipelines.set(h.pipeline),m=s,T=r,C=e,S=n;d?(S.loadIdentity(),S.multiply(d),S.translate(h.x,h.y),S.rotate(h.rotation),S.scale(h.scaleX,h.scaleY)):S.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var P=o.getTintAppendFloatAlpha,A=u.alpha,L=h.alpha;i.pipelines.preBatch(h);var F=h.alive,I=F.length,D=h.viewBounds;if(!(I===0||D&&!a(D,u.worldView))){h.sortCallback&&h.depthSort(),u.addToRenderList(h),m.copyFrom(u.matrix),m.multiplyWithOffset(S,-u.scrollX*h.scrollFactorX,-u.scrollY*h.scrollFactorY),i.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(i,h,u),i.pipelines.set(h.pipeline));for(var B=h.tintFill,G,z,W=0;W<I;W++){var Y=F[W],K=Y.alpha*L*A;if(!(K<=0||Y.scaleX===0||Y.scaleY===0)){C.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),C.e=Y.x,C.f=Y.y,m.multiply(C,T);var Z=Y.frame;Z.glTexture!==z&&(z=Z.glTexture,G=v.setGameObject(h,Z));var V=-Z.halfWidth,H=-Z.halfHeight,N=T.setQuad(V,H,V+Z.width,H+Z.height),b=P(Y.tint,K);v.shouldFlush(6)&&(v.flush(),G=v.setGameObject(h,Z)),v.batchQuad(h,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],Z.u0,Z.v0,Z.u1,Z.v1,b,b,b,b,B,z,G)}}h.mask&&h.mask.postRenderWebGL(i,u),i.pipelines.postBatch(h)}};c.exports=l},20286:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=p},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(o){var s=o.worldPosition,r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});c.exports=p},19909:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i){n===void 0&&(n=!1),l===void 0&&(l=!0),i===void 0&&(i=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],s=this.points[this.points.length-1];o.x===s.x&&o.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(o.x=s.x,o.y=s.y)}});c.exports=p},68875:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(r){this.source=r,this._tempVec=new p,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});c.exports=o},21024:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(68287),s=new a({Extends:o,Mixins:[p.PathFollower],initialize:function(e,n,l,i,h,u){o.call(this,e,l,i,h,u),this.path=n},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});c.exports=s},90145:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(1159);a.register("follower",function(o,s,r,e,n){var l=new p(this.scene,o,s,r,e,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(48803),s=t(90664),r=t(4703),e=t(45650),n=new p({Extends:r,initialize:function(i,h,u,d,v,m,T,C){d||(d="__DEFAULT"),r.call(this,i,h,u,d,v),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,T,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,i,h){l===void 0&&(l=8),i===void 0&&(i=8),h===void 0&&(h=!1);var u=!1;return h&&(u=!0),this.gridWidth=l,this.gridHeight=i,this.isTiled=h,this.clear(),o({mesh:this,widthSegments:l,heightSegments:i,isOrtho:!1,tile:h,flipY:u}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var h=this.gridWidth,u=this.gridHeight,d=this.vertices,v=i.u0,m=i.u1,T=i.v0,C=i.v1,S,P,A=0;if(this.isTiled)for(T=i.v1,C=i.v0,P=0;P<u;P++)for(S=0;S<h;S++)d[A++].setUVs(v,C),d[A++].setUVs(v,T),d[A++].setUVs(m,C),d[A++].setUVs(v,T),d[A++].setUVs(m,T),d[A++].setUVs(m,C);else{var L=h+1,F=u+1,I=m-v,D=C-T,B=[];for(P=0;P<F;P++)for(S=0;S<L;S++){var G=v+I*(S/h),z=T+D*(P/u);B.push(G,z)}for(P=0;P<u;P++)for(S=0;S<h;S++){var W=(S+L*P)*2,Y=(S+L*(P+1))*2,K=(S+1+L*(P+1))*2,Z=(S+1+L*P)*2;d[A++].setUVs(B[W],B[W+1]),d[A++].setUVs(B[Y],B[Y+1]),d[A++].setUVs(B[Z],B[Z+1]),d[A++].setUVs(B[Y],B[Y+1]),d[A++].setUVs(B[K],B[K+1]),d[A++].setUVs(B[Z],B[Z+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(l,i,h,u,d){l===void 0&&(l=16777215),i===void 0&&(i=255),h===void 0&&(h=255),u===void 0&&(u=255),d===void 0&&(d=128);for(var v=s(l),m=s(i),T=[],C=0;C<16;C++)for(var S=0;S<16;S++)C<8&&S<8||C>7&&S>7?T.push(v.r,v.g,v.b,h):T.push(m.r,m.g,m.b,u);var P=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(T),16,16);return this.removeCheckerboard(),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,i){return this.anims.play(l,i)},playReverse:function(l,i){return this.anims.playReverse(l,i)},playAfterDelay:function(l,i){return this.anims.playAfterDelay(l,i)},playAfterRepeat:function(l,i){return this.anims.playAfterRepeat(l,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,i){r.prototype.preUpdate.call(this,l,i),this.anims.update(l,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=n},56015:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(13059),o=t(44603),s=t(23568),r=t(35154),e=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var i=s(n,"key",null),h=s(n,"frame",null),u=r(n,"width",8),d=r(n,"height",8),v=r(n,"tile",!1),m=new e(this.scene,0,0,i,h,u,d,v);l!==void 0&&(n.add=l);var T=r(n,"checkerboard",null);if(T){var C=r(T,"color1",16777215),S=r(T,"color2",255),P=r(T,"alpha1",255),A=r(T,"alpha2",255),L=r(T,"height",128);m.createCheckerboard(C,S,P,A,L)}return a(this.scene,m,n),p(m,n),m})},30985:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33663),p=t(39429);p.register("plane",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},80321:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(30100),r=t(36060),e=t(67277),n=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(i,h,u,d,v,m,T){d===void 0&&(d=16777215),v===void 0&&(v=128),m===void 0&&(m=1),T===void 0&&(T=.1),o.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,u),this.color=s(d),this.intensity=m,this.attenuation=T,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=n},39829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(80321);p.register("pointlight",function(r,e){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),i=o(r,"intensity",1),h=o(r,"attenuation",.1),u=new s(this.scene,0,0,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,u,r),u})},71255:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(80321);a.register("pointlight",function(o,s,r,e,n,l){return this.displayList.add(new p(this.scene,o,s,r,e,n,l))})},67277:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(57787),c.exports={renderWebGL:p,renderCanvas:o}},57787:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){r.addToRenderList(s);var n=o.pipelines.set(s.pipeline),l=a(s,r,e).calc,i=s.width,h=s.height,u=-s._radius,d=-s._radius,v=u+i,m=d+h,T=l.getX(0,0),C=l.getY(0,0),S=l.getX(u,d),P=l.getY(u,d),A=l.getX(u,m),L=l.getY(u,m),F=l.getX(v,m),I=l.getY(v,m),D=l.getX(v,d),B=l.getY(v,d);o.pipelines.preBatch(s),n.batchPointLight(s,r,S,P,A,L,F,I,D,B,T,C),o.pipelines.postBatch(s)};c.exports=p},591:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(81320),o=t(88571),s=new a({Extends:o,initialize:function(e,n,l,i,h){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=32),h===void 0&&(h=32);var u=new p(e.sys.textures,"",i,h);o.call(this,e,n,l,u),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.texture.setSize(r,e),this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=e),this},resize:function(r,e){return this.setSize(r,e),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,n,l,i,h){return this.texture.fill(r,e,n,l,i,h),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,n,l,i){return this.texture.stamp(r,e,n,l,i),this},erase:function(r,e,n){return this.texture.erase(r,e,n),this},draw:function(r,e,n,l,i){return this.texture.draw(r,e,n,l,i),this},drawFrame:function(r,e,n,l,i,h){return this.texture.drawFrame(r,e,n,l,i,h),this},repeat:function(r,e,n,l,i,h,u,d,v){return this.texture.repeat(r,e,n,l,i,h,u,d,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,n,l,i){return this.texture.batchDraw(r,e,n,l,i),this},batchDrawFrame:function(r,e,n,l,i,h){return this.texture.batchDrawFrame(r,e,n,l,i,h),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,n,l,i,h,u){return this.texture.snapshotArea(r,e,n,l,i,h,u),this},snapshot:function(r,e,n){return this.snapshotArea(0,0,this.width,this.height,r,e,n)},snapshotPixel:function(r,e,n){return this.snapshotArea(r,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=s},34495:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(591);p.register("renderTexture",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",32),h=o(r,"height",32),u=new s(this.scene,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,u,r),u})},60505:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(591);a.register("renderTexture",function(o,s,r,e){return this.displayList.add(new p(this.scene,o,s,r,e))})},77757:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(31401),s=t(95643),r=t(36060),e=t(38745),n=t(26099),l=new p({Extends:s,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(h,u,d,v,m,T,C,S,P){v===void 0&&(v="__DEFAULT"),T===void 0&&(T=2),C===void 0&&(C=!0),s.call(this,h,"Rope"),this.anims=new a(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,m),this.setPosition(u,d),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,S,P),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){var u=this.anims.currentFrame;this.anims.update(i,h),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,h,u){return this.anims.play(i,h,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,h,u))},setVertical:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,h,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,h){var u=this.points.length;if(u<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&h===void 0&&(i=[i]);var v,m=0;if(h!==void 0)for(v=0;v<u;v++)m=v*2,d[m]=i,d[m+1]=h;else if(i.length===u)for(v=0;v<u;v++)m=v*2,d[m]=i[v],d[m+1]=i[v];else{var T=i[0];for(v=0;v<u;v++)m=v*2,i.length>m&&(T=i[m]),d[m]=T,i.length>m+1&&(T=i[m+1]),d[m+1]=T}return this},setColors:function(i){var h=this.points.length;if(h<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,v=0;if(i.length===h)for(d=0;d<h;d++)v=d*2,u[v]=i[d],u[v+1]=i[d];else{var m=i[0];for(d=0;d<h;d++)v=d*2,i.length>v&&(m=i[v]),u[v]=m,i.length>v+1&&(m=i[v+1]),u[v+1]=m}return this},setPoints:function(i,h,u){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var v,m,T;if(this.horizontal)for(T=-this.frame.halfWidth,m=this.frame.width/(d-1),v=0;v<d;v++)i.push({x:T+v*m,y:0});else for(T=-this.frame.halfHeight,m=this.frame.height/(d-1),v=0;v<d;v++)i.push({x:0,y:T+v*m})}var C=i.length,S=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(i.unshift({x:0,y:0}),C++),S!==C&&this.resizeArrays(C),this.dirty=!0,this.points=i,this.updateUVs(),h!=null&&this.setColors(h),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,h=this.points.length,u=this.frame.u0,d=this.frame.v0,v=this.frame.u1,m=this.frame.v1,T=(v-u)/(h-1),C=(m-d)/(h-1),S=0;S<h;S++){var P=S*4,A,L,F,I;this.horizontal?(this._flipX?(A=v-S*T,F=v-S*T):(A=u+S*T,F=u+S*T),this._flipY?(L=m,I=d):(L=d,I=m)):(this._flipX?(A=u,F=v):(A=v,F=u),this._flipY?(L=m-S*C,I=m-S*C):(L=d+S*C,I=d+S*C)),i[P+0]=A,i[P+1]=L,i[P+2]=F,i[P+3]=I}return this},resizeArrays:function(i){var h=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),h=new Uint32Array(i*2),u=new Float32Array(i*2);for(var d=0;d<i*2;d++)h[d]=16777215,u[d]=1;return this.colors=h,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,h=this.points,u=this.vertices,d=h.length;if(this.dirty=!1,!(d<1)){for(var v,m=h[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<d;C++){var S=h[C],P=C*4;C<d-1?v=h[C+1]:v=S,i.x=v.y-m.y,i.y=-(v.x-m.x);var A=i.length();i.x/=A,i.y/=A,i.x*=T,i.y*=T,u[P]=S.x+i.x,u[P+1]=S.y+i.y,u[P+2]=S.x-i.x,u[P+3]=S.y-i.y,m=S}return this}},setDebug:function(i,h){return this.debugGraphic=i,!i&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,h,u){var d=i.debugGraphic,v=u[0],m=u[1],T=u[2],C=u[3];d.lineBetween(v,m,T,C);for(var S=4;S<h;S+=4){var P=u[S+0],A=u[S+1],L=u[S+2],F=u[S+3];d.lineBetween(v,m,P,A),d.lineBetween(T,C,L,F),d.lineBetween(T,C,P,A),d.lineBetween(P,A,L,F),v=P,m=A,T=L,C=F}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},26209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(77757);p.register("rope",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=o(e,"horizontal",!0),u=s(e,"points",void 0),d=s(e,"colors",void 0),v=s(e,"alphas",void 0),m=new r(this.scene,0,0,l,i,u,h,d,v);return n!==void 0&&(e.add=n),a(this.scene,m,e),m})},96819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(77757),p=t(39429);p.register("rope",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))})},38745:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(20439),o=t(95262),c.exports={renderWebGL:p,renderCanvas:o}},20439:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline,r),i=a(r,e,n).calc,h=r.vertices,u=r.uv,d=r.colors,v=r.alphas,m=r.alpha,T=p.getTintAppendFloatAlpha,C=e.roundPixels,S=h.length,P=Math.floor(S*.5);l.flush(),s.pipelines.preBatch(r);var A=l.setGameObject(r),L=l.vertexViewF32,F=l.vertexViewU32,I=l.vertexCount*l.currentShader.vertexComponentCount-1,D=0,B=r.tintFill;r.dirty&&r.updateVertices();for(var G=r.debugCallback,z=[],W=0;W<S;W+=2){var Y=h[W+0],K=h[W+1],Z=Y*i.a+K*i.c+i.e,V=Y*i.b+K*i.d+i.f;C&&(Z=Math.round(Z),V=Math.round(V)),L[++I]=Z,L[++I]=V,L[++I]=u[W+0],L[++I]=u[W+1],L[++I]=A,L[++I]=B,F[++I]=T(d[D],e.alpha*(v[D]*m)),D++,G&&(z[W+0]=Z,z[W+1]=V)}G&&G.call(r,r,S,z),l.vertexCount+=P,l.currentBatch.count=l.vertexCount-l.currentBatch.start,s.pipelines.postBatch(r)};c.exports=o},20071:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(95540),r=t(79291),e=t(61622),n=t(25479),l=t(61340),i=t(95428),h=t(92503),u=new a({Extends:o,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,n],initialize:function(v,m,T,C,S,P,A,L){T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=128),P===void 0&&(P=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var F=v.sys.renderer;this.renderer=F,this.gl=F.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=F.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=F.width,this._rendererHeight=F.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(T,C),this.setSize(S,P),this.setOrigin(.5,.5),this.setShader(m,A,L),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,v){if(!this.renderToTexture){var m=this.width,T=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,m,T,0),this.framebuffer=C.createFramebuffer(m,T,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=T,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(d,v,m){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:v,textureData:m},this;if(v===void 0&&(v=[]),typeof d=="string"){var T=this.scene.sys.cache.shader;if(!T.has(d))return console.warn("Shader missing: "+d),this;this.shader=T.get(d)}else this.shader=d;var C=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var P=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height),this.program=P;var A=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var F=0;F<4;F++)v[F]&&this.setSampler2D("iChannel"+F,v[F],F,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,v,m,T){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:v,bottom:m,top:T};return}var C=-1e3,S=1e3,P=1/(d-v),A=1/(m-T),L=1/(C-S),F=this.projectionMatrix;F[0]=-2*P,F[5]=-2*A,F[10]=2*L,F[12]=(d+v)*P,F[13]=(T+m)*A,F[14]=(S+C)*L;var I=this.program,D=this.gl,B=this.renderer;B.setProgram(I),D.uniformMatrix4fv(D.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=m},initUniforms:function(){var d=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var m in this.uniforms){var T=this.uniforms[m],C=T.type,S=d[C];T.uniformLocation=this.renderer.createUniformLocation(v,m),C!=="sampler2D"&&(T.glMatrix=S.matrix,T.glValueLength=S.length,T.glFunc=S.func)}},setSampler2DBuffer:function(d,v,m,T,C,S){C===void 0&&(C=0),S===void 0&&(S={});var P=this.uniforms[d];return P.value=v,S.width=m,S.height=T,P.textureData=S,this._textureCount=C,this.initSampler2D(P),this},setSampler2D:function(d,v,m,T){m===void 0&&(m=0);var C=this.scene.sys.textures;if(C.exists(v)){var S=C.getFrame(v);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,S.glTexture,S.width,S.height,m,T);var P=this.uniforms[d],A=S.source;P.textureKey=v,P.source=A.image,P.value=S.glTexture,A.isGLTexture&&(T||(T={}),T.width=A.width,T.height=A.height),T&&(P.textureData=T),this._textureCount=m,this.initSampler2D(P)}return this},setUniform:function(d,v){return e(this.uniforms,d,v),this},getUniform:function(d){return s(this.uniforms,d,null)},setChannel0:function(d,v){return this.setSampler2D("iChannel0",d,0,v)},setChannel1:function(d,v){return this.setSampler2D("iChannel1",d,1,v)},setChannel2:function(d,v){return this.setSampler2D("iChannel2",d,2,v)},setChannel3:function(d,v){return this.setSampler2D("iChannel3",d,3,v)},initSampler2D:function(d){if(d.value){var v=d.textureData;if(v&&!d.value.isRenderTexture){var m=this.gl,T=d.value,C=m[s(v,"magFilter","linear").toUpperCase()],S=m[s(v,"minFilter","linear").toUpperCase()],P=m[s(v,"wrapS","repeat").toUpperCase()],A=m[s(v,"wrapT","repeat").toUpperCase()],L=m[s(v,"format","rgba").toUpperCase()],F=s(v,"flipY",!1),I=s(v,"width",T.width),D=s(v,"height",T.height),B=s(v,"source",T.pixels);v.repeat&&(P=m.REPEAT,A=m.REPEAT),v.width&&(B=null),T.update(B,I,D,F,P,A,S,C,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,v=this.uniforms,m,T,C,S,P,A=0;for(var L in v)m=v[L],C=m.glFunc,T=m.glValueLength,S=m.uniformLocation,P=m.value,P!==null&&(T===1?m.glMatrix?C.call(d,S.webGLUniformLocation,m.transpose,P):C.call(d,S.webGLUniformLocation,P):T===2?C.call(d,S.webGLUniformLocation,P.x,P.y):T===3?C.call(d,S.webGLUniformLocation,P.x,P.y,P.z):T===4?C.call(d,S.webGLUniformLocation,P.x,P.y,P.z,P.w):m.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+A),d.bindTexture(d.TEXTURE_2D,P.webGLTexture),d.uniform1i(S.webGLUniformLocation,A),A++))},load:function(d){var v=this.gl,m=this.width,T=this.height,C=this.renderer,S=this.program,P=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,L=-this._displayOriginY;P[0]=d[0],P[1]=d[1],P[4]=d[2],P[5]=d[3],P[8]=d[4],P[9]=d[5],P[12]=P[0]*A+P[4]*L,P[13]=P[1]*A+P[5]*L}v.useProgram(S.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,P),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var F=this.uniforms,I=F.resolution;I.value.x=m,I.value.y=T,F.time.value=C.game.loop.getDuration();var D=this.pointer;if(D){var B=F.mouse,G=D.x/m,z=1-D.y/T;B.value.x=G.toFixed(2),B.value.y=z.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,v=this.height,m=this.program,T=this.gl,C=this.vertexBuffer,S=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT)),T.bindBuffer(T.ARRAY_BUFFER,C.webGLBuffer);var A=T.getAttribLocation(m.webGLProgram,"inPosition");A!==-1&&(T.enableVertexAttribArray(A),T.vertexAttribPointer(A,2,T.FLOAT,!1,P,0));var L=this.vertexViewF32;L[3]=v,L[4]=d,L[5]=v,L[8]=d,L[9]=v,L[10]=d;var F=6;T.bufferSubData(T.ARRAY_BUFFER,0,this.bytes.subarray(0,F*P)),T.drawArrays(T.TRIANGLES,0,F),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,v=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,v,m)}if(this._deferProjOrtho!==null){var T=this._deferProjOrtho.left,C=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,P=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(T,C,S,P)}},preDestroy:function(){var d=this.renderer;d.off(h.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(v){d.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});c.exports=u},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},54935:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(20071);p.register("shader",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),i=o(r,"y",0),h=o(r,"width",128),u=o(r,"height",128),d=new s(this.scene,n,l,i,h,u);return e!==void 0&&(r.add=e),a(this.scene,d,r),d})},74177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20071),p=t(39429);p.register("shader",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},25479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(19257),o=t(80464),c.exports={renderWebGL:p,renderCanvas:o}},19257:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e){if(s.shader){if(r.addToRenderList(s),o.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var n=a(s,r,e).calc;(o.width!==s._rendererWidth||o.height!==s._rendererHeight)&&s.projOrtho(0,o.width,o.height,0),s.load(n.matrix),s.flush()}o.pipelines.rebind()}};c.exports=p},10441:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e,n,l){for(var i=a.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),h=r.pathData,u=r.pathIndexes,d=0;d<u.length;d+=3){var v=u[d]*2,m=u[d+1]*2,T=u[d+2]*2,C=h[v+0]-n,S=h[v+1]-l,P=h[m+0]-n,A=h[m+1]-l,L=h[T+0]-n,F=h[T+1]-l,I=s.getX(C,S),D=s.getY(C,S),B=s.getX(P,A),G=s.getY(P,A),z=s.getX(L,F),W=s.getY(L,F);o.batchTri(r,I,D,B,G,z,W,0,0,1,1,i,i,i,2)}};c.exports=p},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=p||a.fillColor,r=o||a.fillAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.fillStyle="rgba("+e+","+n+","+l+","+r+")"};c.exports=x},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=p||a.strokeColor,r=o||a.strokeAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.strokeStyle="rgba("+e+","+n+","+l+","+r+")",t.lineWidth=a.lineWidth};c.exports=x},17803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(95643),s=t(23031),r=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(n,l,i){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=r},34682:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e,n){var l=o.strokeTint,i=a.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);l.TL=i,l.TR=i,l.BL=i,l.BR=i;var h=s.pathData,u=h.length-1,d=s.lineWidth,v=d/2,m=h[0]-e,T=h[1]-n;s.closePath||(u-=2);for(var C=2;C<u;C+=2){var S=h[C]-e,P=h[C+1]-n;o.batchLine(m,T,S,P,v,v,d,C-2,s.closePath?C===u-1:!1),m=S,T=P}};c.exports=p},23629:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13609),p=t(83419),o=t(39506),s=t(94811),r=t(96503),e=t(36383),n=t(17803),l=new p({Extends:n,Mixins:[a],initialize:function(h,u,d,v,m,T,C,S,P){u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=0),T===void 0&&(T=360),C===void 0&&(C=!1),n.call(this,h,"Arc",new r(0,0,v)),this._startAngle=m,this._endAngle=T,this._anticlockwise=C,this._iterations=.01,this.setPosition(u,d);var A=this.geom.radius*2;this.setSize(A,A),S!==void 0&&this.setFillStyle(S,P),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var h=i*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,h){return this._startAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(i,h){return this._endAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var i=this._iterations,h=i,u=this.geom.radius,d=o(this._startAngle),v=o(this._endAngle),m=this._anticlockwise,T=u,C=u;v-=d,m?v<-e.PI2?v=-e.PI2:v>0&&(v=-e.PI2+v%e.PI2):v>e.PI2?v=e.PI2:v<0&&(v=e.PI2+v%e.PI2);for(var S=[T+Math.cos(d)*u,C+Math.sin(d)*u],P;h<1;)P=v*h+d,S.push(T+Math.cos(P)*u,C+Math.sin(P)*u),h+=i;return P=v+d,S.push(T+Math.cos(P)*u,C+Math.sin(P)*u),S.push(T+Math.cos(d)*u,C+Math.sin(d)*u),this.pathIndexes=s(S),this.pathData=S,this}});c.exports=l},42542:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39506),p=t(65960),o=t(75177),s=t(20926),r=function(e,n,l,i){l.addToRenderList(n);var h=e.currentContext;if(s(e,h,n,l,i)){var u=n.radius;h.beginPath(),h.arc(u-n.originX*(u*2),u-n.originY*(u*2),u,a(n._startAngle),a(n._endAngle),n.anticlockwise),n.closePath&&h.closePath(),n.isFilled&&(p(h,n),h.fill()),n.isStroked&&(o(h,n),h.stroke()),h.restore()}};c.exports=r},42563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23629),p=t(39429);p.register("arc",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))}),p.register("circle",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,0,360,!1,e,n))})},13609:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(41447),o=t(42542),c.exports={renderWebGL:p,renderCanvas:o}},41447:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(10441),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&p(i,u,e,m,d,v),e.isStroked&&o(i,e,m,d,v),r.pipelines.postBatch(e)};c.exports=s},89:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(33141),o=t(94811),s=t(87841),r=t(17803),e=new a({Extends:r,Mixins:[p],initialize:function(l,i,h,u,d,v){i===void 0&&(i=0),h===void 0&&(h=0),r.call(this,l,"Curve",u),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(i,h),d!==void 0&&this.setFillStyle(d,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(l),u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=e},3170:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,d=e.pathData,v=d.length-1,m=d[0]-h,T=d[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=d[C]-h,P=d[C+1]-u;i.lineTo(S,P)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},40511:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(89);a.register("curve",function(o,s,r,e,n){return this.displayList.add(new p(this.scene,o,s,r,e,n))})},33141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(53987),o=t(3170),c.exports={renderWebGL:p,renderCanvas:o}},53987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX+e._curveBounds.x,v=e._displayOriginY+e._curveBounds.y,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,d,v),e.isStroked&&o(i,e,m,d,v),r.pipelines.postBatch(e)};c.exports=s},19921:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94811),o=t(54205),s=t(8497),r=t(17803),e=new a({Extends:r,Mixins:[o],initialize:function(l,i,h,u,d,v,m){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),d===void 0&&(d=128),r.call(this,l,"Ellipse",new s(u/2,d/2,u,d)),this._smoothness=64,this.setPosition(i,h),this.width=u,this.height=d,v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),i=0;i<l.length;i++)n.push(l[i].x,l[i].y);return n.push(l[0].x,l[0].y),this.pathIndexes=p(n),this.pathData=n,this}});c.exports=e},7930:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,v=d.length-1,m=d[0]-h,T=d[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=d[C]-h,P=d[C+1]-u;i.lineTo(S,P)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},1543:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19921),p=t(39429);p.register("ellipse",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},54205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(19467),o=t(7930),c.exports={renderWebGL:p,renderCanvas:o}},19467:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,d,v),e.isStroked&&o(i,e,m,d,v),r.pipelines.postBatch(e)};c.exports=s},30479:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(17803),o=t(26015),s=new a({Extends:p,Mixins:[o],initialize:function(e,n,l,i,h,u,d,v,m,T,C){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=128),h===void 0&&(h=128),u===void 0&&(u=32),d===void 0&&(d=32),p.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(i,h),this.setFillStyle(v,m),T!==void 0&&this.setOutlineStyle(T,C),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=s},49912:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=-e._displayOriginX,u=-e._displayOriginY,d=n.alpha*e.alpha,v=e.width,m=e.height,T=e.cellWidth,C=e.cellHeight,S=Math.ceil(v/T),P=Math.ceil(m/C),A=T,L=C,F=T-(S*T-v),I=C-(P*C-m),D=e.showCells,B=e.showAltCells,G=e.showOutline,z=0,W=0,Y=0,K=0,Z=0;if(G&&(A--,L--,F===T&&F--,I===C&&I--),D&&e.fillAlpha>0)for(a(i,e),W=0;W<P;W++)for(B&&(Y=W%2),z=0;z<S;z++){if(B&&Y){Y=0;continue}Y++,K=z<S-1?A:F,Z=W<P-1?L:I,i.fillRect(h+z*T,u+W*C,K,Z)}if(B&&e.altFillAlpha>0)for(a(i,e,e.altFillColor,e.altFillAlpha*d),W=0;W<P;W++)for(B&&(Y=W%2),z=0;z<S;z++){if(B&&!Y){Y=1;continue}Y=0,K=z<S-1?A:F,Z=W<P-1?L:I,i.fillRect(h+z*T,u+W*C,K,Z)}if(G&&e.outlineFillAlpha>0){for(p(i,e,e.outlineFillColor,e.outlineFillAlpha*d),z=1;z<S;z++){var V=z*T;i.beginPath(),i.moveTo(V+h,u),i.lineTo(V+h,m+u),i.stroke()}for(W=1;W<P;W++){var H=W*C;i.beginPath(),i.moveTo(h,H+u),i.lineTo(h+v,H+u),i.stroke()}}i.restore()}};c.exports=s},34137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(30479);a.register("grid",function(o,s,r,e,n,l,i,h,u,d){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h,u,d))})},26015:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(46161),o=t(49912),c.exports={renderWebGL:p,renderCanvas:o}},46161:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc);h.translate(-r._displayOriginX,-r._displayOriginY);var u=e.alpha*r.alpha,d=r.width,v=r.height,m=r.cellWidth,T=r.cellHeight,C=Math.ceil(d/m),S=Math.ceil(v/T),P=m,A=T,L=m-(C*m-d),F=T-(S*T-v),I,D,B=r.showCells,G=r.showAltCells,z=r.showOutline,W=0,Y=0,K=0,Z=0,V=0;if(z&&(P--,A--,L===m&&L--,F===T&&F--),s.pipelines.preBatch(r),B&&r.fillAlpha>0)for(I=l.fillTint,D=p.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*u),I.TL=D,I.TR=D,I.BL=D,I.BR=D,Y=0;Y<S;Y++)for(G&&(K=Y%2),W=0;W<C;W++){if(G&&K){K=0;continue}K++,Z=W<C-1?P:L,V=Y<S-1?A:F,l.batchFillRect(W*m,Y*T,Z,V)}if(G&&r.altFillAlpha>0)for(I=l.fillTint,D=p.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*u),I.TL=D,I.TR=D,I.BL=D,I.BR=D,Y=0;Y<S;Y++)for(G&&(K=Y%2),W=0;W<C;W++){if(G&&!K){K=1;continue}K=0,Z=W<C-1?P:L,V=Y<S-1?A:F,l.batchFillRect(W*m,Y*T,Z,V)}if(z&&r.outlineFillAlpha>0){var H=l.strokeTint,N=p.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*u);for(H.TL=N,H.TR=N,H.BL=N,H.BR=N,W=1;W<C;W++){var b=W*m;l.batchLine(b,0,b,v,1,1,1,0,!1)}for(Y=1;Y<S;Y++){var X=Y*T;l.batchLine(0,X,d,X,1,1,1,0,!1)}}s.pipelines.postBatch(r)};c.exports=o},61475:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99651),p=t(83419),o=t(17803),s=new p({Extends:o,Mixins:[a],initialize:function(e,n,l,i,h,u,d,v){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=s},11508:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,u=i/2,d=i/r.projection;r.showTop&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-u,-h),l.lineTo(0,-d-h),l.lineTo(u,-h),l.lineTo(u,-1),l.lineTo(0,d-1),l.lineTo(-u,-1),l.lineTo(-u,-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),l.moveTo(-u,0),l.lineTo(0,d),l.lineTo(0,d-h),l.lineTo(-u,-h),l.lineTo(-u,0),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),l.moveTo(u,0),l.lineTo(0,d),l.lineTo(0,d-h),l.lineTo(u,-h),l.lineTo(u,0),l.fill()),l.restore()}};c.exports=o},3933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(61475);a.register("isobox",function(o,s,r,e,n,l,i){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i))})},99651:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(68149),o=t(11508),c.exports={renderWebGL:p,renderCanvas:o}},68149:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),u=r.width,d=r.height,v=u/2,m=u/r.projection,T=e.alpha*r.alpha;if(r.isFilled){var C,S,P,A,L,F,I,D,B;s.pipelines.preBatch(r),r.showTop&&(C=p.getTintAppendFloatAlpha(r.fillTop,T),S=h.getX(-v,-d),P=h.getY(-v,-d),A=h.getX(0,-m-d),L=h.getY(0,-m-d),F=h.getX(v,-d),I=h.getY(v,-d),D=h.getX(0,m-d),B=h.getY(0,m-d),l.batchQuad(r,S,P,A,L,F,I,D,B,0,0,1,1,C,C,C,C,2)),r.showLeft&&(C=p.getTintAppendFloatAlpha(r.fillLeft,T),S=h.getX(-v,0),P=h.getY(-v,0),A=h.getX(0,m),L=h.getY(0,m),F=h.getX(0,m-d),I=h.getY(0,m-d),D=h.getX(-v,-d),B=h.getY(-v,-d),l.batchQuad(r,S,P,A,L,F,I,D,B,0,0,1,1,C,C,C,C,2)),r.showRight&&(C=p.getTintAppendFloatAlpha(r.fillRight,T),S=h.getX(v,0),P=h.getY(v,0),A=h.getX(0,m),L=h.getY(0,m),F=h.getX(0,m-d),I=h.getY(0,m-d),D=h.getX(v,-d),B=h.getY(v,-d),l.batchQuad(r,S,P,A,L,F,I,D,B,0,0,1,1,C,C,C,C,2)),s.pipelines.postBatch(r)}};c.exports=o},16933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(60561),o=t(17803),s=new a({Extends:o,Mixins:[p],initialize:function(e,n,l,i,h,u,d,v,m){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=!1),d===void 0&&(d=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=s},79590:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,u=i/2,d=i/r.projection,v=r.isReversed;r.showTop&&v&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-u,-h),l.lineTo(0,-d-h),l.lineTo(u,-h),l.lineTo(0,d-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),v?(l.moveTo(-u,-h),l.lineTo(0,d),l.lineTo(0,d-h)):(l.moveTo(-u,0),l.lineTo(0,d),l.lineTo(0,d-h)),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),v?(l.moveTo(u,-h),l.lineTo(0,d),l.lineTo(0,d-h)):(l.moveTo(u,0),l.lineTo(0,d),l.lineTo(0,d-h)),l.fill()),l.restore()}};c.exports=o},49803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(16933);a.register("isotriangle",function(o,s,r,e,n,l,i,h){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h))})},60561:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(51503),o=t(79590),c.exports={renderWebGL:p,renderCanvas:o}},51503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),u=r.width,d=r.height,v=u/2,m=u/r.projection,T=r.isReversed,C=e.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var S,P,A,L,F,I,D;if(r.showTop&&T){S=p.getTintAppendFloatAlpha(r.fillTop,C),P=h.getX(-v,-d),A=h.getY(-v,-d),L=h.getX(0,-m-d),F=h.getY(0,-m-d),I=h.getX(v,-d),D=h.getY(v,-d);var B=h.getX(0,m-d),G=h.getY(0,m-d);l.batchQuad(r,P,A,L,F,I,D,B,G,0,0,1,1,S,S,S,S,2)}r.showLeft&&(S=p.getTintAppendFloatAlpha(r.fillLeft,C),T?(P=h.getX(-v,-d),A=h.getY(-v,-d),L=h.getX(0,m),F=h.getY(0,m),I=h.getX(0,m-d),D=h.getY(0,m-d)):(P=h.getX(-v,0),A=h.getY(-v,0),L=h.getX(0,m),F=h.getY(0,m),I=h.getX(0,m-d),D=h.getY(0,m-d)),l.batchTri(r,P,A,L,F,I,D,0,0,1,1,S,S,S,2)),r.showRight&&(S=p.getTintAppendFloatAlpha(r.fillRight,C),T?(P=h.getX(v,-d),A=h.getY(v,-d),L=h.getX(0,m),F=h.getY(0,m),I=h.getX(0,m-d),D=h.getY(0,m-d)):(P=h.getX(v,0),A=h.getY(v,0),L=h.getX(0,m),F=h.getY(0,m),I=h.getX(0,m-d),D=h.getY(0,m-d)),l.batchTri(r,P,A,L,F,I,D,0,0,1,1,S,S,S,2)),s.pipelines.postBatch(r)}};c.exports=o},57847:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(17803),o=t(23031),s=t(36823),r=new a({Extends:p,Mixins:[s],initialize:function(n,l,i,h,u,d,v,m,T){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=128),v===void 0&&(v=0),p.call(this,n,"Line",new o(h,u,d,v));var C=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,i),this.setSize(C,S),m!==void 0&&this.setStrokeStyle(1,m,T),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,l,i){return this.geom.setTo(e,n,l,i),this}});c.exports=r},17440:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(75177),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)){var i=r._displayOriginX,h=r._displayOriginY;r.isStroked&&(a(l,r),l.beginPath(),l.moveTo(r.geom.x1-i,r.geom.y1-h),l.lineTo(r.geom.x2-i,r.geom.y2-h),l.stroke()),l.restore()}};c.exports=o},2481:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(57847);a.register("line",function(o,s,r,e,n,l,i,h){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h))})},36823:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(77385),o=t(17440),c.exports={renderWebGL:p,renderCanvas:o}},77385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n);l.calcMatrix.copyFrom(i.calc);var h=r._displayOriginX,u=r._displayOriginY,d=e.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var v=l.strokeTint,m=p.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m,l.batchLine(r.geom.x1-h,r.geom.y1-u,r.geom.x2-h,r.geom.y2-u,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}s.pipelines.postBatch(r)};c.exports=o},24949:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90273),p=t(83419),o=t(94811),s=t(13829),r=t(25717),e=t(17803),n=t(5469),l=new p({Extends:e,Mixins:[a],initialize:function(h,u,d,v,m,T){u===void 0&&(u=0),d===void 0&&(d=0),e.call(this,h,"Polygon",new r(v));var C=s(this.geom);this.setPosition(u,d),this.setSize(C.width,C.height),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var h=0;h<i;h++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var h=s(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],h=this.geom.points,u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=l},38710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,v=d.length-1,m=d[0]-h,T=d[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=d[C]-h,P=d[C+1]-u;i.lineTo(S,P)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},64827:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(24949);a.register("polygon",function(o,s,r,e,n){return this.displayList.add(new p(this.scene,o,s,r,e,n))})},90273:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(73695),o=t(38710),c.exports={renderWebGL:p,renderCanvas:o}},73695:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,d,v),e.isStroked&&o(i,e,m,d,v),r.pipelines.postBatch(e)};c.exports=s},74561:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(87841),o=t(17803),s=t(95597),r=new a({Extends:o,Mixins:[s],initialize:function(n,l,i,h,u,d,v){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=128),u===void 0&&(u=128),o.call(this,n,"Rectangle",new p(0,0,h,u)),this.setPosition(l,i),this.setSize(h,u),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,n){this.width=e,this.height=n,this.geom.setSize(e,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=n),this},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),n.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},48682:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(a(i,e),i.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(p(i,e),i.beginPath(),i.rect(-h,-u,e.width,e.height),i.stroke()),i.restore()}};c.exports=s},87959:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(74561);a.register("rectangle",function(o,s,r,e,n,l){return this.displayList.add(new p(this.scene,o,s,r,e,n,l))})},95597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(52059),o=t(48682),c.exports={renderWebGL:p,renderCanvas:o}},52059:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(34682),o=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var m=i.fillTint,T=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T,i.batchFillRect(-u,-d,e.width,e.height)}e.isStroked&&p(i,e,v,u,d),r.pipelines.postBatch(e)};c.exports=s},55911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81991),p=t(83419),o=t(94811),s=t(17803),r=new p({Extends:s,Mixins:[a],initialize:function(n,l,i,h,u,d,v,m){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=5),u===void 0&&(u=32),d===void 0&&(d=64),s.call(this,n,"Star",null),this._points=h,this._innerRadius=u,this._outerRadius=d,this.setPosition(l,i),this.setSize(d*2,d*2),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,l=this._innerRadius,i=this._outerRadius,h=Math.PI/2*3,u=Math.PI/n,d=i,v=i;e.push(d,v+-i);for(var m=0;m<n;m++)e.push(d+Math.cos(h)*i,v+Math.sin(h)*i),h+=u,e.push(d+Math.cos(h)*l,v+Math.sin(h)*l),h+=u;return e.push(d,v+-i),this.pathIndexes=o(e),this.pathData=e,this}});c.exports=r},64272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,v=d.length-1,m=d[0]-h,T=d[1]-u;i.beginPath(),i.moveTo(m,T),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=d[C]-h,P=d[C+1]-u;i.lineTo(S,P)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},93697:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55911),p=t(39429);p.register("star",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},81991:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(57017),o=t(64272),c.exports={renderWebGL:p,renderCanvas:o}},57017:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,v=e._displayOriginY,m=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,u,e,m,d,v),e.isStroked&&o(i,e,m,d,v),r.pipelines.postBatch(e)};c.exports=s},36931:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(17803),o=t(16483),s=t(96195),r=new a({Extends:p,Mixins:[s],initialize:function(n,l,i,h,u,d,v,m,T,C,S){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),d===void 0&&(d=64),v===void 0&&(v=0),m===void 0&&(m=128),T===void 0&&(T=128),p.call(this,n,"Triangle",new o(h,u,d,v,m,T));var P=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(l,i),this.setSize(P,A),C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,l,i,h,u){return this.geom.setTo(e,n,l,i,h,u),this.updateData()},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},85172:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,u=e._displayOriginY,d=e.geom.x1-h,v=e.geom.y1-u,m=e.geom.x2-h,T=e.geom.y2-u,C=e.geom.x3-h,S=e.geom.y3-u;i.beginPath(),i.moveTo(d,v),i.lineTo(m,T),i.lineTo(C,S),i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};c.exports=s},45245:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(36931);a.register("triangle",function(o,s,r,e,n,l,i,h,u,d){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h,u,d))})},96195:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(83253),o=t(85172),c.exports={renderWebGL:p,renderCanvas:o}},83253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=t(34682),o=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var m=i.fillTint,T=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T;var C=e.geom.x1-u,S=e.geom.y1-d,P=e.geom.x2-u,A=e.geom.y2-d,L=e.geom.x3-u,F=e.geom.y3-d;i.batchFillTriangle(C,S,P,A,L,F,h.sprite,h.camera)}e.isStroked&&p(i,e,v,u,d),r.pipelines.postBatch(e)};c.exports=s},68287:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(31401),s=t(95643),r=t(92751),e=new p({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,i,h,u,d){s.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(u,d),this.setPosition(i,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};c.exports=x},15567:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(13059),o=t(44603),s=t(23568),r=t(68287);o.register("sprite",function(e,n){e===void 0&&(e={});var l=s(e,"key",null),i=s(e,"frame",null),h=new r(this.scene,0,0,l,i);return n!==void 0&&(e.add=n),a(this.scene,h,e),p(h,e),h})},46409:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(68287);a.register("sprite",function(o,s,r,e){return this.displayList.add(new p(this.scene,o,s,r,e))})},92751:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(9409),o=t(76552),c.exports={renderWebGL:p,renderCanvas:o}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p.addToRenderList(a),a.pipeline.batchSprite(a,p,o)};c.exports=x},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.canvas,s=t.context,r=t.style,e=[],n=0,l=p.length;r.maxLines>0&&r.maxLines<p.length&&(l=r.maxLines),r.syncFont(o,s);for(var i=0;i<l;i++){var h=r.strokeThickness;h+=s.measureText(p[i]).width,p[i].length>1&&(h+=t.letterSpacing*(p[i].length-1)),r.wordWrap&&(h-=s.measureText(" ").width),e[i]=Math.ceil(h),n=Math.max(n,e[i])}var u=a.fontSize+r.strokeThickness,d=u*l,v=t.lineSpacing;return l>1&&(d+=v*(l-1)),{width:n,height:d,lines:l,lineWidths:e,lineSpacing:v,lineHeight:u}};c.exports=x},79557:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=function(o){var s=a.create(this),r=s.getContext("2d",{willReadFrequently:!0});o.syncFont(s,r);var e=r.measureText(o.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return a.remove(s),{ascent:n,descent:l,fontSize:n+l}}var i=Math.ceil(e.width*o.baselineX),h=i,u=2*h;h=h*o.baselineY|0,s.width=i,s.height=u,r.fillStyle="#f00",r.fillRect(0,0,i,u),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,h);var d={ascent:0,descent:0,fontSize:0},v=r.getImageData(0,0,i,u);if(!v)return d.ascent=h,d.descent=h+6,d.fontSize=d.ascent+d.descent,a.remove(s),d;var m=v.data,T=m.length,C=i*4,S,P,A=0,L=!1;for(S=0;S<h;S++){for(P=0;P<C;P+=4)if(m[A+P]!==255){L=!0;break}if(!L)A+=C;else break}for(d.ascent=h-S,A=T-C,L=!1,S=u;S>h;S--){for(P=0;P<C;P+=4)if(m[A+P]!==255){L=!0;break}if(!L)A-=C;else break}return d.descent=S-h,d.fontSize=d.ascent+d.descent,a.remove(s),d};c.exports=p},50171:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(40366),p=t(27919),o=t(83419),s=t(31401),r=t(95643),e=t(14220),n=t(35154),l=t(35846),i=t(61771),h=t(35762),u=t(45650),d=new o({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,i],initialize:function(m,T,C,S,P){T===void 0&&(T=0),C===void 0&&(C=0),r.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(T,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new h(this,P),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),P&&P.padding&&this.setPadding(P.padding),P&&P.lineSpacing&&this.setLineSpacing(P.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var m=this.style;if(m.wordWrapCallback){var T=m.wordWrapCallback.call(m.wordWrapCallbackScope,v,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,m,T){for(var C="",S=v.replace(/ +/gi," ").split(this.splitRegExp),P=S.length,A=0;A<P;A++){var L=S[A],F="";L=L.replace(/^ *|\s*$/gi,"");var I=m.measureText(L).width;if(I<T){C+=L+`
`;continue}for(var D=T,B=L.split(" "),G=0;G<B.length;G++){var z=B[G],W=z+" ",Y=m.measureText(W).width;if(Y>D){if(G===0){for(var K=W;K.length&&(K=K.slice(0,-1),Y=m.measureText(K).width,!(Y<=D)););if(!K.length)throw new Error("wordWrapWidth < a single character");var Z=z.substr(K.length);B[G]=Z,F+=K}var V=B[G].length?G:G+1,H=B.slice(V).join(" ").replace(/[ \n]*$/gi,"");S.splice(A+1,0,H),P=S.length;break}else F+=W,D-=Y}C+=F.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(v,m,T){for(var C="",S=v.split(this.splitRegExp),P=S.length-1,A=m.measureText(" ").width,L=0;L<=P;L++){for(var F=T,I=S[L].split(" "),D=I.length-1,B=0;B<=D;B++){var G=I[B],z=m.measureText(G).width,W=z;B<D&&(W+=A),W>F&&B>0&&(C+=`
`,F=T),C+=G,B<D?(C+=" ",F-=W):F-=z}L<P&&(C+=`
`)}return C},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(v);return m.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,m){m===void 0&&(m=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var T=this._text.concat(m?`
`+v:v);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,m){return this.style.setFixedSize(v,m)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,m){return this.style.setStroke(v,m)},setShadow:function(v,m,T,C,S,P){return this.style.setShadow(v,m,T,C,S,P)},setShadowOffset:function(v,m){return this.style.setShadowOffset(v,m)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,m){return this.style.setWordWrapWidth(v,m)},setWordWrapCallback:function(v,m){return this.style.setWordWrapCallback(v,m)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,m,T,C){if(typeof v=="object"){var S=v,P=n(S,"x",null);P!==null?(v=P,T=P):(v=n(S,"left",0),T=n(S,"right",v));var A=n(S,"y",null);A!==null?(m=A,C=A):(m=n(S,"top",0),C=n(S,"bottom",m))}else v===void 0&&(v=0),m===void 0&&(m=v),T===void 0&&(T=v),C===void 0&&(C=m);return this.padding.left=v,this.padding.top=m,this.padding.right=T,this.padding.bottom=C,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var m=this.style;return m.rtl===v?this:(m.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var v=this.canvas,m=this.context,T=this.style,C=T.resolution,S=T.metrics;T.syncFont(v,m);var P=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(P=this.runWordWrap(this._text));var A=P.split(this.splitRegExp),L=e(this,S,A),F=this.padding,I;T.fixedWidth===0?(this.width=L.width+F.left+F.right,I=L.width):(this.width=T.fixedWidth,I=this.width-F.left-F.right,I<L.width&&(I=L.width)),T.fixedHeight===0?this.height=L.height+F.top+F.bottom:this.height=T.fixedHeight;var D=this.width,B=this.height;this.updateDisplayOrigin(),D*=C,B*=C,D=Math.max(D,1),B=Math.max(B,1),v.width!==D||v.height!==B?(v.width=D,v.height=B,this.frame.setSize(D,B),T.syncFont(v,m),T.rtl&&(m.direction="rtl")):m.clearRect(0,0,D,B),m.save(),m.scale(C,C),T.backgroundColor&&(m.fillStyle=T.backgroundColor,m.fillRect(0,0,D,B)),T.syncStyle(v,m),m.translate(F.left,F.top);for(var G,z,W=0;W<L.lines;W++){if(G=T.strokeThickness/2,z=T.strokeThickness/2+W*L.lineHeight+S.ascent,W>0&&(z+=L.lineSpacing*W),T.rtl)G=D-G-F.left-F.right;else if(T.align==="right")G+=I-L.lineWidths[W];else if(T.align==="center")G+=(I-L.lineWidths[W])/2;else if(T.align==="justify"){var Y=.85;if(L.lineWidths[W]/L.width>=Y){var K=L.width-L.lineWidths[W],Z=m.measureText(" ").width,V=A[W].trim(),H=V.split(" ");K+=(A[W].length-V.length)*Z;for(var N=Math.floor(K/Z),b=0;N>0;)H[b]+=" ",b=(b+1)%(H.length-1||1),--N;A[W]=H.join(" ")}}if(this.autoRound&&(G=Math.round(G),z=Math.round(z)),T.strokeThickness&&(T.syncShadow(m,T.shadowStroke),m.strokeText(A[W],G,z)),T.color){T.syncShadow(m,T.shadowFill);var X=this.letterSpacing;if(X!==0)for(var $=0,Q=A[W].split(""),J=0;J<Q.length;J++)m.fillText(Q[J],G+$,z),$+=m.measureText(Q[J]).width+X;else m.fillText(A[W],G,z)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var k=this.input;return k&&!k.customHitArea&&(k.hitArea.width=this.width,k.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=s.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=m,v},preDestroy:function(){l(this.canvas),p.remove(this.canvas);var v=this.texture;v&&v.destroy()}});c.exports=d},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.width===0||a.height===0||(p.addToRenderList(a),t.batchSprite(a,a.frame,p,o))};c.exports=x},71259:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(50171);p.register("text",function(r,e){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),i=o(r,"padding",null);i!==null&&(l.padding=i);var h=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,h,r),h.autoRound=o(r,"autoRound",!0),h.resolution=o(r,"resolution",1),h})},68005:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(50171),p=t(39429);p.register("text",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},61771:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(34397),o=t(79724),c.exports={renderWebGL:p,renderCanvas:o}},35762:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23568),o=t(35154),s=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new a({initialize:function(l,i){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,l,i){l===void 0&&(l=!0),i===void 0&&(i=!1),n&&n.hasOwnProperty("fontSize")&&typeof n.fontSize=="number"&&(n.fontSize=n.fontSize.toString()+"px");for(var h in r){var u=i?r[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=o(n,r[h][0],u):this[h]=p(n,r[h][0],u)}var d=o(n,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var m=o(n,"metrics",!1);return m?this.metrics={ascent:o(m,"ascent",0),descent:o(m,"descent",0),fontSize:o(m,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=s(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var i=n,h="",u="";if(typeof n!="string")i=o(n,"fontFamily","Courier"),h=o(n,"fontSize","16px"),u=o(n,"fontStyle","");else{var d=n.split(" "),v=0;u=d.length>2?d[v++]:"",h=d[v++]||"16px",i=d[v++]||"Courier"}return(i!==this.fontFamily||h!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=h,this.fontStyle=u,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,i,h,u,d){return n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i="#000"),h===void 0&&(h=0),u===void 0&&(u=!1),d===void 0&&(d=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=i,this.shadowBlur=h,this.shadowStroke=u,this.shadowFill=d,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var n=s.frame,l=n.width,i=n.height,h=a.getTintAppendFloatAlpha,u=o.pipelines.set(s.pipeline,s),d=u.setTexture2D(n.glTexture,s);u.batchTexture(s,n.glTexture,l,i,s.x,s.y,l/s.style.resolution,i/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,l,i,h(s.tintTopLeft,r.alpha*s._alphaTL),h(s.tintTopRight,r.alpha*s._alphaTR),h(s.tintBottomLeft,r.alpha*s._alphaBL),h(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,e,!1,d)}};c.exports=p},20839:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(83419),o=t(31401),s=t(95643),r=t(98439),e=t(68703),n=t(56295),l=t(45650),i=t(26099),h=8,u=new p({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,m,T,C,S,P,A){var L=v.sys.renderer;s.call(this,v,"TileSprite");var F=v.sys.textures.get(P),I=F.get(A);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),F=v.sys.textures.get("__MISSING"),I=F.get()),F.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),F=v.sys.textures.get("__MISSING"),I=F.get()),!C||!S?(C=I.width,S=I.height):(C=Math.floor(C),S=Math.floor(S)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=L,this.canvas=a.create(this,C,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=F,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(I.width),this.potHeight=r(I.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,T),this.setSize(C,S),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,v){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(v)},setFrame:function(d){var v=this.displayTexture.get(d);return this.potWidth=r(v.width),this.potHeight=r(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,v){return d!==void 0&&(this.tilePositionX=d),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(d,v){return d===void 0&&(d=this.tileScaleX),v===void 0&&(v=d),this.tileScaleX=d,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,m=this.fillCanvas,T=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=d.cutWidth,C=d.cutHeight),v.clearRect(0,0,T,C),m.width=T,m.height=C,v.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,T,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=v.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||e.disable(v);var m=this._tileScale.x,T=this._tileScale.y,C=this._tilePosition.x,S=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(m,T),v.translate(-C,-S),v.fillStyle=this.fillPattern,v.fillRect(C,S,this.width/m,this.height/T),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});c.exports=u},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.updateCanvas(),p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};c.exports=x},14167:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(20839);p.register("tileSprite",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",512),h=o(r,"height",512),u=o(r,"key",""),d=o(r,"frame",""),v=new s(this.scene,n,l,i,h,u,d);return e!==void 0&&(r.add=e),a(this.scene,v,r),v})},91681:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20839),p=t(39429);p.register("tileSprite",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},56295:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(18553),o=t(46992),c.exports={renderWebGL:p,renderCanvas:o}},18553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r,e){s.updateCanvas();var n=s.width,l=s.height;if(!(n===0||l===0)){r.addToRenderList(s);var i=a.getTintAppendFloatAlpha,h=o.pipelines.set(s.pipeline,s),u=h.setTexture2D(s.fillPattern,s);h.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,n,l,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*n,s.originY*l,0,0,n,l,i(s.tintTopLeft,r.alpha*s._alphaTL),i(s.tintTopRight,r.alpha*s._alphaTR),i(s.tintBottomLeft,r.alpha*s._alphaBL),i(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,e,!1,u)}};c.exports=p},18471:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(31401),s=t(51708),r=t(8443),e=t(95643),n=t(36383),l=t(14463),i=t(45650),h=t(10247),u=new p({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,h],initialize:function(v,m,T,C){e.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var S=v.sys.game;this._device=S.device.video,this.setPosition(m,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(r.PAUSE,this.globalPause,this),S.events.on(r.RESUME,this.globalResume,this);var P=v.sys.sound;P&&P.on(l.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var v=this.scene.sys.cache.video.get(d);return v?(this.cacheKey=d,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,v,m,T,C){v===void 0&&(v=!0),m===void 0&&(m=!1),this.cacheKey!==d&&(this.load(d),v&&this.play(m,T,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,v,m){v===void 0&&(v=!1);var T=this._device.getVideoURL(d);return T?(this.cacheKey="",this.loadHandler(T.url,v,m)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,v,m){return this.loadHandler(null,v,m,d)},loadHandler:function(d,v,m,T){v||(v=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),v?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),m?C.setAttribute("crossorigin",m):C.removeAttribute("crossorigin"),T)if("srcObject"in C)try{C.srcObject=T}catch(P){if(P.name!=="TypeError")throw P;C.src=URL.createObjectURL(T)}else C.src=URL.createObjectURL(T);else C.src=d;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(d,v){var m=this.video;if(m){var T=v.width,C=v.height,S=this.videoTexture,P=this.videoTextureSource,A=!S||P.source!==m;A?(this._codePaused=m.paused,this._codeMuted=m.muted,S?(P.source=m,P.width=T,P.height=C,S.get().setSize(T,C)):(S=this.scene.sys.textures.create(this._key,m,T,C),S.add("__BASE",0,0,0,T,C),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):P.update(),this.isStalled=!1,this.metadata=v;var L=v.mediaTime;A&&(this._lastUpdate=L,this.emit(s.VIDEO_CREATED,this,T,C),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=L,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,v,m){v===void 0&&(v=-1),m===void 0&&(m=n.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(d===void 0&&(d=T.loop),T.loop=d,this._markerIn=v,this._markerOut=m,this._playingMarker=v>-1&&m>v&&m<n.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var m in v)d.addEventListener(m,v[m])}},removeEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var m in v)d.removeEventListener(m,v[m])}},createPlayPromise:function(d){d===void 0&&(d=!0);var v=this.video,m=v.play();if(m!==void 0){var T=this.playSuccess.bind(this),C=this.playError.bind(this);if(!d){var S=this;C=function(){S.failedPlayAttempts++}}m.then(T).catch(C)}else v.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,v,m){return!isNaN(v)&&v>=0&&!isNaN(m)&&m>v&&(this.markers[d]=[v,m]),this},playMarker:function(d,v){var m=this.markers[d];return m&&this.play(v,m[0],m[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,v){return d===void 0&&(d=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,d,v)},snapshotArea:function(d,v,m,T,C,S){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),C===void 0&&(C=m),S===void 0&&(S=T);var P=this.video,A=this.snapshotTexture;return A?(A.setSize(C,S),P&&A.context.drawImage(P,d,v,m,T,0,0,C,S)):(A=this.scene.sys.textures.createCanvas(i(),C,S),this.snapshotTexture=A,P&&A.context.drawImage(P,d,v,m,T,0,0,C,S)),A.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var v=d.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(s.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(s.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(d,v){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m)){var T=m*d;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var v=this.video;if(v){if(typeof d=="string"){var m=d[0],T=parseFloat(d.substr(1));m==="+"?d=v.currentTime+T:m==="-"&&(d=v.currentTime-T)}v.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v))return d.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var v=this.video;return v&&(v.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,v){this._systemMuted=v;var m=this.video;m&&(m.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var v=this.video;return this._codePaused=d,v&&!v.ended&&(d?v.paused||(this.removeEventHandlers(),v.pause()):d||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=a(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(v)),this._key=d,this.flipY=v,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(r.PAUSE,this.globalPause,this),d.off(r.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=u},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.videoTexture&&(p.addToRenderList(a),t.batchSprite(a,a.frame,p,o))};c.exports=x},11511:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25305),p=t(44603),o=t(23568),s=t(18471);p.register("video",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=new s(this.scene,0,0,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},89025:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(18471),p=t(39429);p.register("video",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},10247:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(29849),o=t(58352),c.exports={renderWebGL:p,renderCanvas:o}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a.videoTexture&&(p.addToRenderList(a),a.pipeline.batchSprite(a,p,o))};c.exports=x},41481:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(96503),o=t(87902),s=t(83419),r=t(31401),e=t(95643),n=t(87841),l=t(37303),i=new s({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(u,d,v,m,T){m===void 0&&(m=1),T===void 0&&(T=m),e.call(this,u,"Zone"),this.setPosition(d,v),this.width=m,this.height=T,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,u,d){d===void 0&&(d=!0),this.width=h,this.height=u,this.updateDisplayOrigin();var v=this.input;return d&&v&&!v.customHitArea&&(v.hitArea.width=h,v.hitArea.height=u),this},setDisplaySize:function(h,u){return this.displayWidth=h,this.displayHeight=u,this},setCircleDropZone:function(h){return this.setDropZone(new p(0,0,h),o)},setRectangleDropZone:function(h,u){return this.setDropZone(new n(0,0,h,u),l)},setDropZone:function(h,u){return this.input||this.setInteractive(h,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,u,d){d.addToRenderList(u)},renderWebGL:function(h,u,d){d.addToRenderList(u)}});c.exports=i},95261:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(23568),o=t(41481);a.register("zone",function(s){var r=p(s,"x",0),e=p(s,"y",0),n=p(s,"width",1),l=p(s,"height",n);return new o(this.scene,r,e,n,l)})},84175:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41481),p=t(39429);p.register("zone",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=x},96503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(87902),o=t(26241),s=t(79124),r=t(23777),e=t(28176),n=new a({initialize:function(i,h,u){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=r.CIRCLE,this.x=i,this.y=h,this._radius=u,this._diameter=u*2},contains:function(l,i){return p(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h){return this.x=l,this.y=i,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=n},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(Math.PI*t.radius)};c.exports=x},92110:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x+o.radius*Math.cos(s),r.y=o.y+o.radius*Math.sin(s),r};c.exports=p},42250:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=function(o){return new a(o.x,o.y,o.radius)};c.exports=p},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(t.radius>0&&a>=t.left&&a<=t.right&&p>=t.top&&p<=t.bottom){var o=(t.x-a)*(t.x-a),s=(t.y-p)*(t.y-p);return o+s<=t.radius*t.radius}else return!1};c.exports=x},5698:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},70588:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};c.exports=p},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.radius)};c.exports=x},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};c.exports=x},2074:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.diameter,s.height=o.diameter,s};c.exports=p},26241:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(92110),p=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=p(n,0,o.PI2);return a(e,i,l)};c.exports=r},79124:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71562),p=t(92110),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var u=o(h/n,0,s.PI2);i.push(p(e,u))}return i};c.exports=r},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x+=a,t.y+=p,t};c.exports=x},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},28176:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,l=n*Math.cos(r),i=n*Math.sin(r);return s.x=o.x+l*o.radius,s.y=o.y+i*o.radius,s};c.exports=p},88911:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),c.exports=a},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=x},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=x},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.width/2,p=t.height/2,o=Math.pow(a-p,2)/Math.pow(a+p,2);return Math.PI*(a+p)*(1+3*o/(10+Math.sqrt(4-3*o)))};c.exports=x},79522:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.width/2,n=o.height/2;return r.x=o.x+e*Math.cos(s),r.y=o.y+n*Math.sin(s),r};c.exports=p},58102:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8497),p=function(o){return new a(o.x,o.y,o.width,o.height)};c.exports=p},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(t.width<=0||t.height<=0)return!1;var o=(a-t.x)/t.width,s=(p-t.y)/t.height;return o*=o,s*=s,o+s<.25};c.exports=x},46662:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81154),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},1632:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81154),p=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};c.exports=p},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};c.exports=x},8497:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(81154),o=t(90549),s=t(48320),r=t(23777),e=t(24820),n=new a({initialize:function(i,h,u,d){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.ELLIPSE,this.x=i,this.y=h,this.width=u,this.height=d},contains:function(l,i){return p(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h,u){return this.x=l,this.y=i,this.width=h,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},setSize:function(l,i){return i===void 0&&(i=l),this.width=l,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=n},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};c.exports=x},23694:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.width,s.height=o.height,s};c.exports=p},90549:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79522),p=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=p(n,0,o.PI2);return a(e,i,l)};c.exports=r},48320:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(92990),p=t(79522),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var u=o(h/n,0,s.PI2);i.push(p(e,u))}return i};c.exports=r},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x+=a,t.y+=p,t};c.exports=x},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},24820:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=o.x+e*Math.cos(r)*o.width/2,s.y=o.y+e*Math.sin(r)*o.height/2,s};c.exports=p},49203:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),c.exports=a},55738:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23777),p=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=p(!1,o,a),c.exports=o},2044:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20339),p=function(o,s){return a(o.x,o.y,s.x,s.y)<=o.radius+s.radius};c.exports=p},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=a.width/2,o=a.height/2,s=Math.abs(t.x-a.x-p),r=Math.abs(t.y-a.y-o),e=p+t.radius,n=o+t.radius;if(s>e||r>n)return!1;if(s<=p||r<=o)return!0;var l=s-p,i=r-o,h=l*l,u=i*i,d=t.radius*t.radius;return h+u<=d};c.exports=x},63376:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(2044),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.x,l=s.y,i=s.radius,h=r.x,u=r.y,d=r.radius,v,m,T,C,S;if(l===u)S=(d*d-i*i-h*h+n*n)/(2*(n-h)),v=1,m=-2*u,T=h*h+S*S-2*h*S+u*u-d*d,C=m*m-4*v*T,C===0?e.push(new a(S,-m/(2*v))):C>0&&(e.push(new a(S,(-m+Math.sqrt(C))/(2*v))),e.push(new a(S,(-m-Math.sqrt(C))/(2*v))));else{var P=(n-h)/(l-u),A=(d*d-i*i-h*h+n*n-u*u+l*l)/(2*(l-u));v=P*P+1,m=2*l*P-2*A*P-2*n,T=n*n+l*l+A*A-i*i-2*l*A,C=m*m-4*v*T,C===0?(S=-m/(2*v),e.push(new a(S,A-S*P))):C>0&&(S=(-m+Math.sqrt(C))/(2*v),e.push(new a(S,A-S*P)),S=(-m-Math.sqrt(C))/(2*v),e.push(new a(S,A-S*P)))}}return e};c.exports=o},97439:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4042),p=t(81491),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=r.getLineD();a(n,s,e),a(l,s,e),a(i,s,e),a(h,s,e)}return e};c.exports=o},4042:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(80462),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.x1,l=s.y1,i=s.x2,h=s.y2,u=r.x,d=r.y,v=r.radius,m=i-n,T=h-l,C=n-u,S=l-d,P=m*m+T*T,A=2*(m*C+T*S),L=C*C+S*S-v*v,F=A*A-4*P*L,I,D;if(F===0){var B=-A/(2*P);I=n+B*m,D=l+B*T,B>=0&&B<=1&&e.push(new a(I,D))}else if(F>0){var G=(-A-Math.sqrt(F))/(2*P);I=n+G*m,D=l+G*T,G>=0&&G<=1&&e.push(new a(I,D));var z=(-A+Math.sqrt(F))/(2*P);I=n+z*m,D=l+z*T,z>=0&&z<=1&&e.push(new a(I,D))}}return e};c.exports=o},36100:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),p=function(o,s,r,e){r===void 0&&(r=!1);var n=o.x1,l=o.y1,i=o.x2,h=o.y2,u=s.x1,d=s.y1,v=s.x2,m=s.y2,T=i-n,C=h-l,S=v-u,P=m-d,A=T*P-C*S;if(A===0)return null;var L,F,I;if(r){if(L=(T*(d-l)+C*(n-u))/(S*C-P*T),F=(u+S*L-n)/T,F<0||L<0||L>1)return null;I=F}else{if(L=((u-n)*P-(d-l)*S)/A,F=((l-d)*T-(n-u)*C)/A,L<0||L>1||F<0||F>1)return null;I=L}return e===void 0&&(e=new a),e.set(n+T*I,l+C*I,I)};c.exports=p},3073:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36100),p=t(23031),o=t(25836),s=new p,r=new o,e=function(n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=new o);var u=!1;h.set(),r.set();for(var d=l[l.length-1],v=0;v<l.length;v++){var m=l[v];s.setTo(d.x,d.y,m.x,m.y),d=m,a(n,s,i,r)&&(!u||r.z<h.z)&&(h.copy(r),u=!0)}return u?h:null};c.exports=e},56362:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),p=t(61369),o=t(3073),s=new a,r=function(e,n,l,i){i===void 0&&(i=new p),Array.isArray(n)||(n=[n]);var h=!1;i.set(),s.set();for(var u=0;u<n.length;u++)o(e,n[u].points,l,s)&&(!h||s.z<i.z)&&(i.set(s.x,s.y,s.z,u),h=!0);return h?i:null};c.exports=r},60646:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(76112),o=t(92773),s=function(r,e,n){if(n===void 0&&(n=[]),o(r,e))for(var l=e.getLineA(),i=e.getLineB(),h=e.getLineC(),u=e.getLineD(),d=[new a,new a,new a,new a],v=[p(l,r,d[0]),p(i,r,d[1]),p(h,r,d[2]),p(u,r,d[3])],m=0;m<4;m++)v[m]&&n.push(d[m]);return n};c.exports=s},71147:(c,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61369),p=t(56362),o=t(23031),s=new o;function r(l,i,h,u,d){var v=Math.cos(l),m=Math.sin(l);s.setTo(i,h,i+v,h+m);var T=p(s,u,!0);T&&d.push(new a(T.x,T.y,l,T.w))}function e(l,i){return l.z-i.z}var n=function(l,i,h){Array.isArray(h)||(h=[h]);for(var u=[],d=[],v=0;v<h.length;v++)for(var m=h[v].points,T=0;T<m.length;T++){var C=Math.atan2(m[T].y-i,m[T].x-l);d.indexOf(C)===-1&&(r(C,l,i,h,u),r(C-1e-5,l,i,h,u),r(C+1e-5,l,i,h,u),d.push(C))}return u.sort(e)};c.exports=n},68389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),p(s,r)&&(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y),e};c.exports=o},52784:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60646),p=t(59996),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC(),h=s.getLineD();a(n,r,e),a(l,r,e),a(i,r,e),a(h,r,e)}return e};c.exports=o},26341:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89265),p=t(60646),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();p(n,s,e),p(l,s,e),p(i,s,e)}return e};c.exports=o},38720:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(4042),p=t(67636),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();a(n,r,e),a(l,r,e),a(i,r,e)}return e};c.exports=o},13882:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(2822),o=t(76112),s=function(r,e,n){if(n===void 0&&(n=[]),p(r,e))for(var l=r.getLineA(),i=r.getLineB(),h=r.getLineC(),u=[new a,new a,new a],d=[o(l,e,u[0]),o(i,e,u[1]),o(h,e,u[2])],v=0;v<3;v++)d[v]&&n.push(u[v]);return n};c.exports=s},75636:(c,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82944),p=t(13882),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();p(s,n,e),p(s,l,e),p(s,i,e)}return e};c.exports=o},80462:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=t(2141),o=new p,s=function(r,e,n){if(n===void 0&&(n=o),a(e,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(a(e,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,i=r.y2-r.y1,h=e.x-r.x1,u=e.y-r.y1,d=l*l+i*i,v=l,m=i;if(d>0){var T=(h*l+u*i)/d;v*=T,m*=T}n.x=r.x1+v,n.y=r.y1+m;var C=v*v+m*m;return C<=d&&v*l+m*i>=0&&a(e,n.x,n.y)};c.exports=s},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.x1,s=t.y1,r=t.x2,e=t.y2,n=a.x1,l=a.y1,i=a.x2,h=a.y2;if(o===r&&s===e||n===i&&l===h)return!1;var u=(h-l)*(r-o)-(i-n)*(e-s);if(u===0)return!1;var d=((i-n)*(s-l)-(h-l)*(o-n))/u,v=((r-o)*(s-l)-(e-s)*(o-n))/u;return d<0||d>1||v<0||v>1?!1:(p&&(p.x=o+d*(r-o),p.y=s+d*(e-s)),!0)};c.exports=x},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x1,o=t.y1,s=t.x2,r=t.y2,e=a.x,n=a.y,l=a.right,i=a.bottom,h=0;if(p>=e&&p<=l&&o>=n&&o<=i||s>=e&&s<=l&&r>=n&&r<=i)return!0;if(p<e&&s>=e){if(h=o+(r-o)*(e-p)/(s-p),h>n&&h<=i)return!0}else if(p>l&&s<=l&&(h=o+(r-o)*(l-p)/(s-p),h>=n&&h<=i))return!0;if(o<n&&r>=n){if(h=p+(s-p)*(n-o)/(r-o),h>=e&&h<=l)return!0}else if(o>i&&r<=i&&(h=p+(s-p)*(i-o)/(r-o),h>=e&&h<=l))return!0;return!1};c.exports=x},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){p===void 0&&(p=1);var o=a.x1,s=a.y1,r=a.x2,e=a.y2,n=t.x,l=t.y,i=(r-o)*(r-o)+(e-s)*(e-s);if(i===0)return!1;var h=((n-o)*(r-o)+(l-s)*(e-s))/i;if(h<0)return Math.sqrt((o-n)*(o-n)+(s-l)*(s-l))<=p;if(h>=0&&h<=1){var u=((s-l)*(r-o)-(o-n)*(e-s))/i;return Math.abs(u)*Math.sqrt(i)<=p}else return Math.sqrt((r-n)*(r-n)+(e-l)*(e-l))<=p};c.exports=x},14199:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16204),p=function(o,s){if(!a(o,s))return!1;var r=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),n=Math.min(s.y1,s.y2),l=Math.max(s.y1,s.y2);return o.x>=r&&o.x<=e&&o.y>=n&&o.y<=l};c.exports=p},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};c.exports=x},89265:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(76112),p=t(37303),o=t(48653),s=t(77493),r=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var l=n.getLineA(),i=n.getLineB(),h=n.getLineC();if(p(e,l.x1,l.y1)||p(e,l.x2,l.y2)||p(e,i.x1,i.y1)||p(e,i.x2,i.y2)||p(e,h.x1,h.y1)||p(e,h.x2,h.y2))return!0;var u=e.getLineA(),d=e.getLineB(),v=e.getLineC(),m=e.getLineD();if(a(l,u)||a(l,d)||a(l,v)||a(l,m)||a(i,u)||a(i,d)||a(i,v)||a(i,m)||a(h,u)||a(h,d)||a(h,v)||a(h,m))return!0;var T=s(e),C=o(n,T,!0);return C.length>0};c.exports=r},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){return r===void 0&&(r=0),!(a>t.right+r||p<t.left-r||o>t.bottom+r||s<t.top-r)};c.exports=x},67636:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80462),p=t(10690),o=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(p(s,r.x,r.y)||a(s.getLineA(),r)||a(s.getLineB(),r)||a(s.getLineC(),r))};c.exports=o},2822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(76112),p=function(o,s){return!!(o.contains(s.x1,s.y1)||o.contains(s.x2,s.y2)||a(o.getLineA(),s)||a(o.getLineB(),s)||a(o.getLineC(),s))};c.exports=p},82944:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(48653),p=t(71694),o=t(76112),s=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=e.getLineA(),u=e.getLineB(),d=e.getLineC();if(o(n,h)||o(n,u)||o(n,d)||o(l,h)||o(l,u)||o(l,d)||o(i,h)||o(i,u)||o(i,d))return!0;var v=p(r),m=a(e,v,!0);return m.length>0||(v=p(e),m=a(r,v,!0),m.length>0)};c.exports=s},91865:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=x},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=1),p===void 0&&(p=[]);var o=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(e-s),i=o<r?1:-1,h=s<e?1:-1,u=n-l;p.push({x:o,y:s});for(var d=1;!(o===r&&s===e);){var v=u<<1;v>-l&&(u-=l,o+=i),v<n&&(u+=n,s+=h),d%a===0&&p.push({x:o,y:s}),d++}return p};c.exports=x},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=a-(t.x1+t.x2)/2,s=p-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=s,t.x2+=o,t.y2+=s,t};c.exports=x},31116:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23031),p=function(o){return new a(o.x1,o.y1,o.x2,o.y2)};c.exports=p},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=x},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};c.exports=x},78177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=function(o,s,r){r===void 0&&(r=s);var e=a(o),n=o.x2-o.x1,l=o.y2-o.y1;return s&&(o.x1=o.x1-n/e*s,o.y1=o.y1-l/e*s),r&&(o.x2=o.x2+n/e*r,o.y2=o.y2+l/e*r),o};c.exports=p},26708:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(52816),p=t(6113),o=t(2141),s=function(r,e,n,l,i){l===void 0&&(l=0),i===void 0&&(i=[]);var h=[],u=r.x1,d=r.y1,v=r.x2-u,m=r.y2-d,T=p(e,i),C,S,P=n-1;for(C=0;C<P;C++)S=T(C/P),h.push(new o(u+v*S,d+m*S));if(S=T(1),h.push(new o(u+v*S,d+m*S)),l>0){var A=h[0],L=[A];for(C=1;C<h.length-1;C++){var F=h[C];a(A,F)>=l&&(L.push(F),A=F)}var I=h[h.length-1];return a(A,I)<l&&L.pop(),L.push(I),L}else return h};c.exports=s},32125:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2)/2,s.y=(o.y1+o.y2)/2,s};c.exports=p},99569:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.x1,n=o.y1,l=o.x2,i=o.y2,h=(l-e)*(l-e)+(i-n)*(i-n);if(h===0)return r;var u=((s.x-e)*(l-e)+(s.y-n)*(i-n))/h;return r.x=e+u*(l-e),r.y=n+u*(i-n),r};c.exports=p},34638:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(91938),o=t(2141),s=function(r,e){e===void 0&&(e=new o);var n=p(r)-a.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};c.exports=s},13151:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x1+(o.x2-o.x1)*s,r.y=o.y1+(o.y2-o.y1)*s,r};c.exports=p},15258:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=a(s)/e);for(var l=s.x1,i=s.y1,h=s.x2,u=s.y2,d=0;d<r;d++){var v=d/r,m=l+(h-l)*v,T=i+(u-i)*v;n.push(new p(m,T))}return n};c.exports=o},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x1,o=t.y1,s=t.x2,r=t.y2,e=(s-p)*(s-p)+(r-o)*(r-o);if(e===0)return!1;var n=((o-a.y)*(s-p)-(p-a.x)*(r-o))/e;return Math.abs(n)*Math.sqrt(e)};c.exports=x},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.y1-t.y2)};c.exports=x},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=x},23031:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(13151),o=t(15258),s=t(23777),r=t(65822),e=t(26099),n=new a({initialize:function(i,h,u,d){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.LINE,this.x1=i,this.y1=h,this.x2=u,this.y2=d},getPoint:function(l,i){return p(this,l,i)},getPoints:function(l,i,h){return o(this,l,i,h)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,i,h,u){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.x1=l,this.y1=i,this.x2=h,this.y2=u,this},setFromObjects:function(l,i){return this.x1=l.x,this.y1=l.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=n},64795:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(15994),o=t(91938),s=function(r){var e=o(r)-a.TAU;return p(e,-Math.PI,Math.PI)};c.exports=s},52616:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(91938),o=function(s){return Math.cos(p(s)-a.TAU)};c.exports=o},87231:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(91938),o=function(s){return Math.sin(p(s)-a.TAU)};c.exports=o},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t};c.exports=x},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=x},65822:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=Math.random();return s.x=o.x1+r*(o.x2-o.x1),s.y=o.y1+r*(o.y2-o.y1),s};c.exports=p},69777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91938),p=t(64795),o=function(s,r){return 2*p(r)-Math.PI-a(s)};c.exports=o},39706:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64400),p=function(o,s){var r=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return a(o,r,e,s)};c.exports=p},82585:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64400),p=function(o,s,r){return a(o,s.x,s.y,r)};c.exports=p},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-p;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+p,e=t.x2-a,n=t.y2-p,t.x2=e*s-n*r+a,t.y2=e*r+n*s+p,t};c.exports=x},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){return t.x1=a,t.y1=p,t.x2=a+Math.cos(o)*s,t.y2=p+Math.sin(o)*s,t};c.exports=x},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=x},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.x1-t.x2)};c.exports=x},2529:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),c.exports=a},83997:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(87841),o=t(26099);function s(e,n,l,i){var h=e-l,u=n-i,d=h*h+u*u;return Math.sqrt(d)}var r=new a({initialize:function(n,l,i){this.vertex1=n,this.vertex2=l,this.vertex3=i,this.bounds=new p,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,l=this.vertex2,i=this.vertex3,h,u,d,v,m,T;e?(h=n.x,u=n.y,d=l.x,v=l.y,m=i.x,T=i.y):(h=n.vx,u=n.vy,d=l.vx,v=l.vy,m=i.vx,T=i.vy);var C=s(m,T,d,v),S=s(h,u,m,T),P=s(d,v,h,u),A=C+S+P;return this._inCenter.set((h*C+d*S+m*P)/A,(u*C+v*S+T*P)/A)},contains:function(e,n,l){var i=this.vertex1,h=this.vertex2,u=this.vertex3,d=i.vx,v=i.vy,m=h.vx,T=h.vy,C=u.vx,S=u.vy;if(l){var P=l.a,A=l.b,L=l.c,F=l.d,I=l.e,D=l.f;d=i.vx*P+i.vy*L+I,v=i.vx*A+i.vy*F+D,m=h.vx*P+h.vy*L+I,T=h.vx*A+h.vy*F+D,C=u.vx*P+u.vy*L+I,S=u.vx*A+u.vy*F+D}var B=C-d,G=S-v,z=m-d,W=T-v,Y=e-d,K=n-v,Z=B*B+G*G,V=B*z+G*W,H=B*Y+G*K,N=z*z+W*W,b=z*Y+W*K,X=Z*N-V*V,$=X===0?0:1/X,Q=(N*H-V*b)*$,J=(Z*b-V*H)*$;return Q>=0&&J>=0&&Q+J<1},isCounterClockwise:function(e){var n=this.vertex1,l=this.vertex2,i=this.vertex3,h=(l.vx-n.vx)*(i.vy-n.vy)-(l.vy-n.vy)*(i.vx-n.vx);return e<=0?h>=0:h<0},load:function(e,n,l,i,h){return l=this.vertex1.load(e,n,l,i,h),l=this.vertex2.load(e,n,l,i,h),l=this.vertex3.load(e,n,l,i,h),l},transformCoordinatesLocal:function(e,n,l,i){return this.vertex1.transformCoordinatesLocal(e,n,l,i),this.vertex2.transformCoordinatesLocal(e,n,l,i),this.vertex3.transformCoordinatesLocal(e,n,l,i),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,n.vx,l.vx),i.y=Math.min(e.vy,n.vy,l.vy),i.width=Math.max(e.vx,n.vx,l.vx)-i.x,i.height=Math.max(e.vy,n.vy,l.vy)-i.y,this},isInView:function(e,n,l,i,h,u,d,v,m,T,C){this.update(i,h,u,d,v,m,T,C);var S=this.vertex1,P=this.vertex2,A=this.vertex3;if(S.ta<=0&&P.ta<=0&&A.ta<=0||n&&!this.isCounterClockwise(l))return!1;var L=this.bounds;L.x=Math.min(S.tx,P.tx,A.tx),L.y=Math.min(S.ty,P.ty,A.ty),L.width=Math.max(S.tx,P.tx,A.tx)-L.x,L.height=Math.max(S.ty,P.ty,A.ty)-L.y;var F=e.x+e.width,I=e.y+e.height;return L.width<=0||L.height<=0||e.width<=0||e.height<=0?!1:!(L.right<e.x||L.bottom<e.y||L.x>F||L.y>I)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,l,i,h,u,d,v){return this.vertex1.update(n,l,i,h,u,d,v,e),this.vertex2.update(n,l,i,h,u,d,v,e),this.vertex3.update(n,l,i,h,u,d,v,e),this},translate:function(e,n){n===void 0&&(n=0);var l=this.vertex1,i=this.vertex2,h=this.vertex3;return l.x+=e,l.y+=n,i.x+=e,i.y+=n,h.x+=e,h.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.alpha+n.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=r},48803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),p=t(95540),o=t(37867),s=t(25836),r=t(39318),e=new s,n=new s,l=new o,i=function(h){var u=p(h,"mesh"),d=p(h,"texture",null),v=p(h,"frame"),m=p(h,"width",1),T=p(h,"height",m),C=p(h,"widthSegments",1),S=p(h,"heightSegments",C),P=p(h,"x",0),A=p(h,"y",0),L=p(h,"z",0),F=p(h,"rotateX",0),I=p(h,"rotateY",0),D=p(h,"rotateZ",0),B=p(h,"zIsUp",!0),G=p(h,"isOrtho",u?u.dirtyCache[11]:!1),z=p(h,"colors",[16777215]),W=p(h,"alphas",[1]),Y=p(h,"tile",!1),K=p(h,"flipY",!1),Z=p(h,"width",null),V={faces:[],verts:[]};e.set(P,A,L),n.set(F,I,D),l.fromRotationXYTranslation(n,e,B);var H;if(!d&&u)d=u.texture,v||(H=u.frame);else if(u&&typeof d=="string")d=u.scene.sys.textures.get(d);else if(!d)return V;H||(H=d.get(v)),!Z&&G&&d&&u&&(m=H.width/u.height,T=H.height/u.height);var N=m/2,b=T/2,X=Math.floor(C),$=Math.floor(S),Q=X+1,J=$+1,k=m/X,et=T/$,nt=[],st=[],ot,ut,at=0,ct=1,Et=0,St=1;H&&(at=H.u0,ct=H.u1,K?(Et=H.v1,St=H.v0):(Et=H.v0,St=H.v1));var Ct=ct-at,dt=St-Et;for(ut=0;ut<J;ut++){var Tt=ut*et-b;for(ot=0;ot<Q;ot++){var vt=ot*k-N;st.push(vt,-Tt);var wt=at+Ct*(ot/X),Bt=Et+dt*(ut/$);nt.push(wt,Bt)}}Array.isArray(z)||(z=[z]),Array.isArray(W)||(W=[W]);var Zt=0,Ut=0;for(ut=0;ut<$;ut++)for(ot=0;ot<X;ot++){var Ht=(ot+Q*ut)*2,Nt=(ot+Q*(ut+1))*2,oe=(ot+1+Q*(ut+1))*2,kt=(ot+1+Q*ut)*2,Te=z[Ut],Ee=W[Zt],Ue=new r(st[Ht],st[Ht+1],0,nt[Ht],nt[Ht+1],Te,Ee).transformMat4(l),Ji=new r(st[Nt],st[Nt+1],0,nt[Nt],nt[Nt+1],Te,Ee).transformMat4(l),ki=new r(st[kt],st[kt+1],0,nt[kt],nt[kt+1],Te,Ee).transformMat4(l),Cn=new r(st[Nt],st[Nt+1],0,nt[Nt],nt[Nt+1],Te,Ee).transformMat4(l),En=new r(st[oe],st[oe+1],0,nt[oe],nt[oe+1],Te,Ee).transformMat4(l),Pn=new r(st[kt],st[kt+1],0,nt[kt],nt[kt+1],Te,Ee).transformMat4(l);Y&&(Ue.setUVs(at,St),Ji.setUVs(at,Et),ki.setUVs(ct,St),Cn.setUVs(at,Et),En.setUVs(ct,Et),Pn.setUVs(ct,St)),Ut++,Ut===z.length&&(Ut=0),Zt++,Zt===W.length&&(Zt=0),V.verts.push(Ue,Ji,ki,Cn,En,Pn),V.faces.push(new a(Ue,Ji,ki),new a(Cn,En,Pn))}return u&&(u.faces=u.faces.concat(V.faces),u.vertices=u.vertices.concat(V.verts)),V};c.exports=i},34684:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),p=t(37867),o=t(25836),s=t(39318),r=new o,e=new o,n=new p,l=function(i,h,u,d,v,m,T,C,S,P){u===void 0&&(u=1),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=0),P===void 0&&(P=!0);var A={faces:[],verts:[]},L=i.materials;r.set(d,v,m),e.set(T,C,S),n.fromRotationXYTranslation(e,r,P);for(var F=0;F<i.models.length;F++)for(var I=i.models[F],D=I.vertices,B=I.textureCoords,G=I.faces,z=0;z<G.length;z++){var W=G[z],Y=W.vertices[0],K=W.vertices[1],Z=W.vertices[2],V=D[Y.vertexIndex],H=D[K.vertexIndex],N=D[Z.vertexIndex],b=Y.textureCoordsIndex,X=K.textureCoordsIndex,$=Z.textureCoordsIndex,Q=b===-1?{u:0,v:1}:B[b],J=X===-1?{u:0,v:0}:B[X],k=$===-1?{u:1,v:1}:B[$],et=16777215;W.material!==""&&L[W.material]&&(et=L[W.material]);var nt=new s(V.x*u,V.y*u,V.z*u,Q.u,Q.v,et).transformMat4(n),st=new s(H.x*u,H.y*u,H.z*u,J.u,J.v,et).transformMat4(n),ot=new s(N.x*u,N.y*u,N.z*u,k.u,k.v,et).transformMat4(n);A.verts.push(nt,st,ot),A.faces.push(new a(nt,st,ot))}return h&&(h.faces=h.faces.concat(A.faces),h.vertices=h.vertices.concat(A.verts)),A};c.exports=l},92515:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83997),p=t(39318),o=function(s,r,e,n,l,i,h,u){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),h===void 0&&(h=1),u===void 0&&(u=!1),s.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},v,m,T,C,S,P,A,L,F,I,D,B=n?3:2,G=Array.isArray(i),z=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(v=0;v<e.length;v++){var W=e[v],Y=e[v]*2,K=e[v]*B;m=s[K],T=s[K+1],C=n?s[K+2]:0,S=r[Y],P=r[Y+1],u&&(P=1-P),A=G?i[W]:i,L=z?h[W]:h,F=0,I=0,D=0,l&&(F=l[K],I=l[K+1],D=n?l[K+2]:0),d.vertices.push(new p(m,T,C,S,P,A,L,F,I,D))}else{var Z=0,V=0;for(v=0;v<s.length;v+=B)m=s[v],T=s[v+1],C=n?s[v+2]:0,S=r[Z],P=r[Z+1],A=G?i[V]:i,L=z?h[V]:h,F=0,I=0,D=0,l&&(F=l[v],I=l[v+1],D=n?l[v+2]:0),d.vertices.push(new p(m,T,C,S,P,A,L,F,I,D)),Z+=2,V++}for(v=0;v<d.vertices.length;v+=3){var H=d.vertices[v],N=d.vertices[v+1],b=d.vertices[v+2];d.faces.push(new a(H,N,b))}return d};c.exports=o},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,t="untitled",a="",p="";function o(m){var T=m.indexOf("#");return T>-1?m.substring(0,T):m}function s(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",m.models[m.models.length-1]}function r(m,T){var C=m.length>=2?m[1]:t;T.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function e(m){m.length===2&&(a=m[1])}function n(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,P=C>=3?parseFloat(m[2]):0,A=C>=4?parseFloat(m[3]):0;s(T).vertices.push({x:S,y:P,z:A})}function l(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,P=C>=3?parseFloat(m[2]):0,A=C>=4?parseFloat(m[3]):0;isNaN(S)&&(S=0),isNaN(P)&&(P=0),isNaN(A)&&(A=0),x&&(P=1-P),s(T).textureCoords.push({u:S,v:P,w:A})}function i(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,P=C>=3?parseFloat(m[2]):0,A=C>=4?parseFloat(m[3]):0;s(T).vertexNormals.push({x:S,y:P,z:A})}function h(m,T){var C=m.length-1;if(!(C<3)){for(var S={group:a,material:p,vertices:[]},P=0;P<C;P++){var A=m[P+1],L=A.split("/"),F=L.length;if(!(F<1||F>3)){var I=0,D=0,B=0;I=parseInt(L[0],10),F>1&&L[1]!==""&&(D=parseInt(L[1],10)),F>2&&(B=parseInt(L[2],10)),I!==0&&(I<0&&(I=s(T).vertices.length+1+I),D-=1,I-=1,B-=1,S.vertices.push({textureCoordsIndex:D,vertexIndex:I,vertexNormalIndex:B}))}}s(T).faces.push(S)}}function u(m,T){m.length>=2&&T.materialLibraries.push(m[1])}function d(m){m.length>=2&&(p=m[1])}var v=function(m,T){T===void 0&&(T=!0),x=T;var C={materials:{},materialLibraries:[],models:[]};a="",p="";for(var S=m.split(`
`),P=0;P<S.length;P++){var A=o(S[P]),L=A.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":r(L,C);break;case"g":e(L);break;case"v":n(L,C);break;case"vt":l(L,C);break;case"vn":i(L,C);break;case"f":h(L,C);break;case"mtllib":u(L,C);break;case"usemtl":d(L);break}}return C};c.exports=v},61485:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37589),p=function(o){for(var s={},r=o.split(`
`),e="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var i=l.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var h=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):h,d=i.length>=3?Math.floor(i[3]*255):h;s[e]=a(h,u,d);break}}}}return s};c.exports=p},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s,r;if(p===void 0&&o===void 0){var e=t.getInCenter();s=e.x,r=e.y}var n=Math.cos(a),l=Math.sin(a),i=t.vertex1,h=t.vertex2,u=t.vertex3,d=i.x-s,v=i.y-r;i.set(d*n-v*l+s,d*l+v*n+r),d=h.x-s,v=h.y-r,h.set(d*n-v*l+s,d*l+v*n+r),d=u.x-s,v=u.y-r,u.set(d*n-v*l+s,d*l+v*n+r)};c.exports=x},39318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(70554),o=t(25836),s=new a({Extends:o,initialize:function(e,n,l,i,h,u,d,v,m,T){u===void 0&&(u=16777215),d===void 0&&(d=1),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),o.call(this,e,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=m,this.nz=T,this.u=i,this.v=h,this.color=u,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=h},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,n,l){var i=this.x,h=this.y,u=this.z,d=r.val,v=i*d[0]+h*d[4]+u*d[8]+d[12],m=i*d[1]+h*d[5]+u*d[9]+d[13],T=i*d[2]+h*d[6]+u*d[10]+d[14],C=i*d[3]+h*d[7]+u*d[11]+d[15];this.vx=v/C*e,this.vy=-(m/C)*n,l<=0?this.vz=T/C:this.vz=-(T/C)},resize:function(r,e,n,l,i,h){return this.x=r,this.y=e,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),h<.5?this.vy+=l*(.5-h):h>.5&&(this.vy-=l*(h-.5)),this},update:function(r,e,n,l,i,h,u,d){var v=this.vx*r+this.vy*n+i,m=this.vx*e+this.vy*l+h;return u&&(v=Math.round(v),m=Math.round(m)),this.tx=v,this.ty=m,this.ta=this.alpha*d,this},load:function(r,e,n,l,i){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=i,e[++n]=p.getTintAppendFloatAlpha(this.color,this.ta),n}});c.exports=s},73090:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=a},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=x},99706:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o){return new a(o.x,o.y)};c.exports=p},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y)};c.exports=x},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y};c.exports=x},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=x},87555:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){if(s===void 0&&(s=new a),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=o[0].x,s.y=o[0].y;else{for(var e=0;e<r;e++)s.x+=o[e].x,s.y+=o[e].y;s.x/=r,s.y/=r}return s};c.exports=p},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=x},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x*t.x+t.y*t.y};c.exports=x},20873:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){s===void 0&&(s=new a);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,i=0;i<o.length;i++){var h=o[i];h.x>r&&(r=h.x),h.x<e&&(e=h.x),h.y>n&&(n=h.y),h.y<l&&(l=h.y)}return s.x=e,s.y=l,s.width=r-e,s.height=n-l,s};c.exports=p},26152:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r,e){return r===void 0&&(r=0),e===void 0&&(e=new a),e.x=o.x+(s.x-o.x)*r,e.y=o.y+(s.y-o.y)*r,e};c.exports=p},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(t.y,t.x)};c.exports=x},79432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.setTo(-o.x,-o.y)};c.exports=p},2141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23777),o=new a({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=p.POINT,this.x=r,this.y=e},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});c.exports=o},72930:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(44405),o=function(s,r,e){e===void 0&&(e=new a);var n=s.x*r.x+s.y*r.y,l=n/p(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};c.exports=o},62880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.x*s.x+o.y*s.y;return e!==0&&(r.x=e*s.x,r.y=e*s.y),r};c.exports=p},15093:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28793),p=function(o,s){if(o.x!==0||o.y!==0){var r=a(o);o.x/=r,o.y/=r}return o.x*=s,o.y*=s,o};c.exports=p},43711:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),c.exports=a},12306:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25717),p=function(o){return new a(o.points)};c.exports=p},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var e=t.points[s].x,n=t.points[s].y,l=t.points[r].x,i=t.points[r].y;(n<=p&&p<i||i<=p&&p<n)&&a<(l-e)*(p-n)/(i-n)+e&&(o=!o)}return o};c.exports=x},99338:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63814),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(V,H,N){N=N||2;var b=H&&H.length,X=b?H[0]*N:V.length,$=t(V,0,X,N,!0),Q=[];if(!$||$.next===$.prev)return Q;var J,k,et,nt,st,ot,ut;if(b&&($=n(V,H,$,N)),V.length>80*N){J=et=V[0],k=nt=V[1];for(var at=N;at<X;at+=N)st=V[at],ot=V[at+1],st<J&&(J=st),ot<k&&(k=ot),st>et&&(et=st),ot>nt&&(nt=ot);ut=Math.max(et-J,nt-k),ut=ut!==0?32767/ut:0}return p($,Q,N,J,k,ut,0),Q}function t(V,H,N,b,X){var $,Q;if(X===Z(V,H,N,b)>0)for($=H;$<N;$+=b)Q=W($,V[$],V[$+1],Q);else for($=N-b;$>=H;$-=b)Q=W($,V[$],V[$+1],Q);return Q&&A(Q,Q.next)&&(Y(Q),Q=Q.next),Q}function a(V,H){if(!V)return V;H||(H=V);var N=V,b;do if(b=!1,!N.steiner&&(A(N,N.next)||P(N.prev,N,N.next)===0)){if(Y(N),N=H=N.prev,N===N.next)break;b=!0}else N=N.next;while(b||N!==H);return H}function p(V,H,N,b,X,$,Q){if(V){!Q&&$&&d(V,b,X,$);for(var J=V,k,et;V.prev!==V.next;){if(k=V.prev,et=V.next,$?s(V,b,X,$):o(V)){H.push(k.i/N|0),H.push(V.i/N|0),H.push(et.i/N|0),Y(V),V=et.next,J=et.next;continue}if(V=et,V===J){Q?Q===1?(V=r(a(V),H,N),p(V,H,N,b,X,$,2)):Q===2&&e(V,H,N,b,X,$):p(a(V),H,N,b,X,$,1);break}}}}function o(V){var H=V.prev,N=V,b=V.next;if(P(H,N,b)>=0)return!1;for(var X=H.x,$=N.x,Q=b.x,J=H.y,k=N.y,et=b.y,nt=X<$?X<Q?X:Q:$<Q?$:Q,st=J<k?J<et?J:et:k<et?k:et,ot=X>$?X>Q?X:Q:$>Q?$:Q,ut=J>k?J>et?J:et:k>et?k:et,at=b.next;at!==H;){if(at.x>=nt&&at.x<=ot&&at.y>=st&&at.y<=ut&&C(X,J,$,k,Q,et,at.x,at.y)&&P(at.prev,at,at.next)>=0)return!1;at=at.next}return!0}function s(V,H,N,b){var X=V.prev,$=V,Q=V.next;if(P(X,$,Q)>=0)return!1;for(var J=X.x,k=$.x,et=Q.x,nt=X.y,st=$.y,ot=Q.y,ut=J<k?J<et?J:et:k<et?k:et,at=nt<st?nt<ot?nt:ot:st<ot?st:ot,ct=J>k?J>et?J:et:k>et?k:et,Et=nt>st?nt>ot?nt:ot:st>ot?st:ot,St=m(ut,at,H,N,b),Ct=m(ct,Et,H,N,b),dt=V.prevZ,Tt=V.nextZ;dt&&dt.z>=St&&Tt&&Tt.z<=Ct;){if(dt.x>=ut&&dt.x<=ct&&dt.y>=at&&dt.y<=Et&&dt!==X&&dt!==Q&&C(J,nt,k,st,et,ot,dt.x,dt.y)&&P(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,Tt.x>=ut&&Tt.x<=ct&&Tt.y>=at&&Tt.y<=Et&&Tt!==X&&Tt!==Q&&C(J,nt,k,st,et,ot,Tt.x,Tt.y)&&P(Tt.prev,Tt,Tt.next)>=0))return!1;Tt=Tt.nextZ}for(;dt&&dt.z>=St;){if(dt.x>=ut&&dt.x<=ct&&dt.y>=at&&dt.y<=Et&&dt!==X&&dt!==Q&&C(J,nt,k,st,et,ot,dt.x,dt.y)&&P(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;Tt&&Tt.z<=Ct;){if(Tt.x>=ut&&Tt.x<=ct&&Tt.y>=at&&Tt.y<=Et&&Tt!==X&&Tt!==Q&&C(J,nt,k,st,et,ot,Tt.x,Tt.y)&&P(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.nextZ}return!0}function r(V,H,N){var b=V;do{var X=b.prev,$=b.next.next;!A(X,$)&&L(X,b,b.next,$)&&B(X,$)&&B($,X)&&(H.push(X.i/N|0),H.push(b.i/N|0),H.push($.i/N|0),Y(b),Y(b.next),b=V=$),b=b.next}while(b!==V);return a(b)}function e(V,H,N,b,X,$){var Q=V;do{for(var J=Q.next.next;J!==Q.prev;){if(Q.i!==J.i&&S(Q,J)){var k=z(Q,J);Q=a(Q,Q.next),k=a(k,k.next),p(Q,H,N,b,X,$,0),p(k,H,N,b,X,$,0);return}J=J.next}Q=Q.next}while(Q!==V)}function n(V,H,N,b){var X=[],$,Q,J,k,et;for($=0,Q=H.length;$<Q;$++)J=H[$]*b,k=$<Q-1?H[$+1]*b:V.length,et=t(V,J,k,b,!1),et===et.next&&(et.steiner=!0),X.push(T(et));for(X.sort(l),$=0;$<X.length;$++)N=i(X[$],N);return N}function l(V,H){return V.x-H.x}function i(V,H){var N=h(V,H);if(!N)return H;var b=z(N,V);return a(b,b.next),a(N,N.next)}function h(V,H){var N=H,b=V.x,X=V.y,$=-1/0,Q;do{if(X<=N.y&&X>=N.next.y&&N.next.y!==N.y){var J=N.x+(X-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(J<=b&&J>$&&($=J,Q=N.x<N.next.x?N:N.next,J===b))return Q}N=N.next}while(N!==H);if(!Q)return null;var k=Q,et=Q.x,nt=Q.y,st=1/0,ot;N=Q;do b>=N.x&&N.x>=et&&b!==N.x&&C(X<nt?b:$,X,et,nt,X<nt?$:b,X,N.x,N.y)&&(ot=Math.abs(X-N.y)/(b-N.x),B(N,V)&&(ot<st||ot===st&&(N.x>Q.x||N.x===Q.x&&u(Q,N)))&&(Q=N,st=ot)),N=N.next;while(N!==k);return Q}function u(V,H){return P(V.prev,V,H.prev)<0&&P(H.next,V,V.next)<0}function d(V,H,N,b){var X=V;do X.z===0&&(X.z=m(X.x,X.y,H,N,b)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==V);X.prevZ.nextZ=null,X.prevZ=null,v(X)}function v(V){var H,N,b,X,$,Q,J,k,et=1;do{for(N=V,V=null,$=null,Q=0;N;){for(Q++,b=N,J=0,H=0;H<et&&(J++,b=b.nextZ,!!b);H++);for(k=et;J>0||k>0&&b;)J!==0&&(k===0||!b||N.z<=b.z)?(X=N,N=N.nextZ,J--):(X=b,b=b.nextZ,k--),$?$.nextZ=X:V=X,X.prevZ=$,$=X;N=b}$.nextZ=null,et*=2}while(Q>1);return V}function m(V,H,N,b,X){return V=(V-N)*X|0,H=(H-b)*X|0,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,V|H<<1}function T(V){var H=V,N=V;do(H.x<N.x||H.x===N.x&&H.y<N.y)&&(N=H),H=H.next;while(H!==V);return N}function C(V,H,N,b,X,$,Q,J){return(X-Q)*(H-J)>=(V-Q)*($-J)&&(V-Q)*(b-J)>=(N-Q)*(H-J)&&(N-Q)*($-J)>=(X-Q)*(b-J)}function S(V,H){return V.next.i!==H.i&&V.prev.i!==H.i&&!D(V,H)&&(B(V,H)&&B(H,V)&&G(V,H)&&(P(V.prev,V,H.prev)||P(V,H.prev,H))||A(V,H)&&P(V.prev,V,V.next)>0&&P(H.prev,H,H.next)>0)}function P(V,H,N){return(H.y-V.y)*(N.x-H.x)-(H.x-V.x)*(N.y-H.y)}function A(V,H){return V.x===H.x&&V.y===H.y}function L(V,H,N,b){var X=I(P(V,H,N)),$=I(P(V,H,b)),Q=I(P(N,b,V)),J=I(P(N,b,H));return!!(X!==$&&Q!==J||X===0&&F(V,N,H)||$===0&&F(V,b,H)||Q===0&&F(N,V,b)||J===0&&F(N,H,b))}function F(V,H,N){return H.x<=Math.max(V.x,N.x)&&H.x>=Math.min(V.x,N.x)&&H.y<=Math.max(V.y,N.y)&&H.y>=Math.min(V.y,N.y)}function I(V){return V>0?1:V<0?-1:0}function D(V,H){var N=V;do{if(N.i!==V.i&&N.next.i!==V.i&&N.i!==H.i&&N.next.i!==H.i&&L(N,N.next,V,H))return!0;N=N.next}while(N!==V);return!1}function B(V,H){return P(V.prev,V,V.next)<0?P(V,H,V.next)>=0&&P(V,V.prev,H)>=0:P(V,H,V.prev)<0||P(V,V.next,H)<0}function G(V,H){var N=V,b=!1,X=(V.x+H.x)/2,$=(V.y+H.y)/2;do N.y>$!=N.next.y>$&&N.next.y!==N.y&&X<(N.next.x-N.x)*($-N.y)/(N.next.y-N.y)+N.x&&(b=!b),N=N.next;while(N!==V);return b}function z(V,H){var N=new K(V.i,V.x,V.y),b=new K(H.i,H.x,H.y),X=V.next,$=H.prev;return V.next=H,H.prev=V,N.next=X,X.prev=N,b.next=N,N.prev=b,$.next=b,b.prev=$,b}function W(V,H,N,b){var X=new K(V,H,N);return b?(X.next=b.next,X.prev=b,b.next.prev=X,b.next=X):(X.prev=X,X.next=X),X}function Y(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}function K(V,H,N){this.i=V,this.x=H,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(V,H,N,b){var X=H&&H.length,$=X?H[0]*N:V.length,Q=Math.abs(Z(V,0,$,N));if(X)for(var J=0,k=H.length;J<k;J++){var et=H[J]*N,nt=J<k-1?H[J+1]*N:V.length;Q-=Math.abs(Z(V,et,nt,N))}var st=0;for(J=0;J<b.length;J+=3){var ot=b[J]*N,ut=b[J+1]*N,at=b[J+2]*N;st+=Math.abs((V[ot]-V[at])*(V[ut+1]-V[ot+1])-(V[ot]-V[ut])*(V[at+1]-V[ot+1]))}return Q===0&&st===0?0:Math.abs((st-Q)/Q)};function Z(V,H,N,b){for(var X=0,$=H,Q=N-b;$<N;$+=b)X+=(V[Q]-V[$])*(V[$+1]+V[Q+1]),Q=$;return X}x.flatten=function(V){for(var H=V[0][0].length,N={vertices:[],holes:[],dimensions:H},b=0,X=0;X<V.length;X++){for(var $=0;$<V[X].length;$++)for(var Q=0;Q<H;Q++)N.vertices.push(V[X][$][Q]);X>0&&(b+=V[X-1].length,N.holes.push(b))}return N},c.exports=x},13829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s){s===void 0&&(s=new a);for(var r=1/0,e=1/0,n=-r,l=-e,i,h=0;h<o.points.length;h++)i=o.points[h],r=Math.min(r,i.x),e=Math.min(e,i.y),n=Math.max(n,i.x),l=Math.max(l,i.y);return s.x=r,s.y=e,s.width=n-r,s.height=l-e,s};c.exports=p},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.points.length;p++)a.push(t.points[p].x),a.push(t.points[p].y);return a};c.exports=x},9564:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(23031),o=t(30052),s=function(r,e,n,l){l===void 0&&(l=[]);var i=r.points,h=o(r);!e&&n>0&&(e=h/n);for(var u=0;u<e;u++)for(var d=h*(u/e),v=0,m=0;m<i.length;m++){var T=i[m],C=i[(m+1)%i.length],S=new p(T.x,T.y,C.x,C.y),P=a(S);if(d<v||d>v+P){v+=P;continue}var A=S.getPoint((d-v)/P);l.push(A);break}return l};c.exports=s},30052:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(23031),o=function(s){for(var r=s.points,e=0,n=0;n<r.length;n++){var l=r[n],i=r[(n+1)%r.length],h=new p(l.x,l.y,i.x,i.y);e+=a(h)}return e};c.exports=o},25717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(63814),o=t(9564),s=t(23777),r=new a({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return p(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,l=0;l<e.length;l++)n={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(n.x=parseFloat(e[l]),n.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(n.x=e[l][0],n.y=e[l][1]):(n.x=e[l].x,n.y=e[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,l,i=0;i<this.points.length-1;i++)n=this.points[i],l=this.points[i+1],e+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],e+=(n.x-l.x)*(l.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,l){return o(this,e,n,l)}});c.exports=r},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.points.reverse(),t};c.exports=x},29524:c=>{function x(r,e){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l}function t(r,e,n){var l=e.x,i=e.y,h=n.x-l,u=n.y-i;if(h!==0||u!==0){var d=((r.x-l)*h+(r.y-i)*u)/(h*h+u*u);d>1?(l=n.x,i=n.y):d>0&&(l+=h*d,i+=u*d)}return h=r.x-l,u=r.y-i,h*h+u*u}function a(r,e){for(var n=r[0],l=[n],i,h=1,u=r.length;h<u;h++)i=r[h],x(i,n)>e&&(l.push(i),n=i);return n!==i&&l.push(i),l}function p(r,e,n,l,i){for(var h=l,u,d=e+1;d<n;d++){var v=t(r[d],r[e],r[n]);v>h&&(u=d,h=v)}h>l&&(u-e>1&&p(r,e,u,l,i),i.push(r[u]),n-u>1&&p(r,u,n,l,i))}function o(r,e){var n=r.length-1,l=[r[0]];return p(r,0,n,e,l),l.push(r[n]),l}var s=function(r,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var i=e*e;n||(l=a(l,i)),r.setTo(o(l,i))}return r};c.exports=s},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(a,p){return a[0]=p[0],a[1]=p[1],a},t=function(a){var p,o=[],s=a.points;for(p=0;p<s.length;p++)o.push([s[p].x,s[p].y]);var r=[];for(o.length>0&&r.push(x([0,0],o[0])),p=0;p<o.length-1;p++){var e=o[p],n=o[p+1],l=e[0],i=e[1],h=n[0],u=n[1];r.push([.85*l+.15*h,.85*i+.15*u]),r.push([.15*l+.85*h,.15*i+.85*u])}return o.length>1&&r.push(x([0,0],o[o.length-1])),a.setTo(r)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){for(var o=t.points,s=0;s<o.length;s++)o[s].x+=a,o[s].y+=p;return t};c.exports=x},58423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),c.exports=a},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.height};c.exports=x},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=x},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=x},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x=a-t.width/2,t.y=p-t.height/2,t};c.exports=x},65085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o){return new a(o.x,o.y,o.width,o.height)};c.exports=p},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=p&&t.y+t.height>=p};c.exports=x},96553:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37303),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};c.exports=x},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};c.exports=x},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};c.exports=x},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};c.exports=x},53751:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8249),p=function(o,s){var r=a(o);return r<a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};c.exports=p},16088:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(8249),p=function(o,s){var r=a(o);return r>a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};c.exports=p},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=x},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=x},19217:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(36383),o=function(s,r){if(r===void 0&&(r=new a),s.length===0)return r;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,h,u,d,v=0;v<s.length;v++)h=s[v],Array.isArray(h)?(u=h[0],d=h[1]):(u=h.x,d=h.y),e=Math.min(e,u),n=Math.min(n,d),l=Math.max(l,u),i=Math.max(i,d);return r.x=e,r.y=n,r.width=l-e,r.height=i-n,r};c.exports=o},9477:(c,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s,r,e,n){return n===void 0&&(n=new a),n.setTo(Math.min(o,r),Math.min(s,e),Math.abs(o-r),Math.abs(s-e))};c.exports=p},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height===0?NaN:t.width/t.height};c.exports=x},27165:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.centerX,s.y=o.centerY,s};c.exports=p},20812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13019),p=t(2141),o=function(s,r,e){if(e===void 0&&(e=new p),r<=0||r>=1)return e.x=s.x,e.y=s.y,e;var n=a(s)*r;return r>.5?(n-=s.width+s.height,n<=s.width?(e.x=s.right-n,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(n-s.width))):n<=s.width?(e.x=s.x+n,e.y=s.y):(e.x=s.right,e.y=s.y+(n-s.width)),e};c.exports=o},34819:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20812),p=t(13019),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=p(s)/e);for(var l=0;l<r;l++){var i=l/r;n.push(a(s,i))}return n};c.exports=o},51313:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.width,s.y=o.height,s};c.exports=p},86091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(67502),p=function(o,s,r){var e=o.centerX,n=o.centerY;return o.setSize(o.width+s*2,o.height+r*2),a(o,e,n)};c.exports=p},53951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),p(s,r)?(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y):e.setEmpty(),e};c.exports=o},14649:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13019),p=t(2141),o=function(s,r,e,n){if(n===void 0&&(n=[]),!r&&!e)return n;r?e=Math.round(a(s)/r):r=a(s)/e;for(var l=s.x,i=s.y,h=0,u=0;u<e;u++)switch(n.push(new p(l,i)),h){case 0:l+=r,l>=s.right&&(h=1,i+=l-s.right,l=s.right);break;case 1:i+=r,i>=s.bottom&&(h=2,l-=i-s.bottom,i=s.bottom);break;case 2:l-=r,l<=s.left&&(h=3,i-=s.left-l,l=s.left);break;case 3:i-=r,i<=s.top&&(h=0,i=s.top);break}return n};c.exports=o},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=t.x,o=t.right,s=t.y,r=t.bottom,e=0;e<a.length;e++)p=Math.min(p,a[e].x),o=Math.max(o,a[e].x),s=Math.min(s,a[e].y),r=Math.max(r,a[e].y);return t.x=p,t.y=s,t.width=o-p,t.height=r-s,t};c.exports=x},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=Math.min(t.x,a.x),o=Math.max(t.right,a.right);t.x=p,t.width=o-p;var s=Math.min(t.y,a.y),r=Math.max(t.bottom,a.bottom);return t.y=s,t.height=r-s,t};c.exports=x},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=Math.min(t.x,a),s=Math.max(t.right,a);t.x=o,t.width=s-o;var r=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=r,t.height=e-r,t};c.exports=x},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x+=a,t.y+=p,t};c.exports=x},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x+=a.x,t.y+=a.y,t};c.exports=x},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};c.exports=x},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(t.width+t.height)};c.exports=x},85133:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(39506),o=function(s,r,e){e===void 0&&(e=new a),r=p(r);var n=Math.sin(r),l=Math.cos(r),i=l>0?s.width/2:s.width/-2,h=n>0?s.height/2:s.height/-2;return Math.abs(i*n)<Math.abs(h*l)?h=i*n/l:i=h*l/n,e.x=i+s.centerX,e.y=h+s.centerY,e};c.exports=o},26597:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.x+Math.random()*o.width,s.y=o.y+Math.random()*o.height,s};c.exports=p},86470:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(70273),o=t(2141),s=function(r,e,n){if(n===void 0&&(n=new o),p(r,e))switch(a(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y);break}return n};c.exports=s},87841:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37303),o=t(20812),s=t(34819),r=t(23777),e=t(23031),n=t(26597),l=new a({initialize:function(h,u,d,v){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=r.RECTANGLE,this.x=h,this.y=u,this.width=d,this.height=v},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,u){return s(this,i,h,u)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,u,d){return this.x=i,this.y=h,this.width=u,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,h){return h===void 0&&(h=i),this.x=i,this.y=h,this},setSize:function(i,h){return h===void 0&&(h=i),this.width=i,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.width===a.width&&t.height===a.height};c.exports=x},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=a),t.width*=a,t.height*=p,t};c.exports=x},36899:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=function(o,s,r){r===void 0&&(r=new a);var e=Math.min(o.x,s.x),n=Math.min(o.y,s.y),l=Math.max(o.right,s.right)-e,i=Math.max(o.bottom,s.bottom)-n;return r.setTo(e,n,l,i)};c.exports=p},93232:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),c.exports=a},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.x1,p=t.y1,o=t.x2,s=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-a)*(s-p)-(o-a)*(e-p))/2)};c.exports=x},39208:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),p=function(o,s,r){var e=r*(Math.sqrt(3)/2),n=o,l=s,i=o+r/2,h=s+e,u=o-r/2,d=s+e;return new a(n,l,i,h,u,d)};c.exports=p},39545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(94811),p=t(16483),o=function(s,r,e,n,l){r===void 0&&(r=null),e===void 0&&(e=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var i=a(s,r),h,u,d,v,m,T,C,S,P,A=0;A<i.length;A+=3)h=i[A],u=i[A+1],d=i[A+2],v=s[h*2]*e,m=s[h*2+1]*n,T=s[u*2]*e,C=s[u*2+1]*n,S=s[d*2]*e,P=s[d*2+1]*n,l.push(new p(v,m,T,C,S,P));return l};c.exports=o},90301:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),p=function(o,s,r,e){e===void 0&&(e=r);var n=o,l=s,i=o,h=s-e,u=o+r,d=s;return new a(n,l,i,h,u,d)};c.exports=p},23707:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97523),p=t(13584),o=function(s,r,e,n){n===void 0&&(n=a);var l=n(s),i=r-l.x,h=e-l.y;return p(s,i,h)};c.exports=o},97523:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2+o.x3)/3,s.y=(o.y1+o.y2+o.y3)/3,s};c.exports=p},24951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099);function p(s,r,e,n){return s*n-r*e}var o=function(s,r){r===void 0&&(r=new a);var e=s.x3,n=s.y3,l=s.x1-e,i=s.y1-n,h=s.x2-e,u=s.y2-n,d=2*p(l,i,h,u),v=p(i,l*l+i*i,u,h*h+u*u),m=p(l,l*l+i*i,h,h*h+u*u);return r.x=e-v/d,r.y=n+m/d,r};c.exports=o},85614:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=function(o,s){s===void 0&&(s=new a);var r=o.x1,e=o.y1,n=o.x2,l=o.y2,i=o.x3,h=o.y3,u=n-r,d=l-e,v=i-r,m=h-e,T=u*(r+n)+d*(e+l),C=v*(r+i)+m*(e+h),S=2*(u*(h-l)-d*(i-n)),P,A;if(Math.abs(S)<1e-6){var L=Math.min(r,n,i),F=Math.min(e,l,h);P=(Math.max(r,n,i)-L)*.5,A=(Math.max(e,l,h)-F)*.5,s.x=L+P,s.y=F+A,s.radius=Math.sqrt(P*P+A*A)}else s.x=(m*T-d*C)/S,s.y=(u*C-v*T)/S,P=s.x-r,A=s.y-e,s.radius=Math.sqrt(P*P+A*A);return s};c.exports=p},74422:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483),p=function(o){return new a(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};c.exports=p},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,n=a-t.x1,l=p-t.y1,i=o*o+s*s,h=o*r+s*e,u=o*n+s*l,d=r*r+e*e,v=r*n+e*l,m=i*d-h*h,T=m===0?0:1/m,C=(d*u-h*v)*T,S=(i*v-h*u)*T;return C>=0&&S>=0&&C+S<1};c.exports=x},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=!1),o===void 0&&(o=[]);for(var s=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,l=s*s+r*r,i=s*e+r*n,h=e*e+n*n,u=l*h-i*i,d=u===0?0:1/u,v,m,T,C,S,P,A=t.x1,L=t.y1,F=0;F<a.length&&(T=a[F].x-A,C=a[F].y-L,S=s*T+r*C,P=e*T+n*C,v=(h*S-i*P)*d,m=(l*P-i*S)*d,!(v>=0&&m>=0&&v+m<1&&(o.push({x:a[F].x,y:a[F].y}),p)));F++);return o};c.exports=x},96006:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10690),p=function(o,s){return a(o,s.x,s.y)};c.exports=p},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=x},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};c.exports=x},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};c.exports=x},20437:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=t(35001),o=function(s,r,e){e===void 0&&(e=new a);var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();if(r<=0||r>=1)return e.x=n.x1,e.y=n.y1,e;var h=p(n),u=p(l),d=p(i),v=h+u+d,m=v*r,T=0;return m<h?(T=m/h,e.x=n.x1+(n.x2-n.x1)*T,e.y=n.y1+(n.y2-n.y1)*T):m>h+u?(m-=h+u,T=m/d,e.x=i.x1+(i.x2-i.x1)*T,e.y=i.y1+(i.y2-i.y1)*T):(m-=h,T=m/u,e.x=l.x1+(l.x2-l.x1)*T,e.y=l.y1+(l.y2-l.y1)*T),e};c.exports=o},80672:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]);var l=s.getLineA(),i=s.getLineB(),h=s.getLineC(),u=a(l),d=a(i),v=a(h),m=u+d+v;!r&&e>0&&(r=m/e);for(var T=0;T<r;T++){var C=m*(T/r),S=0,P=new p;C<u?(S=C/u,P.x=l.x1+(l.x2-l.x1)*S,P.y=l.y1+(l.y2-l.y1)*S):C>u+d?(C-=u+d,S=C/v,P.x=h.x1+(h.x2-h.x1)*S,P.y=h.y1+(h.y2-h.y1)*S):(C-=u,S=C/d,P.x=i.x1+(i.x2-i.x1)*S,P.y=i.y1+(i.y2-i.y1)*S),n.push(P)}return n};c.exports=o},39757:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141);function p(s,r,e,n){var l=s-e,i=r-n,h=l*l+i*i;return Math.sqrt(h)}var o=function(s,r){r===void 0&&(r=new a);var e=s.x1,n=s.y1,l=s.x2,i=s.y2,h=s.x3,u=s.y3,d=p(h,u,l,i),v=p(e,n,h,u),m=p(l,i,e,n),T=d+v+m;return r.x=(e*d+l*v+h*m)/T,r.y=(n*d+i*v+u*m)/T,r};c.exports=o},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t.x3+=a,t.y3+=p,t};c.exports=x},1376:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35001),p=function(o){var s=o.getLineA(),r=o.getLineB(),e=o.getLineC();return a(s)+a(r)+a(e)};c.exports=p},90260:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=o.x2-o.x1,e=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,i=Math.random(),h=Math.random();return i+h>=1&&(i=1-i,h=1-h),s.x=o.x1+(r*i+n*h),s.y=o.y1+(e*i+l*h),s};c.exports=p},52172:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99614),p=t(39757),o=function(s,r){var e=p(s);return a(s,e.x,e.y,r)};c.exports=o},49907:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99614),p=function(o,s,r){return a(o,s.x,s.y,r)};c.exports=p},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-p;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+p,e=t.x2-a,n=t.y2-p,t.x2=e*s-n*r+a,t.y2=e*r+n*s+p,e=t.x3-a,n=t.y3-p,t.x3=e*s-n*r+a,t.y3=e*r+n*s+p,t};c.exports=x},16483:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(10690),o=t(20437),s=t(80672),r=t(23777),e=t(23031),n=t(90260),l=new a({initialize:function(h,u,d,v,m,T){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),this.type=r.TRIANGLE,this.x1=h,this.y1=u,this.x2=d,this.y2=v,this.x3=m,this.y3=T},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,u){return s(this,i,h,u)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,u,d,v,m){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),this.x1=i,this.y1=h,this.x2=u,this.y2=d,this.x3=v,this.y3=m,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}}});c.exports=l},84435:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),c.exports=a},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};c.exports=x},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return function(p,o,s,r){var e=t.getPixelAlpha(o,s,r.texture.key,r.frame.name);return e&&e>=a}};c.exports=x},7003:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(93301),o=t(50792),s=t(8214),r=t(8443),e=t(78970),n=t(85098),l=t(42515),i=t(36210),h=t(61340),u=t(85955),d=new a({initialize:function(m,T){this.game=m,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new e(this):null,this.mouse=T.inputMouse?new n(this):null,this.touch=T.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var C=0;C<=this.pointersTotal;C++){var S=new l(this,C);S.smoothFactor=T.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(r.BOOT,this.boot,this)},boot:function(){var v=this.game,m=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(s.MANAGER_BOOT),m.on(r.PRE_RENDER,this.preRender,this),m.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(s.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(s.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,m=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(s.MANAGER_UPDATE);for(var C=0;C<T.length;C++){var S=T[C];if(S.sys.input&&S.sys.input.updatePoll(v,m)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var m=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var T=0;T<v;T++){var C=this.pointers.length,S=new l(this,C);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,m.push(S)}return m},updateInputPlugins:function(v,m){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<T.length;C++){var S=T[C];if(S.sys.input){var P=S.sys.input.update(v,m);if(P&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(!A.active){A.touchstart(S,v),this.activePointer=A,T.push(A);break}}this.updateInputPlugins(p.TOUCH_START,T)},onTouchMove:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(A.active&&A.identifier===S.identifier){var L=document.elementFromPoint(S.clientX,S.clientY),F=L===this.canvas;!this.isOver&&F?this.setCanvasOver(v):this.isOver&&!F&&this.setCanvasOut(v),this.isOver&&(A.touchmove(S,v),this.activePointer=A,T.push(A));break}}this.updateInputPlugins(p.TOUCH_MOVE,T)},onTouchEnd:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(A.active&&A.identifier===S.identifier){A.touchend(S,v),T.push(A);break}}this.updateInputPlugins(p.TOUCH_END,T)},onTouchCancel:function(v){for(var m=this.pointers,T=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var A=m[P];if(A.active&&A.identifier===S.identifier){A.touchcancel(S,v),T.push(A);break}}this.updateInputPlugins(p.TOUCH_CANCEL,T)},onMouseDown:function(v){var m=this.mousePointer;m.down(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var m=this.mousePointer;m.move(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var m=this.mousePointer;m.up(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var m=this.mousePointer;m.wheel(v),this.activePointer=m,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(s.POINTERLOCK_CHANGE,v,m)},inputCandidate:function(v,m){var T=v.input;if(!T||!T.enabled||!v.willRender(m))return!1;var C=!0,S=v.parentContainer;if(S)do{if(!S.willRender(m)){C=!1;break}S=S.parentContainer}while(S);return C},hitTest:function(v,m,T,C){C===void 0&&(C=this._tempHitTest);var S=this._tempPoint,P=T.scrollX,A=T.scrollY;C.length=0;var L=v.x,F=v.y;T.getWorldPoint(L,F,S),v.worldX=S.x,v.worldY=S.y;for(var I={x:0,y:0},D=this._tempMatrix,B=this._tempMatrix2,G=0;G<m.length;G++){var z=m[G];if(this.inputCandidate(z,T)){var W=S.x+P*z.scrollFactorX-P,Y=S.y+A*z.scrollFactorY-A;z.parentContainer?(z.getWorldTransformMatrix(D,B),D.applyInverse(W,Y,I)):u(W,Y,z.x,z.y,z.rotation,z.scaleX,z.scaleY,I),this.pointWithinHitArea(z,I.x,I.y)&&C.push(z)}}return C},pointWithinHitArea:function(v,m,T){m+=v.displayOriginX,T+=v.displayOriginY;var C=v.input;return C&&C.hitAreaCallback(C.hitArea,m,T,v)?(C.localX=m,C.localY=T,!0):!1},pointWithinInteractiveObject:function(v,m,T){return v.hitArea?(m+=v.gameObject.displayOriginX,T+=v.gameObject.displayOriginY,v.localX=m,v.localY=T,v.hitAreaCallback(v.hitArea,m,T,v)):!1},transformPointer:function(v,m,T,C){var S=v.position,P=v.prevPosition;P.x=S.x,P.y=S.y;var A=this.scaleManager.transformX(m),L=this.scaleManager.transformY(T),F=v.smoothFactor;!C||F===0?(S.x=A,S.y=L):(S.x=A*F+P.x*(1-F),S.y=L*F+P.y*(1-F))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=d},48205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(96503),p=t(87902),o=t(83419),s=t(93301),r=t(74457),e=t(84409),n=t(20339),l=t(8497),i=t(81154),h=t(8214),u=t(50792),d=t(95540),v=t(23777),m=t(89639),T=t(41212),C=t(37277),S=t(87841),P=t(37303),A=t(44594),L=t(16483),F=t(10690),I=new o({Extends:u,initialize:function(B){u.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(A.BOOT,this.boot,this),B.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var D=this.systems.events;D.on(A.TRANSITION_START,this.transitionIn,this),D.on(A.TRANSITION_OUT,this.transitionOut,this),D.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(A.PRE_UPDATE,this.preUpdate,this),D.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(D){this.isActive()&&this.emit(h.GAME_OVER,D.timeStamp,D)},onGameOut:function(D){this.isActive()&&this.emit(h.GAME_OUT,D.timeStamp,D)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var D=this._pendingRemoval,B=this._pendingInsertion,G=D.length,z=B.length;if(!(G===0&&z===0)){for(var W=this._list,Y=0;Y<G;Y++){var K=D[Y],Z=W.indexOf(K);Z>-1&&(W.splice(Z,1),this.clear(K,!0))}this._pendingRemoval.length=0,this._list=W.concat(B.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(D,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,D,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,z=this.manager,W=z.pointers,Y=z.pointersTotal;for(G=0;G<Y;G++)W[G].updateMotion();if(this._list.length===0)return!1;var K=this.pollRate;if(K===-1)return!1;if(K>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(G=0;G<Y;G++){var V=0,H=W[G];this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),V+=this.processOverOutEvents(H),this.getDragState(H)===2&&this.processDragThresholdEvent(H,D),V>0&&(Z=!0)}return Z},update:function(D,B){if(!this.isActive())return!1;for(var G=B.length,z=!1,W=0;W<G;W++){var Y=0,K=B[W];switch(this._tempZones=[],this._temp=this.hitTestPointer(K),this.sortGameObjects(this._temp,K),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case s.MOUSE_DOWN:Y+=this.processDragDownEvent(K),Y+=this.processDownEvents(K),Y+=this.processOverOutEvents(K);break;case s.MOUSE_UP:Y+=this.processDragUpEvent(K),Y+=this.processUpEvents(K),Y+=this.processOverOutEvents(K);break;case s.TOUCH_START:Y+=this.processDragDownEvent(K),Y+=this.processDownEvents(K),Y+=this.processOverEvents(K);break;case s.TOUCH_END:case s.TOUCH_CANCEL:Y+=this.processDragUpEvent(K),Y+=this.processUpEvents(K),Y+=this.processOutEvents(K);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:Y+=this.processDragMoveEvent(K),Y+=this.processMoveEvents(K),Y+=this.processOverOutEvents(K);break;case s.MOUSE_WHEEL:Y+=this.processWheelEvent(K);break}Y>0&&(z=!0)}return this._updatedThisFrame=!0,z},clear:function(D,B){B===void 0&&(B=!1),this.disable(D);var G=D.input;G&&(this.removeDebug(D),this.manager.resetCursor(G),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,D.input=null),B||this.queueForRemoval(D);var z=this._draggable.indexOf(D);return z>-1&&this._draggable.splice(z,1),D},disable:function(D){var B=D.input;B&&(B.enabled=!1,B.dragState=0);for(var G=this._drag,z=this._over,W=this.manager,Y=0,K;Y<W.pointersTotal;Y++)K=G[Y].indexOf(D),K>-1&&G[Y].splice(K,1),K=z[Y].indexOf(D),K>-1&&z[Y].splice(K,1);return this},enable:function(D,B,G,z){return z===void 0&&(z=!1),D.input?D.input.enabled=!0:this.setHitArea(D,B,G),D.input&&z&&!D.input.dropZone&&(D.input.dropZone=z),this},hitTestPointer:function(D){for(var B=this.cameras.getCamerasBelowPointer(D),G=0;G<B.length;G++){for(var z=B[G],W=this.manager.hitTest(D,this._list,z),Y=0;Y<W.length;Y++){var K=W[Y];K.input.dropZone&&this._tempZones.push(K)}if(W.length>0)return D.camera=z,W}return D.camera=B[0],[]},processDownEvents:function(D){var B=0,G=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var Y=!1,K=0;K<G.length;K++){var Z=G[K];if(!(!Z.input||!Z.input.enabled)){if(B++,Z.emit(h.GAMEOBJECT_POINTER_DOWN,D,Z.input.localX,Z.input.localY,W),z.cancelled||!Z.input||!Z.input.enabled){Y=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,D,Z,W),z.cancelled||!Z.input){Y=!0;break}}}return!Y&&this.manager&&(D.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,D,G):this.emit(h.POINTER_DOWN_OUTSIDE,D)),B},getDragState:function(D){return this._dragState[D.id]},setDragState:function(D,B){this._dragState[D.id]=B},processDragThresholdEvent:function(D,B){var G=!1,z=this.dragTimeThreshold,W=this.dragDistanceThreshold;if((W>0&&n(D.x,D.y,D.downX,D.downY)>=W||z>0&&B>=D.downTime+z)&&(G=!0),G)return this.setDragState(D,3),this.processDragStartList(D)},processDragStartList:function(D){if(this.getDragState(D)!==3)return 0;for(var B=this._drag[D.id],G=0;G<B.length;G++){var z=B[G],W=z.input;W.dragState=2,W.dragStartX=z.x,W.dragStartY=z.y,W.dragStartXGlobal=D.worldX,W.dragStartYGlobal=D.worldY,W.dragX=W.dragStartXGlobal-W.dragStartX,W.dragY=W.dragStartYGlobal-W.dragStartY,z.emit(h.GAMEOBJECT_DRAG_START,D,W.dragX,W.dragY),this.emit(h.DRAG_START,D,z)}return this.setDragState(D,4),B.length},processDragDownEvent:function(D){var B=this._temp;if(this._draggable.length===0||B.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var G=[],z=0;z<B.length;z++){var W=B[z];W.input.draggable&&W.input.dragState===0&&G.push(W)}return G.length===0?(this.setDragState(D,0),0):(G.length>1&&(this.sortGameObjects(G,D),this.topOnly&&G.splice(1)),this._drag[D.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},processDragMoveEvent:function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;for(var B=this._tempZones,G=this._drag[D.id],z=0;z<G.length;z++){var W=G[z],Y=W.input,K=Y.target;if(K){var Z=B.indexOf(K);Z===0?(W.emit(h.GAMEOBJECT_DRAG_OVER,D,K),this.emit(h.DRAG_OVER,D,W,K)):Z>0?(W.emit(h.GAMEOBJECT_DRAG_LEAVE,D,K),this.emit(h.DRAG_LEAVE,D,W,K),Y.target=B[0],K=Y.target,W.emit(h.GAMEOBJECT_DRAG_ENTER,D,K),this.emit(h.DRAG_ENTER,D,W,K)):(W.emit(h.GAMEOBJECT_DRAG_LEAVE,D,K),this.emit(h.DRAG_LEAVE,D,W,K),B[0]?(Y.target=B[0],K=Y.target,W.emit(h.GAMEOBJECT_DRAG_ENTER,D,K),this.emit(h.DRAG_ENTER,D,W,K)):Y.target=null)}else!K&&B[0]&&(Y.target=B[0],K=Y.target,W.emit(h.GAMEOBJECT_DRAG_ENTER,D,K),this.emit(h.DRAG_ENTER,D,W,K));var V,H;if(!W.parentContainer)V=D.worldX-Y.dragX,H=D.worldY-Y.dragY;else{var N=D.worldX-Y.dragStartXGlobal,b=D.worldY-Y.dragStartYGlobal,X=W.getParentRotation(),$=N*Math.cos(X)+b*Math.sin(X),Q=b*Math.cos(X)-N*Math.sin(X);$*=1/W.parentContainer.scaleX,Q*=1/W.parentContainer.scaleY,V=$+Y.dragStartX,H=Q+Y.dragStartY}W.emit(h.GAMEOBJECT_DRAG,D,V,H),this.emit(h.DRAG,D,W,V,H)}return G.length},processDragUpEvent:function(D){for(var B=this._drag[D.id],G=0;G<B.length;G++){var z=B[G],W=z.input;if(W&&W.dragState===2){W.dragState=0,W.dragX=W.localX-z.displayOriginX,W.dragY=W.localY-z.displayOriginY;var Y=!1,K=W.target;K&&(z.emit(h.GAMEOBJECT_DROP,D,K),this.emit(h.DROP,D,z,K),W.target=null,Y=!0),z.input&&z.input.enabled&&(z.emit(h.GAMEOBJECT_DRAG_END,D,W.dragX,W.dragY,Y),this.emit(h.DRAG_END,D,z,Y))}}return this.setDragState(D,0),B.splice(0),0},processMoveEvents:function(D){var B=0,G=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var Y=!1,K=0;K<G.length;K++){var Z=G[K];if(!(!Z.input||!Z.input.enabled)){if(B++,Z.emit(h.GAMEOBJECT_POINTER_MOVE,D,Z.input.localX,Z.input.localY,W),z.cancelled||!Z.input||!Z.input.enabled){Y=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,D,Z,W),z.cancelled||!Z.input||!Z.input.enabled){Y=!0;break}if(this.topOnly)break}}return Y||this.emit(h.POINTER_MOVE,D,G),B},processWheelEvent:function(D){var B=0,G=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var Y=!1,K=D.deltaX,Z=D.deltaY,V=D.deltaZ,H=0;H<G.length;H++){var N=G[H];if(!(!N.input||!N.input.enabled)){if(B++,N.emit(h.GAMEOBJECT_POINTER_WHEEL,D,K,Z,V,W),z.cancelled||!N.input||!N.input.enabled){Y=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,D,N,K,Z,V,W),z.cancelled||!N.input||!N.input.enabled){Y=!0;break}}}return Y||this.emit(h.POINTER_WHEEL,D,G,K,Z,V),B},processOverEvents:function(D){var B=this._temp,G=0,z=B.length,W=[];if(z>0){var Y=this.manager,K=this._eventData,Z=this._eventContainer;K.cancelled=!1;for(var V=!1,H=0;H<z;H++){var N=B[H];if(!(!N.input||!N.input.enabled)){if(W.push(N),Y.setCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OVER,D,N.input.localX,N.input.localY,Z),G++,K.cancelled||!N.input||!N.input.enabled){V=!0;break}if(this.emit(h.GAMEOBJECT_OVER,D,N,Z),K.cancelled||!N.input||!N.input.enabled){V=!0;break}}}V||this.emit(h.POINTER_OVER,D,W)}return this._over[D.id]=W,G},processOutEvents:function(D){var B=this._over[D.id],G=0,z=B.length;if(z>0){var W=this.manager,Y=this._eventData,K=this._eventContainer;Y.cancelled=!1;var Z=!1;this.sortGameObjects(B,D);for(var V=0;V<z;V++){var H=B[V];if(H=B[V],!(!H.input||!H.input.enabled)){if(W.resetCursor(H.input),H.emit(h.GAMEOBJECT_POINTER_OUT,D,K),G++,Y.cancelled||!H.input||!H.input.enabled){Z=!0;break}if(this.emit(h.GAMEOBJECT_OUT,D,H,K),Y.cancelled||!H.input||!H.input.enabled){Z=!0;break}Z||this.emit(h.POINTER_OUT,D,B)}}this._over[D.id]=[]}return G},processOverOutEvents:function(D){var B=this._temp,G,z,W=[],Y=[],K=[],Z=this._over[D.id],V=this._drag[D.id],H=this.manager;for(G=0;G<Z.length;G++)z=Z[G],B.indexOf(z)===-1&&V.indexOf(z)===-1?W.push(z):K.push(z);for(G=0;G<B.length;G++)z=B[G],Z.indexOf(z)===-1&&Y.push(z);var N=W.length,b=0,X=this._eventData,$=this._eventContainer;X.cancelled=!1;var Q=!1;if(N>0){for(this.sortGameObjects(W,D),G=0;G<N;G++)if(z=W[G],!(!z.input||!z.input.enabled)){if(H.resetCursor(z.input),z.emit(h.GAMEOBJECT_POINTER_OUT,D,$),b++,X.cancelled||!z.input||!z.input.enabled){Q=!0;break}if(this.emit(h.GAMEOBJECT_OUT,D,z,$),X.cancelled||!z.input||!z.input.enabled){Q=!0;break}}Q||this.emit(h.POINTER_OUT,D,W)}if(N=Y.length,X.cancelled=!1,Q=!1,N>0){for(this.sortGameObjects(Y,D),G=0;G<N;G++)if(z=Y[G],!(!z.input||!z.input.enabled)){if(H.setCursor(z.input),z.emit(h.GAMEOBJECT_POINTER_OVER,D,z.input.localX,z.input.localY,$),b++,X.cancelled||!z.input||!z.input.enabled){Q=!0;break}if(this.emit(h.GAMEOBJECT_OVER,D,z,$),X.cancelled||!z.input||!z.input.enabled){Q=!0;break}}Q||this.emit(h.POINTER_OVER,D,Y)}return Z=K.concat(Y),this._over[D.id]=this.sortGameObjects(Z,D),b},processUpEvents:function(D){var B=this._temp,G=this._eventData,z=this._eventContainer;G.cancelled=!1;for(var W=!1,Y=0;Y<B.length;Y++){var K=B[Y];if(!(!K.input||!K.input.enabled)){if(K.emit(h.GAMEOBJECT_POINTER_UP,D,K.input.localX,K.input.localY,z),G.cancelled||!K.input||!K.input.enabled){W=!0;break}if(this.emit(h.GAMEOBJECT_UP,D,K,z),G.cancelled||!K.input||!K.input.enabled){W=!0;break}}}return!W&&this.manager&&(D.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,D,B):this.emit(h.POINTER_UP_OUTSIDE,D)),B.length},queueForInsertion:function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},queueForRemoval:function(D){return this._pendingRemoval.push(D),this},setDraggable:function(D,B){B===void 0&&(B=!0),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var z=D[G];z.input.draggable=B;var W=this._draggable.indexOf(z);B&&W===-1?this._draggable.push(z):!B&&W>-1&&this._draggable.splice(W,1)}return this},makePixelPerfect:function(D){D===void 0&&(D=1);var B=this.systems.textures;return e(B,D)},setHitArea:function(D,B,G){if(B===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var z=!1,W=!1,Y=!1,K=!1,Z=!1,V=!0;if(T(B)&&Object.keys(B).length){var H=B,N=D.some(function(J){return J.hasOwnProperty("faces")});if(!N){B=d(H,"hitArea",null),G=d(H,"hitAreaCallback",null),Z=d(H,"pixelPerfect",!1);var b=d(H,"alphaTolerance",1);Z&&(B={},G=this.makePixelPerfect(b))}z=d(H,"draggable",!1),W=d(H,"dropZone",!1),Y=d(H,"cursor",!1),K=d(H,"useHandCursor",!1),(!B||!G)&&(this.setHitAreaFromTexture(D),V=!1)}else typeof B=="function"&&!G&&(G=B,B={});for(var X=0;X<D.length;X++){var $=D[X];if(Z&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Q=$.input?$.input:r($,B,G);Q.customHitArea=V,Q.dropZone=W,Q.cursor=K?"pointer":Y,$.input=Q,z&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(D,B,G,z,W){W===void 0&&(W=p);var Y=new a(B,G,z);return this.setHitArea(D,Y,W)},setHitAreaEllipse:function(D,B,G,z,W,Y){Y===void 0&&(Y=i);var K=new l(B,G,z,W);return this.setHitArea(D,K,Y)},setHitAreaFromTexture:function(D,B){B===void 0&&(B=P),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var z=D[G],W=z.frame,Y=0,K=0;if(z.width?(Y=z.width,K=z.height):W&&(Y=W.realWidth,K=W.realHeight),z.type==="Container"&&(Y===0||K===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}Y!==0&&K!==0&&(z.input=r(z,new S(0,0,Y,K),B),this.queueForInsertion(z))}return this},setHitAreaRectangle:function(D,B,G,z,W,Y){Y===void 0&&(Y=P);var K=new S(B,G,z,W);return this.setHitArea(D,K,Y)},setHitAreaTriangle:function(D,B,G,z,W,Y,K,Z){Z===void 0&&(Z=F);var V=new L(B,G,z,W,Y,K);return this.setHitArea(D,V,Z)},enableDebug:function(D,B){B===void 0&&(B=65280);var G=D.input;if(!G||!G.hitArea)return this;var z=G.hitArea,W=z.type,Y=G.hitAreaDebug,K=this.systems.add,Z=this.systems.updateList;Y&&(Z.remove(Y),Y.destroy(),Y=null);var V=0,H=0;switch(W){case v.CIRCLE:Y=K.arc(0,0,z.radius),V=z.x-z.radius,H=z.y-z.radius;break;case v.ELLIPSE:Y=K.ellipse(0,0,z.width,z.height),V=z.x-z.width/2,H=z.y-z.height/2;break;case v.LINE:Y=K.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case v.POLYGON:Y=K.polygon(0,0,z.points);break;case v.RECTANGLE:Y=K.rectangle(0,0,z.width,z.height),V=z.x,H=z.y;break;case v.TRIANGLE:Y=K.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3);break}return Y&&(Y.isFilled=!1,Y.strokeColor=B,Y.preUpdate=function(){Y.setVisible(D.visible),Y.setStrokeStyle(1/D.scale,Y.strokeColor),Y.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var N=D.x,b=D.y,X=D.rotation,$=D.scaleX,Q=D.scaleY;if(D.parentContainer){var J=D.getWorldTransformMatrix();N=J.tx,b=J.ty,X=J.rotation,$=J.scaleX,Q=J.scaleY}Y.setRotation(X),Y.setScale($,Q),Y.setPosition(N+V*$,b+H*Q),Y.setScrollFactor(D.scrollFactorX,D.scrollFactorY),Y.setDepth(D.depth)},Z.add(Y),G.hitAreaDebug=Y),this},removeDebug:function(D){var B=D.input;if(B&&B.hitAreaDebug){var G=B.hitAreaDebug;G.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(D){return this.pollRate=D,this._pollTimer=0,this},setGlobalTopOnly:function(D){return this.manager.globalTopOnly=D,this},setTopOnly:function(D){return this.topOnly=D,this},sortGameObjects:function(D,B){if(D.length<2||!B.camera)return D;var G=B.camera.renderList;return D.sort(function(z,W){var Y=Math.max(G.indexOf(z),0),K=Math.max(G.indexOf(W),0);return K-Y})},sortDropZones:function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(D,B){if(!D.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(D);if(D.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-D.parentContainer.getIndex(D);if(D.parentContainer===B)return-1;if(B.parentContainer===D)return 1;for(var G=D.getIndexList(),z=B.getIndexList(),W=Math.min(G.length,z.length),Y=0;Y<W;Y++){var K=G[Y],Z=z[Y];if(K!==Z)return Z-K}return z.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(D){return this.manager.addPointer(D)},setDefaultCursor:function(D){return this.manager.setDefaultCursor(D),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var G=this.systems.events;G.off(A.TRANSITION_START,this.transitionIn,this),G.off(A.TRANSITION_OUT,this.transitionOut,this),G.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(A.PRE_UPDATE,this.preUpdate,this),B.events.off(h.GAME_OUT,this.onGameOut,this),B.events.off(h.GAME_OVER,this.onGameOver,this),G.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var D=this.manager.pointers,B=0;B<D.length;B++)D[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",I,"input"),c.exports=I},89639:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p={},o={};o.register=function(s,r,e,n,l){p[s]={plugin:r,mapping:e,settingsKey:n,configKey:l}},o.getPlugin=function(s){return p[s]},o.install=function(s){var r=s.scene.sys,e=r.settings.input,n=r.game.config;for(var l in p){var i=p[l].plugin,h=p[l].mapping,u=p[l].settingsKey,d=p[l].configKey;a(e,u,n[d])&&(s[h]=new i(s))}},o.remove=function(s){p.hasOwnProperty(s)&&delete p[s]},c.exports=o},42515:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31040),p=t(83419),o=t(20339),s=t(43855),r=t(47235),e=t(26099),n=t(25892),l=new p({initialize:function(h,u){this.manager=h,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var h=i.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(i,h){return i.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var i=this.position.x,h=this.position.y,u=this.midPoint.x,d=this.midPoint.y;if(!(i===u&&h===d)){var v=r(this.motionFactor,u,i),m=r(this.motionFactor,d,h);s(v,i,.1)&&(v=i),s(m,h,.1)&&(m=h),this.midPoint.set(v,m);var T=i-v,C=h-m;this.velocity.set(T,C),this.angle=a(v,m,i,h),this.distance=Math.sqrt(T*T+C*C)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,h){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,h){this.event=h,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,h){i===void 0&&(i=10),h===void 0&&(h=[]);for(var u=this.prevPosition.x,d=this.prevPosition.y,v=this.position.x,m=this.position.y,T=0;T<i;T++){var C=1/i*T;h[T]={x:r(C,u,v),y:r(C,d,m)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=x},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=p},28884:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92734),o=new a({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=o},99125:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97421),p=t(28884),o=t(83419),s=t(50792),r=t(26099),e=new o({Extends:s,initialize:function(l,i){s.call(this),this.manager=l,this.pad=i,this.id=i.id,this.index=i.index;for(var h=[],u=0;u<i.buttons.length;u++)h.push(new p(this,u));this.buttons=h;var d=[];for(u=0;u<i.axes.length;u++)d.push(new a(this,u));this.axes=d,this.vibration=i.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:v,this._LCRight=h[15]?h[15]:v,this._LCTop=h[12]?h[12]:v,this._LCBottom=h[13]?h[13]:v,this._RCLeft=h[2]?h[2]:v,this._RCRight=h[1]?h[1]:v,this._RCTop=h[3]?h[3]:v,this._RCBottom=h[0]?h[0]:v,this._FBLeftTop=h[4]?h[4]:v,this._FBLeftBottom=h[6]?h[6]:v,this._FBRightTop=h[5]?h[5]:v,this._FBRightBottom=h[7]?h[7]:v;var m={value:0};this._HAxisLeft=d[0]?d[0]:m,this._VAxisLeft=d[1]?d[1]:m,this._HAxisRight=d[2]?d[2]:m,this._VAxisRight=d[3]?d[3]:m,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,i=this.buttons,h=n.buttons,u=i.length;for(l=0;l<u;l++)i[l].update(h[l].value);var d=this.axes,v=n.axes;for(u=d.length,l=0;l<u;l++)d[l].update(v[l]);u>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),u>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(92734),s=t(99125),r=t(35154),e=t(89639),n=t(8214),l=new a({Extends:p,initialize:function(h){p.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(n.BOOT,this.boot,this),h.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,h=this.settings.input,u=i.config;this.enabled=r(h,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=r(h,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,h=this.target,u=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=u,h.addEventListener("gamepadconnected",u,!1),h.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var h=this.gamepads,u=0;u<i.length;u++){var d=i[u];if(d){var v=d.id,m=d.index,T=h[m];if(T)T.id!==v?(T.destroy(),h[m]=new s(this,d)):T.update(d);else{var C=new s(this,d);h[m]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var i=[],h=this.gamepads,u=0;u<h.length;u++)h[u]&&i.push(h[u]);return i},getPad:function(i){for(var h=this.gamepads,u=0;u<h.length;u++)if(h[u]&&h[u].index===i)return h[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var h=this.queue.splice(0,i),u=0;u<i;u++){var d=h[u],v=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(o.CONNECTED,v,d):d.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(93301),p=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=p(!1,o,a),c.exports=o},78970:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),p=t(83419),o=t(8443),s=t(8214),r=t(46032),e=t(29747),n=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!u&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!u&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var u=l[h];typeof u=="string"&&(u=r[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var u=l[h];typeof u=="string"&&(u=r[u.toUpperCase()]),a(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},28846:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(95922),s=t(8443),r=t(35154),e=t(8214),n=t(89639),l=t(30472),i=t(46032),h=t(87960),u=t(74600),d=t(44594),v=t(56583),m=new a({Extends:p,initialize:function(C){p.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(e.BOOT,this.boot,this),C.pluginEvents.on(e.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=r(T,"keyboard",!0);var C=r(T,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(T,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var P={};if(typeof T=="string"){T=T.split(",");for(var A=0;A<T.length;A++){var L=T[A].trim();L&&(P[L]=this.addKey(L,C,S))}}else for(var F in T)P[F]=this.addKey(T[F],C,S);return P},addKey:function(T,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var P=this.keys;if(T instanceof l){var A=P.indexOf(T);return A>-1?P[A]=T:P[T.keyCode]=T,C&&this.addCapture(T.keyCode),T.setEmitOnRepeat(S),T}return typeof T=="string"&&(T=i[T.toUpperCase()]),P[T]||(P[T]=new l(this,T),C&&this.addCapture(T),P[T].setEmitOnRepeat(S)),P[T]},removeKey:function(T,C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);var P=this.keys,A;if(T instanceof l){var L=P.indexOf(T);L>-1&&(A=this.keys[L],this.keys[L]=void 0)}else typeof T=="string"&&(T=i[T.toUpperCase()]);return P[T]&&(A=P[T],P[T]=void 0),A&&(A.plugin=null,S&&this.removeCapture(A.keyCode),C&&A.destroy()),this},removeAllKeys:function(T,C){T===void 0&&(T=!1),C===void 0&&(C=!1);for(var S=this.keys,P=0;P<S.length;P++){var A=S[P];A&&(S[P]=void 0,C&&this.removeCapture(A.keyCode),T&&A.destroy())}return this},createCombo:function(T,C){return new h(this,T,C)},checkDown:function(T,C){if(C===void 0&&(C=0),this.enabled&&T.isDown){var S=v(this.time-T.timeDown,C);if(S>T._tick)return T._tick=S,!0}return!1},update:function(){var T=this.manager.queue,C=T.length;if(!(!this.isActive()||C===0))for(var S=this.keys,P=0;P<C;P++){var A=T[P],L=A.keyCode,F=S[L],I=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(L===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=L,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(F&&(I=F.isDown,F.onDown(A)),!A.cancelled&&(!F||!I)&&(u[L]&&this.emit(o.KEY_DOWN+u[L],A),A.cancelled||this.emit(o.ANY_KEY_DOWN,A))):(F&&F.onUp(A),A.cancelled||(u[L]&&this.emit(o.KEY_UP+u[L],A),A.cancelled||this.emit(o.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,C=0;C<T.length;C++)T[C]&&T[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,C=0;C<T.length;C++)T[C]&&T[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),c.exports=m},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};c.exports=x},87960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95922),o=t(95540),s=t(68769),r=t(92803),e=new a({initialize:function(l,i,h){if(h===void 0&&(h={}),i.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var d=i[u];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(h,"resetOnWrongKey",!0),this.maxKeyDelay=o(h,"maxKeyDelay",0),this.resetOnMatch=o(h,"resetOnMatch",!1),this.deleteOnMatch=o(h,"deleteOnMatch",!1);var v=this,m=function(T){if(!(v.matched||!v.enabled)){var C=s(T,v);C&&(v.manager.emit(p.COMBO_MATCH,v,T),v.resetOnMatch?r(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=m,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66970),p=function(o,s){if(s.matched)return!0;var r=!1,e=!1;if(o.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var n=s.timeLastMatched+s.maxKeyDelay;o.timeStamp<=n&&(e=!0,r=a(o,s))}else e=!0,r=a(o,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=o.timeStamp,s.matched=!0,s.timeMatched=o.timeStamp),r};c.exports=p},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=x},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<a};c.exports=x},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=x},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=x},30472:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(95922),s=new a({Extends:p,initialize:function(e,n){p.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=s},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=x},74600:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(46032),p={};for(var o in a)p[a[o]]=o;c.exports=p},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<a};c.exports=x},85098:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89357),o=t(8214),s=t(29747),r=new a({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,l=this.manager,i=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(d),n.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){h&&window.focus(),!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(d),n.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==i&&l.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(d),n.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==i&&l.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(d),n.preventDefaultWheel&&d.target===i&&d.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(d){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},87078:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(8214),o=t(29747),s=new a({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,n=this.manager,l=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(v),e.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){i&&window.focus(),!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(v),e.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(v),e.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(v),e.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var h=this.capture,u={passive:!0},d={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,h?d:u),r.addEventListener("touchmove",this.onTouchMove,h?d:u),r.addEventListener("touchend",this.onTouchEnd,h?d:u),r.addEventListener("touchcancel",this.onTouchCancel,h?d:u),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=s},95618:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(54899),s=t(95540),r=t(98356),e=t(3374),n=t(84376),l=t(92638),i=new a({initialize:function(u,d){if(this.loader=u,this.cache=s(d,"cache",!1),this.type=s(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(d,"key",!1);var v=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var m=s(d,"url");m===void 0?m=u.path+v+"."+s(d,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=u.path+m),this.url=m,this.src="",this.xhrSettings=l(s(d,"responseType",void 0)),s(d,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===p.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr))},onLoad:function(h,u){var d=h.responseURL&&this.loader.localSchemes.some(function(T){return h.responseURL.indexOf(T)===0}),v=d&&u.target.status===0,m=!(u.target&&u.target.status!==200)||v;h.readyState===4&&h.status>=400&&h.status<=599&&(m=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(h){this.xhrLoader=h,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==p.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var u=this.key,d=this.type;this.loader.emit(o.FILE_COMPLETE,u,d,h),this.loader.emit(o.FILE_KEY_COMPLETE+d+"-"+u,u,d,h),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(h,u,d){if(typeof URL=="function")h.src=URL.createObjectURL(u);else{var v=new FileReader;v.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(u.type||d)+";base64,"+v.result.split(",")[1]},v.onerror=h.onerror,v.readAsDataURL(u)}},i.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},c.exports=i},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={install:function(a){for(var p in x)a[p]=x[p]},register:function(a,p){x[a]=p},destroy:function(){x={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};c.exports=x},74261:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(35072),s=t(50792),r=t(54899),e=t(74099),n=t(95540),l=t(35154),i=t(37277),h=t(44594),u=t(92638),d=new a({Extends:s,initialize:function(m){s.call(this);var T=m.sys.game.config,C=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(C,"baseURL",T.loaderBaseURL)),this.setPath(n(C,"path",T.loaderPath)),this.setPrefix(n(C,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(C,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=u(n(C,"responseType",T.loaderResponseType),n(C,"async",T.loaderAsync),n(C,"user",T.loaderUser),n(C,"password",T.loaderPassword),n(C,"timeout",T.loaderTimeout),n(C,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(C,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(C,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(C,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(h.BOOT,this.boot,this),m.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var T=v[m];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var m=v.hasCacheConflict();return m||this.list.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1}),this.queue.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1})),m},addPack:function(v,m){if(typeof m=="string"){var T=l(v,m);T&&(v={packKey:T})}var C=0,S=this.baseURL,P=this.path,A=this.prefix;for(var L in v)if(Object.prototype.hasOwnProperty.call(v,L)){var F=v[L],I=n(F,"baseURL",S),D=n(F,"path",P),B=n(F,"prefix",A),G=n(F,"files",null),z=n(F,"defaultType","void");if(Array.isArray(G)){this.setBaseURL(I),this.setPath(D),this.setPrefix(B);for(var W=0;W<G.length;W++){var Y=G[W],K=Y.hasOwnProperty("type")?Y.type:z;this[K]&&(this[K](Y),C++)}}}return this.setBaseURL(S),this.setPath(P),this.setPrefix(A),C>0},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===p.FILE_POPULATED||v.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,m){this.inflight&&(this.inflight.delete(v),this.updateProgress(),m?(this.totalComplete++,this.queue.set(v),this.emit(r.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(r.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===p.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===p.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,m){return this.save(JSON.stringify(v),m)},save:function(v,m,T){m===void 0&&(m="file.json"),T===void 0&&(T="application/json");var C=new Blob([v],{type:T}),S=URL.createObjectURL(C),P=document.createElement("a");return P.download=m,P.textContent="Download "+m,P.href=S,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(n(m,"baseURL",v.loaderBaseURL)),this.setPath(n(m,"path",v.loaderPath)),this.setPrefix(n(m,"prefix",v.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});i.register("Loader",d,"load"),c.exports=d},3374:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(92638),o=function(s,r){var e=s===void 0?p():a({},s);if(r)for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e};c.exports=o},26430:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(54899),s=new a({initialize:function(e,n,l,i){var h=[];i.forEach(function(v){v&&h.push(v)}),this.loader=e,this.type=n,this.key=l;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=p.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var d=0;d<h.length;d++)h[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,r,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=s},84376:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(3374),p=function(o,s){var r=a(s,o.xhrSettings);if(o.base64){var e=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(e)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var i in r.headers)l.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};c.exports=p},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){return t===void 0&&(t=""),a===void 0&&(a=!0),p===void 0&&(p=""),o===void 0&&(o=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:a,user:p,password:o,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};c.exports=x},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=x},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(518),s=t(54899),r=new a({Extends:o,initialize:function(n,l,i,h,u){o.call(this,n,l,i,h,u),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),c.exports=r},76272:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,u,d,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new e(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","json"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,d,m),S=new e(h,u,v,T);C.linkFile?n.call(this,h,"atlasjson",u,[C,S,C.linkFile]):n.call(this,h,"atlasjson",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),h.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,h,u,d,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,d,v),this.addFile(m.files);return this}),c.exports=l},38734:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,u,d,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new e(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","json"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,d,m),S=new e(h,u,v,T);C.linkFile?n.call(this,h,"atlasjson",u,[C,S,C.linkFile]):n.call(this,h,"atlasjson",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),this.complete=!0}}});p.register("atlas",function(i,h,u,d,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,d,v),this.addFile(m.files);return this}),c.exports=l},74599:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(57318),l=new a({Extends:e,initialize:function(h,u,d,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new n(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","xml"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,d,m),S=new n(h,u,v,T);C.linkFile?e.call(this,h,"atlasxml",u,[C,S,C.linkFile]):e.call(this,h,"atlasxml",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,h.data,u),this.complete=!0}}});p.register("atlasXML",function(i,h,u,d,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,d,v),this.addFile(m.files);return this}),c.exports=l},21097:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(89749),n=t(41212),l=new a({Extends:o,initialize:function(h,u,d,v,m){if(n(u)){var T=u;u=r(T,"key"),v=r(T,"xhrSettings"),m=r(T,"context",m)}var C={type:"audio",cache:h.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:u,url:d.url,xhrSettings:v,config:{context:m}};o.call(this,h,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){i.data=h,i.onProcessComplete()},function(h){console.error("Error decoding audio: "+i.key+" - ",h?h.message:null),i.onProcessError()}),this.config.context=null}});l.create=function(i,h,u,d,v){var m=i.systems.game,T=m.config.audio,C=m.device.audio;n(h)&&(u=r(h,"url",[]),d=r(h,"config",{}));var S=l.getAudioURL(m,u);return S?C.webAudio&&!T.disableWebAudio?new l(i,h,S,v,m.sound.context):new e(i,h,S,d):(console.warn('No audio URLs for "%s" matched this device',h),null)},l.getAudioURL=function(i,h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var d=r(h[u],"url",h[u]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var v=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=r(h[u],"type",v?v[1]:"").toLowerCase(),i.device.audio[v])return{url:d,type:v}}return null},s.register("audio",function(i,h,u,d){var v=this.systems.game,m=v.config.audio,T=v.device.audio;if(m.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(i))for(var S=0;S<i.length;S++)C=l.create(this,i[S]),C&&this.addFile(C);else C=l.create(this,i,h,u,d),C&&this.addFile(C);return this}),c.exports=l},89524:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21097),p=t(83419),o=t(74099),s=t(95540),r=t(41212),e=t(518),n=t(26430),l=new p({Extends:n,initialize:function(h,u,d,v,m,T,C){if(r(u)){var S=u;u=s(S,"key"),d=s(S,"jsonURL"),v=s(S,"audioURL"),m=s(S,"audioConfig"),T=s(S,"audioXhrSettings"),C=s(S,"jsonXhrSettings")}var P;if(!v)P=new e(h,u,d,C),n.call(this,h,"audiosprite",u,[P]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=T;else{var A=a.create(h,u,v,m,T);A&&(P=new e(h,u,d,C),n.call(this,h,"audiosprite",u,[A,P]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,d=s(this.config,"audioConfig"),v=s(this.config,"audioXhrSettings"),m=a.create(this.loader,i.key,u,d,v);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1];i.addToCache(),h.addToCache(),this.complete=!0}}});o.register("audioSprite",function(i,h,u,d,v,m){var T=this.systems.game,C=T.config.audio,S=T.device.audio;if(C&&C.noAudio||!S.webAudio&&!S.audioData)return this;var P;if(Array.isArray(i))for(var A=0;A<i.length;A++)P=new l(this,i[A]),P.files&&this.addFile(P.files);else P=new l(this,i,h,u,d,v,m),P.files&&this.addFile(P.files);return this})},85722:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d,v){var m="bin";if(e(h)){var T=h;h=r(T,"key"),u=r(T,"url"),d=r(T,"xhrSettings"),m=r(T,"extension",m),v=r(T,"dataType",v)}var C={type:"binary",cache:i.cacheManager.binary,extension:m,responseType:"arraybuffer",key:h,url:u,xhrSettings:d,config:{dataType:v}};o.call(this,i,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,i,h,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,u,h));return this}),c.exports=n},97025:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(21859),l=t(57318),i=new a({Extends:e,initialize:function(u,d,v,m,T,C){var S,P;if(r(d)){var A=d;d=o(A,"key"),S=new s(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),P=new l(u,{key:d,url:o(A,"fontDataURL"),extension:o(A,"fontDataExtension","xml"),xhrSettings:o(A,"fontDataXhrSettings")})}else S=new s(u,d,v,T),P=new l(u,d,m,C);S.linkFile?e.call(this,u,"bitmapfont",d,[S,P,S.linkFile]):e.call(this,u,"bitmapfont",d,[S,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1];h.addToCache();var d=h.cache.get(h.key),v=n(u.data,h.cache.getFrame(h.key),0,0,d);this.loader.cacheManager.bitmapFont.add(h.key,{data:v,texture:h.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(h,u,d,v,m){var T;if(Array.isArray(h))for(var C=0;C<h.length;C++)T=new i(this,h[C]),this.addFile(T.files);else T=new i(this,h,u,d,v,m),this.addFile(T.files);return this}),c.exports=i},16024:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d){var v="css";if(e(h)){var m=h;h=r(m,"key"),u=r(m,"url"),d=r(m,"xhrSettings"),v=r(m,"extension",v)}var T={type:"script",cache:!1,extension:v,responseType:"text",key:h,url:u,xhrSettings:d};o.call(this,i,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},69559:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(38734),p=t(85722),o=t(83419),s=t(74099),r=t(95540),e=t(19550),n=t(41212),l=t(518),i=t(31403),h=t(46975),u=t(59327),d=t(26430),v=t(82038),m=t(55222),T=new o({Extends:d,initialize:function(S,P,A,L){if(A.multiAtlasURL){var F=new l(S,{key:P,url:A.multiAtlasURL,xhrSettings:L,config:A});d.call(this,S,"texture",P,[F])}else{var I=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var D=new p(S,{key:P,url:A.textureURL,extension:I,xhrSettings:L,config:A});if(A.atlasURL){var B=new l(S,{key:P,url:A.atlasURL,xhrSettings:L,config:A});d.call(this,S,"texture",P,[D,B])}else d.call(this,S,"texture",P,[D])}this.config=A},onFileComplete:function(C){var S=this.files.indexOf(C);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var P=C.data.textures,A=this.config,L=this.loader,F=L.baseURL,I=L.path,D=L.prefix,B=r(A,"multiBaseURL",this.baseURL),G=r(A,"multiPath",this.path),z=r(A,"prefix",this.prefix),W=r(A,"textureXhrSettings");B&&L.setBaseURL(B),G&&L.setPath(G),z&&L.setPrefix(z);for(var Y=0;Y<P.length;Y++){var K=P[Y].image,Z="CMA"+this.multiKeyIndex+"_"+K,V=new p(L,Z,K,W);if(this.addToMultiFile(V),L.addFile(V),P[Y].normalMap){var H=new p(L,Z,P[Y].normalMap,W);H.type="normalMap",V.setLink(H),this.addToMultiFile(H),L.addFile(H)}}L.setBaseURL(F),L.setPath(I),L.setPrefix(D)}}},addToCache:function(){function C(B){console.warn('Compressed Texture Invalid: "'+F.key+'". '+B)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,A=this.loader.textureManager,L,F=this.files[0],I=this.files[1];if(S.type==="PVR"?L=v(F.data):S.type==="KTX"&&(L=i(F.data),L||C("KTX file contains unsupported format.")),L&&!m(L)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!P.supportsCompressedTexture(S.format,L.internalFormat)&&(C("Texture format "+S.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=P.getCompressedTextureName(S.format,L.internalFormat);var D=I&&I.data?I.data:null;A.addCompressedTexture(F.key,L,D)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,S=this.files[0],P=[],A=[],L=[],F=this.loader.systems.renderer,I=this.loader.textureManager,D,B=1;B<this.files.length;B++){var G=this.files[B];if(G.type!=="normalMap")for(var z=G.key.indexOf("_"),W=G.key.substr(z+1),Y=G.data,K=0;K<S.data.textures.length;K++){var Z=S.data.textures[K];if(Z.image===W){C.type==="PVR"?D=v(Y):C.type==="KTX"&&(D=i(Y)),D&&F.supportsCompressedTexture(C.format,D.internalFormat)&&(D.format=F.getCompressedTextureName(C.format,D.internalFormat),A.push(D),P.push(Z),G.linkFile&&L.push(G.linkFile.data));break}}}L.length===0&&(L=void 0),I.addAtlasJSONArray(this.key,A,P,L),this.complete=!0}});s.register("texture",function(C,S,P){var A=this.systems.renderer,L=function(I,D,B,G){var z={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(D)){var W=D;D=r(W,"key"),B=r(W,"url"),G=r(W,"xhrSettings")}var Y=!1;for(var K in B)if(A.supportsCompressedTexture(K)){var Z=B[K];typeof Z=="string"?z.textureURL=Z:z=h(Z,z),z.format=K.toUpperCase(),Y=!0;break}if(!Y)console.warn("No supported compressed texture format or IMG fallback",D);else if(z.format==="IMG"){var V,H;z.multiAtlasURL?(H=new u(I,D,z.multiAtlasURL,z.multiPath,z.multiBaseURL,G),V=H.files):z.atlasURL?(H=new a(I,D,z.textureURL,z.atlasURL,G),V=H.files):V=new e(I,D,z.textureURL,G),I.addFile(V)}else{var N=new T(I,D,z,G);I.addFile(N.files)}};if(Array.isArray(C))for(var F=0;F<C.length;F++)L(this,C[F]);else L(this,C,S,P);return this}),c.exports=T},47931:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(73894),l=new a({Extends:o,initialize:function(h,u,d,v,m){var T="glsl";if(e(u)){var C=u;u=r(C,"key"),d=r(C,"url"),v=r(C,"shaderType","fragment"),m=r(C,"xhrSettings"),T=r(C,"extension",T)}else v===void 0&&(v="fragment");var S={type:"glsl",cache:h.cacheManager.shader,extension:T,responseType:"text",key:u,url:d,config:{shaderType:v},xhrSettings:m};o.call(this,h,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),h=this.extractBlock(i,0);if(h)for(;h;){var u=this.getShaderName(h.header),d=this.getShaderType(h.header),v=this.getShaderUniforms(h.header),m=h.shader;if(this.cache.has(u)){var T=this.cache.get(u);d==="fragment"?T.fragmentSrc=m:T.vertexSrc=m,T.uniforms||(T.uniforms=v)}else d==="fragment"?this.cache.add(u,new n(u,m,"",v)):this.cache.add(u,new n(u,"",m,v));h=this.extractBlock(i,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var h={},u=0;u<i.length;u++){var d=i[u].trim();if(d.substring(0,8)==="uniform."){var v=d.indexOf(":");if(v){var m=d.substring(8,v);try{h[m]=JSON.parse(d.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return h},extractBlock:function(i,h){for(var u=-1,d=-1,v=-1,m=!1,T=!1,C=[],S=[],P=h;P<i.length;P++){var A=i[P].trim();if(A==="---")if(u===-1)u=P,m=!0;else if(m)d=P,m=!1,T=!0;else{T=!1;break}else m?C.push(A):T&&(S.push(A),v=P)}return!m&&d!==-1?{header:C,shader:S.join(`
`),offset:v}:null}});s.register("glsl",function(i,h,u,d){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new l(this,i[v]));else this.addFile(new l(this,i,h,u,d));return this}),c.exports=l},89749:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(54899),o=t(41299),s=t(95540),r=t(98356),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d){if(e(h)){var v=h;h=s(v,"key"),d=s(v,"config",d)}var m={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:h,url:u.url,config:d};o.call(this,i,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var i=this.data[l];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var i=l.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<l;i++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+i).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(i=0;i<this.data.length;i++)h=this.data[i],h.src=r(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=n},88470:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d){var v="html";if(e(h)){var m=h;h=r(m,"key"),u=r(m,"url"),d=r(m,"xhrSettings"),v=r(m,"extension",v)}var T={type:"text",cache:i.cacheManager.html,extension:v,responseType:"text",key:h,url:u,xhrSettings:d};o.call(this,i,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},14643:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d,v,m){d===void 0&&(d=512),v===void 0&&(v=512);var T="html";if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),m=r(C,"xhrSettings"),T=r(C,"extension",T),d=r(C,"width",d),v=r(C,"height",v)}var S={type:"html",cache:i.textureManager,extension:T,responseType:"text",key:h,url:u,xhrSettings:m,config:{width:d,height:v}};o.call(this,i,S)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.width,i=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+i+'px" viewBox="0 0 '+l+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var u=[h.join(`
`)],d=this;try{var v=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=p.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(d.data),d.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(l,i,h,u,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,i,h,u,d));return this}),c.exports=n},19550:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(98356),l=new a({Extends:o,initialize:function i(h,u,d,v,m){var T="png",C;if(e(u)){var S=u;u=r(S,"key"),d=r(S,"url"),C=r(S,"normalMap"),v=r(S,"xhrSettings"),T=r(S,"extension",T),m=r(S,"frameConfig")}Array.isArray(d)&&(C=d[1],d=d[0]);var P={type:"image",cache:h.textureManager,extension:T,responseType:"blob",key:u,url:d,xhrSettings:v,config:m};if(o.call(this,h,P),C){var A=new i(h,this.key,C,v,m);A.type="normalMap",this.setLink(A),h.addFile(A)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){o.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(i.data),i.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},518:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(35154),n=t(41212),l=new a({Extends:o,initialize:function(h,u,d,v,m){var T="json";if(n(u)){var C=u;u=r(C,"key"),d=r(C,"url"),v=r(C,"xhrSettings"),T=r(C,"extension",T),m=r(C,"dataKey",m)}var S={type:"json",cache:h.cacheManager.json,extension:T,responseType:"text",key:u,url:d,xhrSettings:v,config:m};o.call(this,h,S),n(d)&&(m?this.data=e(d,m):this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var h=this.config;typeof h=="string"?this.data=e(i,h,i):this.data=i}this.onProcessComplete()}});s.register("json",function(i,h,u,d){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new l(this,i[v]));else this.addFile(new l(this,i,h,d,u));return this}),c.exports=l},59327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,u,d,v,m,T,C){if(r(u)){var S=u;u=o(S,"key"),o(S,"url",!1)?d=o(S,"url"):d=o(S,"atlasURL"),T=o(S,"xhrSettings"),v=o(S,"path"),m=o(S,"baseURL"),C=o(S,"textureXhrSettings")}var P=new e(h,u,d,T);n.call(this,h,"multiatlas",u,[P]),this.config.path=v,this.config.baseURL=m,this.config.textureXhrSettings=C},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,d=this.config,v=this.loader,m=v.baseURL,T=v.path,C=v.prefix,S=o(d,"baseURL",this.baseURL),P=o(d,"path",this.path),A=o(d,"prefix",this.prefix),L=o(d,"textureXhrSettings");v.setBaseURL(S),v.setPath(P),v.setPrefix(A);for(var F=0;F<u.length;F++){var I=u[F].image,D="MA"+this.multiKeyIndex+"_"+I,B=new s(v,D,I,L);if(this.addToMultiFile(B),v.addFile(B),u[F].normalMap){var G=new s(v,D,u[F].normalMap,L);G.type="normalMap",B.setLink(G),this.addToMultiFile(G),v.addFile(G)}}v.setBaseURL(m),v.setPath(T),v.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],h=[],u=[],d=[],v=1;v<this.files.length;v++){var m=this.files[v];if(m.type!=="normalMap")for(var T=m.key.indexOf("_"),C=m.key.substr(T+1),S=m.data,P=0;P<i.data.textures.length;P++){var A=i.data.textures[P];if(A.image===C){u.push(S),h.push(A),m.linkFile&&d.push(m.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,h,d),this.complete=!0}}});p.register("multiatlas",function(i,h,u,d,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,d,v),this.addFile(m.files);return this}),c.exports=l},99297:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(34328),n=new a({Extends:r,initialize:function(i,h,u,d){var v="js",m=[];if(s(h)){var T=h;h=o(T,"key"),u=o(T,"url"),d=o(T,"xhrSettings"),v=o(T,"extension",v)}Array.isArray(u)||(u=[u]);for(var C=0;C<u.length;C++){var S=new e(i,{key:h+"_"+C.toString(),url:u[C],extension:v,xhrSettings:d});S.onProcess=function(){this.onProcessComplete()},m.push(S)}r.call(this,i,"scripts",h,m)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var i=this.files[l];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(l,i,h){var u;if(Array.isArray(l))for(var d=0;d<l.length;d++)u=new n(this,l[d]),this.addFile(u.files);else u=new n(this,l,i,h),this.addFile(u.files);return this}),c.exports=n},41846:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(85048),n=t(61485),l=t(78776),i=new a({Extends:r,initialize:function(u,d,v,m,T,C){var S,P,A=u.cacheManager.obj;if(s(d)){var L=d;d=o(L,"key"),S=new l(u,{key:d,type:"obj",cache:A,url:o(L,"url"),extension:o(L,"extension","obj"),xhrSettings:o(L,"xhrSettings"),config:{flipUV:o(L,"flipUV",T)}}),m=o(L,"matURL"),m&&(P=new l(u,{key:d,type:"mat",cache:A,url:m,extension:o(L,"matExtension","mat"),xhrSettings:o(L,"xhrSettings")}))}else S=new l(u,{key:d,url:v,type:"obj",cache:A,extension:"obj",xhrSettings:C,config:{flipUV:T}}),m&&(P=new l(u,{key:d,url:m,type:"mat",cache:A,extension:"mat",xhrSettings:C}));r.call(this,u,"obj",d,[S,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1],d=e(h.data,h.config.flipUV);u&&(d.materials=n(u.data)),h.cache.add(h.key,d),this.complete=!0}}});p.register("obj",function(h,u,d,v,m){var T;if(Array.isArray(h))for(var C=0;C<h.length;C++)T=new i(this,h[C]),this.addFile(T.files);else T=new i(this,h,u,d,v,m),this.addFile(T.files);return this}),c.exports=i},58610:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(74099),s=t(518),r=new a({Extends:s,initialize:function(n,l,i,h,u){s.call(this,n,l,i,h,u),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),c.exports=r},48988:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d,v,m){var T="js";if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),m=r(C,"xhrSettings"),T=r(C,"extension",T),d=r(C,"start"),v=r(C,"mapping")}var S={type:"plugin",cache:!1,extension:T,responseType:"text",key:h,url:u,xhrSettings:m,config:{start:d,mapping:v}};o.call(this,i,S),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=r(i,"start",!1),u=r(i,"mapping",null);if(this.state===p.FILE_POPULATED)l.install(this.key,this.data,h,u);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=l.install(this.key,window[this.key],h,u);(h||u)&&(this.loader.systems[u]=d,this.loader.scene[u]=d)}this.onProcessComplete()}});s.register("plugin",function(l,i,h,u,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,i,h,u,d));return this}),c.exports=n},67397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d,v){var m="svg";if(e(h)){var T=h;h=r(T,"key"),u=r(T,"url"),d=r(T,"svgConfig",{}),v=r(T,"xhrSettings"),m=r(T,"extension",m)}var C={type:"svg",cache:i.textureManager,extension:m,responseType:"text",key:h,url:u,xhrSettings:v,config:{width:r(d,"width"),height:r(d,"height"),scale:r(d,"scale")}};o.call(this,i,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.xhrLoader.responseText,i=[l],h=this.config.width,u=this.config.height,d=this.config.scale;t:if(h&&u||d){var v=null,m=new DOMParser;v=m.parseFromString(l,"text/xml");var T=v.getElementsByTagName("svg")[0],C=T.hasAttribute("viewBox"),S=parseFloat(T.getAttribute("width")),P=parseFloat(T.getAttribute("height"));if(!C&&S&&P)T.setAttribute("viewBox","0  0 "+S+" "+P);else if(C&&!S&&!P){var A=T.getAttribute("viewBox").split(/\s+|,/);S=A[2],P=A[3]}if(d)if(S&&P)h=S*d,u=P*d;else break t;T.setAttribute("width",h.toString()+"px"),T.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(T)]}try{var L=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var F=this,I=!1;this.data.onload=function(){I||o.revokeObjectURL(F.data),F.onProcessComplete()},this.data.onerror=function(){I?F.onProcessError():(I=!0,o.revokeObjectURL(F.data),F.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},o.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(l,i,h,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,u));return this}),c.exports=n},88423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d){var v="js";if(e(h)){var m=h;h=r(m,"key"),u=r(m,"url"),d=r(m,"xhrSettings"),v=r(m,"extension",v)}var T={type:"text",extension:v,responseType:"text",key:h,url:u,xhrSettings:d};o.call(this,i,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(l)),this.complete=!0}});s.register("sceneFile",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},56812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d,v,m){var T="js";if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),m=r(C,"xhrSettings"),T=r(C,"extension",T),d=r(C,"systemKey"),v=r(C,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:h,url:u,xhrSettings:m,config:{systemKey:d,sceneKey:v}};o.call(this,i,S),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=this.key,u=r(i,"systemKey",h),d=r(i,"sceneKey",h);this.state===p.FILE_POPULATED?l.installScenePlugin(u,this.data,d,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(u,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,i,h,u,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,i,h,u,d));return this}),c.exports=n},34328:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d,v){var m="js";if(e(h)){var T=h;h=r(T,"key"),u=r(T,"url"),d=r(T,"type","script"),v=r(T,"xhrSettings"),m=r(T,"extension",m)}else d===void 0&&(d="script");var C={type:d,cache:!1,extension:m,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,i,C)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,i,h,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,u));return this}),c.exports=n},85035:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(74099),s=t(19550),r=new a({Extends:s,initialize:function(n,l,i,h,u){s.call(this,n,l,i,u,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,l,i));return this}),c.exports=r},78776:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,u,d){var v="text",m="txt",T=i.cacheManager.text;if(e(h)){var C=h;h=r(C,"key"),u=r(C,"url"),d=r(C,"xhrSettings"),m=r(C,"extension",m),v=r(C,"type",v),T=r(C,"cache",T)}var S={type:v,cache:T,extension:m,responseType:"text",key:h,url:u,xhrSettings:d};o.call(this,i,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,i,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new n(this,l[u]));else this.addFile(new n(this,l,i,h));return this}),c.exports=n},49477:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(80341),l=new a({Extends:o,initialize:function(h,u,d,v){var m="csv";if(e(u)){var T=u;u=r(T,"key"),d=r(T,"url"),v=r(T,"xhrSettings"),m=r(T,"extension",m)}var C={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:m,responseType:"text",key:u,url:d,xhrSettings:v};o.call(this,h,C),this.tilemapFormat=n.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});s.register("tilemapCSV",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},40807:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},56775:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},25771:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(78776),l=new a({Extends:e,initialize:function(h,u,d,v,m,T){var C,S;if(r(u)){var P=u;u=o(P,"key"),C=new s(h,{key:u,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),S=new n(h,{key:u,url:o(P,"atlasURL"),extension:o(P,"atlasExtension","txt"),xhrSettings:o(P,"atlasXhrSettings")})}else C=new s(h,u,d,m),S=new n(h,u,v,T);C.linkFile?e.call(this,h,"unityatlas",u,[C,S,C.linkFile]):e.call(this,h,"unityatlas",u,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,h.data,u),this.complete=!0}}});p.register("unityAtlas",function(i,h,u,d,v){var m;if(Array.isArray(i))for(var T=0;T<i.length;T++)m=new l(this,i[T]),this.addFile(m.files);else m=new l(this,i,h,u,d,v),this.addFile(m.files);return this}),c.exports=l},33720:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(98356),e=t(95540),n=t(41212),l=new a({Extends:o,initialize:function(h,u,d,v){if(v===void 0&&(v=!1),n(u)){var m=u;u=e(m,"key"),d=e(m,"url",[]),v=e(m,"noAudio",!1)}var T=h.systems.game.device.video.getVideoURL(d);T||console.warn("VideoFile: No supported format for "+u);var C={type:"video",cache:h.cacheManager.video,extension:T.type,key:u,url:T.url,config:{noAudio:v}};o.call(this,h,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},57318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(56836),l=new a({Extends:o,initialize:function(h,u,d,v){var m="xml";if(e(u)){var T=u;u=r(T,"key"),d=r(T,"url"),v=r(T,"xhrSettings"),m=r(T,"extension",m)}var C={type:"xml",cache:h.cacheManager.xml,extension:m,responseType:"text",key:u,url:d,xhrSettings:v};o.call(this,h,C)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,u));return this}),c.exports=l},64589:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23906),p=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=p(!1,o,a),c.exports=o},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0,p=0;p<t.length;p++)a+=+t[p];return a/t.length};c.exports=x},85710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6411),p=function(o,s){return a(o)/a(s)/a(o-s)};c.exports=p},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};c.exports=x},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){var r=(o-a)*.5,e=(s-p)*.5,n=t*t,l=t*n;return(2*p-2*o+r+e)*l+(-3*p+3*o-2*r-e)*n+r*t+p};c.exports=x},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.ceil(t*o)/o};c.exports=x},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.max(a,Math.min(p,t))};c.exports=x},39506:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o){return o*a.DEG_TO_RAD};c.exports=p},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.abs(t-a)};c.exports=x},38857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(37867),s=t(29747),r=new o,e=new p({initialize:function n(l,i,h,u){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=n.DefaultOrder),this._x=l,this._y=i,this._z=h,this._order=u,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,i,h){return h===void 0&&(h=this._order),this._x=n,this._y=l,this._z=i,this._order=h,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,i){return l===void 0&&(l=this._order),i===void 0&&(i=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,i)},setFromRotationMatrix:function(n,l,i){l===void 0&&(l=this._order),i===void 0&&(i=!1);var h=n.val,u=h[0],d=h[4],v=h[8],m=h[1],T=h[5],C=h[9],S=h[2],P=h[6],A=h[10],L=0,F=0,I=0,D=.99999;switch(l){case"XYZ":{F=Math.asin(a(v,-1,1)),Math.abs(v)<D?(L=Math.atan2(-C,A),I=Math.atan2(-d,u)):L=Math.atan2(P,T);break}case"YXZ":{L=Math.asin(-a(C,-1,1)),Math.abs(C)<D?(F=Math.atan2(v,A),I=Math.atan2(m,T)):F=Math.atan2(-S,u);break}case"ZXY":{L=Math.asin(a(P,-1,1)),Math.abs(P)<D?(F=Math.atan2(-S,A),I=Math.atan2(-d,T)):I=Math.atan2(m,u);break}case"ZYX":{F=Math.asin(-a(S,-1,1)),Math.abs(S)<D?(L=Math.atan2(P,A),I=Math.atan2(m,u)):I=Math.atan2(-d,T);break}case"YZX":{I=Math.asin(a(m,-1,1)),Math.abs(m)<D?(L=Math.atan2(-C,T),F=Math.atan2(-S,u)):F=Math.atan2(v,A);break}case"XZY":{I=Math.asin(-a(d,-1,1)),Math.abs(d)<D?(L=Math.atan2(P,T),F=Math.atan2(v,u)):L=Math.atan2(-C,A);break}}return this._x=L,this._y=F,this._z=I,this._order=l,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};c.exports=x},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.random()*(a-t)+t};c.exports=x},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.floor(t*o)/o};c.exports=x},62945:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=function(o,s,r){return o=a(o,0,1),(r-s)*o+s};c.exports=p},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t/a/1e3};c.exports=x},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=x},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=x},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return(a-t)*p+t};c.exports=x},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=0),t.clone().lerp(a,p)};c.exports=x},94434:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new p(this)},set:function(o){return this.copy(o)},copy:function(o){var s=this.val,r=o.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(o){var s=o.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(o){var s=this.val;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,s=o[1],r=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=s,o[5]=o[7],o[6]=r,o[7]=e,this},invert:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],u=o[7],d=o[8],v=d*l-i*u,m=-d*n+i*h,T=u*n-l*h,C=s*v+r*m+e*T;return C?(C=1/C,o[0]=v*C,o[1]=(-d*r+e*u)*C,o[2]=(i*r-e*l)*C,o[3]=m*C,o[4]=(d*s-e*h)*C,o[5]=(-i*s+e*n)*C,o[6]=T*C,o[7]=(-u*s+r*h)*C,o[8]=(l*s-r*n)*C,this):null},adjoint:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],u=o[7],d=o[8];return o[0]=l*d-i*u,o[1]=e*u-r*d,o[2]=r*i-e*l,o[3]=i*h-n*d,o[4]=s*d-e*h,o[5]=e*n-s*i,o[6]=n*u-l*h,o[7]=r*h-s*u,o[8]=s*l-r*n,this},determinant:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],u=o[7],d=o[8];return s*(d*l-i*u)+r*(-d*n+i*h)+e*(u*n-l*h)},multiply:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],u=s[6],d=s[7],v=s[8],m=o.val,T=m[0],C=m[1],S=m[2],P=m[3],A=m[4],L=m[5],F=m[6],I=m[7],D=m[8];return s[0]=T*r+C*l+S*u,s[1]=T*e+C*i+S*d,s[2]=T*n+C*h+S*v,s[3]=P*r+A*l+L*u,s[4]=P*e+A*i+L*d,s[5]=P*n+A*h+L*v,s[6]=F*r+I*l+D*u,s[7]=F*e+I*i+D*d,s[8]=F*n+I*h+D*v,this},translate:function(o){var s=this.val,r=o.x,e=o.y;return s[6]=r*s[0]+e*s[3]+s[6],s[7]=r*s[1]+e*s[4]+s[7],s[8]=r*s[2]+e*s[5]+s[8],this},rotate:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],u=Math.sin(o),d=Math.cos(o);return s[0]=d*r+u*l,s[1]=d*e+u*i,s[2]=d*n+u*h,s[3]=d*l-u*r,s[4]=d*i-u*e,s[5]=d*h-u*n,this},scale:function(o){var s=this.val,r=o.x,e=o.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(o){var s=o.x,r=o.y,e=o.z,n=o.w,l=s+s,i=r+r,h=e+e,u=s*l,d=s*i,v=s*h,m=r*i,T=r*h,C=e*h,S=n*l,P=n*i,A=n*h,L=this.val;return L[0]=1-(m+C),L[3]=d+A,L[6]=v-P,L[1]=d-A,L[4]=1-(u+C),L[7]=T+S,L[2]=v+P,L[5]=T-S,L[8]=1-(u+m),this},normalFromMat4:function(o){var s=o.val,r=this.val,e=s[0],n=s[1],l=s[2],i=s[3],h=s[4],u=s[5],d=s[6],v=s[7],m=s[8],T=s[9],C=s[10],S=s[11],P=s[12],A=s[13],L=s[14],F=s[15],I=e*u-n*h,D=e*d-l*h,B=e*v-i*h,G=n*d-l*u,z=n*v-i*u,W=l*v-i*d,Y=m*A-T*P,K=m*L-C*P,Z=m*F-S*P,V=T*L-C*A,H=T*F-S*A,N=C*F-S*L,b=I*N-D*H+B*V+G*Z-z*K+W*Y;return b?(b=1/b,r[0]=(u*N-d*H+v*V)*b,r[1]=(d*Z-h*N-v*K)*b,r[2]=(h*H-u*Z+v*Y)*b,r[3]=(l*H-n*N-i*V)*b,r[4]=(e*N-l*Z+i*K)*b,r[5]=(n*Z-e*H-i*Y)*b,r[6]=(A*W-L*z+F*G)*b,r[7]=(L*B-P*W-F*D)*b,r[8]=(P*z-A*B+F*I)*b,this):null}});c.exports=p},37867:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(25836),o=1e-6,s=new a({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new s(this)},set:function(h){return this.copy(h)},setValues:function(h,u,d,v,m,T,C,S,P,A,L,F,I,D,B,G){var z=this.val;return z[0]=h,z[1]=u,z[2]=d,z[3]=v,z[4]=m,z[5]=T,z[6]=C,z[7]=S,z[8]=P,z[9]=A,z[10]=L,z[11]=F,z[12]=I,z[13]=D,z[14]=B,z[15]=G,this},copy:function(h){var u=h.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,u,d){var v=r.fromQuat(d),m=v.val,T=u.x,C=u.y,S=u.z;return this.setValues(m[0]*T,m[1]*T,m[2]*T,0,m[4]*C,m[5]*C,m[6]*C,0,m[8]*S,m[9]*S,m[10]*S,0,h.x,h.y,h.z,1)},xyz:function(h,u,d){this.identity();var v=this.val;return v[12]=h,v[13]=u,v[14]=d,this},scaling:function(h,u,d){this.zero();var v=this.val;return v[0]=h,v[5]=u,v[10]=d,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,u=h[1],d=h[2],v=h[3],m=h[6],T=h[7],C=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=u,h[6]=h[9],h[7]=h[13],h[8]=d,h[9]=m,h[11]=h[14],h[12]=v,h[13]=T,h[14]=C,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,u=h[0],d=h[1],v=h[2],m=h[3],T=h[4],C=h[5],S=h[6],P=h[7],A=h[8],L=h[9],F=h[10],I=h[11],D=h[12],B=h[13],G=h[14],z=h[15],W=u*C-d*T,Y=u*S-v*T,K=u*P-m*T,Z=d*S-v*C,V=d*P-m*C,H=v*P-m*S,N=A*B-L*D,b=A*G-F*D,X=A*z-I*D,$=L*G-F*B,Q=L*z-I*B,J=F*z-I*G,k=W*J-Y*Q+K*$+Z*X-V*b+H*N;return k?(k=1/k,this.setValues((C*J-S*Q+P*$)*k,(v*Q-d*J-m*$)*k,(B*H-G*V+z*Z)*k,(F*V-L*H-I*Z)*k,(S*X-T*J-P*b)*k,(u*J-v*X+m*b)*k,(G*K-D*H-z*Y)*k,(A*H-F*K+I*Y)*k,(T*Q-C*X+P*N)*k,(d*X-u*Q-m*N)*k,(D*V-B*K+z*W)*k,(L*K-A*V-I*W)*k,(C*b-T*$-S*N)*k,(u*$-d*b+v*N)*k,(B*Y-D*Z-G*W)*k,(A*Z-L*Y+F*W)*k)):this},adjoint:function(){var h=this.val,u=h[0],d=h[1],v=h[2],m=h[3],T=h[4],C=h[5],S=h[6],P=h[7],A=h[8],L=h[9],F=h[10],I=h[11],D=h[12],B=h[13],G=h[14],z=h[15];return this.setValues(C*(F*z-I*G)-L*(S*z-P*G)+B*(S*I-P*F),-(d*(F*z-I*G)-L*(v*z-m*G)+B*(v*I-m*F)),d*(S*z-P*G)-C*(v*z-m*G)+B*(v*P-m*S),-(d*(S*I-P*F)-C*(v*I-m*F)+L*(v*P-m*S)),-(T*(F*z-I*G)-A*(S*z-P*G)+D*(S*I-P*F)),u*(F*z-I*G)-A*(v*z-m*G)+D*(v*I-m*F),-(u*(S*z-P*G)-T*(v*z-m*G)+D*(v*P-m*S)),u*(S*I-P*F)-T*(v*I-m*F)+A*(v*P-m*S),T*(L*z-I*B)-A*(C*z-P*B)+D*(C*I-P*L),-(u*(L*z-I*B)-A*(d*z-m*B)+D*(d*I-m*L)),u*(C*z-P*B)-T*(d*z-m*B)+D*(d*P-m*C),-(u*(C*I-P*L)-T*(d*I-m*L)+A*(d*P-m*C)),-(T*(L*G-F*B)-A*(C*G-S*B)+D*(C*F-S*L)),u*(L*G-F*B)-A*(d*G-v*B)+D*(d*F-v*L),-(u*(C*G-S*B)-T*(d*G-v*B)+D*(d*S-v*C)),u*(C*F-S*L)-T*(d*F-v*L)+A*(d*S-v*C))},determinant:function(){var h=this.val,u=h[0],d=h[1],v=h[2],m=h[3],T=h[4],C=h[5],S=h[6],P=h[7],A=h[8],L=h[9],F=h[10],I=h[11],D=h[12],B=h[13],G=h[14],z=h[15],W=u*C-d*T,Y=u*S-v*T,K=u*P-m*T,Z=d*S-v*C,V=d*P-m*C,H=v*P-m*S,N=A*B-L*D,b=A*G-F*D,X=A*z-I*D,$=L*G-F*B,Q=L*z-I*B,J=F*z-I*G;return W*J-Y*Q+K*$+Z*X-V*b+H*N},multiply:function(h){var u=this.val,d=u[0],v=u[1],m=u[2],T=u[3],C=u[4],S=u[5],P=u[6],A=u[7],L=u[8],F=u[9],I=u[10],D=u[11],B=u[12],G=u[13],z=u[14],W=u[15],Y=h.val,K=Y[0],Z=Y[1],V=Y[2],H=Y[3];return u[0]=K*d+Z*C+V*L+H*B,u[1]=K*v+Z*S+V*F+H*G,u[2]=K*m+Z*P+V*I+H*z,u[3]=K*T+Z*A+V*D+H*W,K=Y[4],Z=Y[5],V=Y[6],H=Y[7],u[4]=K*d+Z*C+V*L+H*B,u[5]=K*v+Z*S+V*F+H*G,u[6]=K*m+Z*P+V*I+H*z,u[7]=K*T+Z*A+V*D+H*W,K=Y[8],Z=Y[9],V=Y[10],H=Y[11],u[8]=K*d+Z*C+V*L+H*B,u[9]=K*v+Z*S+V*F+H*G,u[10]=K*m+Z*P+V*I+H*z,u[11]=K*T+Z*A+V*D+H*W,K=Y[12],Z=Y[13],V=Y[14],H=Y[15],u[12]=K*d+Z*C+V*L+H*B,u[13]=K*v+Z*S+V*F+H*G,u[14]=K*m+Z*P+V*I+H*z,u[15]=K*T+Z*A+V*D+H*W,this},multiplyLocal:function(h){var u=this.val,d=h.val;return this.setValues(u[0]*d[0]+u[1]*d[4]+u[2]*d[8]+u[3]*d[12],u[0]*d[1]+u[1]*d[5]+u[2]*d[9]+u[3]*d[13],u[0]*d[2]+u[1]*d[6]+u[2]*d[10]+u[3]*d[14],u[0]*d[3]+u[1]*d[7]+u[2]*d[11]+u[3]*d[15],u[4]*d[0]+u[5]*d[4]+u[6]*d[8]+u[7]*d[12],u[4]*d[1]+u[5]*d[5]+u[6]*d[9]+u[7]*d[13],u[4]*d[2]+u[5]*d[6]+u[6]*d[10]+u[7]*d[14],u[4]*d[3]+u[5]*d[7]+u[6]*d[11]+u[7]*d[15],u[8]*d[0]+u[9]*d[4]+u[10]*d[8]+u[11]*d[12],u[8]*d[1]+u[9]*d[5]+u[10]*d[9]+u[11]*d[13],u[8]*d[2]+u[9]*d[6]+u[10]*d[10]+u[11]*d[14],u[8]*d[3]+u[9]*d[7]+u[10]*d[11]+u[11]*d[15],u[12]*d[0]+u[13]*d[4]+u[14]*d[8]+u[15]*d[12],u[12]*d[1]+u[13]*d[5]+u[14]*d[9]+u[15]*d[13],u[12]*d[2]+u[13]*d[6]+u[14]*d[10]+u[15]*d[14],u[12]*d[3]+u[13]*d[7]+u[14]*d[11]+u[15]*d[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,u){var d=h.val,v=u.val,m=d[0],T=d[4],C=d[8],S=d[12],P=d[1],A=d[5],L=d[9],F=d[13],I=d[2],D=d[6],B=d[10],G=d[14],z=d[3],W=d[7],Y=d[11],K=d[15],Z=v[0],V=v[4],H=v[8],N=v[12],b=v[1],X=v[5],$=v[9],Q=v[13],J=v[2],k=v[6],et=v[10],nt=v[14],st=v[3],ot=v[7],ut=v[11],at=v[15];return this.setValues(m*Z+T*b+C*J+S*st,P*Z+A*b+L*J+F*st,I*Z+D*b+B*J+G*st,z*Z+W*b+Y*J+K*st,m*V+T*X+C*k+S*ot,P*V+A*X+L*k+F*ot,I*V+D*X+B*k+G*ot,z*V+W*X+Y*k+K*ot,m*H+T*$+C*et+S*ut,P*H+A*$+L*et+F*ut,I*H+D*$+B*et+G*ut,z*H+W*$+Y*et+K*ut,m*N+T*Q+C*nt+S*at,P*N+A*Q+L*nt+F*at,I*N+D*Q+B*nt+G*at,z*N+W*Q+Y*nt+K*at)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,u,d){var v=this.val;return v[12]=v[0]*h+v[4]*u+v[8]*d+v[12],v[13]=v[1]*h+v[5]*u+v[9]*d+v[13],v[14]=v[2]*h+v[6]*u+v[10]*d+v[14],v[15]=v[3]*h+v[7]*u+v[11]*d+v[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,u,d){var v=this.val;return v[0]=v[0]*h,v[1]=v[1]*h,v[2]=v[2]*h,v[3]=v[3]*h,v[4]=v[4]*u,v[5]=v[5]*u,v[6]=v[6]*u,v[7]=v[7]*u,v[8]=v[8]*d,v[9]=v[9]*d,v[10]=v[10]*d,v[11]=v[11]*d,this},makeRotationAxis:function(h,u){var d=Math.cos(u),v=Math.sin(u),m=1-d,T=h.x,C=h.y,S=h.z,P=m*T,A=m*C;return this.setValues(P*T+d,P*C-v*S,P*S+v*C,0,P*C+v*S,A*C+d,A*S-v*T,0,P*S-v*C,A*S+v*T,m*S*S+d,0,0,0,0,1)},rotate:function(h,u){var d=this.val,v=u.x,m=u.y,T=u.z,C=Math.sqrt(v*v+m*m+T*T);if(Math.abs(C)<o)return this;C=1/C,v*=C,m*=C,T*=C;var S=Math.sin(h),P=Math.cos(h),A=1-P,L=d[0],F=d[1],I=d[2],D=d[3],B=d[4],G=d[5],z=d[6],W=d[7],Y=d[8],K=d[9],Z=d[10],V=d[11],H=d[12],N=d[13],b=d[14],X=d[15],$=v*v*A+P,Q=m*v*A+T*S,J=T*v*A-m*S,k=v*m*A-T*S,et=m*m*A+P,nt=T*m*A+v*S,st=v*T*A+m*S,ot=m*T*A-v*S,ut=T*T*A+P;return this.setValues(L*$+B*Q+Y*J,F*$+G*Q+K*J,I*$+z*Q+Z*J,D*$+W*Q+V*J,L*k+B*et+Y*nt,F*k+G*et+K*nt,I*k+z*et+Z*nt,D*k+W*et+V*nt,L*st+B*ot+Y*ut,F*st+G*ot+K*ut,I*st+z*ot+Z*ut,D*st+W*ot+V*ut,H,N,b,X)},rotateX:function(h){var u=this.val,d=Math.sin(h),v=Math.cos(h),m=u[4],T=u[5],C=u[6],S=u[7],P=u[8],A=u[9],L=u[10],F=u[11];return u[4]=m*v+P*d,u[5]=T*v+A*d,u[6]=C*v+L*d,u[7]=S*v+F*d,u[8]=P*v-m*d,u[9]=A*v-T*d,u[10]=L*v-C*d,u[11]=F*v-S*d,this},rotateY:function(h){var u=this.val,d=Math.sin(h),v=Math.cos(h),m=u[0],T=u[1],C=u[2],S=u[3],P=u[8],A=u[9],L=u[10],F=u[11];return u[0]=m*v-P*d,u[1]=T*v-A*d,u[2]=C*v-L*d,u[3]=S*v-F*d,u[8]=m*d+P*v,u[9]=T*d+A*v,u[10]=C*d+L*v,u[11]=S*d+F*v,this},rotateZ:function(h){var u=this.val,d=Math.sin(h),v=Math.cos(h),m=u[0],T=u[1],C=u[2],S=u[3],P=u[4],A=u[5],L=u[6],F=u[7];return u[0]=m*v+P*d,u[1]=T*v+A*d,u[2]=C*v+L*d,u[3]=S*v+F*d,u[4]=P*v-m*d,u[5]=A*v-T*d,u[6]=L*v-C*d,u[7]=F*v-S*d,this},fromRotationTranslation:function(h,u){var d=h.x,v=h.y,m=h.z,T=h.w,C=d+d,S=v+v,P=m+m,A=d*C,L=d*S,F=d*P,I=v*S,D=v*P,B=m*P,G=T*C,z=T*S,W=T*P;return this.setValues(1-(I+B),L+W,F-z,0,L-W,1-(A+B),D+G,0,F+z,D-G,1-(A+I),0,u.x,u.y,u.z,1)},fromQuat:function(h){var u=h.x,d=h.y,v=h.z,m=h.w,T=u+u,C=d+d,S=v+v,P=u*T,A=u*C,L=u*S,F=d*C,I=d*S,D=v*S,B=m*T,G=m*C,z=m*S;return this.setValues(1-(F+D),A+z,L-G,0,A-z,1-(P+D),I+B,0,L+G,I-B,1-(P+F),0,0,0,0,1)},frustum:function(h,u,d,v,m,T){var C=1/(u-h),S=1/(v-d),P=1/(m-T);return this.setValues(m*2*C,0,0,0,0,m*2*S,0,0,(u+h)*C,(v+d)*S,(T+m)*P,-1,0,0,T*m*2*P,0)},perspective:function(h,u,d,v){var m=1/Math.tan(h/2),T=1/(d-v);return this.setValues(m/u,0,0,0,0,m,0,0,0,0,(v+d)*T,-1,0,0,2*v*d*T,0)},perspectiveLH:function(h,u,d,v){return this.setValues(2*d/h,0,0,0,0,2*d/u,0,0,0,0,-v/(d-v),1,0,0,d*v/(d-v),0)},ortho:function(h,u,d,v,m,T){var C=h-u,S=d-v,P=m-T;return C=C===0?C:1/C,S=S===0?S:1/S,P=P===0?P:1/P,this.setValues(-2*C,0,0,0,0,-2*S,0,0,0,0,2*P,0,(h+u)*C,(v+d)*S,(T+m)*P,1)},lookAtRH:function(h,u,d){var v=this.val;return i.subVectors(h,u),i.getLengthSquared()===0&&(i.z=1),i.normalize(),n.crossVectors(d,i),n.getLengthSquared()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(d,i)),n.normalize(),l.crossVectors(i,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=i.x,v[9]=i.y,v[10]=i.z,this},lookAt:function(h,u,d){var v=h.x,m=h.y,T=h.z,C=d.x,S=d.y,P=d.z,A=u.x,L=u.y,F=u.z;if(Math.abs(v-A)<o&&Math.abs(m-L)<o&&Math.abs(T-F)<o)return this.identity();var I=v-A,D=m-L,B=T-F,G=1/Math.sqrt(I*I+D*D+B*B);I*=G,D*=G,B*=G;var z=S*B-P*D,W=P*I-C*B,Y=C*D-S*I;G=Math.sqrt(z*z+W*W+Y*Y),G?(G=1/G,z*=G,W*=G,Y*=G):(z=0,W=0,Y=0);var K=D*Y-B*W,Z=B*z-I*Y,V=I*W-D*z;return G=Math.sqrt(K*K+Z*Z+V*V),G?(G=1/G,K*=G,Z*=G,V*=G):(K=0,Z=0,V=0),this.setValues(z,K,I,0,W,Z,D,0,Y,V,B,0,-(z*v+W*m+Y*T),-(K*v+Z*m+V*T),-(I*v+D*m+B*T),1)},yawPitchRoll:function(h,u,d){this.zero(),r.zero(),e.zero();var v=this.val,m=r.val,T=e.val,C=Math.sin(d),S=Math.cos(d);return v[10]=1,v[15]=1,v[0]=S,v[1]=C,v[4]=-C,v[5]=S,C=Math.sin(u),S=Math.cos(u),m[0]=1,m[15]=1,m[5]=S,m[10]=S,m[9]=-C,m[6]=C,C=Math.sin(h),S=Math.cos(h),T[5]=1,T[15]=1,T[0]=S,T[2]=-C,T[8]=C,T[10]=S,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(h,u,d,v,m){return this.yawPitchRoll(h.y,h.x,h.z),r.scaling(d.x,d.y,d.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(r),this.multiplyLocal(e),v&&this.multiplyLocal(v),m&&this.multiplyLocal(m),this},multiplyToMat4:function(h,u){var d=this.val,v=h.val,m=d[0],T=d[1],C=d[2],S=d[3],P=d[4],A=d[5],L=d[6],F=d[7],I=d[8],D=d[9],B=d[10],G=d[11],z=d[12],W=d[13],Y=d[14],K=d[15],Z=v[0],V=v[1],H=v[2],N=v[3],b=v[4],X=v[5],$=v[6],Q=v[7],J=v[8],k=v[9],et=v[10],nt=v[11],st=v[12],ot=v[13],ut=v[14],at=v[15];return u.setValues(Z*m+V*P+H*I+N*z,V*T+V*A+H*D+N*W,H*C+V*L+H*B+N*Y,N*S+V*F+H*G+N*K,b*m+X*P+$*I+Q*z,b*T+X*A+$*D+Q*W,b*C+X*L+$*B+Q*Y,b*S+X*F+$*G+Q*K,J*m+k*P+et*I+nt*z,J*T+k*A+et*D+nt*W,J*C+k*L+et*B+nt*Y,J*S+k*F+et*G+nt*K,st*m+ot*P+ut*I+at*z,st*T+ot*A+ut*D+at*W,st*C+ot*L+ut*B+at*Y,st*S+ot*F+ut*G+at*K)},fromRotationXYTranslation:function(h,u,d){var v=u.x,m=u.y,T=u.z,C=Math.sin(h.x),S=Math.cos(h.x),P=Math.sin(h.y),A=Math.cos(h.y),L=v,F=m,I=T,D=-C,B=0-D*P,G=0-S*P,z=D*A,W=S*A;return d||(L=A*v+P*T,F=B*v+S*m+z*T,I=G*v+C*m+W*T),this.setValues(A,B,G,0,0,S,C,0,P,z,W,0,L,F,I,1)},getMaxScaleOnAxis:function(){var h=this.val,u=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],d=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],v=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(u,d,v))}}),r=new s,e=new s,n=new p,l=new p,i=new p;c.exports=s},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.min(t+a,p)};c.exports=x},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=t.length;if(a===0)return 0;t.sort(function(o,s){return o-s});var p=Math.floor(a/2);return a%2===0?(t[p]+t[p-1])/2:t[p]};c.exports=x},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.max(t-a,p)};c.exports=x},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){p===void 0&&(p=a+1);var s=(t-a)/(p-a);return s>1?o!==void 0?(s=(o-t)/(o-p),s<0&&(s=0)):s=1:s<0&&(s=0),s};c.exports=x},15746:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94434),o=t(29747),s=t(25836),r=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new s(1,0,0),i=new s(0,1,0),h=new s,u=new p,d=new a({initialize:function(m,T,C,S){this.onChangeCallback=o,this.set(m,T,C,S)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,m,T,C,S){return S===void 0&&(S=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=m||0,this._z=T||0,this._w=C||0),S&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,m=this.y,T=this.z,C=this.w;return Math.sqrt(v*v+m*m+T*T+C*C)},lengthSq:function(){var v=this.x,m=this.y,T=this.z,C=this.w;return v*v+m*m+T*T+C*C},normalize:function(){var v=this.x,m=this.y,T=this.z,C=this.w,S=v*v+m*m+T*T+C*C;return S>0&&(S=1/Math.sqrt(S),this._x=v*S,this._y=m*S,this._z=T*S,this._w=C*S),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,m){m===void 0&&(m=0);var T=this.x,C=this.y,S=this.z,P=this.w;return this.set(T+m*(v.x-T),C+m*(v.y-C),S+m*(v.z-S),P+m*(v.w-P))},rotationTo:function(v,m){var T=v.x*m.x+v.y*m.y+v.z*m.z;return T<-.999999?(h.copy(l).cross(v).length()<r&&h.copy(i).cross(v),h.normalize(),this.setAxisAngle(h,Math.PI)):T>.999999?this.set(0,0,0,1):(h.copy(v).cross(m),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+T,this.normalize())},setAxes:function(v,m,T){var C=u.val;return C[0]=m.x,C[3]=m.y,C[6]=m.z,C[1]=T.x,C[4]=T.y,C[7]=T.z,C[2]=-v.x,C[5]=-v.y,C[8]=-v.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,m){m=m*.5;var T=Math.sin(m);return this.set(T*v.x,T*v.y,T*v.z,Math.cos(m))},multiply:function(v){var m=this.x,T=this.y,C=this.z,S=this.w,P=v.x,A=v.y,L=v.z,F=v.w;return this.set(m*F+S*P+T*L-C*A,T*F+S*A+C*P-m*L,C*F+S*L+m*A-T*P,S*F-m*P-T*A-C*L)},slerp:function(v,m){var T=this.x,C=this.y,S=this.z,P=this.w,A=v.x,L=v.y,F=v.z,I=v.w,D=T*A+C*L+S*F+P*I;D<0&&(D=-D,A=-A,L=-L,F=-F,I=-I);var B=1-m,G=m;if(1-D>r){var z=Math.acos(D),W=Math.sin(z);B=Math.sin((1-m)*z)/W,G=Math.sin(m*z)/W}return this.set(B*T+G*A,B*C+G*L,B*S+G*F,B*P+G*I)},invert:function(){var v=this.x,m=this.y,T=this.z,C=this.w,S=v*v+m*m+T*T+C*C,P=S?1/S:0;return this.set(-v*P,-m*P,-T*P,C*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,P=Math.sin(v),A=Math.cos(v);return this.set(m*A+S*P,T*A+C*P,C*A-T*P,S*A-m*P)},rotateY:function(v){v*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,P=Math.sin(v),A=Math.cos(v);return this.set(m*A-C*P,T*A+S*P,C*A+m*P,S*A-T*P)},rotateZ:function(v){v*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,P=Math.sin(v),A=Math.cos(v);return this.set(m*A+T*P,T*A-m*P,C*A+S*P,S*A-C*P)},calculateW:function(){var v=this.x,m=this.y,T=this.z;return this.w=-Math.sqrt(1-v*v-m*m-T*T),this},setFromEuler:function(v,m){var T=v.x/2,C=v.y/2,S=v.z/2,P=Math.cos(T),A=Math.cos(C),L=Math.cos(S),F=Math.sin(T),I=Math.sin(C),D=Math.sin(S);switch(v.order){case"XYZ":{this.set(F*A*L+P*I*D,P*I*L-F*A*D,P*A*D+F*I*L,P*A*L-F*I*D,m);break}case"YXZ":{this.set(F*A*L+P*I*D,P*I*L-F*A*D,P*A*D-F*I*L,P*A*L+F*I*D,m);break}case"ZXY":{this.set(F*A*L-P*I*D,P*I*L+F*A*D,P*A*D+F*I*L,P*A*L-F*I*D,m);break}case"ZYX":{this.set(F*A*L-P*I*D,P*I*L+F*A*D,P*A*D-F*I*L,P*A*L+F*I*D,m);break}case"YZX":{this.set(F*A*L+P*I*D,P*I*L+F*A*D,P*A*D-F*I*L,P*A*L-F*I*D,m);break}case"XZY":{this.set(F*A*L-P*I*D,P*I*L-F*A*D,P*A*D+F*I*L,P*A*L+F*I*D,m);break}}return this},setFromRotationMatrix:function(v){var m=v.val,T=m[0],C=m[4],S=m[8],P=m[1],A=m[5],L=m[9],F=m[2],I=m[6],D=m[10],B=T+A+D,G;return B>0?(G=.5/Math.sqrt(B+1),this.set((I-L)*G,(S-F)*G,(P-C)*G,.25/G)):T>A&&T>D?(G=2*Math.sqrt(1+T-A-D),this.set(.25*G,(C+P)/G,(S+F)/G,(I-L)/G)):A>D?(G=2*Math.sqrt(1+A-T-D),this.set((C+P)/G,.25*G,(L+I)/G,(S-F)/G)):(G=2*Math.sqrt(1+D-T-A),this.set((S+F)/G,(L+I)/G,.25*G,(P-C)/G)),this},fromMat3:function(v){var m=v.val,T=m[0]+m[4]+m[8],C;if(T>0)C=Math.sqrt(T+1),this.w=.5*C,C=.5/C,this._x=(m[7]-m[5])*C,this._y=(m[2]-m[6])*C,this._z=(m[3]-m[1])*C;else{var S=0;m[4]>m[0]&&(S=1),m[8]>m[S*3+S]&&(S=2);var P=e[S],A=e[P];C=Math.sqrt(m[S*3+S]-m[P*3+P]-m[A*3+A]+1),n[S]=.5*C,C=.5/C,n[P]=(m[P*3+S]+m[S*3+P])*C,n[A]=(m[A*3+S]+m[S*3+A])*C,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(m[A*3+P]-m[P*3+A])*C}return this.onChangeCallback(this),this}});c.exports=d},43396:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o){return o*a.RAD_TO_DEG};c.exports=p},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*a,t.y=Math.sin(p)*a,t};c.exports=x},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI,o=Math.random()*2-1,s=Math.sqrt(1-o*o)*a;return t.x=Math.cos(p)*s,t.y=Math.sin(p)*s,t.z=o*a,t};c.exports=x},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};c.exports=x},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x,o=t.y;return t.x=p*Math.cos(a)-o*Math.sin(a),t.y=p*Math.sin(a)+o*Math.cos(a),t};c.exports=x},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x-a,n=t.y-p;return t.x=e*s-n*r+a,t.y=e*r+n*s+p,t};c.exports=x},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){var r=o+Math.atan2(t.y-p,t.x-a);return t.x=a+s*Math.cos(r),t.y=p+s*Math.sin(r),t};c.exports=x},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){return t.x=a+s*Math.cos(o),t.y=p+s*Math.sin(o),t};c.exports=x},72678:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(25836),p=t(37867),o=t(15746),s=new p,r=new o,e=new a,n=function(l,i,h){return r.setAxisAngle(i,h),s.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(s)};c.exports=n},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=x},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.round(t*o)/o};c.exports=x},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a===void 0&&(a=1),p===void 0&&(p=1),o===void 0&&(o=1),o*=Math.PI/t;for(var s=[],r=[],e=0;e<t;e++)p-=a*o,a+=p*o,s[e]=p,r[e]=a;return{sin:r,cos:s,length:t}};c.exports=x},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t<=a?0:t>=p?1:(t=(t-a)/(p-a),t*t*(3-2*t))};c.exports=x},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t=Math.max(0,Math.min(1,(t-a)/(p-a))),t*t*t*(t*(t*6-15)+10)};c.exports=x},44408:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e){e===void 0&&(e=new a);var n=0,l=0,i=s*r;return o>0&&o<=i&&(o>s-1?(l=Math.floor(o/s),n=o-l*s):n=o),e.set(n,l)};c.exports=p},85955:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l,i,h){h===void 0&&(h=new a);var u=Math.sin(n),d=Math.cos(n),v=d*l,m=u*l,T=-u*i,C=d*i,S=1/(v*C+T*-m);return h.x=C*S*o+-T*S*s+(e*T-r*C)*S,h.y=v*S*s+-m*S*o+(-e*v+r*m)*S,h};c.exports=p},26099:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(43855),o=new a({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return p(this.x,s.x,r)&&p(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,e=s.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(s){var r=s.x-this.x,e=s.y-this.y;return r*r+e*e},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,e=s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=r*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var e=this.x,n=this.y;return this.x=e+r*(s.x-e),this.y=n+r*(s.y-n),this},transformMat3:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},transformMat4:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[4]*e+n[12],this.y=n[1]*r+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),e=Math.sin(s);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),c.exports=o},25836:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(o,s){return this.x=o.x+s.x,this.y=o.y+s.y,this.z=o.z+s.z,this},crossVectors:function(o,s){var r=o.x,e=o.y,n=o.z,l=s.x,i=s.y,h=s.z;return this.x=e*h-n*i,this.y=n*l-r*h,this.z=r*i-e*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,s,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,s){return this.fromArray(o.val,s*4)},fromArray:function(o,s){return s===void 0&&(s=0),this.x=o[s],this.y=o[s+1],this.z=o[s+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,s){return this.x+=o.x*s,this.y+=o.y*s,this.z+=o.z*s||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(s*s+r*r+e*e)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return s*s+r*r+e*e},length:function(){var o=this.x,s=this.y,r=this.z;return Math.sqrt(o*o+s*s+r*r)},lengthSq:function(){var o=this.x,s=this.y,r=this.z;return o*o+s*s+r*r},normalize:function(){var o=this.x,s=this.y,r=this.z,e=o*o+s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=s*e,this.z=r*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z;return this.x=r*i-e*l,this.y=e*n-s*i,this.z=s*l-r*n,this},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this},applyMatrix3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[3]*r+n[6]*e,this.y=n[1]*s+n[4]*r+n[7]*e,this.z=n[2]*s+n[5]*r+n[8]*e,this},applyMatrix4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=1/(n[3]*s+n[7]*r+n[11]*e+n[15]);return this.x=(n[0]*s+n[4]*r+n[8]*e+n[12])*l,this.y=(n[1]*s+n[5]*r+n[9]*e+n[13])*l,this.z=(n[2]*s+n[6]*r+n[10]*e+n[14])*l,this},transformMat3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=s*n[0]+r*n[3]+e*n[6],this.y=s*n[1]+r*n[4]+e*n[7],this.z=s*n[2]+r*n[5]+e*n[8],this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[4]*r+n[8]*e+n[12],this.y=n[1]*s+n[5]*r+n[9]*e+n[13],this.z=n[2]*s+n[6]*r+n[10]*e+n[14],this},transformCoordinates:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=s*n[0]+r*n[4]+e*n[8]+n[12],i=s*n[1]+r*n[5]+e*n[9]+n[13],h=s*n[2]+r*n[6]+e*n[10]+n[14],u=s*n[3]+r*n[7]+e*n[11]+n[15];return this.x=l/u,this.y=i/u,this.z=h/u,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,u=h*s+l*e-i*r,d=h*r+i*s-n*e,v=h*e+n*r-l*s,m=-n*s-l*r-i*e;return this.x=u*h+m*-n+d*-i-v*-l,this.y=d*h+m*-l+v*-n-u*-i,this.z=v*h+m*-i+u*-l-d*-n,this},project:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=n[0],i=n[1],h=n[2],u=n[3],d=n[4],v=n[5],m=n[6],T=n[7],C=n[8],S=n[9],P=n[10],A=n[11],L=n[12],F=n[13],I=n[14],D=n[15],B=1/(s*u+r*T+e*A+D);return this.x=(s*l+r*d+e*C+L)*B,this.y=(s*i+r*v+e*S+F)*B,this.z=(s*h+r*m+e*P+I)*B,this},projectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unprojectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unproject:function(o,s){var r=o.x,e=o.y,n=o.z,l=o.w,i=this.x-r,h=l-this.y-1-e,u=this.z;return this.x=2*i/n-1,this.y=2*h/l-1,this.z=2*u-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),c.exports=p},61369:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=e||0,this.w=n||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,s,r,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=s||0,this.z=r||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return Math.sqrt(o*o+s*s+r*r+e*e)},lengthSq:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return o*o+s*s+r*r+e*e},normalize:function(){var o=this.x,s=this.y,r=this.z,e=this.w,n=o*o+s*s+r*r+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=s*n,this.z=r*n,this.w=e*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z,l=this.w;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this.w=l+s*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(s*s+r*r+e*e+n*n)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return s*s+r*r+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=this.w,l=o.val;return this.x=l[0]*s+l[4]*r+l[8]*e+l[12]*n,this.y=l[1]*s+l[5]*r+l[9]*e+l[13]*n,this.z=l[2]*s+l[6]*r+l[10]*e+l[14]*n,this.w=l[3]*s+l[7]*r+l[11]*e+l[15]*n,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,u=h*s+l*e-i*r,d=h*r+i*s-n*e,v=h*e+n*r-l*s,m=-n*s-l*r-i*e;return this.x=u*h+m*-n+d*-i-v*-l,this.y=d*h+m*-l+v*-n-u*-i,this.z=v*h+m*-i+u*-l-d*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,c.exports=p},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return Math.abs(t-a)<=p};c.exports=x},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p-a;return a+((t-a)%o+o)%o};c.exports=x},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.atan2(o-a,p-t)};c.exports=x},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};c.exports=x},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};c.exports=x},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.atan2(p-t,o-a)};c.exports=x},1432:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o){return o>Math.PI&&(o-=a.PI2),Math.abs(((o+a.TAU)%a.PI2-a.PI2)%a.PI2)};c.exports=p},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=x},53993:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99472),p=function(){return a(-Math.PI,Math.PI)};c.exports=p},86564:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(99472),p=function(){return a(-180,180)};c.exports=p},90154:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(12407),p=function(o){return a(o+Math.PI)};c.exports=p},48736:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=function(o,s,r){return r===void 0&&(r=.05),o===s||(Math.abs(s-o)<=r||Math.abs(s-o)>=a.PI2-r?o=s:(Math.abs(s-o)>Math.PI&&(s<o?s+=a.PI2:s-=a.PI2),s>o?o+=r:s<o&&(o-=r))),o};c.exports=p},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=a-t;if(p===0)return 0;var o=Math.floor((p- -180)/360);return p-o*360};c.exports=x},86554:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),p=function(o){return a(o,-Math.PI,Math.PI)};c.exports=p},30954:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15994),p=function(o){return a(o,-180,180)};c.exports=p},25588:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=x},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t-p,r=a-o;return Math.sqrt(s*s+r*r)};c.exports=x},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x-a.x,o=t.y-a.y;return Math.sqrt(p*p+o*o)};c.exports=x},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.x-a.x,o=t.y-a.y;return p*p+o*o};c.exports=x},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.max(Math.abs(t-p),Math.abs(a-o))};c.exports=x},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(p-t,s)+Math.pow(o-a,s))};c.exports=x},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return Math.abs(t-p)+Math.abs(a-o)};c.exports=x},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t-p,r=a-o;return s*s+r*r};c.exports=x},50994:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54178),p=t(41521),o=t(79980),s=t(85433),r=t(99140),e=t(48857),n=t(81596),l=t(59133),i=t(98516),h=t(35248),u=t(82500),d=t(49752);c.exports={Power0:n,Power1:l.Out,Power2:s.Out,Power3:i.Out,Power4:h.Out,Linear:n,Quad:l.Out,Cubic:s.Out,Quart:i.Out,Quint:h.Out,Sine:u.Out,Expo:e.Out,Circ:o.Out,Elastic:r.Out,Back:a.Out,Bounce:p.Out,Stepped:d,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":i.In,"Quint.easeIn":h.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":a.In,"Bounce.easeIn":p.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":i.Out,"Quint.easeOut":h.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":a.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":p.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};c.exports=x},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1.70158);var p=a*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};c.exports=x},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};c.exports=x},54178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=x},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};c.exports=x},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=x},41521:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.sqrt(1-t*t)};c.exports=x},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=x},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(1- --t*t)};c.exports=x},79980:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t};c.exports=x},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=x},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t+1};c.exports=x},85433:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p))};c.exports=x},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p)*.5+1};c.exports=x},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/p)+1};c.exports=x},99140:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=x},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=x},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.pow(2,-10*t)};c.exports=x},48857:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t};c.exports=x},81596:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t};c.exports=x},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=x},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*(2-t)};c.exports=x},59133:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t};c.exports=x},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=x},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1- --t*t*t*t};c.exports=x},98516:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t*t};c.exports=x},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=x},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t*t*t+1};c.exports=x},35248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=x},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=x},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=x},82500:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};c.exports=x},49752:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};c.exports=x},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=1e-4),Math.abs(t-a)<p};c.exports=x},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};c.exports=x},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=1e-4),t>a-p};c.exports=x},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return p===void 0&&(p=1e-4),t<a+p};c.exports=x},48379:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36383),p=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=p(!1,o,a),c.exports=o},89318:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85710),p=function(o,s){for(var r=0,e=o.length-1,n=0;n<=e;n++)r+=Math.pow(1-s,e-n)*Math.pow(s,n)*o[n]*a(e,n);return r};c.exports=p},77259:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87842),p=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return o[0]===o[r]?(s<0&&(n=Math.floor(e=r*(1+s))),a(e-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):s<0?o[0]-(a(-e,o[0],o[0],o[1],o[1])-o[0]):s>1?o[r]-(a(e-r,o[r],o[r],o[r-1],o[r-1])-o[r]):a(e-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};c.exports=p},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(s,r){var e=1-s;return e*e*e*r}function t(s,r){var e=1-s;return 3*e*e*s*r}function a(s,r){return 3*(1-s)*s*s*r}function p(s,r){return s*s*s*r}var o=function(s,r,e,n,l){return x(s,r)+t(s,e)+a(s,n)+p(s,l)};c.exports=o},28392:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(28915),p=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return s<0?a(o[0],o[1],e):s>1?a(o[r],o[r-1],r-e):a(o[n],o[n+1>r?r:n+1],e-n)};c.exports=p},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(o,s){var r=1-o;return r*r*s}function t(o,s){return 2*(1-o)*o*s}function a(o,s){return o*o*s}var p=function(o,s,r,e){return x(o,s)+t(o,r)+a(o,e)};c.exports=p},47235:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7602),p=function(o,s,r){return s+(r-s)*a(o,0,1)};c.exports=p},50178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(54261),p=function(o,s,r){return s+(r-s)*a(o,0,1)};c.exports=p},38289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};c.exports=x},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};c.exports=x},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0&&(t&t-1)===0};c.exports=x},49001:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var s,r=this.n;o=o.toString();for(var e=0;e<o.length;e++)r+=o.charCodeAt(e),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var s=0;s<o.length&&o[s]!=null;s++){var r=o[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},between:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},realInRange:function(o,s){return this.frac()*(s-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",s="";for(s=o="";o++<36;s+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return s},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,s){return this.realInRange(o||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var s=o.length-1,r=s;r>0;r--){var e=Math.floor(this.frac()*(r+1)),n=o[e];o[e]=o[r],o[r]=n}return o}});c.exports=p},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.ceil(t/a),o?(p+t)/a:p+t)};c.exports=x},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.floor(t/a),o?(p+t)/a:p+t)};c.exports=x},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.round(t/a),o?(p+t)/a:p+t)};c.exports=x},73697:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var a=t(8054),p=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=p(!1,o,a),c.exports=o,t.g.Phaser=o},71289:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92209),o=t(88571),s=new a({Extends:o,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});c.exports=s},86689:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(39506),o=t(20339),s=t(89774),r=t(66022),e=t(95540),n=t(46975),l=t(72441),i=t(47956),h=t(37277),u=t(44594),d=t(26099),v=t(82248),m=new a({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(u.BOOT,this.boot,this),C.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var T=this.systems.events;e(this.config,"customUpdate",!1)||T.on(u.UPDATE,this.world.update,this.world),T.on(u.POST_UPDATE,this.world.postUpdate,this.world),T.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,C=this.systems.settings.physics,S=n(e(C,"arcade",{}),e(T,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(T,C,S,P,A){return S===void 0&&(S=null),P===void 0&&(P=null),A===void 0&&(A=S),this.world.collideObjects(T,C,S,P,A,!0)},collide:function(T,C,S,P,A){return S===void 0&&(S=null),P===void 0&&(P=null),A===void 0&&(A=S),this.world.collideObjects(T,C,S,P,A,!1)},collideTiles:function(T,C,S,P,A){return this.world.collideTiles(T,C,S,P,A)},overlapTiles:function(T,C,S,P,A){return this.world.overlapTiles(T,C,S,P,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,C,S,P,A,L){P===void 0&&(P=60);var F=Math.atan2(S-T.y,C-T.x);return T.body.acceleration.setToPolar(F,P),A!==void 0&&L!==void 0&&T.body.maxVelocity.set(A,L),F},accelerateToObject:function(T,C,S,P,A){return this.accelerateTo(T,C.x,C.y,S,P,A)},closest:function(T,C){C||(C=this.world.bodies.entries);for(var S=Number.MAX_VALUE,P=null,A=T.x,L=T.y,F=C.length,I=0;I<F;I++){var D=C[I],B=D.body||D;if(!(T===D||T===B||T===B.gameObject||T===B.center)){var G=s(A,L,B.center.x,B.center.y);G<S&&(P=D,S=G)}}return P},furthest:function(T,C){C||(C=this.world.bodies.entries);for(var S=-1,P=null,A=T.x,L=T.y,F=C.length,I=0;I<F;I++){var D=C[I],B=D.body||D;if(!(T===D||T===B||T===B.gameObject||T===B.center)){var G=s(A,L,B.center.x,B.center.y);G>S&&(P=D,S=G)}}return P},moveTo:function(T,C,S,P,A){P===void 0&&(P=60),A===void 0&&(A=0);var L=Math.atan2(S-T.y,C-T.x);return A>0&&(P=o(T.x,T.y,C,S)/(A/1e3)),T.body.velocity.setToPolar(L,P),L},moveToObject:function(T,C,S,P){return this.moveTo(T,C.x,C.y,S,P)},velocityFromAngle:function(T,C,S){return C===void 0&&(C=60),S===void 0&&(S=new d),S.setToPolar(p(T),C)},velocityFromRotation:function(T,C,S){return C===void 0&&(C=60),S===void 0&&(S=new d),S.setToPolar(T,C)},overlapRect:function(T,C,S,P,A,L){return i(this.world,T,C,S,P,A,L)},overlapCirc:function(T,C,S,P,A){return l(this.world,T,C,S,P,A)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(u.UPDATE,this.world.update,this.world),T.off(u.POST_UPDATE,this.world.postUpdate,this.world),T.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",m,"arcadePhysics"),c.exports=m},13759:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92209),o=t(68287),s=new a({Extends:o,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});c.exports=s},37742:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(78389),o=t(37747),s=t(63012),r=t(43396),e=t(87841),n=t(37303),l=t(95829),i=t(26099),h=new a({Mixins:[p],initialize:function(d,v){var m=64,T=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=v!==void 0;S&&v.displayWidth&&(m=v.displayWidth,T=v.displayHeight),S||(v=C),this.world=d,this.gameObject=S?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=m,this.height=T,this.sourceWidth=m,this.sourceHeight=T,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(T/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,d=this.transform;if(u.parentContainer){var v=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=v.tx,d.y=v.ty,d.rotation=r(v.rotation),d.scaleX=v.scaleX,d.scaleY=v.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY}else d.x=u.x,d.y=u.y,d.rotation=u.angle,d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY;var m=!1;if(this.syncBounds){var T=u.getBounds(this._bounds);this.width=T.width,this.height=T.height,m=!0}else{var C=Math.abs(d.scaleX),S=Math.abs(d.scaleY);(this._sx!==C||this._sy!==S)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*S,this._sx=C,this._sy=S,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var d=this.wasTouching,v=this.touching,m=this.blocked;u?l(!0,d):(d.none=v.none,d.up=v.up,d.down=v.down,d.left=v.left,d.right=v.right),l(!0,v),l(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,d){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}u&&this.update(d)},update:function(u){var d=this.prev,v=this.position,m=this.velocity;if(d.set(v.x,v.y),!this.moves){this._dx=v.x-d.x,this._dy=v.y-d.y;return}if(this.directControl){var T=this.autoFrame;m.set((v.x-T.x)/u,(v.y-T.y)/u),this.world.updateMotion(this,u),this._dx=v.x-T.x,this._dy=v.y-T.y}else this.world.updateMotion(this,u),this.newVelocity.set(m.x*u,m.y*u),v.add(this.newVelocity),this._dx=v.x-d.x,this._dy=v.y-d.y;var C=m.x,S=m.y;if(this.updateCenter(),this.angle=Math.atan2(S,C),this.speed=Math.sqrt(C*C+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var P=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,P.up,P.down,P.left,P.right)}},postUpdate:function(){var u=this.position,d=u.x-this.prevFrame.x,v=u.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var T=this.deltaMax.x,C=this.deltaMax.y;T!==0&&d!==0&&(d<0&&d<-T?d=-T:d>0&&d>T&&(d=T)),C!==0&&v!==0&&(v<0&&v<-C?v=-C:v>0&&v>C&&(v=C)),m&&(m.x+=d,m.y+=v)}d<0?this.facing=o.FACING_LEFT:d>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=d,this._ty=v,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,d=this.velocity,v=this.blocked,m=this.customBoundsRectangle,T=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,P=!1;return u.x<m.x&&T.left?(u.x=m.x,d.x*=C,v.left=!0,P=!0):this.right>m.right&&T.right&&(u.x=m.right-this.width,d.x*=C,v.right=!0,P=!0),u.y<m.y&&T.up?(u.y=m.y,d.y*=S,v.up=!0,P=!0):this.bottom>m.bottom&&T.down&&(u.y=m.bottom-this.height,d.y*=S,v.down=!0,P=!0),P&&(this.blocked.none=!1,this.updateCenter()),P},setOffset:function(u,d){return d===void 0&&(d=u),this.offset.set(u,d),this},setGameObject:function(u,d){return d===void 0&&(d=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=u,u.body&&(u.body=this),this.setSize(),this.world.add(this),this.enable=d,this},setSize:function(u,d,v){v===void 0&&(v=!0);var m=this.gameObject;if(m&&(!u&&m.frame&&(u=m.frame.realWidth),!d&&m.frame&&(d=m.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&m&&m.getCenter){var T=(m.width-u)/2,C=(m.height-d)/2;this.offset.set(T,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,d,v){return d===void 0&&(d=this.offset.x),v===void 0&&(v=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,v),this.updateCenter()):this.isCircle=!1,this},reset:function(u,d){this.stop();var v=this.gameObject;v&&(v.setPosition(u,d),this.rotation=v.angle,this.preRotation=v.angle);var m=this.position;v&&v.getTopLeft?v.getTopLeft(m):m.set(u,d),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,d){if(!this.isCircle)return n(this,u,d);if(this.radius>0&&u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){var v=(this.center.x-u)*(this.center.x-u),m=(this.center.y-d)*(this.center.y-d);return v+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var d=this.position,v=d.x+this.halfWidth,m=d.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(v,m,this.width/2):(this.checkCollision.up&&u.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&u.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&u.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&u.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(v,m,v+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,d,v,m){u===void 0&&(u=!0),this.collideWorldBounds=u;var T=d!==void 0,C=v!==void 0;return(T||C)&&(this.worldBounce||(this.worldBounce=new i),T&&(this.worldBounce.x=d),C&&(this.worldBounce.y=v)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(u,d){return this.velocity.set(u,d),u=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(u*u+d*d),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,d){return this.maxVelocity.set(u,d),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,d){return this.slideFactor.set(u,d),this},setBounce:function(u,d){return this.bounce.set(u,d),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,d){return this.acceleration.set(u,d),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,d){return this.drag.set(u,d),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,d){return this.gravity.set(u,d),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,d){return this.friction.set(u,d),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,d,v,m){this.x+=u,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var T=this.blocked;v&&(T.left=!0,T.none=!1),m&&(T.right=!0,T.none=!1)},processY:function(u,d,v,m){this.y+=u,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var T=this.blocked;v&&(T.up=!0,T.none=!1),m&&(T.down=!0,T.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},79342:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i,h){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=n,this.collideCallback=l,this.processCallback=i,this.callbackContext=h},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=p},66022:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71289),p=t(13759),o=t(37742),s=t(83419),r=t(37747),e=t(60758),n=t(72624),l=t(71464),i=new s({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(h,u,d,v,m){return this.world.addCollider(h,u,d,v,m)},overlap:function(h,u,d,v,m){return this.world.addOverlap(h,u,d,v,m)},existing:function(h,u){var d=u?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(h,d),h},staticImage:function(h,u,d,v){var m=new a(this.scene,h,u,d,v);return this.sys.displayList.add(m),this.world.enableBody(m,r.STATIC_BODY),m},image:function(h,u,d,v){var m=new a(this.scene,h,u,d,v);return this.sys.displayList.add(m),this.world.enableBody(m,r.DYNAMIC_BODY),m},staticSprite:function(h,u,d,v){var m=new p(this.scene,h,u,d,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,r.STATIC_BODY),m},sprite:function(h,u,d,v){var m=new p(this.scene,h,u,d,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,r.DYNAMIC_BODY),m},staticGroup:function(h,u){return this.sys.updateList.add(new l(this.world,this.world.scene,h,u))},group:function(h,u){return this.sys.updateList.add(new e(this.world,this.world.scene,h,u))},body:function(h,u,d,v){var m=new o(this.world);return m.position.set(h,u),d&&v&&m.setSize(d,v),this.world.add(m,r.DYNAMIC_BODY),m},staticBody:function(h,u,d,v){var m=new n(this.world);return m.position.set(h,u),d&&v&&m.setSize(d,v),this.world.add(m,r.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=i},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return a};c.exports=x},64897:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),p=function(o,s,r,e){var n=0,l=o.deltaAbsX()+s.deltaAbsX()+e;return o._dx===0&&s._dx===0?(o.embedded=!0,s.embedded=!0):o._dx>s._dx?(n=o.right-s.x,n>l&&!r||o.checkCollision.right===!1||s.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):o._dx<s._dx&&(n=o.x-s.width-s.x,-n>l&&!r||o.checkCollision.left===!1||s.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),o.overlapX=n,s.overlapX=n,n};c.exports=p},45170:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),p=function(o,s,r,e){var n=0,l=o.deltaAbsY()+s.deltaAbsY()+e;return o._dy===0&&s._dy===0?(o.embedded=!0,s.embedded=!0):o._dy>s._dy?(n=o.bottom-s.y,n>l&&!r||o.checkCollision.down===!1||s.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):o._dy<s._dy&&(n=o.y-s.bottom,-n>l&&!r||o.checkCollision.up===!1||s.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),o.overlapY=n,s.overlapY=n,n};c.exports=p},60758:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13759),p=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new p({Extends:e,Mixins:[o],initialize:function(h,u,d,v){if(!d&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){var m=this;d.forEach(function(T){T.internalCreateCallback=m.createCallbackHandler,T.internalRemoveCallback=m.removeCallbackHandler,T.classType=r(T,"classType",a)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,v&&(v.classType=r(v,"classType",a)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setDamping:r(v,"useDamping",!1),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxSpeed:r(v,"maxSpeed",-1),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},e.call(this,u,d,v),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.DYNAMIC_BODY);var h=i.body;for(var u in this.defaults)h[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,h,u){u===void 0&&(u=0);for(var d=this.getChildren(),v=0;v<d.length;v++)d[v].body.velocity.set(i+v*u,h+v*u);return this},setVelocityX:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.x=i+d*h;return this},setVelocityY:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.y=i+d*h;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,a,p,o,s,r,e,n,l,i,h,u,d,v,m,T,C=function(I,D,B){x=I,t=D;var G=x.velocity.x,z=t.velocity.x;return a=x.pushable,n=x._dx<0,l=x._dx>0,i=x._dx===0,v=Math.abs(x.right-t.x)<=Math.abs(t.right-x.x),r=z-G*x.bounce.x,p=t.pushable,h=t._dx<0,u=t._dx>0,d=t._dx===0,m=!v,e=G-z*t.bounce.x,T=Math.abs(B),S()},S=function(){return l&&v&&t.blocked.right?(x.processX(-T,r,!1,!0),1):n&&m&&t.blocked.left?(x.processX(T,r,!0),1):u&&m&&x.blocked.right?(t.processX(-T,e,!1,!0),2):h&&v&&x.blocked.left?(t.processX(T,e,!0),2):0},P=function(){var I=x.velocity.x,D=t.velocity.x,B=Math.sqrt(D*D*t.mass/x.mass)*(D>0?1:-1),G=Math.sqrt(I*I*x.mass/t.mass)*(I>0?1:-1),z=(B+G)*.5;return B-=z,G-=z,o=z+B*x.bounce.x,s=z+G*t.bounce.x,n&&m?A(0):h&&v?A(1):l&&v?A(2):u&&m?A(3):!1},A=function(I){if(a&&p)T*=.5,I===0||I===3?(x.processX(T,o),t.processX(-T,s)):(x.processX(-T,o),t.processX(T,s));else if(a&&!p)I===0||I===3?x.processX(T,r,!0):x.processX(-T,r,!1,!0);else if(!a&&p)I===0||I===3?t.processX(-T,e,!1,!0):t.processX(T,e,!0);else{var D=T*.5;I===0?d?(x.processX(T,0,!0),t.processX(0,null,!1,!0)):u?(x.processX(D,0,!0),t.processX(-D,0,!1,!0)):(x.processX(D,t.velocity.x,!0),t.processX(-D,null,!1,!0)):I===1?i?(x.processX(0,null,!1,!0),t.processX(T,0,!0)):l?(x.processX(-D,0,!1,!0),t.processX(D,0,!0)):(x.processX(-D,null,!1,!0),t.processX(D,x.velocity.x,!0)):I===2?d?(x.processX(-T,0,!1,!0),t.processX(0,null,!0)):h?(x.processX(-D,0,!1,!0),t.processX(D,0,!0)):(x.processX(-D,t.velocity.x,!1,!0),t.processX(D,null,!0)):I===3&&(i?(x.processX(0,null,!0),t.processX(-T,0,!1,!0)):n?(x.processX(D,0,!0),t.processX(-D,0,!1,!0)):(x.processX(D,t.velocity.y,!0),t.processX(-D,null,!1,!0)))}return!0},L=function(I){I===1?t.velocity.x=0:v?t.processX(T,e,!0):t.processX(-T,e,!1,!0),x.moves&&(t.y+=(x.y-x.prev.y)*x.friction.y,t._dy=t.y-t.prev.y)},F=function(I){I===2?x.velocity.x=0:m?x.processX(T,r,!0):x.processX(-T,r,!1,!0),t.moves&&(x.y+=(t.y-t.prev.y)*t.friction.y,x._dy=x.y-x.prev.y)};c.exports={BlockCheck:S,Check:P,Set:C,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,a,p,o,s,r,e,n,l,i,h,u,d,v,m,T,C=function(I,D,B){x=I,t=D;var G=x.velocity.y,z=t.velocity.y;return a=x.pushable,n=x._dy<0,l=x._dy>0,i=x._dy===0,v=Math.abs(x.bottom-t.y)<=Math.abs(t.bottom-x.y),r=z-G*x.bounce.y,p=t.pushable,h=t._dy<0,u=t._dy>0,d=t._dy===0,m=!v,e=G-z*t.bounce.y,T=Math.abs(B),S()},S=function(){return l&&v&&t.blocked.down?(x.processY(-T,r,!1,!0),1):n&&m&&t.blocked.up?(x.processY(T,r,!0),1):u&&m&&x.blocked.down?(t.processY(-T,e,!1,!0),2):h&&v&&x.blocked.up?(t.processY(T,e,!0),2):0},P=function(){var I=x.velocity.y,D=t.velocity.y,B=Math.sqrt(D*D*t.mass/x.mass)*(D>0?1:-1),G=Math.sqrt(I*I*x.mass/t.mass)*(I>0?1:-1),z=(B+G)*.5;return B-=z,G-=z,o=z+B*x.bounce.y,s=z+G*t.bounce.y,n&&m?A(0):h&&v?A(1):l&&v?A(2):u&&m?A(3):!1},A=function(I){if(a&&p)T*=.5,I===0||I===3?(x.processY(T,o),t.processY(-T,s)):(x.processY(-T,o),t.processY(T,s));else if(a&&!p)I===0||I===3?x.processY(T,r,!0):x.processY(-T,r,!1,!0);else if(!a&&p)I===0||I===3?t.processY(-T,e,!1,!0):t.processY(T,e,!0);else{var D=T*.5;I===0?d?(x.processY(T,0,!0),t.processY(0,null,!1,!0)):u?(x.processY(D,0,!0),t.processY(-D,0,!1,!0)):(x.processY(D,t.velocity.y,!0),t.processY(-D,null,!1,!0)):I===1?i?(x.processY(0,null,!1,!0),t.processY(T,0,!0)):l?(x.processY(-D,0,!1,!0),t.processY(D,0,!0)):(x.processY(-D,null,!1,!0),t.processY(D,x.velocity.y,!0)):I===2?d?(x.processY(-T,0,!1,!0),t.processY(0,null,!0)):h?(x.processY(-D,0,!1,!0),t.processY(D,0,!0)):(x.processY(-D,t.velocity.y,!1,!0),t.processY(D,null,!0)):I===3&&(i?(x.processY(0,null,!0),t.processY(-T,0,!1,!0)):n?(x.processY(D,0,!0),t.processY(-D,0,!1,!0)):(x.processY(D,t.velocity.y,!0),t.processY(-D,null,!1,!0)))}return!0},L=function(I){I===1?t.velocity.y=0:v?t.processY(T,e,!0):t.processY(-T,e,!1,!0),x.moves&&(t.x+=(x.x-x.prev.x)*x.friction.x,t._dx=t.x-t.prev.x)},F=function(I){I===2?x.velocity.y=0:m?x.processY(T,r,!0):x.processY(-T,r,!1,!0),t.moves&&(x.x+=(t.x-t.prev.x)*t.friction.x,x._dx=x.x-x.prev.x)};c.exports={BlockCheck:S,Check:P,Set:C,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},14087:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(64897),p=t(3017),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateX||r.customSeparateX)return l!==0||s.embedded&&r.embedded;var u=p.Set(s,r,l);return!i&&!h?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):h&&p.RunImmovableBody2(u),!0)};c.exports=o},89936:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45170),p=t(47962),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateY||r.customSeparateY)return l!==0||s.embedded&&r.embedded;var u=p.Set(s,r,l);return!i&&!h?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):h&&p.RunImmovableBody2(u),!0)};c.exports=o},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};c.exports=x},72624:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87902),p=t(83419),o=t(78389),s=t(37747),r=t(37303),e=t(95829),n=t(26099),l=new p({Mixins:[o],initialize:function(h,u){var d=64,v=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=u!==void 0;T&&u.displayWidth&&(d=u.displayWidth,v=u.displayHeight),T||(u=m),this.world=h,this.gameObject=T?u:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(u.x-d*u.originX,u.y-v*u.originY),this.width=d,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,h){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,u){u===void 0&&(u=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),h||(h=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),u&&d&&d.getCenter){var v=d.displayWidth/2,m=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,u){return h===void 0&&(h=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var u=this.gameObject;i===void 0&&(i=u.x),h===void 0&&(h=u.y),this.world.staticTree.remove(this),u.setPosition(i,h),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?a(this,i,h):r(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,u=h.x+this.halfWidth,d=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,d,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13759),p=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new p({Extends:e,Mixins:[o],initialize:function(h,u,d,v){!d&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:n(d)?(v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",a)):Array.isArray(d)&&n(d[0])?(v=d,d=null,v.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=r(m,"classType",a)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,d,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,h=0;h<i.length;h++)i[h].body.reset();return this}});c.exports=l},82248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55495),p=t(37742),o=t(45319),s=t(83419),r=t(79342),e=t(37747),n=t(20339),l=t(52816),i=t(50792),h=t(63012),u=t(43855),d=t(5470),v=t(94977),m=t(64897),T=t(45170),C=t(96523),S=t(35154),P=t(36383),A=t(25774),L=t(96602),F=t(87841),I=t(59542),D=t(40012),B=t(14087),G=t(89936),z=t(35072),W=t(72624),Y=t(2483),K=t(61340),Z=t(26099),V=t(15994),H=new s({Extends:i,initialize:function(b,X){i.call(this),this.scene=b,this.bodies=new z,this.staticBodies=new z,this.pendingDestroy=new z,this.colliders=new A,this.gravity=new Z(S(X,"gravity.x",0),S(X,"gravity.y",0)),this.bounds=new F(S(X,"x",0),S(X,"y",0),S(X,"width",b.sys.scale.width),S(X,"height",b.sys.scale.height)),this.checkCollision={up:S(X,"checkCollision.up",!0),down:S(X,"checkCollision.down",!0),left:S(X,"checkCollision.left",!0),right:S(X,"checkCollision.right",!0)},this.fps=S(X,"fps",60),this.fixedStep=S(X,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(X,"timeScale",1),this.OVERLAP_BIAS=S(X,"overlapBias",4),this.TILE_BIAS=S(X,"tileBias",16),this.forceX=S(X,"forceX",!1),this.isPaused=S(X,"isPaused",!1),this._total=0,this.drawDebug=S(X,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(X,"debugShowBody",!0),debugShowStaticBody:S(X,"debugShowStaticBody",!0),debugShowVelocity:S(X,"debugShowVelocity",!0),bodyDebugColor:S(X,"debugBodyColor",16711935),staticBodyDebugColor:S(X,"debugStaticBodyColor",255),velocityDebugColor:S(X,"debugVelocityColor",65280)},this.maxEntries=S(X,"maxEntries",16),this.useTree=S(X,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new K,this._tempMatrix2=new K,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var X=0;X<N.length;X++){var $=N[X];if($.isParent)for(var Q=$.getChildren(),J=0;J<Q.length;J++){var k=Q[J];k.isParent?this.enable(k,b):this.enableBody(k,b)}else this.enableBody($,b)}},enableBody:function(N,b){return b===void 0&&(b=e.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(b===e.DYNAMIC_BODY?N.body=new p(this,N):b===e.STATIC_BODY&&(N.body=new W(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===e.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===e.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var b=0;b<N.length;b++){var X=N[b];if(X.isParent)for(var $=X.getChildren(),Q=0;Q<$.length;Q++){var J=$[Q];J.isParent?this.disable(J):this.disableBody(J.body)}else this.disableBody(X.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===e.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,b,X,$,Q,J,k,et){return this.bounds.setTo(N,b,X,$),Q!==void 0&&this.setBoundsCollision(Q,J,k,et),this},setBoundsCollision:function(N,b,X,$){return N===void 0&&(N=!0),b===void 0&&(b=!0),X===void 0&&(X=!0),$===void 0&&($=!0),this.checkCollision.left=N,this.checkCollision.right=b,this.checkCollision.up=X,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(N,b,X,$,Q){X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X);var J=new r(this,!1,N,b,X,$,Q);return this.colliders.add(J),J},addOverlap:function(N,b,X,$,Q){X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X);var J=new r(this,!0,N,b,X,$,Q);return this.colliders.add(J),J},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,b){if(!(this.isPaused||this.bodies.size===0)){var X,$=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=b;var J,k=this.bodies.entries,et=this._elapsed>=Q;for(this.fixedStep||($=b*.001,et=!0,this._elapsed=0),X=0;X<k.length;X++)J=k[X],J.enable&&J.preUpdate(et,$);if(et){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(k));var nt=this.colliders.update();for(X=0;X<nt.length;X++){var st=nt[X];st.active&&st.update()}this.emit(h.WORLD_STEP,$)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step($)}},step:function(N){var b,X,$=this.bodies.entries,Q=$.length;for(b=0;b<Q;b++)X=$[b],X.enable&&X.update(N);this.useTree&&(this.tree.clear(),this.tree.load($));var J=this.colliders.update();for(b=0;b<J.length;b++){var k=J[b];k.active&&k.update()}this.emit(h.WORLD_STEP,N),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var N,b,X=this.bodies.entries,$=X.length,Q=this.bodies,J=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<$;N++)b=X[N],b.enable&&b.postUpdate();if(this.drawDebug){var k=this.debugGraphic;for(k.clear(),N=0;N<$;N++)b=X[N],b.willDrawDebug()&&b.drawDebug(k);for(X=J.entries,$=X.length,N=0;N<$;N++)b=X[N],b.willDrawDebug()&&b.drawDebug(k)}var et=this.pendingDestroy;if(et.size>0){var nt=this.tree,st=this.staticTree;for(X=et.entries,$=X.length,N=0;N<$;N++)b=X[N],b.physicsType===e.DYNAMIC_BODY?(nt.remove(b),Q.delete(b)):b.physicsType===e.STATIC_BODY&&(st.remove(b),J.delete(b)),b.world=void 0,b.gameObject=void 0;et.clear()}},updateMotion:function(N,b){N.allowRotation&&this.computeAngularVelocity(N,b),this.computeVelocity(N,b)},computeAngularVelocity:function(N,b){var X=N.angularVelocity,$=N.angularAcceleration,Q=N.angularDrag,J=N.maxAngular;$?X+=$*b:N.allowDrag&&Q&&(Q*=b,d(X-Q,0,.1)?X-=Q:v(X+Q,0,.1)?X+=Q:X=0),X=o(X,-J,J);var k=X-N.angularVelocity;N.angularVelocity+=k,N.rotation+=N.angularVelocity*b},computeVelocity:function(N,b){var X=N.velocity.x,$=N.acceleration.x,Q=N.drag.x,J=N.maxVelocity.x,k=N.velocity.y,et=N.acceleration.y,nt=N.drag.y,st=N.maxVelocity.y,ot=N.speed,ut=N.maxSpeed,at=N.allowDrag,ct=N.useDamping;N.allowGravity&&(X+=(this.gravity.x+N.gravity.x)*b,k+=(this.gravity.y+N.gravity.y)*b),$?X+=$*b:at&&Q&&(ct?(Q=Math.pow(Q,b),X*=Q,ot=Math.sqrt(X*X+k*k),u(ot,0,.001)&&(X=0)):(Q*=b,d(X-Q,0,.01)?X-=Q:v(X+Q,0,.01)?X+=Q:X=0)),et?k+=et*b:at&&nt&&(ct?(nt=Math.pow(nt,b),k*=nt,ot=Math.sqrt(X*X+k*k),u(ot,0,.001)&&(k=0)):(nt*=b,d(k-nt,0,.01)?k-=nt:v(k+nt,0,.01)?k+=nt:k=0)),X=o(X,-J,J),k=o(k,-st,st),N.velocity.set(X,k),ut>-1&&N.velocity.length()>ut&&(N.velocity.normalize().scale(ut),ot=ut),N.speed=ot},separate:function(N,b,X,$,Q){var J,k,et=!1,nt=!0;if(!N.enable||!b.enable||N.checkCollision.none||b.checkCollision.none||!this.intersects(N,b)||X&&X.call($,N.gameObject,b.gameObject)===!1)return et;if(N.isCircle||b.isCircle){var st=this.separateCircle(N,b,Q);st.result?(et=!0,nt=!1):(J=st.x,k=st.y,nt=!0)}if(nt){var ot=!1,ut=!1,at=this.OVERLAP_BIAS;Q?(ot=B(N,b,Q,at,J),ut=G(N,b,Q,at,k)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(ot=B(N,b,Q,at,J),this.intersects(N,b)&&(ut=G(N,b,Q,at,k))):(ut=G(N,b,Q,at,k),this.intersects(N,b)&&(ot=B(N,b,Q,at,J))),et=ot||ut}return et&&(Q?(N.onOverlap||b.onOverlap)&&this.emit(h.OVERLAP,N.gameObject,b.gameObject,N,b):(N.onCollide||b.onCollide)&&this.emit(h.COLLIDE,N.gameObject,b.gameObject,N,b)),et},separateCircle:function(N,b,X){m(N,b,!1,0),T(N,b,!1,0);var $=N.isCircle,Q=b.isCircle,J=N.center,k=b.center,et=N.immovable,nt=b.immovable,st=N.velocity,ot=b.velocity,ut=0,at=!0;if($!==Q){at=!1;var ct=J.x,Et=J.y,St=N.halfWidth,Ct=b.position.x,dt=b.position.y,Tt=b.right,vt=b.bottom;Q&&(ct=k.x,Et=k.y,St=b.halfWidth,Ct=N.position.x,dt=N.position.y,Tt=N.right,vt=N.bottom),Et<dt?ct<Ct?ut=n(ct,Et,Ct,dt)-St:ct>Tt&&(ut=n(ct,Et,Tt,dt)-St):Et>vt&&(ct<Ct?ut=n(ct,Et,Ct,vt)-St:ct>Tt&&(ut=n(ct,Et,Tt,vt)-St)),ut*=-1}else ut=N.halfWidth+b.halfWidth-l(J,k);N.overlapR=ut,b.overlapR=ut;var wt=a(J,k),Bt=(ut+P.EPSILON)*Math.cos(wt),Zt=(ut+P.EPSILON)*Math.sin(wt),Ut={overlap:ut,result:!1,x:Bt,y:Zt};if(X&&(!at||at&&ut!==0))return Ut.result=!0,Ut;if(!at&&ut===0||et&&nt||N.customSeparateX||b.customSeparateX)return Ut.x=void 0,Ut.y=void 0,Ut;var Ht=!N.pushable&&!b.pushable;if(at){var Nt=J.x-k.x,oe=J.y-k.y,kt=Math.sqrt(Math.pow(Nt,2)+Math.pow(oe,2)),Te=(k.x-J.x)/kt||0,Ee=(k.y-J.y)/kt||0,Ue=2*(st.x*Te+st.y*Ee-ot.x*Te-ot.y*Ee)/(N.mass+b.mass);(et||nt)&&(Ue*=2),et||(st.x=st.x-Ue/N.mass*Te,st.y=st.y-Ue/N.mass*Ee,st.multiply(N.bounce)),nt||(ot.x=ot.x+Ue/b.mass*Te,ot.y=ot.y+Ue/b.mass*Ee,ot.multiply(b.bounce)),!et&&!nt&&(Bt*=.5,Zt*=.5),et||(N.x-=Bt,N.y-=Zt,N.updateCenter()),nt||(b.x+=Bt,b.y+=Zt,b.updateCenter()),Ut.result=!0}else!et||N.pushable||Ht?(N.x-=Bt,N.y-=Zt,N.updateCenter()):(!nt||b.pushable||Ht)&&(b.x+=Bt,b.y+=Zt,b.updateCenter()),Ut.x=void 0,Ut.y=void 0;return Ut},intersects:function(N,b){return N===b?!1:!N.isCircle&&!b.isCircle?!(N.right<=b.left||N.bottom<=b.top||N.left>=b.right||N.top>=b.bottom):N.isCircle?b.isCircle?l(N.center,b.center)<=N.halfWidth+b.halfWidth:this.circleBodyIntersects(N,b):this.circleBodyIntersects(b,N)},circleBodyIntersects:function(N,b){var X=o(N.center.x,b.left,b.right),$=o(N.center.y,b.top,b.bottom),Q=(N.center.x-X)*(N.center.x-X),J=(N.center.y-$)*(N.center.y-$);return Q+J<=N.halfWidth*N.halfWidth},overlap:function(N,b,X,$,Q){return X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X),this.collideObjects(N,b,X,$,Q,!0)},collide:function(N,b,X,$,Q){return X===void 0&&(X=null),$===void 0&&($=null),Q===void 0&&(Q=X),this.collideObjects(N,b,X,$,Q,!1)},collideObjects:function(N,b,X,$,Q,J){var k,et;N.isParent&&(N.physicsType===void 0||b===void 0||N===b)&&(N=N.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var nt=Array.isArray(N),st=Array.isArray(b);if(this._total=0,!nt&&!st)this.collideHandler(N,b,X,$,Q,J);else if(!nt&&st)for(k=0;k<b.length;k++)this.collideHandler(N,b[k],X,$,Q,J);else if(nt&&!st)if(b)for(k=0;k<N.length;k++)this.collideHandler(N[k],b,X,$,Q,J);else for(k=0;k<N.length;k++){var ot=N[k];for(et=k+1;et<N.length;et++)k!==et&&this.collideHandler(ot,N[et],X,$,Q,J)}else for(k=0;k<N.length;k++)for(et=0;et<b.length;et++)this.collideHandler(N[k],b[et],X,$,Q,J);return this._total>0},collideHandler:function(N,b,X,$,Q,J){if(b===void 0&&N.isParent)return this.collideGroupVsGroup(N,N,X,$,Q,J);if(!N||!b)return!1;if(N.body||N.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(N,b,X,$,Q,J);if(b.isParent)return this.collideSpriteVsGroup(N,b,X,$,Q,J);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(N,b,X,$,Q,J)}else if(N.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,N,X,$,Q,J);if(b.isParent)return this.collideGroupVsGroup(N,b,X,$,Q,J);if(b.isTilemap)return this.collideGroupVsTilemapLayer(N,b,X,$,Q,J)}else if(N.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,N,X,$,Q,J);if(b.isParent)return this.collideGroupVsTilemapLayer(b,N,X,$,Q,J)}},canCollide:function(N,b){return N&&b&&(N.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&N.collisionCategory)!==0},collideSpriteVsSprite:function(N,b,X,$,Q,J){var k=N.isBody?N:N.body,et=b.isBody?b:b.body;return this.canCollide(k,et)?(this.separate(k,et,$,Q,J)&&(X&&X.call(Q,N,b),this._total++),!0):!1},collideSpriteVsGroup:function(N,b,X,$,Q,J){var k=N.isBody?N:N.body;if(!(b.length===0||!k||!k.enable||k.checkCollision.none||!this.canCollide(k,b))){var et,nt,st;if(this.useTree||b.physicsType===e.STATIC_BODY){var ot=this.treeMinMax;ot.minX=k.left,ot.minY=k.top,ot.maxX=k.right,ot.maxY=k.bottom;var ut=b.physicsType===e.DYNAMIC_BODY?this.tree.search(ot):this.staticTree.search(ot);for(nt=ut.length,et=0;et<nt;et++)st=ut[et],!(k===st||!st.enable||st.checkCollision.none||!b.contains(st.gameObject))&&this.separate(k,st,$,Q,J)&&(X&&X.call(Q,k.gameObject,st.gameObject),this._total++)}else{var at=b.getChildren(),ct=b.children.entries.indexOf(N);for(nt=at.length,et=0;et<nt;et++)st=at[et].body,!(!st||et===ct||!st.enable)&&this.separate(k,st,$,Q,J)&&(X&&X.call(Q,k.gameObject,st.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(N,b,X,$,Q,J){if(!this.canCollide(N,b))return!1;var k=N.getChildren();if(k.length===0)return!1;for(var et=!1,nt=0;nt<k.length;nt++)(k[nt].body||k[nt].isBody)&&this.collideSpriteVsTilemapLayer(k[nt],b,X,$,Q,J)&&(et=!0);return et},collideTiles:function(N,b,X,$,Q){return b.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,b,X,$,Q,!1,!1)},overlapTiles:function(N,b,X,$,Q){return b.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,b,X,$,Q,!0,!1)},collideSpriteVsTilemapLayer:function(N,b,X,$,Q,J){var k=N.isBody?N:N.body;if(!k.enable||k.checkCollision.none||!this.canCollide(k,b))return!1;var et=b.layer,nt=k.x-et.tileWidth*b.scaleX,st=k.y-et.tileHeight*b.scaleY,ot=k.width+et.tileWidth*b.scaleX,ut=k.height+et.tileHeight*b.scaleY,at=J?null:this.tileFilterOptions,ct=C(nt,st,ot,ut,at,b.scene.cameras.main,b.layer);return ct.length===0?!1:this.collideSpriteVsTilesHandler(N,ct,X,$,Q,J,!0)},collideSpriteVsTilesHandler:function(N,b,X,$,Q,J,k){for(var et=N.isBody?N:N.body,nt,st={left:0,right:0,top:0,bottom:0},ot,ut=!1,at=0;at<b.length;at++){nt=b[at],ot=nt.tilemapLayer;var ct=ot.tileToWorldXY(nt.x,nt.y);st.left=ct.x,st.top=ct.y,st.right=st.left+nt.width*ot.scaleX,st.bottom=st.top+nt.height*ot.scaleY,Y(st,et)&&(!$||$.call(Q,N,nt))&&L(nt,N)&&(J||D(at,et,nt,st,ot,this.TILE_BIAS,k))&&(this._total++,ut=!0,X&&X.call(Q,N,nt),J&&et.onOverlap?this.emit(h.TILE_OVERLAP,N,nt,et):et.onCollide&&this.emit(h.TILE_COLLIDE,N,nt,et))}return ut},collideGroupVsGroup:function(N,b,X,$,Q,J){if(!(N.length===0||b.length===0||!this.canCollide(N,b)))for(var k=N.getChildren(),et=0;et<k.length;et++)this.collideSpriteVsGroup(k[et],b,X,$,Q,J)},wrap:function(N,b){N.body?this.wrapObject(N,b):N.getChildren?this.wrapArray(N.getChildren(),b):Array.isArray(N)?this.wrapArray(N,b):this.wrapObject(N,b)},wrapArray:function(N,b){for(var X=0;X<N.length;X++)this.wrapObject(N[X],b)},wrapObject:function(N,b){b===void 0&&(b=0),N.x=V(N.x,this.bounds.left-b,this.bounds.right+b),N.y=V(N.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=H},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=x},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=x},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,p,o){return this.body.setCollideWorldBounds(t,a,p,o),this}};c.exports=x},78389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79599),p={setCollisionCategory:function(o){var s=this.body?this.body:this;return s.collisionCategory=o,this},willCollideWith:function(o){var s=this.body?this.body:this;return(s.collisionMask&o)!==0},addCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|o,this},removeCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~o,this},setCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=a(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=1,this}};c.exports=p},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(t,a,p){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=x},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=x},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,p,o,s){return t&&this.body.reset(a,p),o&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=x},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=x},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=x},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=x},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(t){return this.body.mass=t,this}};c.exports=x},72441:(c,x,t)=>{var a=t(47956),p=t(96503),o=t(2044),s=t(81491),r=function(e,n,l,i,h,u){var d=a(e,n-i,l-i,2*i,2*i,h,u);if(d.length===0)return d;for(var v=new p(n,l,i),m=new p,T=[],C=0;C<d.length;C++){var S=d[C];S.isCircle?(m.setTo(S.center.x,S.center.y,S.halfWidth),o(v,m)&&T.push(S)):s(v,S)&&T.push(S)}return T};c.exports=r},47956:c=>{var x=function(t,a,p,o,s,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var n=[],l=[],i=t.treeMinMax;if(i.minX=a,i.minY=p,i.maxX=a+o,i.maxY=p+s,e&&(l=t.staticTree.search(i)),r&&t.useTree)n=t.tree.search(i);else if(r){var h=t.bodies,u={position:{x:a,y:p},left:a,top:p,right:a+o,bottom:p+s,isCircle:!1},d=t.intersects;h.iterate(function(v){d(v,u)&&n.push(v)})}return l.concat(n)};c.exports=x},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=x},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,p){return this.body.setSize(t,a,p),this},setBodySize:function(t,a,p){return this.body.setSize(t,a,p),this},setCircle:function(t,a,p){return this.body.setCircle(t,a,p),this}};c.exports=x},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};c.exports=x},92209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=x},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37747),p=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=p(!1,o,a),c.exports=o},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};c.exports=x},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=x},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=x},40012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(21329),p=t(53442),o=t(2483),s=function(r,e,n,l,i,h,u){var d=l.left,v=l.top,m=l.right,T=l.bottom,C=n.faceLeft||n.faceRight,S=n.faceTop||n.faceBottom;if(u||(C=!0,S=!0),!C&&!S)return!1;var P=0,A=0,L=0,F=1;if(e.deltaAbsX()>e.deltaAbsY()?L=-1:e.deltaAbsX()<e.deltaAbsY()&&(F=-1),e.deltaX()!==0&&e.deltaY()!==0&&C&&S&&(L=Math.min(Math.abs(e.position.x-m),Math.abs(e.right-d)),F=Math.min(Math.abs(e.position.y-T),Math.abs(e.bottom-v))),L<F){if(C&&(P=a(e,n,d,m,h,u),P!==0&&!o(l,e)))return!0;S&&(A=p(e,n,v,T,h,u))}else{if(S&&(A=p(e,n,v,T,h,u),A!==0&&!o(l,e)))return!0;C&&(P=a(e,n,d,m,h,u))}return P!==0||A!==0};c.exports=s},21329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36294),p=function(o,s,r,e,n,l){var i=0,h=s.faceLeft,u=s.faceRight,d=s.collideLeft,v=s.collideRight;return l||(h=!0,u=!0,d=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?u&&o.x<e&&(i=o.x-e,i<-n&&(i=0)):o.deltaX()>0&&d&&o.checkCollision.right&&h&&o.right>r&&(i=o.right-r,i>n&&(i=0)),i!==0&&(o.customSeparateX?o.overlapX=i:a(o,i)),i};c.exports=p},53442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(67013),p=function(o,s,r,e,n,l){var i=0,h=s.faceTop,u=s.faceBottom,d=s.collideUp,v=s.collideDown;return l||(h=!0,u=!0,d=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?u&&o.y<e&&(i=o.y-e,i<-n&&(i=0)):o.deltaY()>0&&d&&o.checkCollision.down&&h&&o.bottom>r&&(i=o.bottom-r,i>n&&(i=0)),i!==0&&(o.customSeparateY?o.overlapY=i:a(o,i)),i};c.exports=p},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};c.exports=x},55173:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=a},44563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,n=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,i=n*s.centerOfMass.x,h=l*s.centerOfMass.y;return r.set(n/2,l/2),e.set(i-r.x,h-r.y),!0},getTopLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e+n.y+l.y)}return!1},getTopCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+l.x,e+n.y+l.y)}return!1},getTopRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e+n.y+l.y)}return!1},getLeftCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e+l.y)}return!1},getCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.centerDiff;return new p(r+n.x,e+n.y)}return!1},getRightCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e+l.y)}return!1},getBottomLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e-(n.y-l.y))}return!1},getBottomCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+l.x,e-(n.y-l.y))}return!1},getBottomRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e-(n.y-l.y))}return!1}});c.exports=o},19933:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,c.exports=a},28137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(83419),o=t(74116),s=t(48140),r=t(74058),e=t(75803),n=t(23181),l=t(34803),i=t(73834),h=t(19496),u=t(85791),d=t(98713),v=t(41598),m=new p({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(T,C,S,P,A){var L=a.rectangle(T,C,S,P,A);return this.world.add(L),L},trapezoid:function(T,C,S,P,A,L){var F=a.trapezoid(T,C,S,P,A,L);return this.world.add(F),F},circle:function(T,C,S,P,A){var L=a.circle(T,C,S,P,A);return this.world.add(L),L},polygon:function(T,C,S,P,A){var L=a.polygon(T,C,S,P,A);return this.world.add(L),L},fromVertices:function(T,C,S,P,A,L,F){typeof S=="string"&&(S=v.fromPath(S));var I=a.fromVertices(T,C,S,P,A,L,F);return this.world.add(I),I},fromPhysicsEditor:function(T,C,S,P,A){A===void 0&&(A=!0);var L=h.parseBody(T,C,S,P);return A&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(T,C,S,P,A,L){P===void 0&&(P=1),A===void 0&&(A={}),L===void 0&&(L=!0);for(var F=S.getElementsByTagName("path"),I=[],D=0;D<F.length;D++){var B=r.pathToVertices(F[D],30);P!==1&&v.scale(B,P,P),I.push(B)}var G=a.fromVertices(T,C,I,A);return L&&this.world.add(G),G},fromJSON:function(T,C,S,P,A){P===void 0&&(P={}),A===void 0&&(A=!0);var L=u.parseBody(T,C,S,P);return L&&A&&this.world.add(L),L},imageStack:function(T,C,S,P,A,L,F,I,D){F===void 0&&(F=0),I===void 0&&(I=0),D===void 0&&(D={});var B=this.world,G=this.sys.displayList;D.addToWorld=!1;var z=o.stack(S,P,A,L,F,I,function(W,Y){var K=new n(B,W,Y,T,C,D);return G.add(K),K.body});return B.add(z),z},stack:function(T,C,S,P,A,L,F){var I=o.stack(T,C,S,P,A,L,F);return this.world.add(I),I},pyramid:function(T,C,S,P,A,L,F){var I=o.pyramid(T,C,S,P,A,L,F);return this.world.add(I),I},chain:function(T,C,S,P,A,L){return o.chain(T,C,S,P,A,L)},mesh:function(T,C,S,P,A){return o.mesh(T,C,S,P,A)},newtonsCradle:function(T,C,S,P,A){var L=o.newtonsCradle(T,C,S,P,A);return this.world.add(L),L},car:function(T,C,S,P,A){var L=o.car(T,C,S,P,A);return this.world.add(L),L},softBody:function(T,C,S,P,A,L,F,I,D,B){var G=o.softBody(T,C,S,P,A,L,F,I,D,B);return this.world.add(G),G},joint:function(T,C,S,P,A){return this.constraint(T,C,S,P,A)},spring:function(T,C,S,P,A){return this.constraint(T,C,S,P,A)},constraint:function(T,C,S,P,A){P===void 0&&(P=1),A===void 0&&(A={}),A.bodyA=T.type==="body"?T:T.body,A.bodyB=C.type==="body"?C:C.body,isNaN(S)||(A.length=S),A.stiffness=P;var L=s.create(A);return this.world.add(L),L},worldConstraint:function(T,C,S,P){S===void 0&&(S=1),P===void 0&&(P={}),P.bodyB=T.type==="body"?T:T.body,isNaN(C)||(P.length=C),P.stiffness=S;var A=s.create(P);return this.world.add(A),A},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var C=new d(this.scene,this.world,T);return this.world.add(C.constraint),C},image:function(T,C,S,P,A){var L=new n(this.world,T,C,S,P,A);return this.sys.displayList.add(L),L},tileBody:function(T,C){return new i(this.world,T,C)},sprite:function(T,C,S,P,A){var L=new l(this.world,T,C,S,P,A);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(T,C,S){return e(this.world,T,C,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=m},75803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(31884),p=t(95540),o=t(26099);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,n,l,i){l===void 0&&(l={}),i===void 0&&(i=!0);var h=n.x,u=n.y;n.body={temp:!0,position:{x:h,y:u}};var d=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(d.forEach(function(m){for(var T in m)s(m[T])?Object.defineProperty(n,T,{get:m[T].get,set:m[T].set}):Object.defineProperty(n,T,{value:m[T]})}),n.world=e,n._tempVec2=new o(h,u),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,i);else{var v=p(l,"shape",null);v||(v="rectangle"),l.addToWorld=i,n.setBody(v,l)}return n};c.exports=r},23181:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31884),o=t(95643),s=t(95540),r=t(88571),e=t(72699),n=t(26099),l=new a({Extends:r,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(h,u,d,v,m,T){o.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new n(u,d);var C=s(T,"shape",null);C?this.setBody(C,T):this.setRectangle(this.width,this.height,T),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(60461),p=t(66615),o=t(66280),s=t(22562),r=t(68174),e=t(15647),n=t(83419),l=t(52284),i=t(53402),h=t(69351),u=t(74116),d=t(48140),v=t(81388),m=t(20339),T=t(28137),C=t(95540),S=t(35154),P=t(18210),A=t(40178),L=t(6790),F=t(74507),I=t(46975),D=t(4506),B=t(99561),G=t(73832),z=t(37277),W=t(73296),Y=t(66272),K=t(44594),Z=t(74058),V=t(31725),H=t(41598),N=t(68243);i.setDecomp(t(55973));var b=new n({initialize:function($){this.scene=$,this.systems=$.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=h,this.collision=l,this.detector=v,this.pair=D,this.pairs=B,this.query=W,this.resolver=Y,this.constraint=d,this.bodies=o,this.composites=u,this.axes=p,this.bounds=e,this.svg=Z,this.vector=V,this.vertices=H,this.verts=H,this._tempVec2=V.create(),S(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),S(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),S(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=S(this.config,"restingThresh",4),Y._restingThreshTangent=S(this.config,"restingThreshTangent",6),Y._positionDampen=S(this.config,"positionDampen",.9),Y._positionWarming=S(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),$.sys.events.once(K.BOOT,this.boot,this),$.sys.events.on(K.START,this.start,this)},boot:function(){this.world=new N(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new r,this.systems.events.once(K.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new N(this.scene,this.config),this.add=new T(this.world));var X=this.systems.events;X.on(K.UPDATE,this.world.update,this.world),X.on(K.POST_UPDATE,this.world.postUpdate,this.world),X.once(K.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,$=this.systems.settings.physics,Q=I(C($,"matter",{}),C(X,"matter",{}));return Q},enableAttractorPlugin:function(){return G.register(P),G.use(L,P),this},enableWrapPlugin:function(){return G.register(F),G.use(L,F),this},enableCollisionEventsPlugin:function(){return G.register(A),G.use(L,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,$){this.world.step(X,$)},containsPoint:function(X,$,Q){X=this.getMatterBodies(X);var J=V.create($,Q),k=W.point(X,J);return k.length>0},intersectPoint:function(X,$,Q){Q=this.getMatterBodies(Q);var J=V.create(X,$),k=[],et=W.point(Q,J);return et.forEach(function(nt){k.indexOf(nt)===-1&&k.push(nt)}),k},intersectRect:function(X,$,Q,J,k,et){k===void 0&&(k=!1),et=this.getMatterBodies(et);var nt={min:{x:X,y:$},max:{x:X+Q,y:$+J}},st=[],ot=W.region(et,nt,k);return ot.forEach(function(ut){st.indexOf(ut)===-1&&st.push(ut)}),st},intersectRay:function(X,$,Q,J,k,et){k===void 0&&(k=1),et=this.getMatterBodies(et);for(var nt=[],st=W.ray(et,V.create(X,$),V.create(Q,J),k),ot=0;ot<st.length;ot++)nt.push(st[ot].body);return nt},intersectBody:function(X,$){$=this.getMatterBodies($);for(var Q=[],J=W.collides(X,$),k=0;k<J.length;k++){var et=J[k];et.bodyA===X?Q.push(et.bodyB):Q.push(et.bodyA)}return Q},overlap:function(X,$,Q,J,k){Q===void 0&&(Q=null),J===void 0&&(J=null),k===void 0&&(k=Q),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),$=this.getMatterBodies($);for(var et=!1,nt=0;nt<X.length;nt++)for(var st=X[nt],ot=W.collides(st,$),ut=0;ut<ot.length;ut++){var at=ot[ut],ct=at.bodyA.id===st.id?at.bodyB:at.bodyA;if(!J||J.call(k,st,ct,at)){if(et=!0,Q)Q.call(k,st,ct,at);else if(!J)return!0}}return et},setCollisionCategory:function(X,$){return X=this.getMatterBodies(X),X.forEach(function(Q){Q.collisionFilter.category=$}),this},setCollisionGroup:function(X,$){return X=this.getMatterBodies(X),X.forEach(function(Q){Q.collisionFilter.group=$}),this},setCollidesWith:function(X,$){X=this.getMatterBodies(X);var Q=0;if(!Array.isArray($))Q=$;else for(var J=0;J<$.length;J++)Q|=$[J];return X.forEach(function(k){k.collisionFilter.mask=Q}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var $=[],Q=0;Q<X.length;Q++){var J=X[Q].hasOwnProperty("body")?X[Q].body:X[Q];$.push(J)}return $},setVelocity:function(X,$,Q){X=this.getMatterBodies(X);var J=this._tempVec2;return J.x=$,J.y=Q,X.forEach(function(k){s.setVelocity(k,J)}),this},setVelocityX:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.x=$,X.forEach(function(J){Q.y=J.velocity.y,s.setVelocity(J,Q)}),this},setVelocityY:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.y=$,X.forEach(function(J){Q.x=J.velocity.x,s.setVelocity(J,Q)}),this},setAngularVelocity:function(X,$){return X=this.getMatterBodies(X),X.forEach(function(Q){s.setAngularVelocity(Q,$)}),this},applyForce:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return X.forEach(function(J){Q.x=J.position.x,Q.y=J.position.y,s.applyForce(J,Q,$)}),this},applyForceFromPosition:function(X,$,Q,J){X=this.getMatterBodies(X);var k=this._tempVec2;return X.forEach(function(et){J===void 0&&(J=et.angle),k.x=Q*Math.cos(J),k.y=Q*Math.sin(J),s.applyForce(et,$,k)}),this},applyForceFromAngle:function(X,$,Q){X=this.getMatterBodies(X);var J=this._tempVec2;return X.forEach(function(k){Q===void 0&&(Q=k.angle),J.x=$*Math.cos(Q),J.y=$*Math.sin(Q),s.applyForce(k,{x:k.position.x,y:k.position.y},J)}),this},getConstraintLength:function(X){var $=X.pointA.x,Q=X.pointA.y,J=X.pointB.x,k=X.pointB.y;return X.bodyA&&($+=X.bodyA.position.x,Q+=X.bodyA.position.y),X.bodyB&&(J+=X.bodyB.position.x,k+=X.bodyB.position.y),m($,Q,J,k)},alignBody:function(X,$,Q,J){X=X.hasOwnProperty("body")?X.body:X;var k;switch(J){case a.TOP_LEFT:case a.LEFT_TOP:k=this.bodyBounds.getTopLeft(X,$,Q);break;case a.TOP_CENTER:k=this.bodyBounds.getTopCenter(X,$,Q);break;case a.TOP_RIGHT:case a.RIGHT_TOP:k=this.bodyBounds.getTopRight(X,$,Q);break;case a.LEFT_CENTER:k=this.bodyBounds.getLeftCenter(X,$,Q);break;case a.CENTER:k=this.bodyBounds.getCenter(X,$,Q);break;case a.RIGHT_CENTER:k=this.bodyBounds.getRightCenter(X,$,Q);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:k=this.bodyBounds.getBottomLeft(X,$,Q);break;case a.BOTTOM_CENTER:k=this.bodyBounds.getBottomCenter(X,$,Q);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:k=this.bodyBounds.getBottomRight(X,$,Q);break}return k&&s.setPosition(X,k),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(K.UPDATE,this.world.update,this.world),X.off(K.POST_UPDATE,this.world.postUpdate,this.world)),X.off(K.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(K.START,this.start,this),this.scene=null,this.systems=null}});z.register("MatterPhysics",b,"matterPhysics"),c.exports=b},34803:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(9674),p=t(83419),o=t(31884),s=t(95643),r=t(95540),e=t(72699),n=t(68287),l=t(26099),i=new p({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(u,d,v,m,T,C){s.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new l(d,v);var S=r(C,"shape",null);S?this.setBody(S,C):this.setRectangle(this.width,this.height,C),this.setPosition(d,v),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=i},73834:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(83419),s=t(31884),r=t(62644),e=t(50792),n=t(95540),l=t(97022),i=t(41598),h=new o({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(d,v,m){e.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var T=n(m,"body",null),C=n(m,"addToWorld",!0);if(T)this.setBody(T,C);else{var S=v.getCollisionGroup(),P=n(S,"objects",[]);P.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(v.flipX||v.flipY){var A={x:v.getCenterX(),y:v.getCenterY()},L=v.flipX?-1:1,F=v.flipY?-1:1;p.scale(T,L,F,A)}},setFromTileRectangle:function(u){u===void 0&&(u={}),l(u,"isStatic")||(u.isStatic=!0),l(u,"addToWorld")||(u.addToWorld=!0);var d=this.tile.getBounds(),v=d.x+d.width/2,m=d.y+d.height/2,T=a.rectangle(v,m,d.width,d.height,u);return this.setBody(T,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),l(u,"isStatic")||(u.isStatic=!0),l(u,"addToWorld")||(u.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),T=this.tile.getTop(),C=this.tile.getCollisionGroup(),S=n(C,"objects",[]),P=[],A=0;A<S.length;A++){var L=S[A],F=m+L.x*d,I=T+L.y*v,D=L.width*d,B=L.height*v,G=null;if(L.rectangle)G=a.rectangle(F+D/2,I+B/2,D,B,u);else if(L.ellipse)G=a.circle(F+D/2,I+B/2,D/2,u);else if(L.polygon||L.polyline){var z=L.polygon?L.polygon:L.polyline,W=z.map(function(V){return{x:V.x*d,y:V.y*v}}),Y=i.create(W),K=i.centre(Y);F+=K.x,I+=K.y,G=a.fromVertices(F,I,Y,u)}G&&P.push(G)}if(P.length===1)this.setBody(P[0],u.addToWorld);else if(P.length>1){var Z=r(u);Z.parts=P,this.setBody(p.create(Z),Z.addToWorld)}return this},setBody:function(u,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=h},19496:(c,x,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(53402),s=t(95540),r=t(41598),e={parseBody:function(n,l,i,h){h===void 0&&(h={});for(var u=s(i,"fixtures",[]),d=[],v=0;v<u.length;v++)for(var m=this.parseFixture(u[v]),T=0;T<m.length;T++)d.push(m[T]);var C=o.clone(i,!0);o.extend(C,h,!0),delete C.fixtures,delete C.type;var S=p.create(C);return p.setParts(S,d),p.setPosition(S,{x:n,y:l}),S},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var i;if(n.circle){var h=s(n.circle,"x"),u=s(n.circle,"y"),d=s(n.circle,"radius");i=[a.circle(h,u,d,l)]}else n.vertices&&(i=this.parseVertices(n.vertices,l));return i},parseVertices:function(n,l){l===void 0&&(l={});for(var i=[],h=0;h<n.length;h++)r.clockwiseSort(n[h]),i.push(p.create(o.extend({position:r.centre(n[h]),vertices:n[h]},l)));return a.flagCoincidentParts(i)}};c.exports=e},85791:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o={parseBody:function(s,r,e,n){n===void 0&&(n={});var l,i=e.vertices;if(i.length===1)n.vertices=i[0],l=p.create(n),a.flagCoincidentParts(l.parts);else{for(var h=[],u=0;u<i.length;u++){var d=p.create({vertices:i[u]});h.push(d)}a.flagCoincidentParts(h),n.parts=h,l=p.create(n)}return l.label=e.label,p.setPosition(l,{x:s,y:r}),l}};c.exports=o},98713:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(15647),p=t(83419),o=t(69351),s=t(48140),r=t(81388),e=t(1121),n=t(8214),l=t(46975),i=t(53614),h=t(26099),u=t(41598),d=new p({initialize:function(m,T,C){C===void 0&&(C={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=s.create(l(C,S)),this.world.on(e.BEFORE_UPDATE,this.update,this),m.sys.input.on(n.POINTER_DOWN,this.onDown,this),m.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var m=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,m);for(var C=o.allBodies(this.world.localWorld),S=0;S<C.length;S++){var P=C[S];if(!P.ignorePointer&&a.contains(P.bounds,m)&&r.canCollide(P.collisionFilter,T.collisionFilter)&&this.hitTestBody(P,m))return this.world.emit(e.DRAG_START,P,this.part,this),!0}return!1},hitTestBody:function(v,m){for(var T=this.constraint,C=v.parts.length,S=C>1?1:0,P=S;P<C;P++){var A=v.parts[P];if(u.contains(A.vertices,m))return T.pointA=m,T.pointB={x:m.x-v.position.x,y:m.y-v.position.y},T.bodyB=v,T.angleB=v.angle,i.set(v,!1),this.part=A,this.body=v,!0}return!1},update:function(){var v=this.pointer,m=this.body;if(!this.active||!v){m&&this.stopDrag();return}if(!v.isDown&&m){this.stopDrag();return}else if(v.isDown){if(!this.camera||!m&&!this.getBody(v))return;m=this.body;var T=this.position,C=this.constraint;this.camera.getWorldPoint(v.x,v.y,T),C.pointA.x=T.x,C.pointA.y=T.y,i.set(m,!1),this.world.emit(e.DRAG,m,this)}},stopDrag:function(){var v=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(e.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});c.exports=d},68243:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(83419),s=t(53402),r=t(69351),e=t(48413),n=t(50792),l=t(1121),i=t(95540),h=t(35154),u=t(22562),d=t(35810),v=t(73834),m=t(4372),T=t(31725),C=new o({Extends:n,initialize:function(P,A){n.call(this),this.scene=P,this.engine=e.create(A),this.localWorld=this.engine.world;var L=h(A,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(A,"enabled",!0),this.getDelta=h(A,"getDelta",this.update60Hz);var F=i(A,"runner",{}),I=i(F,"fps",!1),D=i(F,"fps",60),B=i(F,"delta",1e3/D),G=i(F,"deltaMin",1e3/D),z=i(F,"deltaMax",1e3/(D*.5));I||(D=1e3/B),this.runner={fps:D,deltaSampleSize:i(F,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:i(F,"isFixed",!1),delta:B,deltaMin:G,deltaMax:z},this.autoUpdate=h(A,"autoUpdate",!0);var W=h(A,"debug",!1);if(this.drawDebug=typeof W=="object"?!0:W,this.debugGraphic,this.debugConfig={showAxes:i(W,"showAxes",!1),showAngleIndicator:i(W,"showAngleIndicator",!1),angleColor:i(W,"angleColor",15208787),showBroadphase:i(W,"showBroadphase",!1),broadphaseColor:i(W,"broadphaseColor",16757760),showBounds:i(W,"showBounds",!1),boundsColor:i(W,"boundsColor",16777215),showVelocity:i(W,"showVelocity",!1),velocityColor:i(W,"velocityColor",44783),showCollisions:i(W,"showCollisions",!1),collisionColor:i(W,"collisionColor",16094476),showSeparations:i(W,"showSeparations",!1),separationColor:i(W,"separationColor",16753920),showBody:i(W,"showBody",!0),showStaticBody:i(W,"showStaticBody",!0),showInternalEdges:i(W,"showInternalEdges",!1),renderFill:i(W,"renderFill",!1),renderLine:i(W,"renderLine",!0),fillColor:i(W,"fillColor",1075465),fillOpacity:i(W,"fillOpacity",1),lineColor:i(W,"lineColor",2678297),lineOpacity:i(W,"lineOpacity",1),lineThickness:i(W,"lineThickness",1),staticFillColor:i(W,"staticFillColor",857979),staticLineColor:i(W,"staticLineColor",1255396),showSleeping:i(W,"showSleeping",!1),staticBodySleepOpacity:i(W,"staticBodySleepOpacity",.7),sleepFillColor:i(W,"sleepFillColor",4605510),sleepLineColor:i(W,"sleepLineColor",10066585),showSensors:i(W,"showSensors",!0),sensorFillColor:i(W,"sensorFillColor",857979),sensorLineColor:i(W,"sensorLineColor",1255396),showPositions:i(W,"showPositions",!0),positionSize:i(W,"positionSize",4),positionColor:i(W,"positionColor",14697178),showJoint:i(W,"showJoint",!0),jointColor:i(W,"jointColor",14737474),jointLineOpacity:i(W,"jointLineOpacity",1),jointLineThickness:i(W,"jointLineThickness",2),pinSize:i(W,"pinSize",4),pinColor:i(W,"pinColor",4382944),springColor:i(W,"springColor",14697184),anchorColor:i(W,"anchorColor",15724527),anchorSize:i(W,"anchorSize",4),showConvexHulls:i(W,"showConvexHulls",!1),hullColor:i(W,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(A,"setBounds",!1)){var Y=A.setBounds;if(typeof Y=="boolean")this.setBounds();else{var K=i(Y,"x",0),Z=i(Y,"y",0),V=i(Y,"width",P.sys.scale.width),H=i(Y,"height",P.sys.scale.height),N=i(Y,"thickness",64),b=i(Y,"left",!0),X=i(Y,"right",!0),$=i(Y,"top",!0),Q=i(Y,"bottom",!0);this.setBounds(K,Z,V,H,N,b,X,$,Q)}}},setCompositeRenderStyle:function(S){var P=S.bodies,A=S.constraints,L=S.composites,F,I,D;for(F=0;F<P.length;F++)I=P[F],D=I.render,this.setBodyRenderStyle(I,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity);for(F=0;F<A.length;F++)I=A[F],D=I.render,this.setConstraintRenderStyle(I,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize);for(F=0;F<L.length;F++)I=L[F],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(S,P,A,L,F,I){var D=S.render,B=this.debugConfig;return D?(P==null&&(P=S.isStatic?B.staticLineColor:B.lineColor),A==null&&(A=B.lineOpacity),L==null&&(L=B.lineThickness),F==null&&(F=S.isStatic?B.staticFillColor:B.fillColor),I==null&&(I=B.fillOpacity),P!==!1&&(D.lineColor=P),A!==!1&&(D.lineOpacity=A),L!==!1&&(D.lineThickness=L),F!==!1&&(D.fillColor=F),I!==!1&&(D.fillOpacity=I),this):this},setConstraintRenderStyle:function(S,P,A,L,F,I,D){var B=S.render,G=this.debugConfig;if(!B)return this;if(P==null){var z=B.type;z==="line"?P=G.jointColor:z==="pin"?P=G.pinColor:z==="spring"&&(P=G.springColor)}return A==null&&(A=G.jointLineOpacity),L==null&&(L=G.jointLineThickness),F==null&&(F=G.pinSize),I==null&&(I=G.anchorColor),D==null&&(D=G.anchorSize),P!==!1&&(B.lineColor=P),A!==!1&&(B.lineOpacity=A),L!==!1&&(B.lineThickness=L),F!==!1&&(B.pinSize=F),I!==!1&&(B.anchorColor=I),D!==!1&&(B.anchorSize=D),this},setEventsProxy:function(){var S=this,P=this.engine,A=this.localWorld;this.drawDebug&&(d.on(A,"compositeModified",function(L){S.setCompositeRenderStyle(L)}),d.on(A,"beforeAdd",function(L){for(var F=[].concat(L.object),I=0;I<F.length;I++){var D=F[I],B=D.render;D.type==="body"?S.setBodyRenderStyle(D,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity):D.type==="composite"?S.setCompositeRenderStyle(D):D.type==="constraint"&&S.setConstraintRenderStyle(D,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize)}})),d.on(A,"beforeAdd",function(L){S.emit(l.BEFORE_ADD,L)}),d.on(A,"afterAdd",function(L){S.emit(l.AFTER_ADD,L)}),d.on(A,"beforeRemove",function(L){S.emit(l.BEFORE_REMOVE,L)}),d.on(A,"afterRemove",function(L){S.emit(l.AFTER_REMOVE,L)}),d.on(P,"beforeUpdate",function(L){S.emit(l.BEFORE_UPDATE,L)}),d.on(P,"afterUpdate",function(L){S.emit(l.AFTER_UPDATE,L)}),d.on(P,"collisionStart",function(L){var F=L.pairs,I,D;F.length>0&&(I=F[0].bodyA,D=F[0].bodyB),S.emit(l.COLLISION_START,L,I,D)}),d.on(P,"collisionActive",function(L){var F=L.pairs,I,D;F.length>0&&(I=F[0].bodyA,D=F[0].bodyB),S.emit(l.COLLISION_ACTIVE,L,I,D)}),d.on(P,"collisionEnd",function(L){var F=L.pairs,I,D;F.length>0&&(I=F[0].bodyA,D=F[0].bodyB),S.emit(l.COLLISION_END,L,I,D)})},setBounds:function(S,P,A,L,F,I,D,B,G){return S===void 0&&(S=0),P===void 0&&(P=0),A===void 0&&(A=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),F===void 0&&(F=64),I===void 0&&(I=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),G===void 0&&(G=!0),this.updateWall(I,"left",S-F,P-F,F,L+F*2),this.updateWall(D,"right",S+A,P-F,F,L+F*2),this.updateWall(B,"top",S,P-F,A,F),this.updateWall(G,"bottom",S,P+L,A,F),this},updateWall:function(S,P,A,L,F,I){var D=this.walls[P];S?(D&&m.remove(this.localWorld,D),A+=F/2,L+=I/2,this.walls[P]=this.create(A,L,F,I,{isStatic:!0,friction:0,frictionStatic:0})):(D&&m.remove(this.localWorld,D),this.walls[P]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,P,A){return S===void 0&&(S=0),P===void 0&&(P=1),A===void 0&&(A=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=A,this},create:function(S,P,A,L,F){var I=a.rectangle(S,P,A,L,F);return m.add(this.localWorld,I),I},add:function(S){return m.add(this.localWorld,S),this},remove:function(S,P){Array.isArray(S)||(S=[S]);for(var A=0;A<S.length;A++){var L=S[A],F=L.body?L.body:L;r.remove(this.localWorld,F,P)}return this},removeConstraint:function(S,P){return r.remove(this.localWorld,S,P),this},convertTilemapLayer:function(S,P){var A=S.layer,L=S.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(L,P),this},convertTiles:function(S,P){if(S.length===0)return this;for(var A=0;A<S.length;A++)new v(this,S[A],P);return this},nextGroup:function(S){return u.nextGroup(S)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(S,P){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,L=this.runner,F=A.timing;L.isFixed?P=this.getDelta(S,P):(P=S-L.timePrev||L.delta,L.timePrev=S,L.deltaHistory.push(P),L.deltaHistory=L.deltaHistory.slice(-L.deltaSampleSize),P=Math.min.apply(null,L.deltaHistory),P=P<L.deltaMin?L.deltaMin:P,P=P>L.deltaMax?L.deltaMax:P,L.delta=P),L.timeScalePrev=F.timeScale,L.frameCounter+=1,S-L.counterTimestamp>=1e3&&(L.fps=L.frameCounter*((S-L.counterTimestamp)/1e3),L.counterTimestamp=S,L.frameCounter=0),e.update(A,P)}},step:function(S){e.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var P=S.hasOwnProperty("body")?S.body:S;return r.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,P=this.engine,A=this.debugGraphic,L=r.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,A,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(L,A,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(L),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(L,A,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(L,A,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(P.pairs.list,A,S.separationColor),S.showCollisions&&this.renderCollisions(P.pairs.list,A,S.collisionColor)}},renderGrid:function(S,P,A,L){P.lineStyle(1,A,L);for(var F=s.keys(S.buckets),I=0;I<F.length;I++){var D=F[I];if(!(S.buckets[D].length<2)){var B=D.split(/C|R/);P.strokeRect(parseInt(B[1],10)*S.bucketWidth,parseInt(B[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,P,A){P.lineStyle(1,A,1);for(var L=0;L<S.length;L++){var F=S[L];if(F.isActive){var I=F.collision,D=I.bodyA,B=I.bodyB,G=D.position,z=B.position,W=I.penetration,Y=!D.isStatic&&!B.isStatic?4:1;B.isStatic&&(Y=0),P.lineBetween(z.x,z.y,z.x-W.x*Y,z.y-W.y*Y),Y=!D.isStatic&&!B.isStatic?4:1,D.isStatic&&(Y=0),P.lineBetween(G.x,G.y,G.x-W.x*Y,G.y-W.y*Y)}}return this},renderCollisions:function(S,P,A){P.lineStyle(1,A,.5),P.fillStyle(A,1);var L,F;for(L=0;L<S.length;L++)if(F=S[L],!!F.isActive)for(var I=0;I<F.activeContacts.length;I++){var D=F.activeContacts[I],B=D.vertex;P.fillRect(B.x-2,B.y-2,5,5)}for(L=0;L<S.length;L++)if(F=S[L],!!F.isActive){var G=F.collision,z=F.activeContacts;if(z.length>0){var W=z[0].vertex.x,Y=z[0].vertex.y;z.length===2&&(W=(z[0].vertex.x+z[1].vertex.x)/2,Y=(z[0].vertex.y+z[1].vertex.y)/2),G.bodyB===G.supports[0].body||G.bodyA.isStatic?P.lineBetween(W-G.normal.x*8,Y-G.normal.y*8,W,Y):P.lineBetween(W+G.normal.x*8,Y+G.normal.y*8,W,Y)}}return this},renderBodyBounds:function(S,P,A,L){P.lineStyle(1,A,L);for(var F=0;F<S.length;F++){var I=S[F];if(I.render.visible){var D=I.bounds;if(D)P.strokeRect(D.min.x,D.min.y,D.max.x-D.min.x,D.max.y-D.min.y);else for(var B=I.parts,G=B.length>1?1:0;G<B.length;G++){var z=B[G];P.strokeRect(z.bounds.min.x,z.bounds.min.y,z.bounds.max.x-z.bounds.min.x,z.bounds.max.y-z.bounds.min.y)}}}return this},renderBodyAxes:function(S,P,A,L,F){P.lineStyle(1,L,F);for(var I=0;I<S.length;I++){var D=S[I],B=D.parts;if(D.render.visible){var G,z,W;if(A)for(z=B.length>1?1:0;z<B.length;z++)for(G=B[z],W=0;W<G.axes.length;W++){var Y=G.axes[W];P.lineBetween(G.position.x,G.position.y,G.position.x+Y.x*20,G.position.y+Y.y*20)}else for(z=B.length>1?1:0;z<B.length;z++)for(G=B[z],W=0;W<G.axes.length;W++)P.lineBetween(G.position.x,G.position.y,(G.vertices[0].x+G.vertices[G.vertices.length-1].x)/2,(G.vertices[0].y+G.vertices[G.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,P,A,L,F){P.lineStyle(F,A,L);for(var I=0;I<S.length;I++){var D=S[I];D.render.visible&&P.lineBetween(D.position.x,D.position.y,D.position.x+(D.position.x-D.positionPrev.x)*2,D.position.y+(D.position.y-D.positionPrev.y)*2)}return this},renderBodies:function(S){for(var P=this.debugGraphic,A=this.debugConfig,L=A.showBody,F=A.showStaticBody,I=A.showSleeping,D=A.showInternalEdges,B=A.showConvexHulls,G=A.renderFill,z=A.renderLine,W=A.staticBodySleepOpacity,Y=A.sleepFillColor,K=A.sleepLineColor,Z=A.hullColor,V=0;V<S.length;V++){var H=S[V];if(H.render.visible&&!(!F&&H.isStatic||!L&&!H.isStatic)){var N=H.render.lineColor,b=H.render.lineOpacity,X=H.render.lineThickness,$=H.render.fillColor,Q=H.render.fillOpacity;I&&H.isSleeping&&(H.isStatic?(b*=W,Q*=W):(N=K,$=Y)),G||($=null),z||(N=null),this.renderBody(H,P,D,N,b,X,$,Q);var J=H.parts.length;B&&J>1&&this.renderConvexHull(H,P,Z,X)}}},renderBody:function(S,P,A,L,F,I,D,B){L===void 0&&(L=null),F===void 0&&(F=null),I===void 0&&(I=1),D===void 0&&(D=null),B===void 0&&(B=null);for(var G=this.debugConfig,z=G.sensorFillColor,W=G.sensorLineColor,Y=S.parts,K=Y.length,Z=K>1?1:0;Z<K;Z++){var V=Y[Z],H=V.render,N=H.opacity;if(!(!H.visible||N===0||V.isSensor&&!G.showSensors)){var b=V.circleRadius;if(P.beginPath(),V.isSensor?(D!==null&&P.fillStyle(z,B*N),L!==null&&P.lineStyle(I,W,F*N)):(D!==null&&P.fillStyle(D,B*N),L!==null&&P.lineStyle(I,L,F*N)),b)P.arc(V.position.x,V.position.y,b,0,2*Math.PI);else{var X=V.vertices,$=X.length;P.moveTo(X[0].x,X[0].y);for(var Q=1;Q<$;Q++){var J=X[Q];if(!X[Q-1].isInternal||A?P.lineTo(J.x,J.y):P.moveTo(J.x,J.y),Q<$&&J.isInternal&&!A){var k=(Q+1)%$;P.moveTo(X[k].x,X[k].y)}}P.closePath()}D!==null&&P.fillPath(),L!==null&&P.strokePath()}}if(G.showPositions&&!S.isStatic){var et=S.position.x,nt=S.position.y,st=Math.ceil(G.positionSize/2);P.fillStyle(G.positionColor,1),P.fillRect(et-st,nt-st,G.positionSize,G.positionSize)}return this},renderConvexHull:function(S,P,A,L){L===void 0&&(L=1);var F=S.parts,I=F.length;if(I>1){var D=S.vertices;P.lineStyle(L,A),P.beginPath(),P.moveTo(D[0].x,D[0].y);for(var B=1;B<D.length;B++)P.lineTo(D[B].x,D[B].y);P.lineTo(D[0].x,D[0].y),P.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,P=r.allConstraints(this.localWorld),A=0;A<P.length;A++){var L=P[A].render,F=L.lineColor,I=L.lineOpacity,D=L.lineThickness,B=L.pinSize,G=L.anchorColor,z=L.anchorSize;this.renderConstraint(P[A],S,F,I,D,B,G,z)}},renderConstraint:function(S,P,A,L,F,I,D,B){var G=S.render;if(!G.visible||!S.pointA||!S.pointB)return this;P.lineStyle(F,A,L);var z=S.bodyA,W=S.bodyB,Y,K;if(z?Y=T.add(z.position,S.pointA):Y=S.pointA,G.type==="pin")P.strokeCircle(Y.x,Y.y,I);else{if(W?K=T.add(W.position,S.pointB):K=S.pointB,P.beginPath(),P.moveTo(Y.x,Y.y),G.type==="spring")for(var Z=T.sub(K,Y),V=T.perp(T.normalise(Z)),H=Math.ceil(s.clamp(S.length/5,12,20)),N,b=1;b<H;b+=1)N=b%2===0?1:-1,P.lineTo(Y.x+Z.x*(b/H)+V.x*N*4,Y.y+Z.y*(b/H)+V.y*N*4);P.lineTo(K.x,K.y)}return P.strokePath(),G.anchors&&B>0&&(P.fillStyle(D),P.fillCircle(Y.x,Y.y,B),P.fillCircle(K.x,K.y,B)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=C},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t){return this.body.restitution=t,this}};c.exports=x},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var o=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(o,a)}return this}};c.exports=x},51607:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,s){return a.applyForce(this.body,o,s),this},thrust:function(o){var s=this.body.angle;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var s=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=p},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,a,p){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=x},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=x},37302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p=t(26099),o={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=o},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=x},57772:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(66280),p=t(22562),o=t(43855),s=t(95540),r=t(19496),e=t(85791),n=t(41598),l={setRectangle:function(i,h,u){return this.setBody({type:"rectangle",width:i,height:h},u)},setCircle:function(i,h){return this.setBody({type:"circle",radius:i},h)},setPolygon:function(i,h,u){return this.setBody({type:"polygon",sides:h,radius:i},u)},setTrapezoid:function(i,h,u,d){return this.setBody({type:"trapezoid",width:i,height:h,slope:u},d)},setExistingBody:function(i,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},h&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var v=i.render.sprite.xOffset,m=i.render.sprite.yOffset,T=i.centerOfMass.x,C=i.centerOfMass.y;if(o(T,.5)&&o(C,.5))this.setOrigin(v+.5,m+.5);else{var S=i.centerOffset.x,P=i.centerOffset.y;this.setOrigin(v+S/this.displayWidth,m+P/this.displayHeight)}}return this},setBody:function(i,h){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var d=s(i,"type","rectangle"),v=s(i,"x",this._tempVec2.x),m=s(i,"y",this._tempVec2.y),T=s(i,"width",this.width),C=s(i,"height",this.height);switch(d){case"rectangle":u=a.rectangle(v,m,T,C,h);break;case"circle":var S=s(i,"radius",Math.max(T,C)/2),P=s(i,"maxSides",25);u=a.circle(v,m,S,h,P);break;case"trapezoid":var A=s(i,"slope",.5);u=a.trapezoid(v,m,T,C,A,h);break;case"polygon":var L=s(i,"sides",5),F=s(i,"radius",Math.max(T,C)/2);u=a.polygon(v,m,L,F,h);break;case"fromVertices":case"fromVerts":var I=s(i,"verts",null);if(I)if(typeof I=="string"&&(I=n.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,I),u=this.body;else{var D=s(i,"flagInternal",!1),B=s(i,"removeCollinear",.01),G=s(i,"minimumArea",10);u=a.fromVertices(v,m,I,h,D,B,G)}break;case"fromPhysicsEditor":u=r.parseBody(v,m,i,h);break;case"fromPhysicsTracer":u=e.parseBody(v,m,i,h);break}return u&&this.setExistingBody(u,i.addToWorld),this}};c.exports=l},38083:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(1121),p=t(53614),o=t(35810),s={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepStart",function(n){e.emit(a.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepEnd",function(n){e.emit(a.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};c.exports=s},90556:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p={setStatic:function(o){return a.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};c.exports=p},85436:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p=t(36383),o=t(86554),s=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*p.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),a.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),a.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),a.setAngle(this.body,n),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,a.setAngle(this.body,this.rotation),this},setScale:function(n,l,i){n===void 0&&(n=1),l===void 0&&(l=n);var h=1/this._scaleX,u=1/this._scaleY;return this._scaleX=n,this._scaleY=l,a.scale(this.body,h,u,i),a.scale(this.body,n,l,i),this}};c.exports=e},42081:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(22562),p={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,s){return this._tempVec2.set(o,s),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(o){return a.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(o){return a.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};c.exports=p},31884:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(31725),s=t(53614),r=t(53402),e=t(15647),n=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(i){var h={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(h.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=r.extend(h,i);return l(u,i),u.setOnCollideWith=function(d,v){return v?this.onCollideWith[d.id]=v:delete this.onCollideWith[d.id],this},u},a.nextGroup=function(i){return i?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var l=function(i,h){if(h=h||{},a.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||o.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),a.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,d=i.centerOfMass,v=i.centerOffset,m=u.max.x-u.min.x,T=u.max.y-u.min.y;d.x=-(u.min.x-i.position.x)/m,d.y=-(u.min.y-i.position.y)/T,v.x=m*d.x,v.y=T*d.y}};a.set=function(i,h,u){var d;typeof h=="string"&&(d=h,h={},h[d]=u);for(d in h)if(Object.prototype.hasOwnProperty.call(h,d))switch(u=h[d],d){case"isStatic":a.setStatic(i,u);break;case"isSleeping":s.set(i,u);break;case"mass":a.setMass(i,u);break;case"density":a.setDensity(i,u);break;case"inertia":a.setInertia(i,u);break;case"vertices":a.setVertices(i,u);break;case"position":a.setPosition(i,u);break;case"angle":a.setAngle(i,u);break;case"velocity":a.setVelocity(i,u);break;case"angularVelocity":a.setAngularVelocity(i,u);break;case"speed":a.setSpeed(i,u);break;case"angularSpeed":a.setAngularSpeed(i,u);break;case"parts":a.setParts(i,u);break;case"centre":a.setCentre(i,u);break;default:i[d]=u}},a.setStatic=function(i,h){for(var u=0;u<i.parts.length;u++){var d=i.parts[u];h?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=h}},a.setMass=function(i,h){var u=i.inertia/(i.mass/6);i.inertia=u*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},a.setDensity=function(i,h){a.setMass(i,h*i.area),i.density=h},a.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},a.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=p.create(h,i),i.axes=n.fromVertices(i.vertices),i.area=p.area(i.vertices),a.setMass(i,i.density*i.area);var u=p.centre(i.vertices);p.translate(i.vertices,u,-1),a.setInertia(i,a._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},a.setParts=function(i,h,u){var d;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<h.length;d++){var v=h[d];v!==i&&(v.parent=i,i.parts.push(v))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var m=[];for(d=0;d<h.length;d++)m=m.concat(h[d].vertices);p.clockwiseSort(m);var T=p.hull(m),C=p.centre(T);a.setVertices(i,T),p.translate(i.vertices,C)}var S=a._totalProperties(i),P=S.centre.x,A=S.centre.y,L=i.bounds,F=i.centerOfMass,I=i.centerOffset;e.update(L,i.vertices,i.velocity),F.x=-(L.min.x-P)/(L.max.x-L.min.x),F.y=-(L.min.y-A)/(L.max.y-L.min.y),I.x=P,I.y=A,i.area=S.area,i.parent=i,i.position.x=P,i.position.y=A,i.positionPrev.x=P,i.positionPrev.y=A,a.setMass(i,S.mass),a.setInertia(i,S.inertia),a.setPosition(i,S.centre)}},a.setCentre=function(i,h,u){u?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},a.setPosition=function(i,h,u){var d=o.sub(h,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=o.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var v=0;v<i.parts.length;v++){var m=i.parts[v];m.position.x+=d.x,m.position.y+=d.y,p.translate(m.vertices,d),e.update(m.bounds,m.vertices,i.velocity)}},a.setAngle=function(i,h,u){var d=h-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var v=0;v<i.parts.length;v++){var m=i.parts[v];m.angle+=d,p.rotate(m.vertices,d,i.position),n.rotate(m.axes,d),e.update(m.bounds,m.vertices,i.velocity),v>0&&o.rotateAbout(m.position,d,i.position,m.position)}},a.setVelocity=function(i,h){var u=i.deltaTime/a._baseDelta;i.positionPrev.x=i.position.x-h.x*u,i.positionPrev.y=i.position.y-h.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=o.magnitude(i.velocity)},a.getVelocity=function(i){var h=a._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},a.getSpeed=function(i){return o.magnitude(a.getVelocity(i))},a.setSpeed=function(i,h){a.setVelocity(i,o.mult(o.normalise(a.getVelocity(i)),h))},a.setAngularVelocity=function(i,h){var u=i.deltaTime/a._baseDelta;i.anglePrev=i.angle-h*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},a.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*a._baseDelta/i.deltaTime},a.getAngularSpeed=function(i){return Math.abs(a.getAngularVelocity(i))},a.setAngularSpeed=function(i,h){a.setAngularVelocity(i,r.sign(a.getAngularVelocity(i))*h)},a.translate=function(i,h,u){a.setPosition(i,o.add(i.position,h),u)},a.rotate=function(i,h,u,d){if(!u)a.setAngle(i,i.angle+h,d);else{var v=Math.cos(h),m=Math.sin(h),T=i.position.x-u.x,C=i.position.y-u.y;a.setPosition(i,{x:u.x+(T*v-C*m),y:u.y+(T*m+C*v)},d),a.setAngle(i,i.angle+h,d)}},a.scale=function(i,h,u,d){var v=0,m=0;d=d||i.position;for(var T=i.inertia===1/0,C=0;C<i.parts.length;C++){var S=i.parts[C];S.scale.x=h,S.scale.y=u,p.scale(S.vertices,h,u,d),S.axes=n.fromVertices(S.vertices),S.area=p.area(S.vertices),a.setMass(S,i.density*S.area),p.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),a.setInertia(S,a._inertiaScale*p.inertia(S.vertices,S.mass)),p.translate(S.vertices,{x:S.position.x,y:S.position.y}),C>0&&(v+=S.area,m+=S.inertia),S.position.x=d.x+(S.position.x-d.x)*h,S.position.y=d.y+(S.position.y-d.y)*u,e.update(S.bounds,S.vertices,i.velocity)}i.parts.length>1&&(i.area=v,i.isStatic||(a.setMass(i,i.density*v),a.setInertia(i,m))),i.circleRadius&&(h===u?i.circleRadius*=h:i.circleRadius=null),T&&a.setInertia(i,1/0)},a.update=function(i,h){h=(typeof h<"u"?h:16.666666666666668)*i.timeScale;var u=h*h,d=a._timeCorrection?h/(i.deltaTime||h):1,v=1-i.frictionAir*(h/r._baseDelta),m=(i.position.x-i.positionPrev.x)*d,T=(i.position.y-i.positionPrev.y)*d;i.velocity.x=m*v+i.force.x/i.mass*u,i.velocity.y=T*v+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*v*d+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=o.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var C=0;C<i.parts.length;C++){var S=i.parts[C];p.translate(S.vertices,i.velocity),C>0&&(S.position.x+=i.velocity.x,S.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(S.vertices,i.angularVelocity,i.position),n.rotate(S.axes,i.angularVelocity),C>0&&o.rotateAbout(S.position,i.angularVelocity,i.position,S.position)),e.update(S.bounds,S.vertices,i.velocity)}},a.updateVelocities=function(i){var h=a._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*h,u.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},a.applyForce=function(i,h,u){var d={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=d.x*u.y-d.y*u.x},a._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var d=i.parts[u],v=d.mass!==1/0?d.mass:1;h.mass+=v,h.area+=d.area,h.inertia+=d.inertia,h.centre=o.add(h.centre,o.mult(d.position,v))}return h.centre=o.div(h.centre,h.mass),h}})()},69351:(c,x,t)=>{var a={};c.exports=a;var p=t(35810),o=t(53402),s=t(15647),r=t(22562);(function(){a.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},a.setModified=function(e,n,l,i){if(p.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&a.setModified(e.parent,n,l,i),i)for(var h=0;h<e.composites.length;h++){var u=e.composites[h];a.setModified(u,n,l,i)}},a.add=function(e,n){var l=[].concat(n);p.trigger(e,"beforeAdd",{object:n});for(var i=0;i<l.length;i++){var h=l[i];switch(h.type){case"body":if(h.parent!==h){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(e,h);break;case"constraint":a.addConstraint(e,h);break;case"composite":a.addComposite(e,h);break;case"mouseConstraint":a.addConstraint(e,h.constraint);break}}return p.trigger(e,"afterAdd",{object:n}),e},a.remove=function(e,n,l){var i=[].concat(n);p.trigger(e,"beforeRemove",{object:n});for(var h=0;h<i.length;h++){var u=i[h];switch(u.type){case"body":a.removeBody(e,u,l);break;case"constraint":a.removeConstraint(e,u,l);break;case"composite":a.removeComposite(e,u,l);break;case"mouseConstraint":a.removeConstraint(e,u.constraint);break}}return p.trigger(e,"afterRemove",{object:n}),e},a.addComposite=function(e,n){return e.composites.push(n),n.parent=e,a.setModified(e,!0,!0,!1),e},a.removeComposite=function(e,n,l){var i=o.indexOf(e.composites,n);if(i!==-1&&a.removeCompositeAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeComposite(e.composites[h],n,!0);return e},a.removeCompositeAt=function(e,n){return e.composites.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addBody=function(e,n){return e.bodies.push(n),a.setModified(e,!0,!0,!1),e},a.removeBody=function(e,n,l){var i=o.indexOf(e.bodies,n);if(i!==-1&&a.removeBodyAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeBody(e.composites[h],n,!0);return e},a.removeBodyAt=function(e,n){return e.bodies.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addConstraint=function(e,n){return e.constraints.push(n),a.setModified(e,!0,!0,!1),e},a.removeConstraint=function(e,n,l){var i=o.indexOf(e.constraints,n);if(i!==-1&&a.removeConstraintAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeConstraint(e.composites[h],n,!0);return e},a.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),a.setModified(e,!0,!0,!1),e},a.clear=function(e,n,l){if(l)for(var i=0;i<e.composites.length;i++)a.clear(e.composites[i],n,!0);return n?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,a.setModified(e,!0,!0,!1),e},a.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),l=0;l<e.composites.length;l++)n=n.concat(a.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=n),n},a.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),l=0;l<e.composites.length;l++)n=n.concat(a.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=n),n},a.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),l=0;l<e.composites.length;l++)n=n.concat(a.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=n),n},a.get=function(e,n,l){var i,h;switch(l){case"body":i=a.allBodies(e);break;case"constraint":i=a.allConstraints(e);break;case"composite":i=a.allComposites(e).concat(e);break}return i?(h=i.filter(function(u){return u.id.toString()===n.toString()}),h.length===0?null:h[0]):null},a.move=function(e,n,l){return a.remove(e,n),a.add(l,n),e},a.rebase=function(e){for(var n=a.allBodies(e).concat(a.allConstraints(e)).concat(a.allComposites(e)),l=0;l<n.length;l++)n[l].id=o.nextId();return e},a.translate=function(e,n,l){for(var i=l?a.allBodies(e):e.bodies,h=0;h<i.length;h++)r.translate(i[h],n);return e},a.rotate=function(e,n,l,i){for(var h=Math.cos(n),u=Math.sin(n),d=i?a.allBodies(e):e.bodies,v=0;v<d.length;v++){var m=d[v],T=m.position.x-l.x,C=m.position.y-l.y;r.setPosition(m,{x:l.x+(T*h-C*u),y:l.y+(T*u+C*h)}),r.rotate(m,n)}return e},a.scale=function(e,n,l,i,h){for(var u=h?a.allBodies(e):e.bodies,d=0;d<u.length;d++){var v=u[d],m=v.position.x-i.x,T=v.position.y-i.y;r.setPosition(v,{x:i.x+m*n,y:i.y+T*l}),r.scale(v,n,l)}return e},a.bounds=function(e){for(var n=a.allBodies(e),l=[],i=0;i<n.length;i+=1){var h=n[i];l.push(h.bounds.min,h.bounds.max)}return s.create(l)}})()},4372:(c,x,t)=>{var a={};c.exports=a;var p=t(69351);(function(){a.create=p.create,a.add=p.add,a.remove=p.remove,a.clear=p.clear,a.addComposite=p.addComposite,a.addBody=p.addBody,a.addConstraint=p.addConstraint})()},52284:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(4506);(function(){var s=[],r={overlap:0,axis:null},e={overlap:0,axis:null};a.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},a.collides=function(n,l,i){if(a._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(a._overlapAxes(e,l.vertices,n.vertices,l.axes),e.overlap<=0))return null;var h=i&&i.table[o.id(n,l)],u;h?u=h.collision:(u=a.create(n,l),u.collided=!0,u.bodyA=n.id<l.id?n:l,u.bodyB=n.id<l.id?l:n,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),n=u.bodyA,l=u.bodyB;var d;r.overlap<e.overlap?d=r:d=e;var v=u.normal,m=u.supports,T=d.axis,C=T.x,S=T.y;C*(l.position.x-n.position.x)+S*(l.position.y-n.position.y)<0?(v.x=C,v.y=S):(v.x=-C,v.y=-S),u.tangent.x=-v.y,u.tangent.y=v.x,u.depth=d.overlap,u.penetration.x=v.x*u.depth,u.penetration.y=v.y*u.depth;var P=a._findSupports(n,l,v,1),A=0;if(p.contains(n.vertices,P[0])&&(m[A++]=P[0]),p.contains(n.vertices,P[1])&&(m[A++]=P[1]),A<2){var L=a._findSupports(l,n,v,-1);p.contains(l.vertices,L[0])&&(m[A++]=L[0]),A<2&&p.contains(l.vertices,L[1])&&(m[A++]=L[1])}return A===0&&(m[A++]=P[0]),m.length=A,u},a._overlapAxes=function(n,l,i,h){var u=l.length,d=i.length,v=l[0].x,m=l[0].y,T=i[0].x,C=i[0].y,S=h.length,P=Number.MAX_VALUE,A=0,L,F,I,D,B,G;for(B=0;B<S;B++){var z=h[B],W=z.x,Y=z.y,K=v*W+m*Y,Z=T*W+C*Y,V=K,H=Z;for(G=1;G<u;G+=1)D=l[G].x*W+l[G].y*Y,D>V?V=D:D<K&&(K=D);for(G=1;G<d;G+=1)D=i[G].x*W+i[G].y*Y,D>H?H=D:D<Z&&(Z=D);if(F=V-Z,I=H-K,L=F<I?F:I,L<P&&(P=L,A=B,L<=0))break}n.axis=h[A],n.overlap=P},a._projectToAxis=function(n,l,i){for(var h=l[0].x*i.x+l[0].y*i.y,u=h,d=1;d<l.length;d+=1){var v=l[d].x*i.x+l[d].y*i.y;v>u?u=v:v<h&&(h=v)}n.min=h,n.max=u},a._findSupports=function(n,l,i,h){var u=l.vertices,d=u.length,v=n.position.x,m=n.position.y,T=i.x*h,C=i.y*h,S=Number.MAX_VALUE,P,A,L,F,I;for(I=0;I<d;I+=1)A=u[I],F=T*(v-A.x)+C*(m-A.y),F<S&&(S=F,P=A);return L=u[(d+P.index-1)%d],S=T*(v-L.x)+C*(m-L.y),A=u[(P.index+1)%d],T*(v-A.x)+C*(m-A.y)<S?(s[0]=P,s[1]=A,s):(s[0]=P,s[1]=L,s)}})()},43424:c=>{var x={};c.exports=x,function(){x.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,x,t)=>{var a={};c.exports=a;var p=t(53402),o=t(52284);(function(){a.create=function(s){var r={bodies:[],pairs:null};return p.extend(r,s)},a.setBodies=function(s,r){s.bodies=r.slice(0)},a.clear=function(s){s.bodies=[]},a.collisions=function(s){var r=[],e=s.pairs,n=s.bodies,l=n.length,i=a.canCollide,h=o.collides,u,d;for(n.sort(a._compareBoundsX),u=0;u<l;u++){var v=n[u],m=v.bounds,T=v.bounds.max.x,C=v.bounds.max.y,S=v.bounds.min.y,P=v.isStatic||v.isSleeping,A=v.parts.length,L=A===1;for(d=u+1;d<l;d++){var F=n[d],I=F.bounds;if(I.min.x>T)break;if(!(C<I.min.y||S>I.max.y)&&!(P&&(F.isStatic||F.isSleeping))&&i(v.collisionFilter,F.collisionFilter)){var D=F.parts.length;if(L&&D===1){var B=h(v,F,e);B&&r.push(B)}else for(var G=A>1?1:0,z=D>1?1:0,W=G;W<A;W++)for(var Y=v.parts[W],m=Y.bounds,K=z;K<D;K++){var Z=F.parts[K],I=Z.bounds;if(!(m.min.x>I.max.x||m.max.x<I.min.x||m.max.y<I.min.y||m.min.y>I.max.y)){var B=h(Y,Z,e);B&&r.push(B)}}}}}return r},a.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},a._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},4506:(c,x,t)=>{var a={};c.exports=a;var p=t(43424);(function(){a.create=function(o,s){var r=o.bodyA,e=o.bodyB,n={id:a.id(r,e),bodyA:r,bodyB:e,collision:o,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(n,o,s),n},a.update=function(o,s,r){var e=o.contacts,n=s.supports,l=o.activeContacts,i=s.parentA,h=s.parentB,u=i.vertices.length;o.isActive=!0,o.timeUpdated=r,o.collision=s,o.separation=s.depth,o.inverseMass=i.inverseMass+h.inverseMass,o.friction=i.friction<h.friction?i.friction:h.friction,o.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,o.restitution=i.restitution>h.restitution?i.restitution:h.restitution,o.slop=i.slop>h.slop?i.slop:h.slop,s.pair=o,l.length=0;for(var d=0;d<n.length;d++){var v=n[d],m=v.body===i?v.index:u+v.index,T=e[m];T?l.push(T):l.push(e[m]=p.create(v))}},a.setActive=function(o,s,r){s?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.activeContacts.length=0)},a.id=function(o,s){return o.id<s.id?"A"+o.id+"B"+s.id:"A"+s.id+"B"+o.id}})()},99561:(c,x,t)=>{var a={};c.exports=a;var p=t(4506),o=t(53402);(function(){a.create=function(s){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,r,e){var n=s.list,l=n.length,i=s.table,h=r.length,u=s.collisionStart,d=s.collisionEnd,v=s.collisionActive,m,T,C,S;for(u.length=0,d.length=0,v.length=0,S=0;S<l;S++)n[S].confirmedActive=!1;for(S=0;S<h;S++)m=r[S],C=m.pair,C?(C.isActive?v.push(C):u.push(C),p.update(C,m,e),C.confirmedActive=!0):(C=p.create(m,e),i[C.id]=C,u.push(C),n.push(C));var P=[];for(l=n.length,S=0;S<l;S++)C=n[S],C.confirmedActive||(p.setActive(C,!1,e),d.push(C),!C.collision.bodyA.isSleeping&&!C.collision.bodyB.isSleeping&&P.push(S));for(S=0;S<P.length;S++)T=P[S]-S,C=n[T],n.splice(T,1),delete i[C.id]},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(c,x,t)=>{var a={};c.exports=a;var p=t(31725),o=t(52284),s=t(15647),r=t(66280),e=t(41598);(function(){a.collides=function(n,l){for(var i=[],h=l.length,u=n.bounds,d=o.collides,v=s.overlaps,m=0;m<h;m++){var T=l[m],C=T.parts.length,S=C===1?0:1;if(n!==T&&v(T.bounds,u))for(var P=S;P<C;P++){var A=T.parts[P];if(v(A.bounds,u)){var L=d(A,n);if(L){i.push(L);break}}}}return i},a.ray=function(n,l,i,h){h=h||1e-100;for(var u=p.angle(l,i),d=p.magnitude(p.sub(l,i)),v=(i.x+l.x)*.5,m=(i.y+l.y)*.5,T=r.rectangle(v,m,d,h,{angle:u}),C=a.collides(T,n),S=0;S<C.length;S+=1){var P=C[S];P.body=P.bodyB=P.bodyA}return C},a.region=function(n,l,i){for(var h=[],u=0;u<n.length;u++){var d=n[u],v=s.overlaps(d.bounds,l);(v&&!i||!v&&i)&&h.push(d)}return h},a.point=function(n,l){for(var i=[],h=0;h<n.length;h++){var u=n[h];if(s.contains(u.bounds,l))for(var d=u.parts.length===1?0:1;d<u.parts.length;d++){var v=u.parts[d];if(s.contains(v.bounds,l)&&e.contains(v.vertices,l)){i.push(u);break}}}return i}})()},66272:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(53402),s=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(r){var e,n,l,i=r.length;for(e=0;e<i;e++)n=r[e],n.isActive&&(l=n.activeContacts.length,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},a.solvePosition=function(r,e,n){var l,i,h,u,d,v,m,T,C=a._positionDampen*(n||1),S=o.clamp(e/o._baseDelta,0,1),P=r.length;for(l=0;l<P;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,d=h.parentB,v=h.normal,i.separation=v.x*(d.positionImpulse.x+h.penetration.x-u.positionImpulse.x)+v.y*(d.positionImpulse.y+h.penetration.y-u.positionImpulse.y));for(l=0;l<P;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,d=h.parentB,v=h.normal,T=i.separation-i.slop*S,(u.isStatic||d.isStatic)&&(T*=2),u.isStatic||u.isSleeping||(m=C/u.totalContacts,u.positionImpulse.x+=v.x*T*m,u.positionImpulse.y+=v.y*T*m),d.isStatic||d.isSleeping||(m=C/d.totalContacts,d.positionImpulse.x-=v.x*T*m,d.positionImpulse.y-=v.y*T*m))},a.postSolvePosition=function(r){for(var e=a._positionWarming,n=r.length,l=p.translate,i=s.update,h=0;h<n;h++){var u=r[h],d=u.positionImpulse,v=d.x,m=d.y,T=u.velocity;if(u.totalContacts=0,v!==0||m!==0){for(var C=0;C<u.parts.length;C++){var S=u.parts[C];l(S.vertices,d),i(S.bounds,S.vertices,T),S.position.x+=v,S.position.y+=m}u.positionPrev.x+=v,u.positionPrev.y+=m,v*T.x+m*T.y<0?(d.x=0,d.y=0):(d.x*=e,d.y*=e)}}},a.preSolveVelocity=function(r){var e=r.length,n,l;for(n=0;n<e;n++){var i=r[n];if(!(!i.isActive||i.isSensor)){var h=i.activeContacts,u=h.length,d=i.collision,v=d.parentA,m=d.parentB,T=d.normal,C=d.tangent;for(l=0;l<u;l++){var S=h[l],P=S.vertex,A=S.normalImpulse,L=S.tangentImpulse;if(A!==0||L!==0){var F=T.x*A+C.x*L,I=T.y*A+C.y*L;v.isStatic||v.isSleeping||(v.positionPrev.x+=F*v.inverseMass,v.positionPrev.y+=I*v.inverseMass,v.anglePrev+=v.inverseInertia*((P.x-v.position.x)*I-(P.y-v.position.y)*F)),m.isStatic||m.isSleeping||(m.positionPrev.x-=F*m.inverseMass,m.positionPrev.y-=I*m.inverseMass,m.anglePrev-=m.inverseInertia*((P.x-m.position.x)*I-(P.y-m.position.y)*F))}}}}},a.solveVelocity=function(r,e){var n=e/o._baseDelta,l=n*n,i=l*n,h=-a._restingThresh*n,u=a._restingThreshTangent,d=a._frictionNormalMultiplier*n,v=a._frictionMaxStatic,m=r.length,T,C,S,P;for(S=0;S<m;S++){var A=r[S];if(!(!A.isActive||A.isSensor)){var L=A.collision,F=L.parentA,I=L.parentB,D=F.velocity,B=I.velocity,G=L.normal.x,z=L.normal.y,W=L.tangent.x,Y=L.tangent.y,K=A.activeContacts,Z=K.length,V=1/Z,H=F.inverseMass+I.inverseMass,N=A.friction*A.frictionStatic*d;for(D.x=F.position.x-F.positionPrev.x,D.y=F.position.y-F.positionPrev.y,B.x=I.position.x-I.positionPrev.x,B.y=I.position.y-I.positionPrev.y,F.angularVelocity=F.angle-F.anglePrev,I.angularVelocity=I.angle-I.anglePrev,P=0;P<Z;P++){var b=K[P],X=b.vertex,$=X.x-F.position.x,Q=X.y-F.position.y,J=X.x-I.position.x,k=X.y-I.position.y,et=D.x-Q*F.angularVelocity,nt=D.y+$*F.angularVelocity,st=B.x-k*I.angularVelocity,ot=B.y+J*I.angularVelocity,ut=et-st,at=nt-ot,ct=G*ut+z*at,Et=W*ut+Y*at,St=A.separation+ct,Ct=Math.min(St,1);Ct=St<0?0:Ct;var dt=Ct*N;Et<-dt||Et>dt?(C=Et>0?Et:-Et,T=A.friction*(Et>0?1:-1)*i,T<-C?T=-C:T>C&&(T=C)):(T=Et,C=v);var Tt=$*z-Q*G,vt=J*z-k*G,wt=V/(H+F.inverseInertia*Tt*Tt+I.inverseInertia*vt*vt),Bt=(1+A.restitution)*ct*wt;if(T*=wt,ct<h)b.normalImpulse=0;else{var Zt=b.normalImpulse;b.normalImpulse+=Bt,b.normalImpulse>0&&(b.normalImpulse=0),Bt=b.normalImpulse-Zt}if(Et<-u||Et>u)b.tangentImpulse=0;else{var Ut=b.tangentImpulse;b.tangentImpulse+=T,b.tangentImpulse<-C&&(b.tangentImpulse=-C),b.tangentImpulse>C&&(b.tangentImpulse=C),T=b.tangentImpulse-Ut}var Ht=G*Bt+W*T,Nt=z*Bt+Y*T;F.isStatic||F.isSleeping||(F.positionPrev.x+=Ht*F.inverseMass,F.positionPrev.y+=Nt*F.inverseMass,F.anglePrev+=($*Nt-Q*Ht)*F.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=Ht*I.inverseMass,I.positionPrev.y-=Nt*I.inverseMass,I.anglePrev-=(J*Nt-k*Ht)*I.inverseInertia)}}}}})()},48140:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(31725),s=t(53614),r=t(15647),e=t(66615),n=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(l){var i=l;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?o.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?o.add(i.bodyB.position,i.pointB):i.pointB,d=o.magnitude(o.sub(h,u));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(v.type="pin",v.anchors=!1):i.stiffness<.9&&(v.type="spring"),i.render=n.extend(v,i.render),i},a.preSolveAll=function(l){for(var i=0;i<l.length;i+=1){var h=l[i],u=h.constraintImpulse;h.isStatic||u.x===0&&u.y===0&&u.angle===0||(h.position.x+=u.x,h.position.y+=u.y,h.angle+=u.angle)}},a.solveAll=function(l,i){for(var h=n.clamp(i/n._baseDelta,0,1),u=0;u<l.length;u+=1){var d=l[u],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||m)&&a.solve(l[u],h)}for(u=0;u<l.length;u+=1)d=l[u],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!v&&!m&&a.solve(l[u],h)},a.solve=function(l,i){var h=l.bodyA,u=l.bodyB,d=l.pointA,v=l.pointB;if(!(!h&&!u)){h&&!h.isStatic&&(o.rotate(d,h.angle-l.angleA,d),l.angleA=h.angle),u&&!u.isStatic&&(o.rotate(v,u.angle-l.angleB,v),l.angleB=u.angle);var m=d,T=v;if(h&&(m=o.add(h.position,d)),u&&(T=o.add(u.position,v)),!(!m||!T)){var C=o.sub(m,T),S=o.magnitude(C);S<a._minLength&&(S=a._minLength);var P=(S-l.length)/S,A=l.stiffness>=1||l.length===0,L=A?l.stiffness*i:l.stiffness*i*i,F=l.damping*i,I=o.mult(C,P*L),D=(h?h.inverseMass:0)+(u?u.inverseMass:0),B=(h?h.inverseInertia:0)+(u?u.inverseInertia:0),G=D+B,z,W,Y,K,Z;if(F>0){var V=o.create();Y=o.div(C,S),Z=o.sub(u&&o.sub(u.position,u.positionPrev)||V,h&&o.sub(h.position,h.positionPrev)||V),K=o.dot(Y,Z)}h&&!h.isStatic&&(W=h.inverseMass/D,h.constraintImpulse.x-=I.x*W,h.constraintImpulse.y-=I.y*W,h.position.x-=I.x*W,h.position.y-=I.y*W,F>0&&(h.positionPrev.x-=F*Y.x*K*W,h.positionPrev.y-=F*Y.y*K*W),z=o.cross(d,I)/G*a._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=z,h.angle-=z),u&&!u.isStatic&&(W=u.inverseMass/D,u.constraintImpulse.x+=I.x*W,u.constraintImpulse.y+=I.y*W,u.position.x+=I.x*W,u.position.y+=I.y*W,F>0&&(u.positionPrev.x+=F*Y.x*K*W,u.positionPrev.y+=F*Y.y*K*W),z=o.cross(v,I)/G*a._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle+=z,u.angle+=z)}}},a.postSolveAll=function(l){for(var i=0;i<l.length;i++){var h=l[i],u=h.constraintImpulse;if(!(h.isStatic||u.x===0&&u.y===0&&u.angle===0)){s.set(h,!1);for(var d=0;d<h.parts.length;d++){var v=h.parts[d];p.translate(v.vertices,u),d>0&&(v.position.x+=u.x,v.position.y+=u.y),u.angle!==0&&(p.rotate(v.vertices,u.angle,h.position),e.rotate(v.axes,u.angle),d>0&&o.rotateAbout(v.position,u.angle,h.position,v.position)),r.update(v.bounds,v.vertices,h.velocity)}u.angle*=a._warming,u.x*=a._warming,u.y*=a._warming}}},a.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},a.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},a.currentLength=function(l){var i=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),h=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),u=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),d=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=i-u,m=h-d;return Math.sqrt(v*v+m*m)}})()},53402:(c,x,t)=>{var a={};c.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(o,s){var r,e;typeof s=="boolean"?(r=2,e=s):(r=1,e=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var i in l)e&&l[i]&&l[i].constructor===Object&&(!o[i]||o[i].constructor===Object)?(o[i]=o[i]||{},a.extend(o[i],e,l[i])):o[i]=l[i]}return o},a.clone=function(o,s){return a.extend({},s,o)},a.keys=function(o){if(Object.keys)return Object.keys(o);var s=[];for(var r in o)s.push(r);return s},a.values=function(o){var s=[];if(Object.keys){for(var r=Object.keys(o),e=0;e<r.length;e++)s.push(o[r[e]]);return s}for(var n in o)s.push(o[n]);return s},a.get=function(o,s,r,e){s=s.split(".").slice(r,e);for(var n=0;n<s.length;n+=1)o=o[s[n]];return o},a.set=function(o,s,r,e,n){var l=s.split(".").slice(e,n);return a.get(o,s,0,-1)[l[l.length-1]]=r,r},a.shuffle=function(o){for(var s=o.length-1;s>0;s--){var r=Math.floor(a.random()*(s+1)),e=o[s];o[s]=o[r],o[r]=e}return o},a.choose=function(o){return o[Math.floor(a.random()*o.length)]},a.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},a.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},a.isFunction=function(o){return typeof o=="function"},a.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},a.isString=function(o){return toString.call(o)==="[object String]"},a.clamp=function(o,s,r){return o<s?s:o>r?r:o},a.sign=function(o){return o<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(o,s){return o=typeof o<"u"?o:0,s=typeof s<"u"?s:1,o+p()*(s-o)};var p=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[o]||(a.warn(o),a._warnedOnce[o]=!0)},a.deprecated=function(o,s,r){o[s]=a.chain(function(){a.warnOnce(" deprecated ",r)},o[s])},a.nextId=function(){return a._nextId++},a.indexOf=function(o,s){if(o.indexOf)return o.indexOf(s);for(var r=0;r<o.length;r++)if(o[r]===s)return r;return-1},a.map=function(o,s){if(o.map)return o.map(s);for(var r=[],e=0;e<o.length;e+=1)r.push(s(o[e]));return r},a.topologicalSort=function(o){var s=[],r=[],e=[];for(var n in o)!r[n]&&!e[n]&&a._topologicalSort(n,r,e,o,s);return s},a._topologicalSort=function(o,s,r,e,n){var l=e[o]||[];r[o]=!0;for(var i=0;i<l.length;i+=1){var h=l[i];r[h]||s[h]||a._topologicalSort(h,s,r,e,n)}r[o]=!1,s[o]=!0,n.push(o)},a.chain=function(){for(var o=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?o.push.apply(o,r._chained):o.push(r)}var e=function(){for(var n,l=new Array(arguments.length),i=0,h=arguments.length;i<h;i++)l[i]=arguments[i];for(i=0;i<o.length;i+=1){var u=o[i].apply(n,l);typeof u<"u"&&(n=u)}return n};return e._chained=o,e},a.chainPathBefore=function(o,s,r){return a.set(o,s,a.chain(r,a.get(o,s)))},a.chainPathAfter=function(o,s,r){return a.set(o,s,a.chain(a.get(o,s),r))},a.setDecomp=function(o){a._decomp=o},a.getDecomp=function(){var o=a._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(c,x,t)=>{var a={};c.exports=a;var p=t(53614),o=t(66272),s=t(81388),r=t(99561),e=t(35810),n=t(69351),l=t(48140),i=t(53402),h=t(22562);(function(){a.create=function(u){u=u||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},v=i.extend(d,u);return v.world=u.world||n.create({label:"World"}),v.pairs=u.pairs||r.create(),v.detector=u.detector||s.create(),v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},a.update=function(u,d){var v=i.now(),m=u.world,T=u.detector,C=u.pairs,S=u.timing,P=S.timestamp,A;d=typeof d<"u"?d:i._baseDelta,d*=S.timeScale,S.timestamp+=d,S.lastDelta=d;var L={timestamp:S.timestamp,delta:d};e.trigger(u,"beforeUpdate",L);var F=n.allBodies(m),I=n.allConstraints(m);for(m.isModified&&(s.setBodies(T,F),n.setModified(m,!1,!1,!0)),u.enableSleeping&&p.update(F,d),a._bodiesApplyGravity(F,u.gravity),d>0&&a._bodiesUpdate(F,d),e.trigger(u,"beforeSolve",L),l.preSolveAll(F),A=0;A<u.constraintIterations;A++)l.solveAll(I,d);l.postSolveAll(F),T.pairs=u.pairs;var D=s.collisions(T);r.update(C,D,P),u.enableSleeping&&p.afterCollisions(C.list),C.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:C.collisionStart,timestamp:S.timestamp,delta:d});var B=i.clamp(20/u.positionIterations,0,1);for(o.preSolvePosition(C.list),A=0;A<u.positionIterations;A++)o.solvePosition(C.list,d,B);for(o.postSolvePosition(F),l.preSolveAll(F),A=0;A<u.constraintIterations;A++)l.solveAll(I,d);for(l.postSolveAll(F),o.preSolveVelocity(C.list),A=0;A<u.velocityIterations;A++)o.solveVelocity(C.list,d);return a._bodiesUpdateVelocities(F),C.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:C.collisionActive,timestamp:S.timestamp,delta:d}),C.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:C.collisionEnd,timestamp:S.timestamp,delta:d}),a._bodiesClearForces(F),e.trigger(u,"afterUpdate",L),u.timing.lastElapsed=i.now()-v,u},a.merge=function(u,d){if(i.extend(u,d),d.world){u.world=d.world,a.clear(u);for(var v=n.allBodies(u.world),m=0;m<v.length;m++){var T=v[m];p.set(T,!1),T.id=i.nextId()}}},a.clear=function(u){r.clear(u.pairs),s.clear(u.detector)},a._bodiesClearForces=function(u){for(var d=u.length,v=0;v<d;v++){var m=u[v];m.force.x=0,m.force.y=0,m.torque=0}},a._bodiesApplyGravity=function(u,d){var v=typeof d.scale<"u"?d.scale:.001,m=u.length;if(!(d.x===0&&d.y===0||v===0))for(var T=0;T<m;T++){var C=u[T];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*d.y*v,C.force.x+=C.mass*d.x*v)}},a._bodiesUpdate=function(u,d){for(var v=u.length,m=0;m<v;m++){var T=u[m];T.isStatic||T.isSleeping||h.update(T,d)}},a._bodiesUpdateVelocities=function(u){for(var d=u.length,v=0;v<d;v++)h.updateVelocities(u[v])}})()},35810:(c,x,t)=>{var a={};c.exports=a;var p=t(53402);(function(){a.on=function(o,s,r){for(var e=s.split(" "),n,l=0;l<e.length;l++)n=e[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},a.off=function(o,s,r){if(!s){o.events={};return}typeof s=="function"&&(r=s,s=p.keys(o.events).join(" "));for(var e=s.split(" "),n=0;n<e.length;n++){var l=o.events[e[n]],i=[];if(r&&l)for(var h=0;h<l.length;h++)l[h]!==r&&i.push(l[h]);o.events[e[n]]=i}},a.trigger=function(o,s,r){var e,n,l,i,h=o.events;if(h&&p.keys(h).length>0){r||(r={}),e=s.split(" ");for(var u=0;u<e.length;u++)if(n=e[u],l=h[n],l){i=p.clone(r,!1),i.name=n,i.source=o;for(var d=0;d<l.length;d++)l[d].apply(o,[i])}}}})()},6790:(c,x,t)=>{var a={};c.exports=a;var p=t(73832),o=t(53402);(function(){a.name="matter-js",a.version="0.19.0",a.uses=[],a.used=[],a.use=function(){p.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathBefore(a,s,r)},a.after=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathAfter(a,s,r)}})()},73832:(c,x,t)=>{var a={};c.exports=a;var p=t(53402);(function(){a._registry={},a.register=function(o){if(a.isPlugin(o)||p.warn("Plugin.register:",a.toString(o),"does not implement all required fields."),o.name in a._registry){var s=a._registry[o.name],r=a.versionParse(o.version).number,e=a.versionParse(s.version).number;r>e?(p.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(o)),a._registry[o.name]=o):r<e?p.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(o)):o!==s&&p.warn("Plugin.register:",a.toString(o),"is already registered to different plugin object")}else a._registry[o.name]=o;return o},a.resolve=function(o){return a._registry[a.dependencyParse(o).name]},a.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},a.isPlugin=function(o){return o&&o.name&&o.version&&o.install},a.isUsed=function(o,s){return o.used.indexOf(s)>-1},a.isFor=function(o,s){var r=o.for&&a.dependencyParse(o.for);return!o.for||s.name===r.name&&a.versionSatisfies(s.version,r.range)},a.use=function(o,s){if(o.uses=(o.uses||[]).concat(s||[]),o.uses.length===0){p.warn("Plugin.use:",a.toString(o),"does not specify any dependencies to install.");return}for(var r=a.dependencies(o),e=p.topologicalSort(r),n=[],l=0;l<e.length;l+=1)if(e[l]!==o.name){var i=a.resolve(e[l]);if(!i){n.push(" "+e[l]);continue}a.isUsed(o,i.name)||(a.isFor(i,o)||(p.warn("Plugin.use:",a.toString(i),"is for",i.for,"but installed on",a.toString(o)+"."),i._warned=!0),i.install?i.install(o):(p.warn("Plugin.use:",a.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push(" "+a.toString(i)),delete i._warned):n.push(" "+a.toString(i)),o.used.push(i.name))}n.length>0&&!i.silent&&p.info(n.join("  "))},a.dependencies=function(o,s){var r=a.dependencyParse(o),e=r.name;if(s=s||{},!(e in s)){o=a.resolve(o)||o,s[e]=p.map(o.uses||[],function(l){a.isPlugin(l)&&a.register(l);var i=a.dependencyParse(l),h=a.resolve(l);return h&&!a.versionSatisfies(h.version,i.range)?(p.warn("Plugin.dependencies:",a.toString(h),"does not satisfy",a.toString(i),"used by",a.toString(r)+"."),h._warned=!0,o._warned=!0):h||(p.warn("Plugin.dependencies:",a.toString(l),"used by",a.toString(r),"could not be resolved."),o._warned=!0),i.name});for(var n=0;n<s[e].length;n+=1)a.dependencies(s[e][n],s);return s}},a.dependencyParse=function(o){if(p.isString(o)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(o)||p.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},a.versionParse=function(o){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(o)||p.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=s.exec(o),e=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:e,minor:n,patch:l,parts:[e,n,l],prerelease:r[7],number:e*1e8+n*1e4+l}},a.versionSatisfies=function(o,s){s=s||"*";var r=a.versionParse(s),e=a.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return o===s||o==="*"}})()},53614:(c,x,t)=>{var a={};c.exports=a;var p=t(22562),o=t(35810),s=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(r,e){for(var n=e/s._baseDelta,l=a._motionSleepThreshold,i=0;i<r.length;i++){var h=r[i],u=p.getSpeed(h),d=p.getAngularSpeed(h),v=u*u+d*d;if(h.force.x!==0||h.force.y!==0){a.set(h,!1);continue}var m=Math.min(h.motion,v),T=Math.max(h.motion,v);h.motion=a._minBias*m+(1-a._minBias)*T,h.sleepThreshold>0&&h.motion<l?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/n&&a.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},a.afterCollisions=function(r){for(var e=a._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var i=l.collision,h=i.bodyA.parent,u=i.bodyB.parent;if(!(h.isSleeping&&u.isSleeping||h.isStatic||u.isStatic)&&(h.isSleeping||u.isSleeping)){var d=h.isSleeping&&!h.isStatic?h:u,v=d===h?u:h;!d.isStatic&&v.motion>e&&a.set(d,!1)}}}},a.set=function(r,e){var n=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(c,x,t)=>{var a={};c.exports=a;var p=t(41598),o=t(53402),s=t(22562),r=t(15647),e=t(31725);(function(){a.rectangle=function(n,l,i,h,u){u=u||{};var d={label:"Rectangle Body",position:{x:n,y:l},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(u.chamfer){var v=u.chamfer;d.vertices=p.chamfer(d.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete u.chamfer}return s.create(o.extend({},d,u))},a.trapezoid=function(n,l,i,h,u,d){d=d||{},u*=.5;var v=(1-u*2)*i,m=i*u,T=m+v,C=T+m,S;u<.5?S="L 0 0 L "+m+" "+-h+" L "+T+" "+-h+" L "+C+" 0":S="L 0 0 L "+T+" "+-h+" L "+C+" 0";var P={label:"Trapezoid Body",position:{x:n,y:l},vertices:p.fromPath(S)};if(d.chamfer){var A=d.chamfer;P.vertices=p.chamfer(P.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete d.chamfer}return s.create(o.extend({},P,d))},a.circle=function(n,l,i,h,u){h=h||{};var d={label:"Circle Body",circleRadius:i};u=u||25;var v=Math.ceil(Math.max(10,Math.min(u,i)));return v%2===1&&(v+=1),a.polygon(n,l,v,i,o.extend({},d,h))},a.polygon=function(n,l,i,h,u){if(u=u||{},i<3)return a.circle(n,l,h,u);for(var d=2*Math.PI/i,v="",m=d*.5,T=0;T<i;T+=1){var C=m+T*d,S=Math.cos(C)*h,P=Math.sin(C)*h;v+="L "+S.toFixed(3)+" "+P.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:n,y:l},vertices:p.fromPath(v)};if(u.chamfer){var L=u.chamfer;A.vertices=p.chamfer(A.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete u.chamfer}return s.create(o.extend({},A,u))},a.fromVertices=function(n,l,i,h,u,d,v,m){var T=o.getDecomp(),C,S,P,A,L,F,I,D,B,G,z;for(C=!!(T&&T.quickDecomp),h=h||{},P=[],u=typeof u<"u"?u:!1,d=typeof d<"u"?d:.01,v=typeof v<"u"?v:10,m=typeof m<"u"?m:.01,o.isArray(i[0])||(i=[i]),G=0;G<i.length;G+=1)if(F=i[G],A=p.isConvex(F),L=!A,L&&!C&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!C)A?F=p.clockwiseSort(F):F=p.hull(F),P.push({position:{x:n,y:l},vertices:F});else{var W=F.map(function(J){return[J.x,J.y]});T.makeCCW(W),d!==!1&&T.removeCollinearPoints(W,d),m!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(W,m);var Y=T.quickDecomp(W);for(I=0;I<Y.length;I++){var K=Y[I],Z=K.map(function(J){return{x:J[0],y:J[1]}});v>0&&p.area(Z)<v||P.push({position:p.centre(Z),vertices:Z})}}for(I=0;I<P.length;I++)P[I]=s.create(o.extend(P[I],h));if(u){var V=5;for(I=0;I<P.length;I++){var H=P[I];for(D=I+1;D<P.length;D++){var N=P[D];if(r.overlaps(H.bounds,N.bounds)){var b=H.vertices,X=N.vertices;for(B=0;B<H.vertices.length;B++)for(z=0;z<N.vertices.length;z++){var $=e.magnitudeSquared(e.sub(b[(B+1)%b.length],X[z])),Q=e.magnitudeSquared(e.sub(b[B],X[(z+1)%X.length]));$<V&&Q<V&&(b[B].isInternal=!0,X[z].isInternal=!0)}}}}}return P.length>1?(S=s.create(o.extend({parts:P.slice(0)},h)),s.setPosition(S,{x:n,y:l}),S):P[0]},a.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var i=0;i<n.length;i++)for(var h=n[i],u=i+1;u<n.length;u++){var d=n[u];if(r.overlaps(h.bounds,d.bounds))for(var v=h.vertices,m=d.vertices,T=0;T<h.vertices.length;T++)for(var C=0;C<d.vertices.length;C++){var S=e.magnitudeSquared(e.sub(v[(T+1)%v.length],m[C])),P=e.magnitudeSquared(e.sub(v[T],m[(C+1)%m.length]));S<l&&P<l&&(v[T].isInternal=!0,m[C].isInternal=!0)}}return n}})()},74116:(c,x,t)=>{var a={};c.exports=a;var p=t(69351),o=t(48140),s=t(53402),r=t(22562),e=t(66280);(function(){a.stack=function(n,l,i,h,u,d,v){for(var m=p.create({label:"Stack"}),T=n,C=l,S,P=0,A=0;A<h;A++){for(var L=0,F=0;F<i;F++){var I=v(T,C,F,A,S,P);if(I){var D=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;D>L&&(L=D),r.translate(I,{x:B*.5,y:D*.5}),T=I.bounds.max.x+u,p.addBody(m,I),S=I,P+=1}else T+=u}C+=L+d,T=n}return m},a.chain=function(n,l,i,h,u,d){for(var v=n.bodies,m=1;m<v.length;m++){var T=v[m-1],C=v[m],S=T.bounds.max.y-T.bounds.min.y,P=T.bounds.max.x-T.bounds.min.x,A=C.bounds.max.y-C.bounds.min.y,L=C.bounds.max.x-C.bounds.min.x,F={bodyA:T,pointA:{x:P*l,y:S*i},bodyB:C,pointB:{x:L*h,y:A*u}},I=s.extend(F,d);p.addConstraint(n,o.create(I))}return n.label+=" Chain",n},a.mesh=function(n,l,i,h,u){var d=n.bodies,v,m,T,C,S;for(v=0;v<i;v++){for(m=1;m<l;m++)T=d[m-1+v*l],C=d[m+v*l],p.addConstraint(n,o.create(s.extend({bodyA:T,bodyB:C},u)));if(v>0)for(m=0;m<l;m++)T=d[m+(v-1)*l],C=d[m+v*l],p.addConstraint(n,o.create(s.extend({bodyA:T,bodyB:C},u))),h&&m>0&&(S=d[m-1+(v-1)*l],p.addConstraint(n,o.create(s.extend({bodyA:S,bodyB:C},u)))),h&&m<l-1&&(S=d[m+1+(v-1)*l],p.addConstraint(n,o.create(s.extend({bodyA:S,bodyB:C},u))))}return n.label+=" Mesh",n},a.pyramid=function(n,l,i,h,u,d,v){return a.stack(n,l,i,h,u,d,function(m,T,C,S,P,A){var L=Math.min(h,Math.ceil(i/2)),F=P?P.bounds.max.x-P.bounds.min.x:0;if(!(S>L)){S=L-S;var I=S,D=i-1-S;if(!(C<I||C>D)){A===1&&r.translate(P,{x:(C+(i%2===1?1:-1))*F,y:0});var B=P?C*F:0;return v(n+B+C*u,T,C,S,P,A)}}})},a.newtonsCradle=function(n,l,i,h,u){for(var d=p.create({label:"Newtons Cradle"}),v=0;v<i;v++){var m=1.9,T=e.circle(n+v*(h*m),l+u,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=o.create({pointA:{x:n+v*(h*m),y:l},bodyB:T});p.addBody(d,T),p.addConstraint(d,C)}return d},a.car=function(n,l,i,h,u){var d=r.nextGroup(!0),v=20,m=-i*.5+v,T=i*.5-v,C=0,S=p.create({label:"Car"}),P=e.rectangle(n,l,i,h,{collisionFilter:{group:d},chamfer:{radius:h*.5},density:2e-4}),A=e.circle(n+m,l+C,u,{collisionFilter:{group:d},friction:.8}),L=e.circle(n+T,l+C,u,{collisionFilter:{group:d},friction:.8}),F=o.create({bodyB:P,pointB:{x:m,y:C},bodyA:A,stiffness:1,length:0}),I=o.create({bodyB:P,pointB:{x:T,y:C},bodyA:L,stiffness:1,length:0});return p.addBody(S,P),p.addBody(S,A),p.addBody(S,L),p.addConstraint(S,F),p.addConstraint(S,I),S},a.softBody=function(n,l,i,h,u,d,v,m,T,C){T=s.extend({inertia:1/0},T),C=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var S=a.stack(n,l,i,h,u,d,function(P,A){return e.circle(P,A,m,T)});return a.mesh(S,i,h,v,C),S.label="Soft Body",S}})()},66615:(c,x,t)=>{var a={};c.exports=a;var p=t(31725),o=t(53402);(function(){a.fromVertices=function(s){for(var r={},e=0;e<s.length;e++){var n=(e+1)%s.length,l=p.normalise({x:s[n].y-s[e].y,y:s[e].x-s[n].x}),i=l.y===0?1/0:l.x/l.y;i=i.toFixed(3).toString(),r[i]=l}return o.values(r)},a.rotate=function(s,r){if(r!==0)for(var e=Math.cos(r),n=Math.sin(r),l=0;l<s.length;l++){var i=s[l],h;h=i.x*e-i.y*n,i.y=i.x*n+i.y*e,i.x=h}}})()},15647:c=>{var x={};c.exports=x,function(){x.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&x.update(a,t),a},x.update=function(t,a,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<a.length;o++){var s=a[o];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},x.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},x.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},x.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},x.shift=function(t,a){var p=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+p,t.min.y=a.y,t.max.y=a.y+o}}()},74058:(c,x,t)=>{var a={};c.exports=a,t(15647);var p=t(53402);(function(){a.pathToVertices=function(o,s){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,e,n,l,i,h,u,d,v,m,T=[],C,S,P=0,A=0,L=0;s=s||15;var F=function(D,B,G){var z=G%2===1&&G>1;if(!v||D!=v.x||B!=v.y){v&&z?(C=v.x,S=v.y):(C=0,S=0);var W={x:C+D,y:S+B};(z||!v)&&(v=W),T.push(W),A=C+D,L=S+B}},I=function(D){var B=D.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":A=D.x,L=D.y;break;case"H":A=D.x;break;case"V":L=D.y;break}F(A,L,D.pathSegType)}};for(a._svgPathToAbsolute(o),n=o.getTotalLength(),h=[],r=0;r<o.pathSegList.numberOfItems;r+=1)h.push(o.pathSegList.getItem(r));for(u=h.concat();P<n;){if(m=o.getPathSegAtLength(P),i=h[m],i!=d){for(;u.length&&u[0]!=i;)I(u.shift());d=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(P),F(l.x,l.y,0);break}P+=s}for(r=0,e=u.length;r<e;++r)I(u[r]);return T},a._svgPathToAbsolute=function(o){for(var s,r,e,n,l,i,h=o.pathSegList,u=0,d=0,v=h.numberOfItems,m=0;m<v;++m){var T=h.getItem(m),C=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in T&&(u=T.x),"y"in T&&(d=T.y);else switch("x1"in T&&(e=u+T.x1),"x2"in T&&(l=u+T.x2),"y1"in T&&(n=d+T.y1),"y2"in T&&(i=d+T.y2),"x"in T&&(u+=T.x),"y"in T&&(d+=T.y),C){case"m":h.replaceItem(o.createSVGPathSegMovetoAbs(u,d),m);break;case"l":h.replaceItem(o.createSVGPathSegLinetoAbs(u,d),m);break;case"h":h.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(u),m);break;case"v":h.replaceItem(o.createSVGPathSegLinetoVerticalAbs(d),m);break;case"c":h.replaceItem(o.createSVGPathSegCurvetoCubicAbs(u,d,e,n,l,i),m);break;case"s":h.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(u,d,l,i),m);break;case"q":h.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(u,d,e,n),m);break;case"t":h.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(u,d),m);break;case"a":h.replaceItem(o.createSVGPathSegArcAbs(u,d,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),m);break;case"z":case"Z":u=s,d=r;break}(C=="M"||C=="m")&&(s=u,r=d)}}})()},31725:c=>{var x={};c.exports=x,function(){x.create=function(t,a){return{x:t||0,y:a||0}},x.clone=function(t){return{x:t.x,y:t.y}},x.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},x.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},x.rotate=function(t,a,p){var o=Math.cos(a),s=Math.sin(a);p||(p={});var r=t.x*o-t.y*s;return p.y=t.x*s+t.y*o,p.x=r,p},x.rotateAbout=function(t,a,p,o){var s=Math.cos(a),r=Math.sin(a);o||(o={});var e=p.x+((t.x-p.x)*s-(t.y-p.y)*r);return o.y=p.y+((t.x-p.x)*r+(t.y-p.y)*s),o.x=e,o},x.normalise=function(t){var a=x.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},x.dot=function(t,a){return t.x*a.x+t.y*a.y},x.cross=function(t,a){return t.x*a.y-t.y*a.x},x.cross3=function(t,a,p){return(a.x-t.x)*(p.y-t.y)-(a.y-t.y)*(p.x-t.x)},x.add=function(t,a,p){return p||(p={}),p.x=t.x+a.x,p.y=t.y+a.y,p},x.sub=function(t,a,p){return p||(p={}),p.x=t.x-a.x,p.y=t.y-a.y,p},x.mult=function(t,a){return{x:t.x*a,y:t.y*a}},x.div=function(t,a){return{x:t.x/a,y:t.y/a}},x.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},x.neg=function(t){return{x:-t.x,y:-t.y}},x.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(c,x,t)=>{var a={};c.exports=a;var p=t(31725),o=t(53402);(function(){a.create=function(s,r){for(var e=[],n=0;n<s.length;n++){var l=s[n],i={x:l.x,y:l.y,index:n,body:r,isInternal:!1};e.push(i)}return e},a.fromPath=function(s,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return s.replace(e,function(l,i,h){n.push({x:parseFloat(i),y:parseFloat(h)})}),a.create(n,r)},a.centre=function(s){for(var r=a.area(s,!0),e={x:0,y:0},n,l,i,h=0;h<s.length;h++)i=(h+1)%s.length,n=p.cross(s[h],s[i]),l=p.mult(p.add(s[h],s[i]),n),e=p.add(e,l);return p.div(e,6*r)},a.mean=function(s){for(var r={x:0,y:0},e=0;e<s.length;e++)r.x+=s[e].x,r.y+=s[e].y;return p.div(r,s.length)},a.area=function(s,r){for(var e=0,n=s.length-1,l=0;l<s.length;l++)e+=(s[n].x-s[l].x)*(s[n].y+s[l].y),n=l;return r?e/2:Math.abs(e)/2},a.inertia=function(s,r){for(var e=0,n=0,l=s,i,h,u=0;u<l.length;u++)h=(u+1)%l.length,i=Math.abs(p.cross(l[h],l[u])),e+=i*(p.dot(l[h],l[h])+p.dot(l[h],l[u])+p.dot(l[u],l[u])),n+=i;return r/6*(e/n)},a.translate=function(s,r,e){e=typeof e<"u"?e:1;var n=s.length,l=r.x*e,i=r.y*e,h;for(h=0;h<n;h++)s[h].x+=l,s[h].y+=i;return s},a.rotate=function(s,r,e){if(r!==0){var n=Math.cos(r),l=Math.sin(r),i=e.x,h=e.y,u=s.length,d,v,m,T;for(T=0;T<u;T++)d=s[T],v=d.x-i,m=d.y-h,d.x=i+(v*n-m*l),d.y=h+(v*l+m*n);return s}},a.contains=function(s,r){for(var e=r.x,n=r.y,l=s.length,i=s[l-1],h,u=0;u<l;u++){if(h=s[u],(e-i.x)*(h.y-i.y)+(n-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},a.scale=function(s,r,e,n){if(r===1&&e===1)return s;n=n||a.centre(s);for(var l,i,h=0;h<s.length;h++)l=s[h],i=p.sub(l,n),s[h].x=n.x+i.x*r,s[h].y=n.y+i.y*e;return s},a.chamfer=function(s,r,e,n,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,n=n||2,l=l||14;for(var i=[],h=0;h<s.length;h++){var u=s[h-1>=0?h-1:s.length-1],d=s[h],v=s[(h+1)%s.length],m=r[h<r.length?h:r.length-1];if(m===0){i.push(d);continue}var T=p.normalise({x:d.y-u.y,y:u.x-d.x}),C=p.normalise({x:v.y-d.y,y:d.x-v.x}),S=Math.sqrt(2*Math.pow(m,2)),P=p.mult(o.clone(T),m),A=p.normalise(p.mult(p.add(T,C),.5)),L=p.sub(d,p.mult(A,S)),F=e;e===-1&&(F=Math.pow(m,.32)*1.75),F=o.clamp(F,n,l),F%2===1&&(F+=1);for(var I=Math.acos(p.dot(T,C)),D=I/F,B=0;B<F;B++)i.push(p.add(p.rotate(P,D*B),L))}return i},a.clockwiseSort=function(s){var r=a.mean(s);return s.sort(function(e,n){return p.angle(r,e)-p.angle(r,n)}),s},a.isConvex=function(s){var r=0,e=s.length,n,l,i,h;if(e<3)return null;for(n=0;n<e;n++)if(l=(n+1)%e,i=(n+2)%e,h=(s[l].x-s[n].x)*(s[i].y-s[l].y),h-=(s[l].y-s[n].y)*(s[i].x-s[l].x),h<0?r|=1:h>0&&(r|=2),r===3)return!1;return r!==0?!0:null},a.hull=function(s){var r=[],e=[],n,l;for(s=s.slice(0),s.sort(function(i,h){var u=i.x-h.x;return u!==0?u:i.y-h.y}),l=0;l<s.length;l+=1){for(n=s[l];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(l=s.length-1;l>=0;l-=1){for(n=s[l];r.length>=2&&p.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),e.pop(),r.concat(e)}})()},18210:(c,x,t)=>{var a=t(19933),p={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Body.create",function(){p.Body.init(this)}),o.before("Engine.update",function(s){p.Engine.update(s)})},Body:{init:function(o){o.plugin.attractors=o.plugin.attractors||[]}},Engine:{update:function(o){for(var s=a.Composite.allBodies(o.world),r=0;r<s.length;r++){var e=s[r],n=e.plugin.attractors;if(n&&n.length>0)for(var l=0;l<s.length;l++){var i=s[l];if(r!==l)for(var h=0;h<n.length;h++){var u=n[h],d=u;a.Common.isFunction(u)&&(d=u(e,i)),d&&a.Body.applyForce(i,i.position,d)}}}}},Attractors:{gravityConstant:.001,gravity:function(o,s){var r=a.Vector.sub(s.position,o.position),e=a.Vector.magnitudeSquared(r)||1e-4,n=a.Vector.normalise(r),l=-p.Attractors.gravityConstant*(o.mass*s.mass/e),i=a.Vector.mult(n,l);a.Body.applyForce(o,o.position,a.Vector.neg(i)),a.Body.applyForce(s,s.position,i)}}};c.exports=p},40178:c=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(a){a.pairs.map(function(p){var o=p.bodyA,s=p.bodyB;o.gameObject&&o.gameObject.emit("collide",o,s,p),s.gameObject&&s.gameObject.emit("collide",s,o,p),t.Events.trigger(o,"onCollide",{pair:p}),t.Events.trigger(s,"onCollide",{pair:p}),o.onCollideCallback&&o.onCollideCallback(p),s.onCollideCallback&&s.onCollideCallback(p),o.onCollideWith[s.id]&&o.onCollideWith[s.id](s,p),s.onCollideWith[o.id]&&s.onCollideWith[o.id](o,p)})}),t.Events.on(this,"collisionActive",function(a){a.pairs.map(function(p){var o=p.bodyA,s=p.bodyB;o.gameObject&&o.gameObject.emit("collideActive",o,s,p),s.gameObject&&s.gameObject.emit("collideActive",s,o,p),t.Events.trigger(o,"onCollideActive",{pair:p}),t.Events.trigger(s,"onCollideActive",{pair:p}),o.onCollideActiveCallback&&o.onCollideActiveCallback(p),s.onCollideActiveCallback&&s.onCollideActiveCallback(p)})}),t.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(p){var o=p.bodyA,s=p.bodyB;o.gameObject&&o.gameObject.emit("collideEnd",o,s,p),s.gameObject&&s.gameObject.emit("collideEnd",s,o,p),t.Events.trigger(o,"onCollideEnd",{pair:p}),t.Events.trigger(s,"onCollideEnd",{pair:p}),o.onCollideEndCallback&&o.onCollideEndCallback(p),s.onCollideEndCallback&&s.onCollideEndCallback(p)})})})}};c.exports=x},74507:(c,x,t)=>{var a=t(19933),p={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Engine.update",function(){p.Engine.update(this)})},Engine:{update:function(o){for(var s=o.world,r=a.Composite.allBodies(s),e=a.Composite.allComposites(s),n=0;n<r.length;n+=1){var l=r[n];l.plugin.wrap&&p.Body.wrap(l,l.plugin.wrap)}for(n=0;n<e.length;n+=1){var i=e[n];i.plugin.wrap&&p.Composite.wrap(i,i.plugin.wrap)}}},Bounds:{wrap:function(o,s){var r=null,e=null;if(typeof s.min.x<"u"&&typeof s.max.x<"u"&&(o.min.x>s.max.x?r=s.min.x-o.max.x:o.max.x<s.min.x&&(r=s.max.x-o.min.x)),typeof s.min.y<"u"&&typeof s.max.y<"u"&&(o.min.y>s.max.y?e=s.min.y-o.max.y:o.max.y<s.min.y&&(e=s.max.y-o.min.y)),r!==null||e!==null)return{x:r||0,y:e||0}}},Body:{wrap:function(o,s){var r=p.Bounds.wrap(o.bounds,s);return r&&a.Body.translate(o,r),r}},Composite:{bounds:function(o){for(var s=a.Composite.allBodies(o),r=[],e=0;e<s.length;e+=1){var n=s[e];r.push(n.bounds.min,n.bounds.max)}return a.Bounds.create(r)},wrap:function(o,s){var r=p.Bounds.wrap(p.Composite.bounds(o),s);return r&&a.Composite.translate(o,r),r}}};c.exports=p},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:I,quickDecomp:z,isSimple:B,removeCollinearPoints:W,removeDuplicatePoints:Y,makeCCW:v};function x(V,H,N){N=N||0;var b=[0,0],X,$,Q,J,k,et,nt;return X=V[1][1]-V[0][1],$=V[0][0]-V[1][0],Q=X*V[0][0]+$*V[0][1],J=H[1][1]-H[0][1],k=H[0][0]-H[1][0],et=J*H[0][0]+k*H[0][1],nt=X*k-J*$,K(nt,0,N)||(b[0]=(k*Q-$*et)/nt,b[1]=(X*et-J*Q)/nt),b}function t(V,H,N,b){var X=H[0]-V[0],$=H[1]-V[1],Q=b[0]-N[0],J=b[1]-N[1];if(Q*$-J*X===0)return!1;var k=(X*(N[1]-V[1])+$*(V[0]-N[0]))/(Q*$-J*X),et=(Q*(V[1]-N[1])+J*(N[0]-V[0]))/(J*X-Q*$);return k>=0&&k<=1&&et>=0&&et<=1}function a(V,H,N){return(H[0]-V[0])*(N[1]-V[1])-(N[0]-V[0])*(H[1]-V[1])}function p(V,H,N){return a(V,H,N)>0}function o(V,H,N){return a(V,H,N)>=0}function s(V,H,N){return a(V,H,N)<0}function r(V,H,N){return a(V,H,N)<=0}var e=[],n=[];function l(V,H,N,b){if(b){var X=e,$=n;X[0]=H[0]-V[0],X[1]=H[1]-V[1],$[0]=N[0]-H[0],$[1]=N[1]-H[1];var Q=X[0]*$[0]+X[1]*$[1],J=Math.sqrt(X[0]*X[0]+X[1]*X[1]),k=Math.sqrt($[0]*$[0]+$[1]*$[1]),et=Math.acos(Q/(J*k));return et<b}else return a(V,H,N)===0}function i(V,H){var N=H[0]-V[0],b=H[1]-V[1];return N*N+b*b}function h(V,H){var N=V.length;return V[H<0?H%N+N:H%N]}function u(V){V.length=0}function d(V,H,N,b){for(var X=N;X<b;X++)V.push(H[X])}function v(V){for(var H=0,N=V,b=1;b<V.length;++b)(N[b][1]<N[H][1]||N[b][1]===N[H][1]&&N[b][0]>N[H][0])&&(H=b);return p(h(V,H-1),h(V,H),h(V,H+1))?!1:(m(V),!0)}function m(V){for(var H=[],N=V.length,b=0;b!==N;b++)H.push(V.pop());for(var b=0;b!==N;b++)V[b]=H[b]}function T(V,H){return s(h(V,H-1),h(V,H),h(V,H+1))}var C=[],S=[];function P(V,H,N){var b,X,$=C,Q=S;if(o(h(V,H+1),h(V,H),h(V,N))&&r(h(V,H-1),h(V,H),h(V,N)))return!1;X=i(h(V,H),h(V,N));for(var J=0;J!==V.length;++J)if(!((J+1)%V.length===H||J===H)&&o(h(V,H),h(V,N),h(V,J+1))&&r(h(V,H),h(V,N),h(V,J))&&($[0]=h(V,H),$[1]=h(V,N),Q[0]=h(V,J),Q[1]=h(V,J+1),b=x($,Q),i(h(V,H),b)<X))return!1;return!0}function A(V,H,N){for(var b=0;b!==V.length;++b)if(!(b===H||b===N||(b+1)%V.length===H||(b+1)%V.length===N)&&t(h(V,H),h(V,N),h(V,b),h(V,b+1)))return!1;return!0}function L(V,H,N,b){var X=b||[];if(u(X),H<N)for(var $=H;$<=N;$++)X.push(V[$]);else{for(var $=0;$<=N;$++)X.push(V[$]);for(var $=H;$<V.length;$++)X.push(V[$])}return X}function F(V){for(var H=[],N=[],b=[],X=[],$=Number.MAX_VALUE,Q=0;Q<V.length;++Q)if(T(V,Q)){for(var J=0;J<V.length;++J)if(P(V,Q,J)){N=F(L(V,Q,J,X)),b=F(L(V,J,Q,X));for(var k=0;k<b.length;k++)N.push(b[k]);N.length<$&&(H=N,$=N.length,H.push([h(V,Q),h(V,J)]))}}return H}function I(V){var H=F(V);return H.length>0?D(V,H):[V]}function D(V,H){if(H.length===0)return[V];if(H instanceof Array&&H.length&&H[0]instanceof Array&&H[0].length===2&&H[0][0]instanceof Array){for(var N=[V],b=0;b<H.length;b++)for(var X=H[b],$=0;$<N.length;$++){var Q=N[$],J=D(Q,X);if(J){N.splice($,1),N.push(J[0],J[1]);break}}return N}else{var X=H,b=V.indexOf(X[0]),$=V.indexOf(X[1]);return b!==-1&&$!==-1?[L(V,b,$),L(V,$,b)]:!1}}function B(V){var H=V,N;for(N=0;N<H.length-1;N++)for(var b=0;b<N-1;b++)if(t(H[N],H[N+1],H[b],H[b+1]))return!1;for(N=1;N<H.length-2;N++)if(t(H[0],H[H.length-1],H[N],H[N+1]))return!1;return!0}function G(V,H,N,b,X){X=X||0;var $=H[1]-V[1],Q=V[0]-H[0],J=$*V[0]+Q*V[1],k=b[1]-N[1],et=N[0]-b[0],nt=k*N[0]+et*N[1],st=$*et-k*Q;return K(st,0,X)?[0,0]:[(et*J-Q*nt)/st,($*nt-k*J)/st]}function z(V,H,N,b,X,$,Q){$=$||100,Q=Q||0,X=X||25,H=typeof H<"u"?H:[],N=N||[],b=b||[];var J=[0,0],k=[0,0],et=[0,0],nt=0,st=0,ot=0,ut=0,at=0,ct=0,Et=0,St=[],Ct=[],dt=V,Tt=V;if(Tt.length<3)return H;if(Q++,Q>$)return console.warn("quickDecomp: max level ("+$+") reached."),H;for(var vt=0;vt<V.length;++vt)if(T(dt,vt)){N.push(dt[vt]),nt=st=Number.MAX_VALUE;for(var wt=0;wt<V.length;++wt)p(h(dt,vt-1),h(dt,vt),h(dt,wt))&&r(h(dt,vt-1),h(dt,vt),h(dt,wt-1))&&(et=G(h(dt,vt-1),h(dt,vt),h(dt,wt),h(dt,wt-1)),s(h(dt,vt+1),h(dt,vt),et)&&(ot=i(dt[vt],et),ot<st&&(st=ot,k=et,ct=wt))),p(h(dt,vt+1),h(dt,vt),h(dt,wt+1))&&r(h(dt,vt+1),h(dt,vt),h(dt,wt))&&(et=G(h(dt,vt+1),h(dt,vt),h(dt,wt),h(dt,wt+1)),p(h(dt,vt-1),h(dt,vt),et)&&(ot=i(dt[vt],et),ot<nt&&(nt=ot,J=et,at=wt)));if(ct===(at+1)%V.length)et[0]=(k[0]+J[0])/2,et[1]=(k[1]+J[1])/2,b.push(et),vt<at?(d(St,dt,vt,at+1),St.push(et),Ct.push(et),ct!==0&&d(Ct,dt,ct,dt.length),d(Ct,dt,0,vt+1)):(vt!==0&&d(St,dt,vt,dt.length),d(St,dt,0,at+1),St.push(et),Ct.push(et),d(Ct,dt,ct,vt+1));else{if(ct>at&&(at+=V.length),ut=Number.MAX_VALUE,at<ct)return H;for(var wt=ct;wt<=at;++wt)o(h(dt,vt-1),h(dt,vt),h(dt,wt))&&r(h(dt,vt+1),h(dt,vt),h(dt,wt))&&(ot=i(h(dt,vt),h(dt,wt)),ot<ut&&A(dt,vt,wt)&&(ut=ot,Et=wt%V.length));vt<Et?(d(St,dt,vt,Et+1),Et!==0&&d(Ct,dt,Et,Tt.length),d(Ct,dt,0,vt+1)):(vt!==0&&d(St,dt,vt,Tt.length),d(St,dt,0,Et+1),d(Ct,dt,Et,vt+1))}return St.length<Ct.length?(z(St,H,N,b,X,$,Q),z(Ct,H,N,b,X,$,Q)):(z(Ct,H,N,b,X,$,Q),z(St,H,N,b,X,$,Q)),H}return H.push(V),H}function W(V,H){for(var N=0,b=V.length-1;V.length>3&&b>=0;--b)l(h(V,b-1),h(V,b),h(V,b+1),H)&&(V.splice(b%V.length,1),N++);return N}function Y(V,H){for(var N=V.length-1;N>=1;--N)for(var b=V[N],X=N-1;X>=0;--X)if(Z(b,V[X],H)){V.splice(N,1);continue}}function K(V,H,N){return N=N||0,Math.abs(V-H)<=N}function Z(V,H,N){return K(V[0],H[0],N)&&K(V[1],H[1],N)}},52018:(c,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=t(83419),p=new a({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=p},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=x},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={},a={};a.register=function(p,o,s,r){r===void 0&&(r=!1),x[p]={plugin:o,mapping:s,custom:r}},a.registerCustom=function(p,o,s,r){t[p]={plugin:o,mapping:s,data:r}},a.hasCore=function(p){return x.hasOwnProperty(p)},a.hasCustom=function(p){return t.hasOwnProperty(p)},a.getCore=function(p){return x[p]},a.getCustom=function(p){return t[p]},a.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},a.remove=function(p){x.hasOwnProperty(p)&&delete x[p]},a.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},a.destroyCorePlugins=function(){for(var p in x)x.hasOwnProperty(p)&&delete x[p]},a.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},c.exports=a},77332:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(8443),o=t(50792),s=t(74099),r=t(44603),e=t(39429),n=t(95540),l=t(37277),i=t(72905),h=new a({Extends:o,initialize:function(d){o.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted?this.boot():d.events.once(p.BOOT,this.boot,this)},boot:function(){var u,d,v,m,T,C,S,P=this.game.config,A=P.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),u=0;u<A.length;u++)d=A[u],v=n(d,"key",null),m=n(d,"plugin",null),T=n(d,"start",!1),C=n(d,"mapping",null),S=n(d,"data",null),v&&(m?this.install(v,m,T,C,S):console.warn("Missing `plugin` for key: "+v));for(A=P.installScenePlugins,A=A.concat(this._pendingScene),u=0;u<A.length;u++)d=A[u],v=n(d,"key",null),m=n(d,"plugin",null),C=n(d,"mapping",null),v&&(m?this.installScenePlugin(v,m,C):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(u,d,v){var m,T,C,S=this.game,P=u.scene,A=u.settings.map,L=u.settings.isBooted;for(m=0;m<d.length;m++)T=d[m],S[T]?(u[T]=S[T],A.hasOwnProperty(T)&&(P[A[T]]=u[T])):T==="game"&&A.hasOwnProperty(T)&&(P[A[T]]=S);for(var F=0;F<v.length;F++)for(C=v[F],m=0;m<C.length;m++)if(T=C[m],!!l.hasCore(T)){var I=l.getCore(T),D=I.mapping,B=new I.plugin(P,this,D);u[D]=B,I.custom?P[D]=B:A.hasOwnProperty(D)&&(P[A[D]]=B),L&&B.boot()}for(C=this.plugins,m=0;m<C.length;m++){var G=C[m];G.mapping&&(P[G.mapping]=G.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,d,v,m,T){if(T===void 0&&(T=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(l.hasCore(u)||l.register(u,d,v,!0),this.scenePlugins.indexOf(u)===-1)this.scenePlugins.push(u);else if(!T&&l.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(m){var C=new d(m,this,u);m.sys[u]=C,v&&v!==""&&(m[v]=C),C.boot()}},install:function(u,d,v,m,T){if(v===void 0&&(v=!1),m===void 0&&(m=null),T===void 0&&(T=null),typeof d!="function")return console.warn("Invalid Plugin: "+u),null;if(l.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(m!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:d,start:v,mapping:m,data:T});else if(l.registerCustom(u,d,m,T),v)return this.start(u);return null},getIndex:function(u){for(var d=this.plugins,v=0;v<d.length;v++){var m=d[v];if(m.key===u)return v}return-1},getEntry:function(u){var d=this.getIndex(u);if(d!==-1)return this.plugins[d]},isActive:function(u){var d=this.getEntry(u);return d&&d.active},start:function(u,d){d===void 0&&(d=u);var v=this.getEntry(d);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(u,d)),v?v.plugin:null},createEntry:function(u,d){var v=l.getCustom(u);if(v){var m=new v.plugin(this);v={key:d,plugin:m,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),m.init(v.data),m.start()}return v},stop:function(u){var d=this.getEntry(u);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(u,d){d===void 0&&(d=!0);var v=this.getEntry(u);if(v)return v.plugin;var m=this.getClass(u);return m&&d?(v=this.createEntry(u,u),v?v.plugin:null):m||null},getClass:function(u){return l.getCustomClass(u)},removeGlobalPlugin:function(u){var d=this.getEntry(u);d&&i(this.plugins,d),l.removeCustom(u)},removeScenePlugin:function(u){i(this.scenePlugins,u),l.remove(u)},registerGameObject:function(u,d,v){return d&&e.register(u,d),v&&r.register(u,v),this},removeGameObject:function(u,d,v){return d===void 0&&(d=!0),v===void 0&&(v=!0),d&&e.remove(u),v&&r.remove(u),this},registerFileType:function(u,d,v){s.register(u,d),v&&v.sys.load&&(v.sys.load[u]=d)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=h},45145:(c,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=t(52018),p=t(83419),o=t(44594),s=new p({Extends:a,initialize:function(e,n,l){a.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=s},18922:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const x=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(o,s)=>{const r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>a){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=s-o;c(s,{presentationTime:s+n*1e3,expectedDisplayTime:s+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(n=>p(s,n))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(o=>p(x,o)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=x},68627:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19715),p=t(32880),o=t(83419),s=t(8054),r=t(50792),e=t(92503),n=t(56373),l=t(97480),i=t(69442),h=t(61340),u=new o({Extends:r,initialize:function(v){r.call(this);var m=v.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=v,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var T={alpha:v.config.transparent,desynchronized:v.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var d=this.game,v=d.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,d.scale.on(l.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(d,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(d,v){this.width=d,this.height=v,this.emit(e.RESIZE,d,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,v=this.config,m=this.width,T=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(d.clearRect(0,0,m,T),v.transparent||(d.fillStyle=v.backgroundColor.rgba,d.fillRect(0,0,m,T))),d.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(d,v,m){var T=v.length;this.emit(e.RENDER,d,m);var C=m.x,S=m.y,P=m.width,A=m.height,L=m.renderToTexture?m.context:d.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(C,S,P,A),L.clip()),m.emit(a.PRE_RENDER,m),this.currentContext=L;var F=m.mask;F&&F.preRenderCanvas(this,null,m._maskCamera),m.transparent||(L.fillStyle=m.backgroundColor.rgba,L.fillRect(C,S,P,A)),L.globalAlpha=m.alpha,L.globalCompositeOperation="source-over",this.drawCount+=T,m.renderToTexture&&m.emit(a.PRE_RENDER,m),m.matrix.copyToContext(L);for(var I=0;I<T;I++){var D=v[I];D.mask&&D.mask.preRenderCanvas(this,D,m),D.renderCanvas(this,D,m),D.mask&&D.mask.postRenderCanvas(this,D,m)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,m.flashEffect.postRenderCanvas(L),m.fadeEffect.postRenderCanvas(L),m.dirty=!1,F&&F.postRenderCanvas(this),L.restore(),m.renderToTexture&&(m.emit(a.POST_RENDER,m),m.renderToGame&&d.sys.context.drawImage(m.canvas,C,S)),m.emit(a.POST_RENDER,m)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(e.POST_RENDER);var v=this.snapshotState;v.callback&&(p(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(d,v,m,T,C,S,P,A,L){m===void 0&&(m=!1),this.snapshotArea(T,C,S,P,v,A,L);var F=this.snapshotState;return F.getPixel=m,p(d,F),F.callback=null,this},snapshot:function(d,v,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,v,m)},snapshotArea:function(d,v,m,T,C,S,P){var A=this.snapshotState;return A.callback=C,A.type=S,A.encoder=P,A.getPixel=!1,A.x=d,A.y=v,A.width=Math.min(m,this.gameCanvas.width),A.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(d,v,m){return this.snapshotArea(d,v,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(d,v,m,T){var C=m.alpha*d.alpha;if(C!==0){var S=this.currentContext,P=this._tempMatrix1,A=this._tempMatrix2,L=v.canvasData,F=L.x,I=L.y,D=v.cutWidth,B=v.cutHeight,G=v.customPivot,z=v.source.resolution,W=d.displayOriginX,Y=d.displayOriginY,K=-W+v.x,Z=-Y+v.y;if(d.isCropped){var V=d._crop;(V.flipX!==d.flipX||V.flipY!==d.flipY)&&v.updateCropUVs(V,d.flipX,d.flipY),D=V.cw,B=V.ch,F=V.cx,I=V.cy,K=-W+V.x,Z=-Y+V.y,d.flipX&&(K>=0?K=-(K+D):K<0&&(K=Math.abs(K)-D)),d.flipY&&(Z>=0?Z=-(Z+B):Z<0&&(Z=Math.abs(Z)-B))}var H=1,N=1;d.flipX&&(G||(K+=-v.realWidth+W*2),H=-1),d.flipY&&(G||(Z+=-v.realHeight+Y*2),N=-1);var b=d.x,X=d.y;A.applyITRS(b,X,d.rotation,d.scaleX*H,d.scaleY*N),P.copyFrom(m.matrix),T?(P.multiplyWithOffset(T,-m.scrollX*d.scrollFactorX,-m.scrollY*d.scrollFactorY),A.e=b,A.f=X):(A.e-=m.scrollX*d.scrollFactorX,A.f-=m.scrollY*d.scrollFactorY),P.multiply(A),m.roundPixels&&(P.e=Math.round(P.e),P.f=Math.round(P.f)),S.save(),P.setToContext(S),S.globalCompositeOperation=this.blendModes[d.blendMode],S.globalAlpha=C,S.imageSmoothingEnabled=!v.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,m),D>0&&B>0&&(m.roundPixels?S.drawImage(v.source.image,F,I,D,B,Math.round(K),Math.round(Z),Math.round(D/z),Math.round(B/z)):S.drawImage(v.source.image,F,I,D,B,K,Z,D/z,B/z)),d.mask&&d.mask.postRenderCanvas(this,d,m),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=u},55830:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(89289),o=function(){var s=[],r=p.supportNewBlendModes,e="source-over";return s[a.NORMAL]=e,s[a.ADD]="lighter",s[a.MULTIPLY]=r?"multiply":e,s[a.SCREEN]=r?"screen":e,s[a.OVERLAY]=r?"overlay":e,s[a.DARKEN]=r?"darken":e,s[a.LIGHTEN]=r?"lighten":e,s[a.COLOR_DODGE]=r?"color-dodge":e,s[a.COLOR_BURN]=r?"color-burn":e,s[a.HARD_LIGHT]=r?"hard-light":e,s[a.SOFT_LIGHT]=r?"soft-light":e,s[a.DIFFERENCE]=r?"difference":e,s[a.EXCLUSION]=r?"exclusion":e,s[a.HUE]=r?"hue":e,s[a.SATURATION]=r?"saturation":e,s[a.COLOR]=r?"color":e,s[a.LUMINOSITY]=r?"luminosity":e,s[a.ERASE]="destination-out",s[a.SOURCE_IN]="source-in",s[a.SOURCE_OUT]="source-out",s[a.SOURCE_ATOP]="source-atop",s[a.DESTINATION_OVER]="destination-over",s[a.DESTINATION_IN]="destination-in",s[a.DESTINATION_OUT]="destination-out",s[a.DESTINATION_ATOP]="destination-atop",s[a.LIGHTER]="lighter",s[a.COPY]="copy",s[a.XOR]="xor",s};c.exports=o},20926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91296),p=function(o,s,r,e,n){var l=e.alpha*r.alpha;if(l<=0)return!1;var i=a(r,e,n).calc;return s.globalCompositeOperation=o.blendModes[r.blendMode],s.globalAlpha=l,s.save(),i.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};c.exports=p},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(40987),o=t(95540),s=function(r,e){var n=o(e,"callback"),l=o(e,"type","image/png"),i=o(e,"encoder",.92),h=Math.abs(Math.round(o(e,"x",0))),u=Math.abs(Math.round(o(e,"y",0))),d=Math.floor(o(e,"width",r.width)),v=Math.floor(o(e,"height",r.height)),m=o(e,"getPixel",!1);if(m){var T=r.getContext("2d",{willReadFrequently:!1}),C=T.getImageData(h,u,1,1),S=C.data;n.call(null,new p(S[0],S[1],S[2],S[3]))}else if(h!==0||u!==0||d!==r.width||v!==r.height){var P=a.createWebGL(this,d,v),A=P.getContext("2d",{willReadFrequently:!0});d>0&&v>0&&A.drawImage(r,h,u,d,v,0,0,d,v);var L=new Image;L.onerror=function(){n.call(null),a.remove(P)},L.onload=function(){n.call(null,L),a.remove(P)},L.src=P.toDataURL(l,i)}else{var F=new Image;F.onerror=function(){n.call(null)},F.onload=function(){n.call(null,F)},F.src=r.toDataURL(l,i)}};c.exports=s},88815:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(40987),o=t(95540),s=function(r,e){var n=r,l=o(e,"callback"),i=o(e,"type","image/png"),h=o(e,"encoder",.92),u=Math.abs(Math.round(o(e,"x",0))),d=Math.abs(Math.round(o(e,"y",0))),v=o(e,"getPixel",!1),m=o(e,"isFramebuffer",!1),T=m?o(e,"bufferWidth",1):n.drawingBufferWidth,C=m?o(e,"bufferHeight",1):n.drawingBufferHeight;if(v){var S=new Uint8Array(4),P=m?d:C-d;n.readPixels(u,P,1,1,n.RGBA,n.UNSIGNED_BYTE,S),l.call(null,new p(S[0],S[1],S[2],S[3]))}else{var A=Math.floor(o(e,"width",T)),L=Math.floor(o(e,"height",C)),F=A*L*4,I=new Uint8Array(F);n.readPixels(u,C-d-L,A,L,n.RGBA,n.UNSIGNED_BYTE,I);for(var D=a.createWebGL(this,A,L),B=D.getContext("2d",{willReadFrequently:!0}),G=B.getImageData(0,0,A,L),z=G.data,W=0;W<L;W++)for(var Y=0;Y<A;Y++){var K=((L-W-1)*A+Y)*4,Z=m?F-(W*A+(A-Y))*4:(W*A+Y)*4;z[Z+0]=I[K+0],z[Z+1]=I[K+1],z[Z+2]=I[K+2],z[Z+3]=I[K+3]}B.putImageData(G,0,0);var V=new Image;V.onerror=function(){l.call(null),a.remove(D)},V.onload=function(){l.call(null,V),a.remove(D)},V.src=D.toDataURL(i,h)}};c.exports=s},89966:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(36060),o=t(90330),s=t(82264),r=t(95540),e=t(32302),n=t(63448),l=t(31302),i=t(58918),h=t(14811),u=t(92651),d=t(96569),v=t(56527),m=t(57516),T=t(43439),C=t(81041),S=t(12385),P=t(7589),A=t(95428),L=t(72905),F=new a({initialize:function(D){this.game=D.game,this.renderer=D,this.classes=new o([[p.UTILITY_PIPELINE,P],[p.MULTI_PIPELINE,m],[p.BITMAPMASK_PIPELINE,l],[p.SINGLE_PIPELINE,S],[p.ROPE_PIPELINE,C],[p.LIGHT_PIPELINE,d],[p.POINTLIGHT_PIPELINE,T],[p.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(I,D,B){var G=this.renderer,z=this.renderTargets;this.frameInc=Math.floor(r(I,"frameInc",32));var W=G.width,Y=G.height,K=this.game.config.disablePreFX,Z=this.game.config.disablePostFX;if(Z||this.postPipelineClasses.setAll([[String(h.BARREL),i.Barrel],[String(h.BLOOM),i.Bloom],[String(h.BLUR),i.Blur],[String(h.BOKEH),i.Bokeh],[String(h.CIRCLE),i.Circle],[String(h.COLOR_MATRIX),i.ColorMatrix],[String(h.DISPLACEMENT),i.Displacement],[String(h.GLOW),i.Glow],[String(h.GRADIENT),i.Gradient],[String(h.PIXELATE),i.Pixelate],[String(h.SHADOW),i.Shadow],[String(h.SHINE),i.Shine],[String(h.VIGNETTE),i.Vignette],[String(h.WIPE),i.Wipe]]),!K){this.classes.set(p.FX_PIPELINE,u);for(var V=Math.min(W,Y),H=Math.ceil(V/this.frameInc),N=1;N<H;N++){var b=N*this.frameInc;z.push(new e(G,b,b)),z.push(new e(G,b,b)),z.push(new e(G,b,b)),this.maxDimension=b}z.push(new e(G,W,Y,1,0,!0,!0)),z.push(new e(G,W,Y,1,0,!0,!0)),z.push(new e(G,W,Y,1,0,!0,!0))}var X,$,Q=this,J=this.game;if(this.classes.each(function(et,nt){X=Q.add(et,new nt({game:J})),et===p.UTILITY_PIPELINE&&(Q.UTILITY_PIPELINE=X,Q.fullFrame1=X.fullFrame1,Q.fullFrame2=X.fullFrame2,Q.halfFrame1=X.halfFrame1,Q.halfFrame2=X.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),K||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),I)for($ in I){var k=I[$];X=new k(J),X.name=$,X.isPostFX?this.postPipelineClasses.set($,k):this.has($)||(this.classes.set($,k),this.add($,X))}this.default=this.get(D),B&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(I){var D=this.get(I);return D&&(this.default=D),D},add:function(I,D){if(D.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var B=this.pipelines,G=this.renderer;return B.has(I)?console.warn("Pipeline exists: "+I):(D.name=I,D.manager=this,B.set(I,D)),D.hasBooted||D.boot(),G.width!==0&&G.height!==0&&!D.isPreFX&&D.resize(G.width,G.height),D},addPostPipeline:function(I,D){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,D)},flush:function(){this.current&&this.current.flush()},has:function(I){var D=this.pipelines;return typeof I=="string"?D.has(I):!!D.contains(I)},get:function(I){var D=this.pipelines;if(typeof I=="string")return D.get(I);if(D.contains(I))return I},getPostPipeline:function(I,D,B){var G=this.postPipelineClasses,z,W="",Y=typeof I;if(Y==="string"||Y==="number"?(z=G.get(I),W=I):Y==="function"?(G.contains(I)&&(z=I),W=I.name):Y==="object"&&(z=G.get(I.name),W=I.name),z){var K=new z(this.game,B);return K.name=W,D&&(K.gameObject=D),this.postPipelineInstances.push(K),K}},removePostPipeline:function(I){L(this.postPipelineInstances,I)},remove:function(I,D,B){D===void 0&&(D=!0),B===void 0&&(B=!0),this.pipelines.delete(I),D&&this.classes.delete(I),B&&this.postPipelineClasses.delete(I)},set:function(I,D,B){if(!I.isPostFX)return this.isCurrent(I,B)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(B)),I.updateProjectionMatrix(),I.onBind(D),I},preBatch:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=D.length-1;B>=0;B--){var G=D[B];G.active&&G.preBatch(I)}}},postBatch:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=0;B<D.length;B++){var G=D[B];G.active&&G.postBatch(I)}}},preBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=D.length-1;B>=0;B--){var G=D[B];G.active&&G.preBatch(I)}}},postBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=0;B<D.length;B++){var G=D[B];G.active&&G.postBatch(I)}}},isCurrent:function(I,D){var B=this.renderer,G=this.current;return G&&!D&&(D=G.currentShader),!(G!==I||D.program!==B.currentProgram)},copyFrame:function(I,D,B,G,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,D,B,G,z),this},copyToGame:function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},drawFrame:function(I,D,B,G){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,D,B,G),this},blendFrames:function(I,D,B,G,z){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,D,B,G,z),this},blendFramesAdditive:function(I,D,B,G,z){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,D,B,G,z),this},clearFrame:function(I,D){return this.UTILITY_PIPELINE.clearFrame(I,D),this},blitFrame:function(I,D,B,G,z,W){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,D,B,G,z,W),this},copyFrameRect:function(I,D,B,G,z,W,Y,K){return this.UTILITY_PIPELINE.copyFrameRect(I,D,B,G,z,W,Y,K),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(I){return this.UTILITY_PIPELINE.bind(I)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(I,D){D.restoreContext()}),A(this.postPipelineInstances,function(I){I.restoreContext()})},rebind:function(I){I===void 0&&this.previous&&(I=this.previous);var D=this.renderer,B=D.gl;B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),D.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)),B.viewport(0,0,D.width,D.height),D.currentProgram=null,D.setBlendMode(0,!0);var G=D.vaoExtension;G&&G.bindVertexArrayOES(null);var z=this.pipelines.entries;for(var W in z)z[W].glReset=!0;I&&(this.current=I,I.rebind())},clear:function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var D=I.vaoExtension;D&&D.bindVertexArrayOES(null)},getRenderTarget:function(I){var D=this.renderTargets,B=3;if(I>this.maxDimension)return this.targetIndex=D.length-B,D[this.targetIndex];var G=(n(I,this.frameInc,0,!0)-1)*B;return this.targetIndex=G,D[G]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=F},32302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92503),o=new a({initialize:function(r,e,n,l,i,h,u,d,v){l===void 0&&(l=1),i===void 0&&(i=0),h===void 0&&(h=!0),u===void 0&&(u=!1),d===void 0&&(d=!0),v===void 0&&(v=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=i,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=v,this.resize(e,n),u?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){if(s=Math.round(s*this.scale),r=Math.round(r*this.scale),s<=0&&(s=1),r<=0&&(r=1),this.autoResize&&(s!==this.width||r!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},willResize:function(s,r){return s=Math.round(s*this.scale),r=Math.round(r*this.scale),s<=0&&(s=1),r<=0&&(r=1),s!==this.width||r!==this.height},bind:function(s,r,e){s===void 0&&(s=!1);var n=this.renderer;if(s&&n.flush(),r&&e&&this.resize(r,e),n.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(){var s=this.renderer,r=s.gl;s.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),s.popFramebuffer(),s.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(p.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=o},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(x,t,a,p){var o=(x*255|0)&255,s=(t*255|0)&255,r=(a*255|0)&255,e=(p*255|0)&255;return(e<<24|o<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(x,t){var a=(t*255|0)&255;return(a<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,t){var a=(x>>16|0)&255,p=(x>>8|0)&255,o=(x|0)&255,s=(t*255|0)&255;return(s<<24|o<<16|p<<8|a)>>>0},getFloatsFromUintRGB:function(x){var t=(x>>16|0)&255,a=(x>>8|0)&255,p=(x|0)&255;return[t/255,a/255,p/255]},checkShaderMax:function(x,t){var a=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(x,t){if(!x)return"";for(var a="",p=0;p<t;p++)p>0&&(a+=`
	else `),p<t-1&&(a+="if (outTexId < "+p+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",a+=`
	}`;return x=x.replace(/%count%/gi,t.toString()),x.replace(/%forloop%/gi,a)},setGlowQuality:function(x,t,a,p){return a===void 0&&(a=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/a/p).toFixed(7)),x=x.replace(/__DIST__/gi,p.toFixed(0)+".0"),x}}},29100:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(62644),o=t(50792),s=t(77085),r=t(95540),e=t(37867),n=t(92503),l=t(32302),i=t(70554),h=t(38683),u=new a({Extends:o,initialize:function(v){o.call(this);var m=v.game,T=m.renderer,C=T.gl;this.name=r(v,"name","WebGLPipeline"),this.game=m,this.renderer=T,this.manager,this.gl=C,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(v,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(v,"resizeUniform","")},boot:function(){var d,v=this.gl,m=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var C=this.renderTargets,S=r(m,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var P=T.width,A=T.height;if(typeof S=="number")for(d=0;d<S;d++)C.push(new l(T,P,A,1,0,!0));else if(Array.isArray(S))for(d=0;d<S.length;d++){var L=r(S[d],"scale",1),F=r(S[d],"minFilter",0),I=r(S[d],"autoClear",1),D=r(S[d],"autoResize",!1),B=r(S[d],"width",null),G=r(S[d],"height",B);B?C.push(new l(T,B,G,1,F,I,D)):C.push(new l(T,P,A,L,F,I,D))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(m);var z=this.shaders,W=0;for(d=0;d<z.length;d++)z[d].vertexSize>W&&(W=z[d].vertexSize);var Y=r(m,"batchSize",T.config.batchSize);this.vertexCapacity=Y*6;var K=new ArrayBuffer(this.vertexCapacity*W);this.vertexData=K,this.bytes=new Uint8Array(K),this.vertexViewF32=new Float32Array(K),this.vertexViewU32=new Uint32Array(K);var Z=r(m,"vertices",null);for(Z?(this.vertexViewF32.set(Z),this.vertexBuffer=T.createVertexBuffer(K,v.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(K.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),d=z.length-1;d>=0;d--)z[d].rebind();this.hasBooted=!0,T.on(n.RESIZE,this.resize,this),T.on(n.PRE_RENDER,this.onPreRender,this),T.on(n.RENDER,this.onRender,this),T.on(n.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,v,m){var T=this.renderer;if(d!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(m);C&&!v&&(v=!0),d.bind(v,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var v=this.shaders,m=0;m<v.length;m++)if(v[m].name===d)return v[m]},setShadersFromConfig:function(d){var v,m=this.shaders,T=this.renderer;for(v=0;v<m.length;v++)m[v].destroy();var C="vertShader",S="fragShader",P="attributes",A=r(d,C,null),L=i.parseFragmentShaderMaxTextures(r(d,S,null),T.maxTextures),F=r(d,P,null),I=r(d,"shaders",[]),D=I.length;if(D===0)A&&L&&(this.shaders=[new h(this,"default",A,L,p(F))]);else{var B=[];for(v=0;v<D;v++){var G=I[v],z,W,Y,K;if(typeof G=="string"?(z="default",W=A,Y=i.parseFragmentShaderMaxTextures(G,T.maxTextures),K=F):(z=r(G,"name","default"),W=r(G,C,A),Y=i.parseFragmentShaderMaxTextures(r(G,S,L),T.maxTextures),K=r(G,P,F)),z==="default"){var Z=Y.split(`
`),V=Z[0].trim();V.indexOf("#define SHADER_NAME")>-1&&(z=V.substring(20))}W&&Y&&B.push(new h(this,z,W,Y,p(K)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var v=this.currentBatch;v&&(v.texture.push(d),v.unit++,v.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var v=this.currentBatch,m=v.texture.indexOf(d);return m===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(d):(v.unit++,v.maxUnit++,v.texture.push(d),this.currentUnit=v.unit,this.currentTexture=d,v.unit):(this.currentUnit=m,this.currentTexture=d,m)},setGameObject:function(d,v){return v===void 0&&(v=d.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,v){(d!==this.width||v!==this.height)&&this.flush(),this.width=d,this.height=v;for(var m=this.renderTargets,T=0;T<m.length;T++)m[T].resize(d,v);return this.setProjectionMatrix(d,v),this.resizeUniform&&this.set2f(this.resizeUniform,d,v),this.emit(s.RESIZE,d,v,this),this.onResize(d,v),this},setProjectionMatrix:function(d,v){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=d,this.projectionHeight=v,m.ortho(0,d,v,0,-1e3,1e3);for(var T=this.shaders,C="uProjectionMatrix",S=0;S<T.length;S++){var P=T[S];P.hasUniform(C)&&(P.resetUniform(C),P.setMatrix4fv(C,!1,m.val,P))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var v=this.projectionMatrix;if(!v)return this;var m=this.projectionWidth,T=this.projectionHeight;d?v.ortho(0,m,0,T,-1e3,1e3):v.ortho(0,m,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==v)&&this.setProjectionMatrix(d,v)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var v=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),d.bind(v),this.currentShader=d,this.activeTextures.length=0,this.emit(s.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,m=v.length-1;m>=0;m--){var T=v[m].rebind();(!d||T===d)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var m=0;m<d.length;m++){var T=d[m];T.syncUniforms(),v&&T.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var v=this.gl,m=this.vertexCount,T=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,m*T));var S,P,A,L=this.batch,F=this.activeTextures;if(this.forceZero)for(F[0]||v.activeTexture(v.TEXTURE0),S=0;S<L.length;S++)P=L[S],A=P.texture[0],F[0]!==A&&(v.bindTexture(v.TEXTURE_2D,A.webGLTexture),F[0]=A),v.drawArrays(C,P.start,P.count);else for(S=0;S<L.length;S++){P=L[S];for(var I=0;I<=P.maxUnit;I++)A=P.texture[I],F[I]!==A&&(v.activeTexture(v.TEXTURE0+I),v.bindTexture(v.TEXTURE_2D,A.webGLTexture),F[I]=A);v.drawArrays(C,P.start,P.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,v,m,T,C,S,P){var A=this.vertexViewF32,L=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++F]=d,A[++F]=v,A[++F]=m,A[++F]=T,A[++F]=C,A[++F]=S,L[++F]=P,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,v,m,T,C,S,P,A,L,F,I,D,B,G,z,W,Y,K,Z,V){V===void 0&&(V=this.currentUnit);var H=!1;this.shouldFlush(6)&&(this.flush(),H=!0),this.currentBatch||(V=this.setTexture2D(Z));var N=this.vertexViewF32,b=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++X]=v,N[++X]=m,N[++X]=F,N[++X]=I,N[++X]=V,N[++X]=K,b[++X]=G,N[++X]=T,N[++X]=C,N[++X]=F,N[++X]=B,N[++X]=V,N[++X]=K,b[++X]=W,N[++X]=S,N[++X]=P,N[++X]=D,N[++X]=B,N[++X]=V,N[++X]=K,b[++X]=Y,N[++X]=v,N[++X]=m,N[++X]=F,N[++X]=I,N[++X]=V,N[++X]=K,b[++X]=G,N[++X]=S,N[++X]=P,N[++X]=D,N[++X]=B,N[++X]=V,N[++X]=K,b[++X]=Y,N[++X]=A,N[++X]=L,N[++X]=D,N[++X]=I,N[++X]=V,N[++X]=K,b[++X]=z,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),H},batchTri:function(d,v,m,T,C,S,P,A,L,F,I,D,B,G,z,W,Y){Y===void 0&&(Y=this.currentUnit);var K=!1;this.shouldFlush(3)&&(this.flush(),K=!0),this.currentBatch||(Y=this.setTexture2D(W));var Z=this.vertexViewF32,V=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return Z[++H]=v,Z[++H]=m,Z[++H]=A,Z[++H]=L,Z[++H]=Y,Z[++H]=z,V[++H]=D,Z[++H]=T,Z[++H]=C,Z[++H]=A,Z[++H]=I,Z[++H]=Y,Z[++H]=z,V[++H]=B,Z[++H]=S,Z[++H]=P,Z[++H]=F,Z[++H]=I,Z[++H]=Y,Z[++H]=z,V[++H]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),K},drawFillRect:function(d,v,m,T,C,S,P,A){P===void 0&&(P=this.renderer.whiteTexture),A===void 0&&(A=!0),d=Math.floor(d),v=Math.floor(v);var L=Math.floor(d+m),F=Math.floor(v+T),I=this.setTexture2D(P),D=i.getTintAppendFloatAlphaAndSwap(C,S),B=0,G=0,z=1,W=1;A&&(G=1,W=0),this.batchQuad(null,d,v,d,F,L,F,L,v,B,G,z,W,D,D,D,D,0,P,I)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,v){v===void 0&&(v=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+v),m.bindTexture(m.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,v){return this.bindTexture(d.texture,v)},setTime:function(d,v){return this.set1f(d,this.game.loop.getDuration(),v),this},setBoolean:function(d,v,m){return m===void 0&&(m=this.currentShader),m.setBoolean(d,v),this},set1f:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1f(d,v),this},set2f:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.set2f(d,v,m),this},set3f:function(d,v,m,T,C){return C===void 0&&(C=this.currentShader),C.set3f(d,v,m,T),this},set4f:function(d,v,m,T,C,S){return S===void 0&&(S=this.currentShader),S.set4f(d,v,m,T,C),this},set1fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1fv(d,v),this},set2fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set2fv(d,v),this},set3fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set3fv(d,v),this},set4fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set4fv(d,v),this},set1iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1iv(d,v),this},set2iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set2iv(d,v),this},set3iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set3iv(d,v),this},set4iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set4iv(d,v),this},set1i:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1i(d,v),this},set2i:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.set2i(d,v,m),this},set3i:function(d,v,m,T,C){return C===void 0&&(C=this.currentShader),C.set3i(d,v,m,T),this},set4i:function(d,v,m,T,C,S){return S===void 0&&(S=this.currentShader),S.set4i(d,v,m,T,C),this},setMatrix2fv:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(d,v,m),this},setMatrix3fv:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(d,v,m),this},setMatrix4fv:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(d,v,m),this},destroy:function(){this.emit(s.DESTROY,this);var d,v=this.shaders;for(d=0;d<v.length;d++)v[d].destroy();var m=this.renderTargets;for(d=0;d<m.length;d++)m[d].destroy();var T=this.renderer;return T.deleteBuffer(this.vertexBuffer),T.off(n.RESIZE,this.resize,this),T.off(n.PRE_RENDER,this.onPreRender,this),T.off(n.RENDER,this.onRender,this),T.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=u},74797:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95428),p=t(72905),o=t(19715),s=t(83419),r=t(8054),e=t(50792),n=t(92503),l=t(50030),i=t(37867),h=t(29747),u=t(7530),d=t(32302),v=t(97480),m=t(69442),T=t(70554),C=t(88815),S=t(26128),P=t(1482),A=t(82751),L=t(84387),F=t(93567),I=t(57183),D=new s({Extends:e,initialize:function(G){e.call(this);var z=G.config,W={alpha:z.transparent,desynchronized:z.desynchronized,depth:!0,antialias:z.antialiasGL,premultipliedAlpha:z.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:z.failIfMajorPerformanceCaveat,powerPreference:z.powerPreference,preserveDrawingBuffer:z.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:z.clearBeforeRender,antialias:z.antialias,backgroundColor:z.backgroundColor,contextCreation:W,roundPixels:z.roundPixels,maxTextures:z.maxTextures,maxTextureSize:z.maxTextureSize,batchSize:z.batchSize,maxLights:z.maxLights,mipmapFilter:z.mipmapFilter},this.game=G,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=G.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var G,z=this.game,W=this.canvas,Y=B.backgroundColor;if(z.config.context?G=z.config.context:G=W.getContext("webgl",B.contextCreation)||W.getContext("experimental-webgl",B.contextCreation),!G||G.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=G;var K=this,Z=function(){var N=G.getSupportedExtensions();K.supportedExtensions=N;var b="ANGLE_instanced_arrays";K.instancedArraysExtension=N.indexOf(b)>-1?G.getExtension(b):null;var X="OES_vertex_array_object";K.vaoExtension=N.indexOf(X)>-1?G.getExtension(X):null};Z(),this.contextLostHandler=function(N){K.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),K.emit(n.LOSE_WEBGL,K),N.preventDefault()},W.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(N){if(G.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}K.currentProgram=null,K.currentFramebuffer=null,K.setBlendMode(r.BlendModes.NORMAL),G.disable(G.BLEND),G.disable(G.DEPTH_TEST),G.enable(G.CULL_FACE),K.compression=K.getCompressedTextures();var b=function(X){X.createResource()};a(K.glTextureWrappers,b),a(K.glBufferWrappers,b),a(K.glFramebufferWrappers,b),a(K.glProgramWrappers,b),a(K.glAttribLocationWrappers,b),a(K.glUniformLocationWrappers,b),K.createTemporaryTextures(),K.pipelines.restoreContext(),K.resize(K.game.scale.baseSize.width,K.game.scale.baseSize.height),Z(),K.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),K.emit(n.RESTORE_WEBGL,K),N.preventDefault()},W.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),z.context=G;for(var V=0;V<=27;V++)this.blendModes.push({func:[G.ONE,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_ADD});this.blendModes[1].func=[G.ONE,G.DST_ALPHA],this.blendModes[2].func=[G.DST_COLOR,G.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[G.ONE,G.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[G.ZERO,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_REVERSE_SUBTRACT},this.glFormats=[G.BYTE,G.SHORT,G.UNSIGNED_BYTE,G.UNSIGNED_SHORT,G.FLOAT],this.glFuncMap={mat2:{func:G.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:G.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:G.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:G.uniform1f,length:1},"1fv":{func:G.uniform1fv,length:1},"1i":{func:G.uniform1i,length:1},"1iv":{func:G.uniform1iv,length:1},"2f":{func:G.uniform2f,length:2},"2fv":{func:G.uniform2fv,length:1},"2i":{func:G.uniform2i,length:2},"2iv":{func:G.uniform2iv,length:1},"3f":{func:G.uniform3f,length:3},"3fv":{func:G.uniform3fv,length:1},"3i":{func:G.uniform3i,length:3},"3iv":{func:G.uniform3iv,length:1},"4f":{func:G.uniform4f,length:4},"4fv":{func:G.uniform4fv,length:1},"4i":{func:G.uniform4i,length:4},"4iv":{func:G.uniform4iv,length:1}},(!B.maxTextures||B.maxTextures===-1)&&(B.maxTextures=G.getParameter(G.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=G.getParameter(G.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),G.enable(G.BLEND),G.clearColor(Y.redGL,Y.greenGL,Y.blueGL,Y.alphaGL);var H=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return H.indexOf(B.mipmapFilter)!==-1&&(this.mipmapFilter=G[B.mipmapFilter]),this.maxTextures=T.checkShaderMax(G,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),z.textures.once(m.READY,this.boot,this),this},boot:function(){var B=this.game,G=this.pipelines,z=B.scale.baseSize,W=z.width,Y=z.height;this.width=W,this.height=Y,this.isBooted=!0,this.renderTarget=new d(this,W,Y,1,0,!0,!0),this.maskTarget=new d(this,W,Y,1,0,!0,!0),this.maskSource=new d(this,W,Y,1,0,!0,!0);var K=B.config;G.boot(K.pipeline,K.defaultPipeline,K.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var Z=this.gl;Z.bindFramebuffer(Z.FRAMEBUFFER,null),Z.enable(Z.SCISSOR_TEST),B.scale.on(v.RESIZE,this.onResize,this),this.resize(W,Y)},createTemporaryTextures:function(){for(var B=this.gl,G=0;G<this.maxTextures;G++){var z=B.createTexture();B.activeTexture(B.TEXTURE0+G),B.bindTexture(B.TEXTURE_2D,z),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(G)}},captureFrame:function(B,G){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,G,z){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,G){(G.width!==this.width||G.height!==this.height)&&this.resize(G.width,G.height)},beginCapture:function(B,G){B===void 0&&(B=this.width),G===void 0&&(G=this.height),this.renderTarget.bind(!0,B,G),this.setProjectionMatrix(B,G)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,G){var z=this.gl;return this.width=B,this.height=G,this.setProjectionMatrix(B,G),z.viewport(0,0,B,G),this.drawingBufferHeight=z.drawingBufferHeight,z.scissor(0,z.drawingBufferHeight-G,B,G),this.defaultScissor[2]=B,this.defaultScissor[3]=G,this.emit(n.RESIZE,B,G),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",G="WEBKIT_"+B,z="EXT_texture_compression_",W=function(K,Z){var V=K.getExtension(B+Z)||K.getExtension(G+Z)||K.getExtension(z+Z);if(V){var H={};for(var N in V)H[V[N]]=N;return H}},Y=this.gl;return{ETC:W(Y,"etc"),ETC1:W(Y,"etc1"),ATC:W(Y,"atc"),ASTC:W(Y,"astc"),BPTC:W(Y,"bptc"),RGTC:W(Y,"rgtc"),PVRTC:W(Y,"pvrtc"),S3TC:W(Y,"s3tc"),S3TCSRGB:W(Y,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,G){var z=this.compression[B.toUpperCase()];if(G in z)return z[G]},supportsCompressedTexture:function(B,G){var z=this.compression[B.toUpperCase()];return z?G?G in z:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,G){return(B!==this.projectionWidth||G!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=G,this.projectionMatrix.ortho(0,B,G,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?this.supportedExtensions.indexOf(B):!1},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,G,z,W,Y){Y===void 0&&(Y=this.drawingBufferHeight);var K=this.scissorStack,Z=[B,G,z,W];return K.push(Z),this.setScissor(B,G,z,W,Y),this.currentScissor=Z,Z},setScissor:function(B,G,z,W,Y){Y===void 0&&(Y=this.drawingBufferHeight);var K=this.gl,Z=this.currentScissor,V=z>0&&W>0;if(Z&&V){var H=Z[0],N=Z[1],b=Z[2],X=Z[3];V=H!==B||N!==G||b!==z||X!==W}V&&(this.flush(),K.scissor(B,Y-G-W,z,W))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var G=this.currentScissor;if(G){var z=G[0],W=G[1],Y=G[2],K=G[3];Y>0&&K>0&&B.scissor(z,this.drawingBufferHeight-W-K,Y,K)}},popScissor:function(){var B=this.scissorStack;B.pop();var G=B[B.length-1];G&&this.setScissor(G[0],G[1],G[2],G[3]),this.currentScissor=G},hasActiveStencilMask:function(){var B=this.currentMask.mask,G=this.currentCameraMask.mask;return B&&B.isStencil||G&&G.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,G){G===void 0&&(G=!1);var z=this.gl,W=this.blendModes[B];return G||B!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),z.enable(z.BLEND),z.blendEquation(W.equation),W.func.length>2?z.blendFuncSeparate(W.func[0],W.func[1],W.func[2],W.func[3]):z.blendFunc(W.func[0],W.func[1]),this.currentBlendMode=B,!0):!1},addBlendMode:function(B,G){var z=this.blendModes.push({func:B,equation:G});return z-1},updateBlendMode:function(B,G,z){return this.blendModes[B]&&(this.blendModes[B].func=G,z&&(this.blendModes[B].equation=z)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,G,z,W,Y){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,G,z,W,Y))},setFramebuffer:function(B,G,z,W,Y){if(G===void 0&&(G=!1),z===void 0&&(z=!0),W===void 0&&(W=null),Y===void 0&&(Y=!1),B===this.currentFramebuffer)return this;var K=this.gl,Z=this.width,V=this.height;return B&&B.renderTexture&&z?(Z=B.renderTexture.width,V=B.renderTexture.height):this.flush(),B?K.bindFramebuffer(K.FRAMEBUFFER,B.webGLFramebuffer):K.bindFramebuffer(K.FRAMEBUFFER,null),z&&K.viewport(0,0,Z,V),W&&K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,W.webGLTexture,0),Y&&(K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT)),G&&(B?(this.drawingBufferHeight=V,this.pushScissor(0,0,Z,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,G){B===void 0&&(B=!1),G===void 0&&(G=!0);var z=this.fboStack;z.pop();var W=z[z.length-1];return W||(W=null),this.setFramebuffer(W,B,G),W},restoreFramebuffer:function(B,G){B===void 0&&(B=!1),G===void 0&&(G=!0);var z=this.fboStack,W=z[z.length-1];W||(W=null),this.currentFramebuffer=null,this.setFramebuffer(W,B,G)},setProgram:function(B){return B!==this.currentProgram?(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,G,z,W,Y){Y===void 0&&(Y=!1);var K=this.gl,Z=K.NEAREST,V=K.NEAREST,H=K.CLAMP_TO_EDGE,N=null;G=B?B.width:G,z=B?B.height:z;var b=l(G,z);if(b&&!Y&&(H=K.REPEAT),W===r.ScaleModes.LINEAR&&this.config.antialias){var X=B&&B.compressed,$=!X&&b||X&&B.mipmaps.length>1;Z=this.mipmapFilter&&$?this.mipmapFilter:K.LINEAR,V=K.LINEAR}return!B&&typeof G=="number"&&typeof z=="number"?N=this.createTexture2D(0,Z,V,H,H,K.RGBA,null,G,z):N=this.createTexture2D(0,Z,V,H,H,K.RGBA,B),N},createTexture2D:function(B,G,z,W,Y,K,Z,V,H,N,b,X){typeof V!="number"&&(V=Z?Z.width:1),typeof H!="number"&&(H=Z?Z.height:1);var $=new A(this.gl,B,G,z,W,Y,K,Z,V,H,N,b,X);return this.glTextureWrappers.push($),$},createFramebuffer:function(B,G,z,W){this.currentFramebuffer=null;var Y=new L(this.gl,B,G,z,W);return this.glFramebufferWrappers.push(Y),Y},beginBitmapMask:function(B,G){var z=this.gl;z&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=G))},drawBitmapMask:function(B,G,z){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,G),this.maskSource.unbind(!0),this.maskTarget.unbind();var W=this.gl,Y=this.getCurrentStencilMask();Y?(W.enable(W.STENCIL_TEST),Y.mask.applyStencil(this,Y.camera,!0)):this.currentMask.mask=null,this.pipelines.set(z),W.activeTexture(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,this.maskTarget.texture.webGLTexture),W.activeTexture(W.TEXTURE1),W.bindTexture(W.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,G){var z=new P(this.gl,B,G);return this.glProgramWrappers.push(z),z},createVertexBuffer:function(B,G){var z=this.gl,W=new S(z,B,z.ARRAY_BUFFER,G);return this.glBufferWrappers.push(W),W},createAttribLocation:function(B,G){var z=new F(this.gl,B,G);return this.glAttribLocationWrappers.push(z),z},createUniformLocation:function(B,G){var z=new I(this.gl,B,G);return this.glUniformLocationWrappers.push(z),z},createIndexBuffer:function(B,G){var z=this.gl,W=new S(z,B,z.ELEMENT_ARRAY_BUFFER,G);return this.glBufferWrappers.push(W),W},deleteTexture:function(B){if(B)return p(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(p(this.fboStack,B),p(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(p(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(p(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(p(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(p(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var G=B.x,z=B.y,W=B.width,Y=B.height,K=B.backgroundColor;if(B.emit(o.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(G,z,W,Y),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),K.alphaGL>0){var Z=this.pipelines.setMulti();Z.drawFillRect(G,z,W,Y,T.getTintFromFloats(K.blueGL,K.greenGL,K.redGL,1),K.alphaGL)}},getCurrentStencilMask:function(){var B=null,G=this.maskStack,z=this.currentCameraMask;return G.length>0?B=G[G.length-1]:z.mask&&z.mask.isStencil&&(B=z),B},postRenderCamera:function(B){var G=B.flashEffect,z=B.fadeEffect;if(G.isRunning||z.isRunning||z.isComplete){var W=this.pipelines.setMulti();G.postRenderWebGL(W,T.getTintFromFloats),z.postRenderWebGL(W,T.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(o.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.config.clearBeforeRender){var G=this.config.backgroundColor;B.clearColor(G.redGL,G.greenGL,G.blueGL,G.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(B,G,z){if(!this.contextLost){var W=G.length;if(this.emit(n.RENDER,B,z),this.preRenderCamera(z),W===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(z);return}this.currentType="";for(var Y=this.currentMask,K=0;K<W;K++){this.finalType=K===W-1;var Z=G[K],V=Z.mask;Y=this.currentMask,Y.mask&&Y.mask!==V&&Y.mask.postRenderWebGL(this,Y.camera),V&&Y.mask!==V&&V.preRenderWebGL(this,Z,z),Z.blendMode!==this.currentBlendMode&&this.setBlendMode(Z.blendMode);var H=Z.type;H!==this.currentType&&(this.newType=!0,this.currentType=H),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=G[K+1].type===this.currentType,Z.renderWebGL(this,Z,z),this.newType=!1}Y=this.currentMask,Y.mask&&Y.mask.postRenderWebGL(this,Y.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(z)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var B=this.snapshotState;B.callback&&(C(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,G=this.getCurrentStencilMask();if(G){var z=G.mask;B.enable(B.STENCIL_TEST),z.invertAlpha?B.stencilFunc(B.NOTEQUAL,z.level,255):B.stencilFunc(B.EQUAL,z.level,255)}},snapshot:function(B,G,z){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,G,z)},snapshotArea:function(B,G,z,W,Y,K,Z){var V=this.snapshotState;return V.callback=Y,V.type=K,V.encoder=Z,V.getPixel=!1,V.x=B,V.y=G,V.width=z,V.height=W,this},snapshotPixel:function(B,G,z){return this.snapshotArea(B,G,1,1,z),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,G,z,W,Y,K,Z,V,H,N,b){Y===void 0&&(Y=!1),K===void 0&&(K=0),Z===void 0&&(Z=0),V===void 0&&(V=G),H===void 0&&(H=z),N==="pixel"&&(Y=!0,N="image/png");var X=this.currentFramebuffer;this.snapshotArea(K,Z,V,H,W,N,b);var $=this.snapshotState;return $.getPixel=Y,$.isFramebuffer=!0,$.bufferWidth=G,$.bufferHeight=z,$.width=Math.min($.width,G),$.height=Math.min($.height,z),this.setFramebuffer(B),C(this.gl,$),this.setFramebuffer(X),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(B,G,z,W){z===void 0&&(z=!1),W===void 0&&(W=!1);var Y=this.gl,K=Y.NEAREST,Z=Y.NEAREST,V=B.width,H=B.height,N=Y.CLAMP_TO_EDGE,b=l(V,H);return!z&&b&&(N=Y.REPEAT),this.config.antialias&&(K=b&&this.mipmapFilter?this.mipmapFilter:Y.LINEAR,Z=Y.LINEAR),G?(G.update(B,V,H,W,N,N,K,Z,G.format),G):this.createTexture2D(0,K,Z,N,N,Y.RGBA,B,V,H,!0,!1,W)},createCanvasTexture:function(B,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.canvasToTexture(B,null,G,z)},updateCanvasTexture:function(B,G,z,W){return z===void 0&&(z=!1),W===void 0&&(W=!1),this.canvasToTexture(B,G,W,z)},videoToTexture:function(B,G,z,W){z===void 0&&(z=!1),W===void 0&&(W=!1);var Y=this.gl,K=Y.NEAREST,Z=Y.NEAREST,V=B.videoWidth,H=B.videoHeight,N=Y.CLAMP_TO_EDGE,b=l(V,H);return!z&&b&&(N=Y.REPEAT),this.config.antialias&&(K=b&&this.mipmapFilter?this.mipmapFilter:Y.LINEAR,Z=Y.LINEAR),G?(G.update(B,V,H,W,N,N,K,Z,G.format),G):this.createTexture2D(0,K,Z,N,N,Y.RGBA,B,V,H,!0,!0,W)},createVideoTexture:function(B,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.videoToTexture(B,null,G,z)},updateVideoTexture:function(B,G,z,W){return z===void 0&&(z=!1),W===void 0&&(W=!1),this.videoToTexture(B,G,W,z)},createUint8ArrayTexture:function(B,G,z){var W=this.gl,Y=W.NEAREST,K=W.NEAREST,Z=W.CLAMP_TO_EDGE,V=l(G,z);return V&&(Z=W.REPEAT),this.createTexture2D(0,Y,K,Z,Z,W.RGBA,B,G,z)},setTextureFilter:function(B,G){var z=this.gl,W=G===0?z.LINEAR:z.NEAREST;z.activeTexture(z.TEXTURE0);var Y=z.getParameter(z.TEXTURE_BINDING_2D);return z.bindTexture(z.TEXTURE_2D,B.webGLTexture),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,W),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,W),B.minFilter=W,B.magFilter=W,Y&&z.bindTexture(z.TEXTURE_2D,Y),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(G){G.destroy()};a(this.glAttribLocationWrappers,B),a(this.glBufferWrappers,B),a(this.glFramebufferWrappers,B),a(this.glProgramWrappers,B),a(this.glTextureWrappers,B),a(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=D},38683:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95428),o=t(95540),s=t(14500),r=new a({initialize:function(n,l,i,h,u){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=i,this.program=this.renderer.createProgram(i,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var n=0,l=0,i=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var u=e[h],d=u.name,v=o(u,"size",1),m=o(u,"type",s.FLOAT),T=m.enum,C=m.size,S=!!u.normalized;i.push({name:d,size:v,type:T,normalized:S,offset:l,enabled:!1,location:-1}),C===4?n+=v:n++,l+=v*C}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=i},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,l=this.renderer,i=this.vertexSize,h=this.attributes,u=this.program,d=0;d<h.length;d++){var v=h[d],m=v.size,T=v.type,C=v.offset,S=v.enabled,P=v.location,A=!!v.normalized;if(e){P!==-1&&l.deleteAttribLocation(P);var L=this.renderer.createAttribLocation(u,v.name);L.webGLAttribLocation>=0?(n.enableVertexAttribArray(L.webGLAttribLocation),n.vertexAttribPointer(L.webGLAttribLocation,m,T,A,i,C),v.enabled=!0,v.location=L):L.webGLAttribLocation!==-1&&n.disableVertexAttribArray(L.webGLAttribLocation)}else S?n.vertexAttribPointer(P.webGLAttribLocation,m,T,A,i,C):!S&&P!==-1&&P.webGLAttribLocation>-1&&(n.disableVertexAttribArray(P.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,l=this.uniforms,i,h,u,d=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var v=e.getActiveUniform(n.webGLProgram,i);if(v){h=v.name,u=this.renderer.createUniformLocation(n,h),u!==null&&(l[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var m=h.indexOf("[");m>0&&(h=h.substr(0,m),l.hasOwnProperty(h)||(u=this.renderer.createUniformLocation(n,h),u!==null&&(l[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,l,i){var h=this.uniforms[n];return h?((i||h.value1!==l)&&(h.setter||(h.setter=e),h.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,l,i,h){var u=this.uniforms[n];return u?((h||u.value1!==l||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=l,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,l,i,h,u){var d=this.uniforms[n];return d?((u||d.value1!==l||d.value2!==i||d.value3!==h)&&(d.setter||(d.setter=e),d.value1=l,d.value2=i,d.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,i,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,l,i,h,u,d){var v=this.uniforms[n];return v?((d||v.value1!==l||v.value2!==i||v.value3!==h||v.value4!==u)&&(v.setter||(v.setter=e),v.value1=l,v.value2=i,v.value3=h,v.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,v.location.webGLUniformLocation,l,i,h,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,l){return this.setUniform2(this.gl.uniform2f,e,n,l)},set3f:function(e,n,l,i){return this.setUniform3(this.gl.uniform3f,e,n,l,i)},set4f:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4f,e,n,l,i,h)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,l){return this.setUniform2(this.gl.uniform2i,e,n,l)},set3i:function(e,n,l,i){return this.setUniform3(this.gl.uniform3i,e,n,l,i)},set4i:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4i,e,n,l,i,h)},setMatrix2fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,l,!0)},setMatrix3fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,l,!0)},setMatrix4fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,l,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,p(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=r},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=x},4159:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14500),p=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=p(!1,o,a),c.exports=o},31302:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(78908),s=t(85191),r=t(14500),e=t(29100),n=new a({Extends:e,initialize:function(i){i.fragShader=p(i,"fragShader",o),i.vertShader=p(i,"vertShader",s),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,i){e.prototype.resize.call(this,l,i),this.set2f("uResolution",l,i)},beginMask:function(l,i,h){this.renderer.beginBitmapMask(l,h)},endMask:function(l,i,h){var u=this.gl,d=this.renderer,v=l.bitmapMask;v&&u&&(d.drawBitmapMask(v,i,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),u.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});c.exports=n},92651:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(58918),o=t(14811),s=t(95540),r=t(43558),e=t(89350),n=t(70554),l=new a({Extends:r,initialize:function(h){h.shaders=[n.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,h);var u=this.game;this.glow=new p.Glow(u),this.shadow=new p.Shadow(u),this.pixelate=new p.Pixelate(u),this.vignette=new p.Vignette(u),this.shine=new p.Shine(u),this.gradient=new p.Gradient(u),this.circle=new p.Circle(u),this.barrel=new p.Barrel(u),this.wipe=new p.Wipe(u),this.bokeh=new p.Bokeh(u);var d=[];d[o.GLOW]=this.onGlow,d[o.SHADOW]=this.onShadow,d[o.PIXELATE]=this.onPixelate,d[o.VIGNETTE]=this.onVignette,d[o.SHINE]=this.onShine,d[o.BLUR]=this.onBlur,d[o.GRADIENT]=this.onGradient,d[o.BLOOM]=this.onBloom,d[o.COLOR_MATRIX]=this.onColorMatrix,d[o.CIRCLE]=this.onCircle,d[o.BARREL]=this.onBarrel,d[o.DISPLACEMENT]=this.onDisplacement,d[o.WIPE]=this.onWipe,d[o.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,h,u){this.source=i,this.target=h,this.swap=u;var d=i.width,v=i.height,m=this.tempSprite,T=this.fxHandlers;if(m&&m.preFX)for(var C=m.preFX.list,S=0;S<C.length;S++){var P=C[S];P.active&&T[P.type].call(this,P,d,v)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,h=this.target;this.copy(i,h),this.source=h,this.target=i},onGlow:function(i,h,u){var d=this.shaders[o.GLOW];this.setShader(d),this.glow.onPreRender(i,d,h,u),this.runDraw()},onShadow:function(i){var h=this.shaders[o.SHADOW];this.setShader(h),this.shadow.onPreRender(i,h),this.runDraw()},onPixelate:function(i,h,u){var d=this.shaders[o.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,h,u),this.runDraw()},onVignette:function(i){var h=this.shaders[o.VIGNETTE];this.setShader(h),this.vignette.onPreRender(i,h),this.runDraw()},onShine:function(i,h,u){var d=this.shaders[o.SHINE];this.setShader(d),this.shine.onPreRender(i,d,h,u),this.runDraw()},onBlur:function(i,h,u){var d=s(i,"quality"),v=this.shaders[o.BLUR+d];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",h,u),this.set1f("strength",s(i,"strength")),this.set3fv("color",s(i,"glcolor"));for(var m=s(i,"x"),T=s(i,"y"),C=s(i,"steps"),S=0;S<C;S++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(i){var h=this.shaders[o.GRADIENT];this.setShader(h),this.gradient.onPreRender(i,h),this.runDraw()},onBloom:function(i,h,u){var d=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",s(i,"blurStrength")),this.set3fv("color",s(i,"glcolor"));for(var v=2/h*s(i,"offsetX"),m=2/u*s(i,"offsetY"),T=s(i,"steps"),C=0;C<T;C++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,h,u){var d=this.shaders[o.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,h,u),this.runDraw()},onBarrel:function(i){var h=this.shaders[o.BARREL];this.setShader(h),this.barrel.onPreRender(i,h),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var h=this.shaders[o.WIPE];this.setShader(h),this.wipe.onPreRender(i,h),this.runDraw()},onBokeh:function(i,h,u){var d=this.shaders[o.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,h,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});c.exports=l},96569:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(31063),s=t(57516),r=t(61340),e=t(26099),n=t(29100),l=new a({Extends:s,initialize:function(h){var u=p(h,"fragShader",o);h.fragShader=u.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),s.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(i,h){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var d=u.getLights(h),v=d.length;this.lightsActive=!0;var m,T=this.renderer,C=T.height,S=h.matrix,P=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",v),m=0;m<v;m++){var A=d[m].light,L=A.color,F="uLights["+m+"].";S.transformPoint(A.x,A.y,P),this.set2f(F+"position",P.x-h.scrollX*A.scrollFactorX*h.zoom,C-(P.y-h.scrollY*A.scrollFactorY*h.zoom)),this.set3f(F+"color",L.r,L.g,L.b),this.set1f(F+"intensity",A.intensity),this.set1f(F+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(i){var u=-i,d=Math.cos(u),v=Math.sin(u);h[1]=v,h[3]=-v,h[0]=h[4]=d}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=i}},setTexture2D:function(i,h){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var d=this.getNormalMap(h);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var v=0;if(h&&h.parentContainer){var m=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=m.rotationNormalized}else h&&(v=h.rotation);return this.setNormalMapRotation(v),0},setGameObject:function(i,h){h===void 0&&(h=i.frame);var u=h.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(u,d)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var v=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return 0},isNewNormalMap:function(i,h){return this.currentTexture!==i||this.currentNormalMap!==h},getNormalMap:function(i){var h;if(i)i.displayTexture?h=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?h=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?h=i.tileset[0].image.dataSource[0]:h=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(i,h,u){this.lightsActive&&s.prototype.batchSprite.call(this,i,h,u)},batchTexture:function(i,h,u,d,v,m,T,C,S,P,A,L,F,I,D,B,G,z,W,Y,K,Z,V,H,N,b,X,$,Q,J,k,et){this.lightsActive&&s.prototype.batchTexture.call(this,i,h,u,d,v,m,T,C,S,P,A,L,F,I,D,B,G,z,W,Y,K,Z,V,H,N,b,X,$,Q,J,k,et)},batchTextureFrame:function(i,h,u,d,v,m,T){this.lightsActive&&s.prototype.batchTextureFrame.call(this,i,h,u,d,v,m,T)}});c.exports=l},56527:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(14500),n=t(29100),l=new a({Extends:o,initialize:function(h){h.fragShader=p(h,"fragShader",s),h.vertShader=p(h,"vertShader",r),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",o.call(this,h)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels)}});c.exports=l},57516:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(94811),o=t(95540),s=t(98840),r=t(44667),e=t(61340),n=t(70554),l=t(14500),i=t(29100),h=new a({Extends:i,initialize:function(d){var v=d.game.renderer,m=o(d,"fragShader",s);d.fragShader=n.parseFragmentShaderMaxTextures(m,v.maxTextures),d.vertShader=o(d,"vertShader",r),d.attributes=o(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height),this.set1i("uRoundPixels",u.config.roundPixels)},batchSprite:function(u,d,v){this.manager.set(this,u);var m=this._tempMatrix1,T=this._tempMatrix2,C=this._tempMatrix3,S=u.frame,P=S.glTexture,A=S.u0,L=S.v0,F=S.u1,I=S.v1,D=S.x,B=S.y,G=S.cutWidth,z=S.cutHeight,W=S.customPivot,Y=u.displayOriginX,K=u.displayOriginY,Z=-Y+D,V=-K+B;if(u.isCropped){var H=u._crop;(H.flipX!==u.flipX||H.flipY!==u.flipY)&&S.updateCropUVs(H,u.flipX,u.flipY),A=H.u0,L=H.v0,F=H.u1,I=H.v1,G=H.width,z=H.height,D=H.x,B=H.y,Z=-Y+D,V=-K+B}var N=1,b=1;u.flipX&&(W||(Z+=-S.realWidth+Y*2),N=-1),u.flipY&&(W||(V+=-S.realHeight+K*2),b=-1);var X=u.x,$=u.y;T.applyITRS(X,$,u.rotation,u.scaleX*N,u.scaleY*b),m.copyFrom(d.matrix),v?(m.multiplyWithOffset(v,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),T.e=X,T.f=$):(T.e-=d.scrollX*u.scrollFactorX,T.f-=d.scrollY*u.scrollFactorY),m.multiply(T,C);var Q=C.setQuad(Z,V,Z+G,V+z),J=n.getTintAppendFloatAlpha,k=d.alpha,et=J(u.tintTopLeft,k*u._alphaTL),nt=J(u.tintTopRight,k*u._alphaTR),st=J(u.tintBottomLeft,k*u._alphaBL),ot=J(u.tintBottomRight,k*u._alphaBR);this.shouldFlush(6)&&this.flush();var ut=this.setGameObject(u,S);this.manager.preBatch(u),this.currentShader.set1i("uRoundPixels",d.roundPixels),this.batchQuad(u,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],A,L,F,I,et,nt,st,ot,u.tintFill,P,ut),this.manager.postBatch(u)},batchTexture:function(u,d,v,m,T,C,S,P,A,L,F,I,D,B,G,z,W,Y,K,Z,V,H,N,b,X,$,Q,J,k,et,nt,st,ot){ot===void 0&&(ot=!1),this.manager.set(this,u);var ut=this._tempMatrix1,at=this._tempMatrix2,ct=this._tempMatrix3,Et=Y/v+Q,St=K/m+J,Ct=(Y+Z)/v+Q,dt=(K+V)/m+J,Tt=S,vt=P,wt=-z,Bt=-W;if(u.isCropped){var Zt=u._crop,Ut=Zt.width,Ht=Zt.height;Tt=Ut,vt=Ht,S=Ut,P=Ht,Y=Zt.x,K=Zt.y;var Nt=Y,oe=K;I&&(Nt=Z-Zt.x-Ut),D&&(oe=V-Zt.y-Ht),Et=Nt/v+Q,St=oe/m+J,Ct=(Nt+Ut)/v+Q,dt=(oe+Ht)/m+J,wt=-z+Y,Bt=-W+K}D=D^(!nt&&d.isRenderTexture?1:0),I&&(Tt*=-1,wt+=S),D&&(vt*=-1,Bt+=P),at.applyITRS(T,C,F,A,L),ut.copyFrom(k.matrix),et?(ut.multiplyWithOffset(et,-k.scrollX*B,-k.scrollY*G),at.e=T,at.f=C):(at.e-=k.scrollX*B,at.f-=k.scrollY*G),ut.multiply(at,ct);var kt=ct.setQuad(wt,Bt,wt+Tt,Bt+vt);st==null&&(st=this.setTexture2D(d)),u&&!ot&&this.manager.preBatch(u),this.currentShader.set1i("uRoundPixels",k.roundPixels),this.batchQuad(u,kt[0],kt[1],kt[2],kt[3],kt[4],kt[5],kt[6],kt[7],Et,St,Ct,dt,H,N,b,X,$,d,st),u&&!ot&&this.manager.postBatch(u)},batchTextureFrame:function(u,d,v,m,T,C,S){this.manager.set(this);var P=this._tempMatrix1.copyFrom(C),A=this._tempMatrix2;S?P.multiply(S,A):A=P;var L=A.setQuad(d,v,d+u.width,v+u.height),F=this.setTexture2D(u.source.glTexture);m=n.getTintAppendFloatAlpha(m,T),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],u.u0,u.v0,u.u1,u.v1,m,m,m,m,0,u.glTexture,F)},batchFillRect:function(u,d,v,m,T,C){this.renderer.pipelines.set(this);var S=this.calcMatrix;C&&C.multiply(T,S);var P=S.setQuad(u,d,u+v,d+m),A=this.fillTint;this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(u,d,v,m,T,C,S,P){this.renderer.pipelines.set(this);var A=this.calcMatrix;P&&P.multiply(S,A);var L=A.getX(u,d),F=A.getY(u,d),I=A.getX(v,m),D=A.getY(v,m),B=A.getX(T,C),G=A.getY(T,C),z=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,L,F,I,D,B,G,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(u,d,v,m,T,C,S,P,A){var L=this.tempTriangle;L[0].x=u,L[0].y=d,L[0].width=S,L[1].x=v,L[1].y=m,L[1].width=S,L[2].x=T,L[2].y=C,L[2].width=S,L[3].x=u,L[3].y=d,L[3].width=S,this.batchStrokePath(L,S,!1,P,A)},batchFillPath:function(u,d,v){this.renderer.pipelines.set(this);var m=this.calcMatrix;v&&v.multiply(d,m);for(var T=u.length,C=this.polygonCache,S,P,A=this.fillTint.TL,L=this.fillTint.TR,F=this.fillTint.BL,I=0;I<T;++I)P=u[I],C.push(P.x,P.y);S=p(C),T=S.length,this.currentShader.set1i("uRoundPixels",!1);for(var D=0;D<T;D+=3){var B=S[D+0]*2,G=S[D+1]*2,z=S[D+2]*2,W=C[B+0],Y=C[B+1],K=C[G+0],Z=C[G+1],V=C[z+0],H=C[z+1],N=m.getX(W,Y),b=m.getY(W,Y),X=m.getX(K,Z),$=m.getY(K,Z),Q=m.getX(V,H),J=m.getY(V,H);this.batchTri(null,N,b,X,$,Q,J,0,0,1,1,A,L,F,2)}C.length=0},batchStrokePath:function(u,d,v,m,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=u.length-1,S=0;S<C;S++){var P=u[S],A=u[S+1];this.batchLine(P.x,P.y,A.x,A.y,P.width/2,A.width/2,d,S,!v&&S===C-1,m,T)}},batchLine:function(u,d,v,m,T,C,S,P,A,L,F){this.renderer.pipelines.set(this);var I=this.calcMatrix;F&&F.multiply(L,I);var D=v-u,B=m-d,G=Math.sqrt(D*D+B*B);if(G!==0){var z=T*(m-d)/G,W=T*(u-v)/G,Y=C*(m-d)/G,K=C*(u-v)/G,Z=v-Y,V=m-K,H=u-z,N=d-W,b=v+Y,X=m+K,$=u+z,Q=d+W,J=I.getX(Z,V),k=I.getY(Z,V),et=I.getX(H,N),nt=I.getY(H,N),st=I.getX(b,X),ot=I.getY(b,X),ut=I.getX($,Q),at=I.getY($,Q),ct=this.strokeTint,Et=ct.TL,St=ct.TR,Ct=ct.BL,dt=ct.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,ut,at,et,nt,J,k,st,ot,0,0,1,1,Et,St,Ct,dt,2),!(S<=2)){var Tt=this.prevQuad,vt=this.firstQuad;P>0&&Tt[4]?this.batchQuad(null,ut,at,et,nt,Tt[0],Tt[1],Tt[2],Tt[3],0,0,1,1,Et,St,Ct,dt,2):(vt[0]=ut,vt[1]=at,vt[2]=et,vt[3]=nt,vt[4]=1),A&&vt[4]?this.batchQuad(null,J,k,st,ot,vt[0],vt[1],vt[2],vt[3],0,0,1,1,Et,St,Ct,dt,2):(Tt[0]=J,Tt[1]=k,Tt[2]=st,Tt[3]=ot,Tt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});c.exports=h},43439:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(4127),s=t(89924),r=t(29100),e=new a({Extends:r,initialize:function(l){l.vertShader=p(l,"vertShader",s),l.fragShader=p(l,"fragShader",o),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,i,h,u,d,v,m,T,C,S,P){var A=n.color,L=n.intensity,F=n.radius,I=n.attenuation,D=A.r*L,B=A.g*L,G=A.b*L,z=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,h,S,P,F,I,D,B,G,z),this.batchLightVert(u,d,S,P,F,I,D,B,G,z),this.batchLightVert(v,m,S,P,F,I,D,B,G,z),this.batchLightVert(i,h,S,P,F,I,D,B,G,z),this.batchLightVert(v,m,S,P,F,I,D,B,G,z),this.batchLightVert(T,C,S,P,F,I,D,B,G,z),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,i,h,u,d,v,m,T,C){var S=this.vertexViewF32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++P]=n,S[++P]=l,S[++P]=i,S[++P]=h,S[++P]=u,S[++P]=d,S[++P]=v,S[++P]=m,S[++P]=T,S[++P]=C,this.vertexCount++}});c.exports=e},84057:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89422),o=t(95540),s=t(27681),r=t(49627),e=t(29100),n=new a({Extends:e,initialize:function(i){i.renderTarget=o(i,"renderTarget",1),i.fragShader=o(i,"fragShader",s),i.vertShader=o(i,"vertShader",r),i.attributes=o(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels);for(var h=this.renderTargets,u=0;u<h.length;u++)h[u].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,i,h){h===void 0&&(h=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.texture.webGLTexture);var d=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),h&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,d))},copyFrame:function(l,i,h,u,d){this.manager.copyFrame(l,i,h,u,d)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,i,h){this.manager.drawFrame(l,i,h,this.colorMatrix)},blendFrames:function(l,i,h,u,d){this.manager.blendFrames(l,i,h,u,d)},blendFramesAdditive:function(l,i,h,u,d){this.manager.blendFramesAdditive(l,i,h,u,d)},clearFrame:function(l,i){this.manager.clearFrame(l,i)},blitFrame:function(l,i,h,u,d,v){this.manager.blitFrame(l,i,h,u,d,v)},copyFrameRect:function(l,i,h,u,d,v,m,T){this.manager.copyFrameRect(l,i,h,u,d,v,m,T)},bindAndDraw:function(l,i,h,u,d){h===void 0&&(h=!0),u===void 0&&(u=!0);var v=this.gl,m=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(v.viewport(0,0,i.width,i.height),v.bindFramebuffer(v.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,i.texture.webGLTexture,0),h&&(u?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||v.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),i&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=n},43558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(67502),o=t(83419),s=t(96293),r=t(95540),e=t(57516),n=t(27681),l=t(87841),i=t(32302),h=t(45561),u=t(60722),d=t(29100),v=new o({Extends:e,initialize:function(T){var C=r(T,"fragShader",n),S=r(T,"vertShader",u),P=r(T,"drawShader",n),A=[{name:"DrawSprite",fragShader:h,vertShader:u},{name:"CopySprite",fragShader:C,vertShader:S},{name:"DrawGame",fragShader:P,vertShader:u},{name:"ColorMatrix",fragShader:s}],L=r(T,"shaders",[]);T.shaders=A.concat(L),T.vertShader||(T.vertShader=S),T.batchSize=1,e.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var m=this.shaders,T=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new i(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=T.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader,this.set2f("uResolution",T.width,T.height),this.set1i("uRoundPixels",T.config.roundPixels)},onResize:function(m,T){var C=this.quadVertexViewF32;C[1]=T,C[22]=T,C[14]=m,C[28]=m,C[35]=m,C[36]=T},batchQuad:function(m,T,C,S,P,A,L,F,I,D,B,G,z,W,Y,K,Z,V,H){var N=Math.min(T,S,A,F),b=Math.min(C,P,L,I),X=Math.max(T,S,A,F),$=Math.max(C,P,L,I),Q=X-N,J=$-b,k=this.spriteBounds.setTo(N,b,Q,J),et=m?m.preFX.padding:0,nt=Q+et*2,st=J+et*2,ot=Math.abs(Math.max(nt,st)),ut=this.manager.getRenderTarget(ot),at=this.targetBounds.setTo(0,0,ut.width,ut.height);p(at,k.centerX,k.centerY),this.tempSprite=m;var ct=this.gl,Et=this.renderer;Et.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Et.width,Et.height),this.set1i("uRoundPixels",Et.config.roundPixels),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,ut),m.preFX.onFX(this));var St=this.fsTarget;return this.flush(),ct.viewport(0,0,Et.width,Et.height),ct.bindFramebuffer(ct.FRAMEBUFFER,St.framebuffer.webGLFramebuffer),ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,St.texture.webGLTexture,0),ct.clearColor(0,0,0,0),ct.clear(ct.COLOR_BUFFER_BIT),this.setTexture2D(H),this.batchVert(T,C,D,B,0,V,W),this.batchVert(S,P,D,z,0,V,K),this.batchVert(A,L,G,z,0,V,Z),this.batchVert(T,C,D,B,0,V,W),this.batchVert(A,L,G,z,0,V,Z),this.batchVert(F,I,G,B,0,V,Y),this.flush(),this.flipProjectionMatrix(!1),ct.activeTexture(ct.TEXTURE0),ct.bindTexture(ct.TEXTURE_2D,ut.texture.webGLTexture),ct.copyTexSubImage2D(ct.TEXTURE_2D,0,0,0,at.x,at.y,at.width,at.height),ct.bindFramebuffer(ct.FRAMEBUFFER,null),ct.bindTexture(ct.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(ut,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,T,C,S,P,A,L){C===void 0&&(C=!0),S===void 0&&(S=!0),P===void 0&&(P=!1),L===void 0&&(L=this.copyShader);var F=this.gl,I=this.tempSprite;A&&(L=this.colorMatrixShader),this.currentShader=L;var D=this.setVertexBuffer(this.quadVertexBuffer);L.bind(D,!1);var B=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",B.width,B.height),this.set1i("uRoundPixels",B.config.roundPixels),I.preFX.onFXCopy(this),this.onCopySprite(m,T,I),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,m.texture.webGLTexture),m.height>T.height)F.viewport(0,0,m.width,m.height),this.setTargetUVs(m,T);else{var G=T.height-m.height;F.viewport(0,G,m.width,m.height),this.resetUVs()}if(F.bindFramebuffer(F.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,T.texture.webGLTexture,0),C&&(F.clearColor(0,0,0,+!S),F.clear(F.COLOR_BUFFER_BIT)),P){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}F.bufferData(F.ARRAY_BUFFER,this.quadVertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),P&&this.renderer.setBlendMode(z),F.bindFramebuffer(F.FRAMEBUFFER,null)},copy:function(m,T){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,m.texture.webGLTexture),C.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,T.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(m,T,C,S,P){this.manager.blendFrames(m,T,C,S,P)},blendFramesAdditive:function(m,T,C,S,P){this.manager.blendFramesAdditive(m,T,C,S,P)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var T=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var S=this._tempMatrix1.loadIdentity(),P=this.targetBounds.x,A=this.targetBounds.y,L=P+m.width,F=A+m.height,I=S.getX(P,A),D=S.getX(P,F),B=S.getX(L,F),G=S.getX(L,A),z=S.getY(P,A),W=S.getY(P,F),Y=S.getY(L,F),K=S.getY(L,A),Z=16777215;this.batchVert(I,z,0,0,0,0,Z),this.batchVert(D,W,0,1,0,0,Z),this.batchVert(B,Y,1,1,0,0,Z),this.batchVert(I,z,0,0,0,0,Z),this.batchVert(B,Y,1,1,0,0,Z),this.batchVert(G,K,1,0,0,0,Z),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||T.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,T,C,S,P,A,L,F){var I=this.quadVertexViewF32;I[2]=m,I[3]=T,I[9]=C,I[10]=S,I[16]=P,I[17]=A,I[23]=m,I[24]=T,I[30]=P,I[31]=A,I[37]=L,I[38]=F},setTargetUVs:function(m,T){var C=T.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=v},81041:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(57516),s=new a({Extends:o,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),o.call(this,e)}});c.exports=s},12385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(29100),n=new a({Extends:o,initialize:function(i){i.fragShader=p(i,"fragShader",s),i.vertShader=p(i,"vertShader",r),i.forceZero=!0,o.call(this,i)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});c.exports=n},7589:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35407),p=t(10312),o=t(83419),s=t(89422),r=t(96293),e=t(36682),n=t(95540),l=t(48247),i=t(49627),h=t(29100),u=new o({Extends:h,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",i),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,h.call(this,v),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var d=this.shaders,v=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(d,v,m,T,C){m===void 0&&(m=1),T===void 0&&(T=!0),C===void 0&&(C=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,d.texture.webGLTexture),v?(S.viewport(0,0,v.width,v.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture.webGLTexture,0)):S.viewport(0,0,d.width,d.height),T&&(C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(d,v,m,T,C,S,P){m===void 0&&(m=1),T===void 0&&(T=!0),C===void 0&&(C=!0),S===void 0&&(S=!1),P===void 0&&(P=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,d.texture.webGLTexture),d.height>v.height)A.viewport(0,0,d.width,d.height),this.setTargetUVs(d,v);else{var L=v.height-d.height;A.viewport(0,L,d.width,d.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,v.texture.webGLTexture,0),T&&(C?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),S){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}P&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),S&&this.renderer.setBlendMode(F),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,v,m,T,C,S,P,A){P===void 0&&(P=!0),A===void 0&&(A=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,d.texture.webGLTexture,0),P&&(A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,v.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,m,T,C,S),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(d){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(d,v,m,T){m===void 0&&(m=!0),T===void 0&&(T=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),v?(C.viewport(0,0,v.width,v.height),C.bindFramebuffer(C.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,v.texture.webGLTexture,0)):C.viewport(0,0,d.width,d.height),m?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(d,v,m,T,C,S){T===void 0&&(T=1),C===void 0&&(C=!0),S===void 0&&(S=this.linearShader);var P=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,d.texture.webGLTexture),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,v.texture.webGLTexture),m?(P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture.webGLTexture,0),P.viewport(0,0,m.width,m.height)):P.viewport(0,0,d.width,d.height),C?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFramesAdditive:function(d,v,m,T,C){this.blendFrames(d,v,m,T,C,this.addShader)},clearFrame:function(d,v){v===void 0&&(v=!0);var m=this.gl;m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,T.webGLFramebuffer)},setUVs:function(d,v,m,T,C,S,P,A){var L=this.vertexViewF32;L[2]=d,L[3]=v,L[6]=m,L[7]=T,L[10]=C,L[11]=S,L[14]=d,L[15]=v,L[18]=C,L[19]=S,L[22]=P,L[23]=A},setTargetUVs:function(d,v){var m=v.height/d.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=u},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=x},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(99155),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});c.exports=s},67329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(24400),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var i=2/r.width*e.offsetX,h=2/r.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(r,n),this.set2f("offset",0,h),this.copySprite(n,r);this.blendFrames(l,r,n,e.strength),this.copyToGame(n)}});c.exports=s},8861:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(41514),o=t(51078),s=t(94328),r=t(84057),e=new a({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),i=this.gl,h=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var d=0;d<l.steps;d++)this.set2f("offset",l.x,0),this.copySprite(n,h),this.set2f("offset",0,l.y),this.copySprite(h,n);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});c.exports=e},51051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(90610),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},89428:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(91899),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},88904:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(84057),o=new a({Extends:p,initialize:function(r){p.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});c.exports=o},63563:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(47838),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});c.exports=s},94045:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=t(98656),s=t(84057),r=t(70554),e=new a({Extends:s,initialize:function(l,i){var h=p(i,"quality",.1),u=p(i,"distance",10);s.call(this,{game:l,fragShader:r.setGlowQuality(o,l,h,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,i,h){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),i&&h&&this.set2f("resolution",i,h,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=e},74088:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(70463),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});c.exports=s},99636:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50831),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("amount",r.amount,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},34700:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(92595),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var n=r.samples;this.set1i("samples",n,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/n,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});c.exports=s},91157:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(72464),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,n,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=s},27797:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(39249),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});c.exports=s},67603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(2878),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var n=r.progress,l=r.wipeWidth,i=r.direction,h=r.axis;this.set4f("config",n,l,i,h,e),this.setBoolean("reveal",r.reveal,e)}});c.exports=s},58918:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=a},96615:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(36060),p=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=p(!1,o,a),c.exports=o},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLAttribLocation=-1,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=p},26128:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var s=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(s,this.webGLBuffer),o.bufferData(s,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(s,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=p},84387:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new a({initialize:function(r,e,n,l,i){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var r=this.renderTexture,e=0,n=s.createFramebuffer();if(this.webGLFramebuffer=n,s.bindFramebuffer(s.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,r.webGLTexture,0),e=s.checkFramebufferStatus(s.FRAMEBUFFER),e!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var r=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(r));var e=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&s.deleteRenderbuffer(e),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=o},1482:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLProgram=null,this.gl=s,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var s=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),e=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(e,this.fragmentSource),o.compileShader(r),o.compileShader(e);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(e,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(e));if(o.attachShader(s,r),o.attachShader(s,e),o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(s));o.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=p},82751:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50030),o=new a({initialize:function(r,e,n,l,i,h,u,d,v,m,T,C,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=n,this.magFilter=l,this.wrapT=i,this.wrapS=h,this.format=u,this.pixels=d,this.width=v,this.height=m,this.pma=T??!0,this.forceSize=!!C,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=s.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(s,r,e,n,l,i,h,u,d){if(!(r===0||e===0)){this.pixels=s,this.width=r,this.height=e,this.flipY=n,this.wrapS=l,this.wrapT=i,this.minFilter=h,this.magFilter=u,this.format=d;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var r=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,l=this.width,i=this.height,h=this.format,u=!1;if(e==null)s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,null),u=p(l,i);else if(e.compressed){l=e.width,i=e.height,u=e.generateMipmap;for(var d=0;d<e.mipmaps.length;d++)s.compressedTexImage2D(s.TEXTURE_2D,d,e.internalFormat,e.mipmaps[d].width,e.mipmaps[d].height,0,e.mipmaps[d].data)}else e instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,e),u=p(l,i)):(this.forceSize||(l=e.width,i=e.height),s.texImage2D(s.TEXTURE_2D,n,h,h,s.UNSIGNED_BYTE,e),u=p(l,i));u&&s.generateMipmap(s.TEXTURE_2D),r?s.bindTexture(s.TEXTURE_2D,r):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=o},57183:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLUniformLocation=null,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=p},9503:(c,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=a},76531:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(13560),p=t(83419),o=t(50792),s=t(97480),r=t(8443),e=t(57811),n=t(74403),l=t(45818),i=t(29747),h=t(87841),u=t(86555),d=t(56583),v=t(26099),m=t(38058),T=new p({Extends:o,initialize:function(S){o.call(this),this.game=S,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.scaleMode!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(r.PRE_STEP,this.step,this),C.events.once(r.READY,this.refresh,this),C.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var S=C.width,P=C.height,A=C.scaleMode,L=C.zoom,F=C.autoRound;if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var I=this.parentSize.width;I===0&&(I=window.innerWidth);var D=parseInt(S,10)/100;S=Math.floor(I*D)}if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var B=this.parentSize.height;B===0&&(B=window.innerHeight);var G=parseInt(P,10)/100;P=Math.floor(B*G)}this.scaleMode=A,this.autoRound=F,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,F&&(S=Math.floor(S),P=Math.floor(P)),this.gameSize.setSize(S,P),L===a.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(S,P),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*L,C.minHeight*L),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*L,C.maxHeight*L),this.displaySize.setSize(S,P),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=l(S,P)},getParent:function(C){var S=C.parent;if(S!==null){if(this.parent=n(S),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==a.SCALE_MODE.NONE){var P=this.parent.getBoundingClientRect();(this.parentIsWindow||P.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",P=this.parent.getBoundingClientRect(),!this.parentIsWindow&&P.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=e(!0));var P=S.width,A=S.height;if(C.width!==P||C.height!==A)return C.setSize(P,A),!0;if(this.canvas){var L=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==L.x||F.y!==L.y)return!0}return!1},lockOrientation:function(C){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return S?S.call(screen,C):!1},setParentSize:function(C,S){return this.parentSize.setSize(C,S),this.refresh()},setGameSize:function(C,S){var P=this.autoRound;P&&(C=Math.floor(C),S=Math.floor(S));var A=this.width,L=this.height;return this.gameSize.resize(C,S),this.baseSize.resize(C,S),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(C,S){var P=this.zoom,A=this.autoRound;A&&(C=Math.floor(C),S=Math.floor(S));var L=this.width,F=this.height;this.gameSize.resize(C,S),this.baseSize.resize(C,S),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*P,S*P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,D=C*P,B=S*P;return A&&(D=Math.floor(D),B=Math.floor(B)),(D!==C||B!==S)&&(I.width=D+"px",I.height=B+"px"),this.refresh(L,F)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,S){return C===void 0&&(C=0),S===void 0&&(S=C),this.displaySize.setSnap(C,S),this.refresh()},refresh:function(C,S){C===void 0&&(C=this.width),S===void 0&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var P=this.game.domContainer;if(P){this.baseSize.setCSS(P);var A=this.canvas.style,L=P.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=l(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(s.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,S=this.gameSize.width,P=this.gameSize.height,A,L,F=this.zoom,I=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(S*F,P*F),A=this.displaySize.width,L=this.displaySize.height,I&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(C.width=A+"px",C.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,I&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===a.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,I&&(A=Math.floor(A),L=Math.floor(L)),C.width=A+"px",C.height=L+"px";var D=this.parentSize.width/this.gameSize.width,B=this.parentSize.height/this.gameSize.height;D<B?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/D):this.baseSize.setSize(this.displaySize.width/B,this.gameSize.height),A=this.baseSize.width,L=this.baseSize.height,I&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,I&&(A=Math.floor(A),L=Math.floor(L)),C.width=A+"px",C.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=d(this.parentSize.width,this.gameSize.width,0,!0),S=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,S),1)},updateCenter:function(){var C=this.autoCenter;if(C!==a.CENTER.NO_CENTER){var S=this.canvas,P=S.style,A=S.getBoundingClientRect(),L=A.width,F=A.height,I=Math.floor((this.parentSize.width-L)/2),D=Math.floor((this.parentSize.height-F)/2);C===a.CENTER.CENTER_HORIZONTALLY?D=0:C===a.CENTER.CENTER_VERTICALLY&&(I=0),P.marginLeft=I+"px",P.marginTop=D+"px"}},updateBounds:function(){var C=this.canvasBounds,S=this.canvas.getBoundingClientRect();C.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=S.width,C.height=S.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var S=this.fullscreen;if(!S.available){this.emit(s.FULLSCREEN_UNSUPPORTED);return}if(!S.active){var P=this.getFullscreenTarget();S.keyboard?P[S.request](Element.ALLOW_KEYBOARD_INPUT):P[S.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var S=this.canvas.parentNode;S.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var S=C.parentNode;S.insertBefore(this.canvas,C),S.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,S=this.domlisteners;if(S.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},S.windowResize=function(){C.updateBounds(),C.dirty=!0},window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available){S.fullScreenChange=function(A){return C.onFullScreenChange(A)},S.fullScreenError=function(A){return C.onFullScreenError(A)};var P=["webkit","moz",""];P.forEach(function(A){document.addEventListener(A+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,S){C instanceof m||(S=C,C=void 0),S===void 0&&(S=new h);var P=this.baseSize,A=this.parentSize,L=this.canvasBounds,F=this.displayScale,I=L.x>=0?0:-(L.x*F.x),D=L.y>=0?0:-(L.y*F.y),B;A.width>=L.width?B=P.width:B=P.width-(L.width-A.width)*F.x;var G;return A.height>=L.height?G=P.height:G=P.height-(L.height-A.height)*F.y,S.setTo(I,D,B,G),C&&(S.width/=C.zoomX,S.height/=C.zoomY,S.centerX=C.centerX+C.scrollX,S.centerY=C.centerY+C.scrollY),S},step:function(C,S){this.parent&&(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var S=["webkit","moz",""];S.forEach(function(P){document.removeEventListener(P+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(P+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=T},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=a},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=a(!1,o,p.CENTER),o=a(!1,o,p.ORIENTATION),o=a(!1,o,p.SCALE_MODE),o=a(!1,o,p.ZOOM),c.exports=o},27397:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=t(35355),o=function(s){var r=s.game.config.defaultPhysicsSystem,e=a(s.settings,"physics",!1);if(!(!r&&!e)){var n=[];if(r&&n.push(p(r+"Physics")),e)for(var l in e)l=p(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};c.exports=o},52106:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o){var s=o.plugins.getDefaultScenePlugins(),r=a(o.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};c.exports=p},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=x},97482:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(2368),o=new a({initialize:function(r){this.sys=new p(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=o},60903:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89993),o=t(44594),s=t(8443),r=t(35154),e=t(54899),n=t(29747),l=t(97482),i=t(2368),h=new a({initialize:function(d,v){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)this._pending.push({key:"default",scene:v[m],autoStart:m===0,data:{}})}d.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var u,d,v,m;for(u=0;u<this._pending.length;u++){d=this._pending[u],v=d.key,m=d.scene;var T;m instanceof l?T=this.createSceneFromInstance(v,m):typeof m=="object"?T=this.createSceneFromObject(v,m):typeof m=="function"&&(T=this.createSceneFromFunction(v,m)),v=T.sys.settings.key,this.keys[v]=T,this.scenes.push(T),this._data[v]&&(T.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(d.autoStart=!0)),(d.autoStart||T.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)d=this._start[u],this.start(d);this._start.length=0}},processQueue:function(){var u=this._pending.length,d=this._queue.length;if(!(u===0&&d===0)){var v,m;if(u){for(v=0;v<u;v++)m=this._pending[v],this.add(m.key,m.scene,m.autoStart,m.data);for(v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)m=this._queue[v],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(u,d,v,m){if(v===void 0&&(v=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:d,autoStart:v,data:m}),this.isBooted||(this._data[u]={data:m}),null;u=this.getKey(u,d);var T;return d instanceof l?T=this.createSceneFromInstance(u,d):typeof d=="object"?(d.key=u,T=this.createSceneFromObject(u,d)):typeof d=="function"&&(T=this.createSceneFromFunction(u,d)),T.sys.settings.data=m,u=T.sys.settings.key,this.keys[u]=T,this.scenes.push(T),(v||T.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),T},remove:function(u){if(this.isProcessing)this._queue.push({op:"remove",keyA:u,keyB:null});else{var d=this.getScene(u);if(!d||d.sys.isTransitioning())return this;var v=this.scenes.indexOf(d),m=d.sys.settings.key;v>-1&&(delete this.keys[m],this.scenes.splice(v,1),this._start.indexOf(m)>-1&&(v=this._start.indexOf(m),this._start.splice(v,1)),d.sys.destroy())}return this},bootScene:function(u){var d=u.sys,v=d.settings;d.sceneUpdate=n,u.init&&(u.init.call(u,v.data),v.status=p.INIT,v.isTransition&&d.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var m;d.load&&(m=d.load,m.reset()),m&&u.preload?(u.preload.call(u),v.status=p.LOADING,m.once(e.COMPLETE,this.loadComplete,this),m.start()):this.create(u)},loadComplete:function(u){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,d){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var m=this.scenes[v].sys;m.settings.status>p.START&&m.settings.status<=p.RUNNING&&m.step(u,d),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(u,d)}},render:function(u){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.settings.visible&&v.settings.status>=p.LOADING&&v.settings.status<p.SLEEPING&&v.render(u)}this.isProcessing=!1},create:function(u){var d=u.sys,v=d.settings;u.create&&(v.status=p.CREATING,u.create.call(u,v.data),v.status===p.DESTROYED)||(v.isTransition&&d.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),u.update&&(d.sceneUpdate=u.update),v.status=p.RUNNING,d.events.emit(o.CREATE,u))},createSceneFromFunction:function(u,d){var v=new d;if(v instanceof l){var m=v.sys.settings.key;if(m!==""&&(u=m),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return this.createSceneFromInstance(u,v)}else return v.sys=new i(v),v.sys.settings.key=u,v.sys.init(this.game),v},createSceneFromInstance:function(u,d){var v=d.sys.settings.key;return v===""&&(d.sys.settings.key=u),d.sys.init(this.game),d},createSceneFromObject:function(u,d){var v=new l(d),m=v.sys.settings.key;m!==""?u=m:v.sys.settings.key=u,v.sys.init(this.game);for(var T=["init","preload","create","update","render"],C=0;C<T.length;C++){var S=r(d,T[C],null);S&&(v[T[C]]=S)}if(d.hasOwnProperty("extend")){for(var P in d.extend)if(d.extend.hasOwnProperty(P)){var A=d.extend[P];P==="data"&&v.hasOwnProperty("data")&&typeof A=="object"?v.data.merge(A):P!=="sys"&&(v[P]=A)}}return v},getKey:function(u,d){if(u||(u="default"),typeof d=="function")return u;if(d instanceof l?u=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(u=d.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return u},getScenes:function(u,d){u===void 0&&(u=!0),d===void 0&&(d=!1);for(var v=[],m=this.scenes,T=0;T<m.length;T++){var C=m[T];C&&(!u||u&&C.sys.isActive())&&v.push(C)}return d?v.reverse():v},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var d=0;d<this.scenes.length;d++)if(u===this.scenes[d])return u;return null},isActive:function(u){var d=this.getScene(u);return d?d.sys.isActive():null},isPaused:function(u){var d=this.getScene(u);return d?d.sys.isPaused():null},isVisible:function(u){var d=this.getScene(u);return d?d.sys.isVisible():null},isSleeping:function(u){var d=this.getScene(u);return d?d.sys.isSleeping():null},pause:function(u,d){var v=this.getScene(u);return v&&v.sys.pause(d),this},resume:function(u,d){var v=this.getScene(u);return v&&v.sys.resume(d),this},sleep:function(u,d){var v=this.getScene(u);return v&&!v.sys.isTransitioning()&&v.sys.sleep(d),this},wake:function(u,d){var v=this.getScene(u);return v&&v.sys.wake(d),this},run:function(u,d){var v=this.getScene(u);if(!v){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===u){this.queueOp("start",u,d);break}return this}v.sys.isSleeping()?v.sys.wake(d):v.sys.isPaused()?v.sys.resume(d):this.start(u,d)},start:function(u,d){if(!this.isBooted)return this._data[u]={autoStart:!0,data:d},this;var v=this.getScene(u);if(!v)return console.warn("Scene not found for key: "+u),this;var m=v.sys,T=m.settings.status;if(T>=p.START&&T<=p.CREATING)return this;if(T>=p.RUNNING&&T<=p.SLEEPING)m.shutdown(),m.sceneUpdate=n,m.start(d);else{m.sceneUpdate=n,m.start(d);var C;if(m.load&&(C=m.load),C&&m.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:m.settings.pack})))return m.settings.status=p.LOADING,C.once(e.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(v),this},stop:function(u,d){var v=this.getScene(u);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==p.SHUTDOWN){var m=v.sys.load;m&&(m.off(e.COMPLETE,this.loadComplete,this),m.off(e.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(d)}return this},switch:function(u,d){var v=this.getScene(u),m=this.getScene(d);return v&&m&&v!==m&&(this.sleep(u),this.isSleeping(d)?this.wake(d):this.start(d)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var d=this.getScene(u);return this.scenes.indexOf(d)},bringToTop:function(u){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:u,keyB:null});else{var d=this.getIndex(u);if(d!==-1&&d<this.scenes.length){var v=this.getScene(u);this.scenes.splice(d,1),this.scenes.push(v)}}return this},sendToBack:function(u){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:u,keyB:null});else{var d=this.getIndex(u);if(d!==-1&&d>0){var v=this.getScene(u);this.scenes.splice(d,1),this.scenes.unshift(v)}}return this},moveDown:function(u){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:u,keyB:null});else{var d=this.getIndex(u);if(d>0){var v=d-1,m=this.getScene(u),T=this.getAt(v);this.scenes[d]=T,this.scenes[v]=m}}return this},moveUp:function(u){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:u,keyB:null});else{var d=this.getIndex(u);if(d<this.scenes.length-1){var v=d+1,m=this.getScene(u),T=this.getAt(v);this.scenes[d]=T,this.scenes[v]=m}}return this},moveAbove:function(u,d){if(u===d)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:u,keyB:d});else{var v=this.getIndex(u),m=this.getIndex(d);if(v!==-1&&m!==-1&&m<v){var T=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(v+(m>v),0,T)}}return this},moveBelow:function(u,d){if(u===d)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:u,keyB:d});else{var v=this.getIndex(u),m=this.getIndex(d);if(v!==-1&&m!==-1&&m>v){var T=this.getAt(m);this.scenes.splice(m,1),v===0?this.scenes.unshift(T):this.scenes.splice(v-(m<v),0,T)}}return this},queueOp:function(u,d,v){return this._queue.push({op:u,keyA:d,keyB:v}),this},swapPosition:function(u,d){if(u===d)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:u,keyB:d});else{var v=this.getIndex(u),m=this.getIndex(d);if(v!==m&&v!==-1&&m!==-1){var T=this.getAt(v);this.scenes[v]=this.scenes[m],this.scenes[m]=T}}return this},dump:function(){for(var u=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys,T=m.settings.visible&&(m.settings.status===p.RUNNING||m.settings.status===p.PAUSED)?"[*] ":"[-] ";T+=m.settings.key+" ("+d[m.settings.status]+")",u.push(T)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=h},52209:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(44594),s=t(95540),r=t(37277),e=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=s(n,"target",!1),i=this.manager.getScene(l);if(!l||!this.checkValidTransition(i))return!1;var h=s(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=h,this._willSleep=s(n,"sleep",!1),this._willRemove=s(n,"remove",!1);var u=s(n,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=s(n,"onUpdateScope",this.scene));var d=s(n,"allowInput",!1);this.settings.transitionAllowInput=d;var v=i.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=h,v.transitionAllowInput=d,s(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),i.sys.isSleeping()?i.sys.wake(s(n,"data")):this.manager.start(l,s(n,"data"));var m=s(n,"onStart",null),T=s(n,"onStartScope",this.scene);return m&&m.call(T,this.scene,i,h),this.systems.events.emit(o.TRANSITION_OUT,i,h),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,i,h){return this.manager.add(n,l,i,h)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n){return n!==this.key&&this.manager.queueOp("switch",this.key,n),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,i){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(n,i),this},setVisible:function(n,l){l===void 0&&(l=this.key);var i=this.manager.getScene(l);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89993),p=t(35154),o=t(46975),s=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:a.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",o(s,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};c.exports=r},2368:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(89993),o=t(42363),s=t(44594),r=t(27397),e=t(52106),n=t(29747),l=t(55681),i=new a({initialize:function(u,d){this.scene=u,this.game,this.renderer,this.config=d,this.settings=l.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(h){this.settings.status=p.INIT,this.sceneUpdate=n,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var u=h.plugins;this.plugins=u,u.addToScene(this,o.Global,[o.CoreScene,e(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(h,u){var d=this.events;d.emit(s.PRE_UPDATE,h,u),d.emit(s.UPDATE,h,u),this.sceneUpdate.call(this.scene,h,u),d.emit(s.POST_UPDATE,h,u)},render:function(h){var u=this.displayList;u.depthSort(),this.events.emit(s.PRE_RENDER,h),this.cameras.render(h,u),this.events.emit(s.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var u=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=p.PAUSED,u.active=!1,this.events.emit(s.PAUSE,this,h)),this},resume:function(h){var u=this.events,d=this.settings;return this.settings.active||(d.status=p.RUNNING,d.active=!0,u.emit(s.RESUME,this,h)),this},sleep:function(h){var u=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=p.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(s.SLEEP,this,h)),this},wake:function(h){var u=this.events,d=this.settings;return d.status=p.RUNNING,d.active=!0,d.visible=!0,u.emit(s.WAKE,this,h),d.isTransition&&u.emit(s.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>p.PENDING&&h<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,u){return h?this.resume(u):this.pause(u)},start:function(h){var u=this.events,d=this.settings;h&&(d.data=h),d.status=p.START,d.active=!0,d.visible=!0,u.emit(s.START,this),u.emit(s.READY,this,h)},shutdown:function(h){var u=this.events,d=this.settings;u.off(s.TRANSITION_INIT),u.off(s.TRANSITION_START),u.off(s.TRANSITION_COMPLETE),u.off(s.TRANSITION_OUT),d.status=p.SHUTDOWN,d.active=!1,d.visible=!1,u.emit(s.SHUTDOWN,this,h)},destroy:function(){var h=this.events,u=this.settings;u.status=p.DESTROYED,u.active=!1,u.visible=!1,h.emit(s.DESTROY,this),h.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<d.length;v++)this[d[v]]=null}});c.exports=i},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=x},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89993),p=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=p(!1,o,a),c.exports=o},30341:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(14463),s=t(79291),r=t(29747),e=new a({Extends:p,initialize:function(l,i,h){p.call(this),this.manager=l,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=s(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=s(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(41786),o=t(50792),s=t(14463),r=t(8443),e=t(46710),n=t(58731),l=t(29747),i=t(26099),h=new a({Extends:o,initialize:function(d){o.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,d.events.on(r.BLUR,this.onGameBlur,this),d.events.on(r.FOCUS,this.onGameFocus,this),d.events.on(r.PRE_STEP,this.update,this),d.events.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(u,d){d===void 0&&(d={});var v=this.add(u,d);v.spritemap=this.jsonCache.get(u).spritemap;for(var m in v.spritemap)if(v.spritemap.hasOwnProperty(m)){var T=p(d),C=v.spritemap[m];T.loop=C.hasOwnProperty("loop")?C.loop:!1,v.addMarker({name:m,start:C.start,duration:C.end-C.start,config:T})}return v},get:function(u){return n(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,d){var v=this.add(u);return v.once(s.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(u,d,v){var m=this.addAudioSprite(u);return m.once(s.COMPLETE,m.destroy,m),m.play(d,v)},remove:function(u){var d=this.sounds.indexOf(u);return d!==-1?(u.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var d=0,v=this.sounds.length-1;v>=0;v--){var m=this.sounds[v];m.key===u&&(m.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(u){var d=0;return this.getAll(u).forEach(function(v){v.stop()&&d++}),d},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(m){m.update(u,d)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,d){var v=this;this.sounds.forEach(function(m,T){m&&!m.pendingRemove&&u.call(d||v,m,T,v.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,u)}}});c.exports=h},14747:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33684),p=t(25960),o=t(57490),s={create:function(r){var e=r.config.audio,n=r.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new p(r):n.webAudio&&!e.disableWebAudio?new o(r):new a(r)}};c.exports=s},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),p=t(83419),o=t(14463),s=t(45319),r=new p({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,n,l,i)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!a.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,u){return h.loop===u.loop?u.seek/u.duration-h.seek/h.duration:h.loop?1:-1});var i=l[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-l),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(o.LOOPED,this);else if(i>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=i}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},33684:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85034),p=t(83419),o=t(14463),s=t(64895),r=new p({Extends:a,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,n)},add:function(e,n){var l=new s(this,e,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,u){for(var d=0;d<u.length;d++)if(u[d].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",i);var h=[];if(e.game.cache.audio.entries.each(function(d,v){for(var m=0;m<v.length;m++){var T=v[m];T.dataset.locked==="true"&&h.push(T)}return!0}),h.length!==0){var u=h[h.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,h.forEach(function(d){d.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(d){d.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});c.exports=r},23717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),p=t(83419),o=t(50792),s=t(79291),r=t(29747),e=function(){return!1},n=function(){return null},l=function(){return this},i=new p({Extends:o,initialize:function(u,d,v){v===void 0&&(v={}),o.call(this),this.manager=u,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){a.prototype.destroy.call(this)}});c.exports=i},25960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85034),p=t(83419),o=t(50792),s=t(4603),r=t(29747),e=new p({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var i=new s(this,n,l);return this.sounds.push(i),i},addAudioSprite:function(n,l){var i=this.add(n,l);return i.spritemap={},i},get:function(n){return a.prototype.get.call(this,n)},getAll:function(n){return a.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,i){return!1},remove:function(n){return a.prototype.remove.call(this,n)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(n){return a.prototype.removeByKey.call(this,n)},stopByKey:function(n){return a.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){a.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){a.prototype.destroy.call(this)}});c.exports=e},71741:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30341),p=t(83419),o=t(14463),s=t(95540),r=new p({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,n,l,i)},play:function(e,n){return a.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,i),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=s(e,"panningModel","equalpower"),n.distanceModel=s(e,"distanceModel","inverse"),n.orientationX.value=s(e,"orientationX",0),n.orientationY.value=s(e,"orientationY",0),n.orientationZ.value=s(e,"orientationZ",-1),n.refDistance=s(e,"refDistance",1),n.maxDistance=s(e,"maxDistance",1e4),n.rolloffFactor=s(e,"rolloffFactor",1),n.coneInnerAngle=s(e,"coneInnerAngle",360),n.coneOuterAngle=s(e,"coneOuterAngle",0),n.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(n.positionX.value=s(e,"x",0),n.positionY.value=s(e,"y",0),n.positionZ.value=s(e,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),n=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},57490:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(53134),p=t(85034),o=t(83419),s=t(14463),r=t(8443),e=t(71741),n=t(95540),l=new o({Extends:p,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),p.call(this,h),this.locked&&h.isBooted?this.unlock():h.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(i){var h=i.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,h){var u=new e(this,i,h);return this.sounds.push(u),u},decodeAudio:function(i,h){var u;Array.isArray(i)?u=i:u=[{key:i,data:h}];for(var d=this.game.cache.audio,v=u.length,m=0;m<u.length;m++){var T=u[m],C=T.key,S=T.data;typeof S=="string"&&(S=a(S));var P=(function(L,F){d.add(L,F),this.emit(s.DECODED,L),v--,v===0&&this.emit(s.DECODED_ALL)}).bind(this,C),A=(function(L,F){console.error("Error decoding audio: "+L+" - ",F?F.message:""),v--,v===0&&this.emit(s.DECODED_ALL)}).bind(this,C);this.context.decodeAudioData(S,P,A)}},setListenerPosition:function(i,h){return i===void 0&&(i=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(i,h),this},unlock:function(){var i=this,h=document.body,u=function d(){if(i.context&&h){var v=h.removeEventListener.bind(h);i.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d),i.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d)})}};h&&(h.addEventListener("touchstart",u,!1),h.addEventListener("touchend",u,!1),h.addEventListener("click",u,!1),h.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,h){var u=this.context.listener;if(u&&u.positionX!==void 0){var d=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=u.positionX.value=d),v&&v!==this._spatialy&&(this._spatialy=u.positionY.value=v)}p.prototype.update.call(this,i,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(s.GLOBAL_VOLUME,this,i)}}});c.exports=l},73162:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37105),p=t(83419),o=t(29747),s=t(19186),r=new p({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,n){return n?a.Add(this.list,e):a.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,l){return l?a.AddAt(this.list,e,n):a.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(l,i){return l[e]-i[e]}),s(this.list,n),this):this},getByName:function(e){return a.GetFirst(this.list,"name",e)},getRandom:function(e,n){return a.GetRandom(this.list,e,n)},getFirst:function(e,n,l,i){return a.GetFirst(this.list,e,n,l,i)},getAll:function(e,n,l,i){return a.GetAll(this.list,e,n,l,i)},count:function(e,n){return a.CountAllMatching(this.list,e,n)},swap:function(e,n){a.Swap(this.list,e,n)},moveTo:function(e,n){return a.MoveTo(this.list,e,n)},moveAbove:function(e,n){return a.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return a.MoveBelow(this.list,e,n)},remove:function(e,n){return n?a.Remove(this.list,e):a.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?a.RemoveAt(this.list,e):a.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,l){return l?a.RemoveBetween(this.list,e,n):a.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return a.BringToTop(this.list,e)},sendToBack:function(e){return a.SendToBack(this.list,e)},moveUp:function(e){return a.MoveUp(this.list,e),e},moveDown:function(e){return a.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(e,n){return a.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,l,i){return a.SetAll(this.list,e,n,l,i),this},each:function(e,n){for(var l=[null],i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;i<this.list.length;i++)l[0]=this.list[i],e.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=r},90330:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(o){if(Array.isArray(o))for(var s=0;s<o.length;s++)this.set(o[s][0],o[s][1]);return this},set:function(o,s){return this.has(o)||this.size++,this.entries[o]=s,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var s in o)console.log(s,o[s]);console.groupEnd()},each:function(o){var s=this.entries;for(var r in s)if(o(r,s[r])===!1)break;return this},contains:function(o){var s=this.entries;for(var r in s)if(s[r]===o)return!0;return!1},merge:function(o,s){s===void 0&&(s=!1);var r=this.entries,e=o.entries;for(var n in e)r.hasOwnProperty(n)&&s?r[n]=e[n]:this.set(n,e[n]);return this}});c.exports=p},25774:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(82348),s=new a({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,n=e.indexOf(r);n!==-1&&e.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,n=r.length;n--;)e.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var i=e.indexOf(l);i!==-1&&(e.splice(i,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=s},59542:(c,x,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(43886);function p(S){if(!(this instanceof p))return new p(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(S){var P=this.data,A=[],L=this.toBBox;if(!m(S,P))return A;for(var F=[],I,D,B,G;P;){for(I=0,D=P.children.length;I<D;I++)B=P.children[I],G=P.leaf?L(B):B,m(S,G)&&(P.leaf?A.push(B):v(S,G)?this._all(B,A):F.push(B));P=F.pop()}return A},collides:function(S){var P=this.data,A=this.toBBox;if(!m(S,P))return!1;for(var L=[],F,I,D,B;P;){for(F=0,I=P.children.length;F<I;F++)if(D=P.children[F],B=P.leaf?A(D):D,m(S,B)){if(P.leaf||v(S,B))return!0;L.push(D)}P=L.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var P=0,A=S.length;P<A;P++)this.insert(S[P]);return this}var L=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var F=this.data;this.data=L,L=F}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(S,P){if(!S)return this;for(var A=this.data,L=this.toBBox(S),F=[],I=[],D,B,G,z;A||F.length;){if(A||(A=F.pop(),B=F[F.length-1],D=I.pop(),z=!0),A.leaf&&(G=o(S,A.children,P),G!==-1))return A.children.splice(G,1),F.push(A),this._condense(F),this;!z&&!A.leaf&&v(A,L)?(F.push(A),I.push(D),D=0,B=A,A=A.children[0]):B?(D++,A=B.children[D],z=!1):A=null}return this},toBBox:function(S){return S},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,P){for(var A=[];S;)S.leaf?P.push.apply(P,S.children):A.push.apply(A,S.children),S=A.pop();return P},_build:function(S,P,A,L){var F=A-P+1,I=this._maxEntries,D;if(F<=I)return D=T(S.slice(P,A+1)),s(D,this.toBBox),D;L||(L=Math.ceil(Math.log(F)/Math.log(I)),I=Math.ceil(F/Math.pow(I,L-1))),D=T([]),D.leaf=!1,D.height=L;var B=Math.ceil(F/I),G=B*Math.ceil(Math.sqrt(I)),z,W,Y,K;for(C(S,P,A,G,this.compareMinX),z=P;z<=A;z+=G)for(Y=Math.min(z+G-1,A),C(S,z,Y,B,this.compareMinY),W=z;W<=Y;W+=B)K=Math.min(W+B-1,Y),D.children.push(this._build(S,W,K,L-1));return s(D,this.toBBox),D},_chooseSubtree:function(S,P,A,L){for(var F,I,D,B,G,z,W,Y;L.push(P),!(P.leaf||L.length-1===A);){for(W=Y=1/0,F=0,I=P.children.length;F<I;F++)D=P.children[F],G=i(D),z=u(S,D)-G,z<Y?(Y=z,W=G<W?G:W,B=D):z===Y&&G<W&&(W=G,B=D);P=B||P.children[0]}return P},_insert:function(S,P,A){var L=this.toBBox,F=A?S:L(S),I=[],D=this._chooseSubtree(F,this.data,P,I);for(D.children.push(S),e(D,F);P>=0&&I[P].children.length>this._maxEntries;)this._split(I,P),P--;this._adjustParentBBoxes(F,I,P)},_split:function(S,P){var A=S[P],L=A.children.length,F=this._minEntries;this._chooseSplitAxis(A,F,L);var I=this._chooseSplitIndex(A,F,L),D=T(A.children.splice(I,A.children.length-I));D.height=A.height,D.leaf=A.leaf,s(A,this.toBBox),s(D,this.toBBox),P?S[P-1].children.push(D):this._splitRoot(A,D)},_splitRoot:function(S,P){this.data=T([S,P]),this.data.height=S.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(S,P,A){var L,F,I,D,B,G,z,W;for(G=z=1/0,L=P;L<=A-P;L++)F=r(S,0,L,this.toBBox),I=r(S,L,A,this.toBBox),D=d(F,I),B=i(F)+i(I),D<G?(G=D,W=L,z=B<z?B:z):D===G&&B<z&&(z=B,W=L);return W},_chooseSplitAxis:function(S,P,A){var L=S.leaf?this.compareMinX:n,F=S.leaf?this.compareMinY:l,I=this._allDistMargin(S,P,A,L),D=this._allDistMargin(S,P,A,F);I<D&&S.children.sort(L)},_allDistMargin:function(S,P,A,L){S.children.sort(L);var F=this.toBBox,I=r(S,0,P,F),D=r(S,A-P,A,F),B=h(I)+h(D),G,z;for(G=P;G<A-P;G++)z=S.children[G],e(I,S.leaf?F(z):z),B+=h(I);for(G=A-P-1;G>=P;G--)z=S.children[G],e(D,S.leaf?F(z):z),B+=h(D);return B},_adjustParentBBoxes:function(S,P,A){for(var L=A;L>=0;L--)e(P[L],S)},_condense:function(S){for(var P=S.length-1,A;P>=0;P--)S[P].children.length===0?P>0?(A=S[P-1].children,A.splice(A.indexOf(S[P]),1)):this.clear():s(S[P],this.toBBox)},compareMinX:function(S,P){return S.left-P.left},compareMinY:function(S,P){return S.top-P.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function o(S,P,A){if(!A)return P.indexOf(S);for(var L=0;L<P.length;L++)if(A(S,P[L]))return L;return-1}function s(S,P){r(S,0,S.children.length,P,S)}function r(S,P,A,L,F){F||(F=T(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var I=P,D;I<A;I++)D=S.children[I],e(F,S.leaf?L(D):D);return F}function e(S,P){return S.minX=Math.min(S.minX,P.minX),S.minY=Math.min(S.minY,P.minY),S.maxX=Math.max(S.maxX,P.maxX),S.maxY=Math.max(S.maxY,P.maxY),S}function n(S,P){return S.minX-P.minX}function l(S,P){return S.minY-P.minY}function i(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function h(S){return S.maxX-S.minX+(S.maxY-S.minY)}function u(S,P){return(Math.max(P.maxX,S.maxX)-Math.min(P.minX,S.minX))*(Math.max(P.maxY,S.maxY)-Math.min(P.minY,S.minY))}function d(S,P){var A=Math.max(S.minX,P.minX),L=Math.max(S.minY,P.minY),F=Math.min(S.maxX,P.maxX),I=Math.min(S.maxY,P.maxY);return Math.max(0,F-A)*Math.max(0,I-L)}function v(S,P){return S.minX<=P.minX&&S.minY<=P.minY&&P.maxX<=S.maxX&&P.maxY<=S.maxY}function m(S,P){return P.minX<=S.maxX&&P.minY<=S.maxY&&P.maxX>=S.minX&&P.maxY>=S.minY}function T(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(S,P,A,L,F){for(var I=[P,A],D;I.length;)A=I.pop(),P=I.pop(),!(A-P<=L)&&(D=P+Math.ceil((A-P)/L/2)*L,a(S,D,P,A,F),I.push(P,D,D,A))}c.exports=p},35072:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,s){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[o]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var s=this.entries.indexOf(o);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var s=this.entries[o];console.log(s)}console.groupEnd()},each:function(o,s){var r,e=this.entries.slice(),n=e.length;if(s)for(r=0;r<n&&o.call(s,e[r],r)!==!1;r++);else for(r=0;r<n&&o(e[r],r)!==!1;r++);return this},iterate:function(o,s){var r,e=this.entries.length;if(s)for(r=0;r<e&&o.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var n=this.entries[s];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var s=new p;return o.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(o){var s=new p;return this.entries.forEach(function(r){o.contains(r)&&s.set(r)}),s},difference:function(o){var s=new p;return this.entries.forEach(function(r){o.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});c.exports=p},86555:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45319),p=t(83419),o=t(56583),s=t(26099),r=new p({initialize:function(n,l,i,h){n===void 0&&(n=0),l===void 0&&(l=n),i===void 0&&(i=0),h===void 0&&(h=null),this._width=n,this._height=l,this._parent=h,this.aspectMode=i,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=a(e,0,this.maxWidth),this.minHeight=a(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=a(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,n,!0);break;case r.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,l){e===void 0&&(e=0),n===void 0&&(n=e),l===void 0&&(l=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var i=this.snapTo,h=n===0?1:e/n;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(e=o(e,i.x),n=e/this.aspectRatio,i.y>0&&(n=o(n,i.y),e=n*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(n=o(n,i.y),e=n*this.aspectRatio,i.x>0&&(e=o(e,i.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,c.exports=r},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45319),o=t(40987),s=t(8054),r=t(50030),e=t(79237),n=new a({Extends:e,initialize:function(i,h,u,d,v){e.call(this,i,h,u,d,v),this.add("__BASE",0,0,0,d,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=v,this.imageData=this.context.getImageData(0,0,d,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,i,h,u){return u===void 0&&(u=!0),this.context.drawImage(h,l,i),u&&this.update(),this},drawFrame:function(l,i,h,u,d){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=!0);var v=this.manager.getFrame(l,i);if(v){var m=v.canvasData,T=v.cutWidth,C=v.cutHeight,S=v.source.resolution;this.context.drawImage(v.source.image,m.x,m.y,T,C,h,u,T/S,C/S),d&&this.update()}return this},setPixel:function(l,i,h,u,d,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),i=Math.abs(Math.floor(i));var m=this.getIndex(l,i);if(m>-1){var T=this.context.getImageData(l,i,1,1);T.data[0]=h,T.data[1]=u,T.data[2]=d,T.data[3]=v,this.context.putImageData(T,l,i)}return this},putData:function(l,i,h,u,d,v,m){return u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=l.width),m===void 0&&(m=l.height),this.context.putImageData(l,i,h,u,d,v,m),this},getData:function(l,i,h,u){l=p(Math.floor(l),0,this.width-1),i=p(Math.floor(i),0,this.height-1),h=p(h,1,this.width-l),u=p(u,1,this.height-i);var d=this.context.getImageData(l,i,h,u);return d},getPixel:function(l,i,h){h||(h=new o);var u=this.getIndex(l,i);if(u>-1){var d=this.data,v=d[u+0],m=d[u+1],T=d[u+2],C=d[u+3];h.setTo(v,m,T,C)}return h},getPixels:function(l,i,h,u){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=h),l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i));for(var d=p(l,0,this.width),v=p(l+h,0,this.width),m=p(i,0,this.height),T=p(i+u,0,this.height),C=new o,S=[],P=m;P<T;P++){for(var A=[],L=d;L<v;L++)C=this.getPixel(L,P,C),A.push({x:L,y:P,color:C.color,alpha:C.alphaGL});S.push(A)}return S},getIndex:function(l,i){return l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i)),l<this.width&&i<this.height?(l+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,i,h,u,d){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=this.height),d===void 0&&(d=!0),this.context.clearRect(l,i,h,u),d&&this.update(),this},setSize:function(l,i){return i===void 0&&(i=l),(l!==this.width||i!==this.height)&&(this.canvas.width=l,this.canvas.height=i,this._source.width=l,this._source.height=i,this._source.isPowerOf2=r(l,i),this.frames.__BASE.setSize(l,i,0,0),this.width=l,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=n},81320:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(10312),p=t(71911),o=t(27919),s=t(83419),r=t(8054),e=t(4327),n=t(95540),l=t(36060),i=t(32302),h=t(79237),u=t(70554),d=new s({Extends:h,initialize:function(m,T,C,S){C===void 0&&(C=256),S===void 0&&(S=256),this.type="DynamicTexture";var P=m.game.renderer,A=P&&P.type===r.CANVAS,L=A?o.create2D(this,C,S):[this];h.call(this,m,T,L,C,S),this.add("__BASE",0,0,0,C,S),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?L:null,this.context=A?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,C,S).setScene(m.game.scene.systemScene,!1),this.renderTarget=A?null:new i(P,C,S,1,0,!1,!0,!0,!1),this.pipeline=A?null:P.pipelines.get(l.SINGLE_PIPELINE),this.setSize(C,S)},setSize:function(v,m){m===void 0&&(m=v);var T=this.get(),C=T.source;if(v!==this.width||m!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=m);var S=this.renderTarget;S&&(S.willResize(v,m)&&S.resize(v,m),S.texture!==C.glTexture&&this.renderer.deleteTexture(C.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,m),C.width=v,C.height=m,T.setSize(v,m),this.width=v,this.height=m}else{var P=this.getSourceImage();T.cutX+v>P.width&&(v=P.width-T.cutX),T.cutY+m>P.height&&(m=P.height-T.cutY),T.setSize(v,m,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),m=v.source,T=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=T.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,m,T,C,S,P){var A=this.camera,L=this.renderer;m===void 0&&(m=1),T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=this.width),P===void 0&&(P=this.height);var F=v>>16&255,I=v>>8&255,D=v&255,B=this.renderTarget;if(A.preRender(),B){B.bind(!0);var G=this.pipeline.manager.set(this.pipeline),z=L.width/B.width,W=L.height/B.height,Y=B.height-(C+P);G.drawFillRect(T*z,Y*W,S*z,P*W,u.getTintFromFloats(D/255,I/255,F/255,1),m),B.unbind(!0)}else{var K=this.context;L.setContext(K),K.globalCompositeOperation="source-over",K.fillStyle="rgba("+F+","+I+","+D+","+m+")",K.fillRect(T,C,S,P),L.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var v=this.context,m=this.renderTarget;m?m.clear():v&&(v.save(),v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,this.width,this.height),v.restore()),this.dirty=!1}return this},stamp:function(v,m,T,C,S){T===void 0&&(T=0),C===void 0&&(C=0);var P=n(S,"alpha",1),A=n(S,"tint",16777215),L=n(S,"angle",0),F=n(S,"rotation",0),I=n(S,"scale",1),D=n(S,"scaleX",I),B=n(S,"scaleY",I),G=n(S,"originX",.5),z=n(S,"originY",.5),W=n(S,"blendMode",0),Y=n(S,"erase",!1),K=n(S,"skipBatch",!1),Z=this.manager.resetStamp(P,A);return Z.setAngle(0),L!==0?Z.setAngle(L):F!==0&&Z.setRotation(F),Z.setScale(D,B),Z.setTexture(v,m),Z.setOrigin(G,z),Z.setBlendMode(W),Y&&(this._eraseMode=!0),K?this.batchGameObject(Z,T,C):this.draw(Z,T,C),Y&&(this._eraseMode=!1),this},erase:function(v,m,T){return this._eraseMode=!0,this.draw(v,m,T),this._eraseMode=!1,this},draw:function(v,m,T,C,S){return this.beginDraw(),this.batchDraw(v,m,T,C,S),this.endDraw(),this},drawFrame:function(v,m,T,C,S,P){return this.beginDraw(),this.batchDrawFrame(v,m,T,C,S,P),this.endDraw(),this},repeat:function(v,m,T,C,S,P,A,L,F){if(T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=this.width),P===void 0&&(P=this.height),A===void 0&&(A=1),L===void 0&&(L=16777215),F===void 0&&(F=!1),v instanceof e?m=v:m=this.manager.getFrame(v,m),!m)return this;var I=this.manager.resetStamp(A,L);I.setFrame(m),I.setOrigin(0);var D=m.width,B=m.height;S=Math.floor(S),P=Math.floor(P);var G=Math.ceil(S/D),z=Math.ceil(P/B),W=G*D-S,Y=z*B-P;W>0&&(W=D-W),Y>0&&(Y=B-Y),T<0&&(G+=Math.ceil(Math.abs(T)/D)),C<0&&(z+=Math.ceil(Math.abs(C)/B));var K=T,Z=C,V=!1,H=this.manager.stampCrop.setTo(0,0,D,B);F||this.beginDraw();for(var N=0;N<z;N++){if(Z+B<0){Z+=B;continue}for(var b=0;b<G;b++){if(V=!1,K+D<0){K+=D;continue}else K<0&&(V=!0,H.width=D+K,H.x=D-H.width);Z<0&&(V=!0,H.height=B+Z,H.y=B-H.height),W>0&&b===G-1&&(V=!0,H.width=W),Y>0&&N===z-1&&(V=!0,H.height=Y),V&&I.setCrop(H),this.batchGameObject(I,K,Z),I.isCropped=!1,H.setTo(0,0,D,B),K+=D}K=T,Z+=B}return F||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,m=this.renderer,T=this.renderTarget;v.preRender(),T?m.beginCapture(T.width,T.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,m,T,C,S){return Array.isArray(v)||(v=[v]),this.batchList(v,m,T,C,S),this},batchDrawFrame:function(v,m,T,C,S,P){T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=1),P===void 0&&(P=16777215);var A=this.manager.getFrame(v,m);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,T,C,P,S,this.camera.matrix,null):this.batchTextureFrame(A,T,C,S,P)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var m=this.renderer,T=this.renderTarget;if(T){var C=m.endCapture(),S=m.pipelines.setUtility();S.blitFrame(C,T,1,!1,!1,v,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,m,T,C,S){var P=v.length;if(P!==0)for(var A=0;A<P;A++){var L=v[A];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,m,T):L.isParent||L.list?this.batchGroup(L.getChildren(),m,T):typeof L=="string"?this.batchTextureFrameKey(L,null,m,T,C,S):L instanceof e?this.batchTextureFrame(L,m,T,C,S):Array.isArray(L)&&this.batchList(L,m,T,C,S))}},batchGroup:function(v,m,T){m===void 0&&(m=0),T===void 0&&(T=0);for(var C=0;C<v.length;C++){var S=v[C];S.willRender(this.camera)&&this.batchGameObject(S,S.x+m,S.y+T)}},batchGameObject:function(v,m,T){m===void 0&&(m=v.x),T===void 0&&(T=v.y);var C=v.x,S=v.y,P=this.camera,A=this.renderer,L=this._eraseMode,F=v.mask;if(v.setPosition(m,T),this.canvas){if(L){var I=v.blendMode;v.blendMode=a.ERASE}F&&F.preRenderCanvas(A,v,P),v.renderCanvas(A,v,P,null),F&&F.postRenderCanvas(A,v,P),L&&(v.blendMode=I)}else A&&(F&&F.preRenderWebGL(A,v,P),L||A.setBlendMode(v.blendMode),v.renderWebGL(A,v,P),F&&F.postRenderWebGL(A,P,this.renderTarget));v.setPosition(C,S)},batchTextureFrameKey:function(v,m,T,C,S,P){var A=this.manager.getFrame(v,m);A&&this.batchTextureFrame(A,T,C,S,P)},batchTextureFrame:function(v,m,T,C,S){m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=1),S===void 0&&(S=16777215);var P=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(v,m,T,S,C,P,null);else{var L=this.context,F=v.canvasData,I=v.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=C,P.setToContext(L),F.width>0&&F.height>0&&L.drawImage(I,F.x,F.y,F.width,F.height,m,T,F.width,F.height),L.restore()}},snapshotArea:function(v,m,T,C,S,P,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,v,m,T,C,P,A):this.renderer.snapshotCanvas(this.canvas,S,!1,v,m,T,C,P,A),this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.width,this.height,v,m,T)},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,m,T,C){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(v,S,T,C)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=d},4327:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(45319),o=t(79291),s=new a({initialize:function(e,n,l,i,h,u,d){this.texture=e,this.name=n,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,d,i,h)},setSize:function(r,e,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.cutX=n,this.cutY=l,this.cutWidth=r,this.cutHeight=e,this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var i=this.data,h=i.cut;h.x=n,h.y=l,h.w=r,h.h=e,h.r=n+r,h.b=l+e,i.sourceSize.w=r,i.sourceSize.h=e,i.spriteSourceSize.w=r,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(r*r+e*e);var u=i.drawImage;return u.x=n,u.y=l,u.width=r,u.height=e,this.updateUVs()},setTrim:function(r,e,n,l,i,h){var u=this.data,d=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=r,u.sourceSize.h=e,d.x=n,d.y=l,d.w=i,d.h=h,d.r=n+i,d.b=l+h,this.x=n,this.y=l,this.width=i,this.height=h,this.halfWidth=i*.5,this.halfHeight=h*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(r,e,n,l){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&l===this.height,i.scale9Borders.x=r,i.scale9Borders.y=e,i.scale9Borders.w=n,i.scale9Borders.h=l,this},setCropUVs:function(r,e,n,l,i,h,u){var d=this.cutX,v=this.cutY,m=this.cutWidth,T=this.cutHeight,C=this.realWidth,S=this.realHeight;e=p(e,0,C),n=p(n,0,S),l=p(l,0,C-e),i=p(i,0,S-n);var P=d+e,A=v+n,L=l,F=i,I=this.data;if(I.trim){var D=I.spriteSourceSize;l=p(l,0,m-e),i=p(i,0,T-n);var B=e+l,G=n+i,z=!(D.r<e||D.b<n||D.x>B||D.y>G);if(z){var W=Math.max(D.x,e),Y=Math.max(D.y,n),K=Math.min(D.r,B)-W,Z=Math.min(D.b,G)-Y;L=K,F=Z,h?P=d+(m-(W-D.x)-K):P=d+(W-D.x),u?A=v+(T-(Y-D.y)-Z):A=v+(Y-D.y),e=W,n=Y,l=K,i=Z}else P=0,A=0,L=0,F=0}else h&&(P=d+(m-e-l)),u&&(A=v+(T-n-i));var V=this.source.width,H=this.source.height;return r.u0=Math.max(0,P/V),r.v0=Math.max(0,A/H),r.u1=Math.min(1,(P+L)/V),r.v1=Math.min(1,(A+F)/H),r.x=e,r.y=n,r.cx=P,r.cy=A,r.cw=L,r.ch=F,r.width=l,r.height=i,r.flipX=h,r.flipY=u,r},updateCropUVs:function(r,e,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,n)},setUVs:function(r,e,n,l,i,h){var u=this.data.drawImage;return u.width=r,u.height=e,this.u0=n,this.v0=l,this.u1=i,this.v1=h,this},updateUVs:function(){var r=this.cutX,e=this.cutY,n=this.cutWidth,l=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=l;var h=this.source.width,u=this.source.height;return this.u0=r/h,this.v0=e/u,this.u1=(r+n)/h,this.v1=(e+l)/u,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=s},79237:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(4327),o=t(11876),s='Texture "%s" has no frame "%s"',r=new a({initialize:function(n,l,i,h,u){Array.isArray(i)||(i=[i]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new o(this,i[d],h,u))},add:function(e,n,l,i,h,u){if(this.has(e))return null;var d=new p(this,e,n,l,i,h,u);return this.frames[e]=d,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,d},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(s,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var l=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var h=this.frames[i];h.sourceIndex===e&&l.push(h)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e),l=1/0,i=1/0,h=0,u=0,d=0;d<n.length;d++){var v=n[d];v.cutX<l&&(l=v.cutX),v.cutY<i&&(i=v.cutY),v.cutX+v.cutWidth>h&&(h=v.cutX+v.cutWidth),v.cutY+v.cutHeight>u&&(u=v.cutY+v.cutHeight)}return{x:l,y:i,width:h-l,height:u-i}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],l;return n?l=n.sourceIndex:(console.warn(s,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var l=this.source[n];this.dataSource.push(new o(this,e[n],l.width,l.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,l=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var i in this.frames){var h=this.frames[i];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=r},17130:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(57382),o=t(83419),s=t(40987),r=t(8054),e=t(81320),n=t(50792),l=t(69442),i=t(4327),h=t(8443),u=t(99584),d=t(35154),v=t(88571),m=t(41212),T=t(61309),C=t(87841),S=t(79237),P=new o({Extends:n,initialize:function(L){n.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,L.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(L){this.stamp=new v(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var L=A.key;return this.list.hasOwnProperty(L)&&(A.destroy(),this.emit(l.REMOVE,L),this.emit(l.REMOVE_KEY+L)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,L){if(this.checkKey(A)){var F=this,I=new Image;I.onerror=function(){F.emit(l.ERROR,A)},I.onload=function(){var D=F.create(A,I);T.Image(D,0),F.emit(l.ADD,A,D),F.emit(l.ADD_KEY+A,D),F.emit(l.LOAD,A,D)},I.src=L}return this},getBase64:function(A,L,F,I){F===void 0&&(F="image/png"),I===void 0&&(I=.92);var D="",B=this.getFrame(A,L);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var G=B.canvasData,z=a.create2D(this,G.width,G.height),W=z.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&W.drawImage(B.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),D=z.toDataURL(F,I),a.remove(z)}return D},addImage:function(A,L,F){var I=null;return this.checkKey(A)&&(I=this.create(A,L),T.Image(I,0),F&&I.setDataSource(F),this.emit(l.ADD,A,I),this.emit(l.ADD_KEY+A,I)),I},addGLTexture:function(A,L){var F=null;if(this.checkKey(A)){var I=L.width,D=L.height;F=this.create(A,L,I,D),F.add("__BASE",0,0,0,I,D),this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)}return F},addCompressedTexture:function(A,L,F){var I=null;if(this.checkKey(A)){if(I=this.create(A,L),I.add("__BASE",0,0,0,L.width,L.height),F){var D=function(G,z,W){Array.isArray(W.textures)||Array.isArray(W.frames)?T.JSONArray(G,z,W):T.JSONHash(G,z,W)};if(Array.isArray(F))for(var B=0;B<F.length;B++)D(I,B,F[B]);else D(I,0,F)}this.emit(l.ADD,A,I),this.emit(l.ADD_KEY+A,I)}return I},addRenderTexture:function(A,L){var F=null;return this.checkKey(A)&&(F=this.create(A,L),F.add("__BASE",0,0,0,L.width,L.height),this.emit(l.ADD,A,F),this.emit(l.ADD_KEY+A,F)),F},generate:function(A,L){if(this.checkKey(A)){var F=a.create(this,1,1);return L.canvas=F,u(L),this.addCanvas(A,F)}else return null},createCanvas:function(A,L,F){if(L===void 0&&(L=256),F===void 0&&(F=256),this.checkKey(A)){var I=a.create(this,L,F,r.CANVAS,!0);return this.addCanvas(A,I)}return null},addCanvas:function(A,L,F){F===void 0&&(F=!1);var I=null;return F?I=new p(this,A,L,L.width,L.height):this.checkKey(A)&&(I=new p(this,A,L,L.width,L.height),this.list[A]=I,this.emit(l.ADD,A,I),this.emit(l.ADD_KEY+A,I)),I},addDynamicTexture:function(A,L,F){var I=null;return typeof A=="string"&&!this.exists(A)?I=new e(this,A,L,F):(I=A,A=I.key),this.checkKey(A)?(this.list[A]=I,this.emit(l.ADD,A,I),this.emit(l.ADD_KEY+A,I)):I=null,I},addAtlas:function(A,L,F,I){return Array.isArray(F.textures)||Array.isArray(F.frames)?this.addAtlasJSONArray(A,L,F,I):this.addAtlasJSONHash(A,L,F,I)},addAtlasJSONArray:function(A,L,F,I){var D=null;if(L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D){if(Array.isArray(F))for(var B=F.length===1,G=0;G<D.source.length;G++){var z=B?F[0]:F[G];T.JSONArray(D,G,z)}else T.JSONArray(D,0,F);I&&D.setDataSource(I),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)}return D},addAtlasJSONHash:function(A,L,F,I){var D=null;if(L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D){if(Array.isArray(F))for(var B=0;B<F.length;B++)T.JSONHash(D,B,F[B]);else T.JSONHash(D,0,F);I&&D.setDataSource(I),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)}return D},addAtlasXML:function(A,L,F,I){var D=null;return L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D&&(T.AtlasXML(D,0,F),I&&D.setDataSource(I),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)),D},addUnityAtlas:function(A,L,F,I){var D=null;return L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D&&(T.UnityYAML(D,0,F),I&&D.setDataSource(I),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)),D},addSpriteSheet:function(A,L,F,I){var D=null;if(L instanceof S?(A=L.key,D=L):this.checkKey(A)&&(D=this.create(A,L)),D){var B=D.source[0].width,G=D.source[0].height;T.SpriteSheet(D,0,0,0,B,G,F),I&&D.setDataSource(I),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D)}return D},addSpriteSheetFromAtlas:function(A,L){if(!this.checkKey(A))return null;var F=d(L,"atlas",null),I=d(L,"frame",null);if(!(!F||!I)){var D=this.get(F),B=D.get(I);if(B){var G=B.source.image;G||(G=B.source.glTexture);var z=this.create(A,G);return B.trimmed?T.SpriteSheetFromAtlas(z,B,L):T.SpriteSheet(z,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,L),this.emit(l.ADD,A,z),this.emit(l.ADD_KEY+A,z),z}}},addUint8Array:function(A,L,F,I){if(!this.checkKey(A)||L.length/4!==F*I)return null;var D=this.create(A,L,F,I);return D.add("__BASE",0,0,0,F,I),this.emit(l.ADD,A,D),this.emit(l.ADD_KEY+A,D),D},create:function(A,L,F,I){var D=null;return this.checkKey(A)&&(D=new S(this,A,L,F,I),this.list[A]=D),D},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof S?A:A instanceof i?A.texture:this.list.__MISSING},cloneFrame:function(A,L){if(this.list[A])return this.list[A].get(L).clone()},getFrame:function(A,L){if(this.list[A])return this.list[A].get(L)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(m(A))return this.getFrame(A.key,A.frame);if(A instanceof S)return A.get();if(A instanceof i)return A}else return},getTextureKeys:function(){var A=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&A.push(L);return A},getPixel:function(A,L,F,I){var D=this.getFrame(F,I);if(D){A-=D.x,L-=D.y;var B=D.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(D.source.image,A,L,1,1,0,0,1,1);var z=G.getImageData(0,0,1,1);return new s(z.data[0],z.data[1],z.data[2],z.data[3])}}return null},getPixelAlpha:function(A,L,F,I){var D=this.getFrame(F,I);if(D){A-=D.x,L-=D.y;var B=D.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(D.source.image,A,L,1,1,0,0,1,1);var z=G.getImageData(0,0,1,1);return z.data[3]}}return null},setTexture:function(A,L,F){return this.list[L]&&(A.texture=this.list[L],A.frame=A.texture.get(F)),A},renameTexture:function(A,L){var F=this.get(A);return F&&A!==L?(F.key=L,this.list[L]=F,delete this.list[A],!0):!1},each:function(A,L){for(var F=[null],I=1;I<arguments.length;I++)F.push(arguments[I]);for(var D in this.list)F[0]=this.list[D],A.apply(L,F)},resetStamp:function(A,L){A===void 0&&(A=1),L===void 0&&(L=16777215);var F=this.stamp;return F.setCrop(),F.setPosition(0),F.setAngle(0),F.setScale(1),F.setAlpha(A),F.setTint(L),F.setTexture("__WHITE"),F},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});c.exports=P},11876:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(27919),p=t(83419),o=t(50030),s=t(29795),r=t(82751),e=new p({initialize:function(l,i,h,u,d){d===void 0&&(d=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=h||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(v)},init:function(n){var l=this.renderer;if(l){var i=this.source;if(l.gl){var h=this.image,u=this.flipY,d=this.width,v=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(h,!1,u):this.isVideo?this.glTexture=l.createVideoTexture(h,!1,u):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,d,v,m):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(i,void 0,void 0,m):i instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(i,d,v,m):this.glTexture=l.createTextureFromSource(h,d,v,m)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,i=this.flipY,h=n.gl;h&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,i):h&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};c.exports=x},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=a(!1,o,p),c.exports=o},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[a];t.add("__BASE",a,0,0,o.width,o.height);for(var s=p.getElementsByTagName("SubTexture"),r,e=0;e<s.length;e++){var n=s[e].attributes,l=n.name.value,i=parseInt(n.x.value,10),h=parseInt(n.y.value,10),u=parseInt(n.width.value,10),d=parseInt(n.height.value,10);if(r=t.add(l,a,i,h,u,d),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),m=Math.abs(parseInt(n.frameY.value,10)),T=parseInt(n.frameWidth.value,10),C=parseInt(n.frameHeight.value,10);r.setTrim(u,d,v,m,T,C)}}return t};c.exports=x},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};c.exports=x},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};c.exports=x},78566:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);for(var n=Array.isArray(r.textures)?r.textures[s].frames:r.frames,l,i=0;i<n.length;i++){var h=n[i];if(l=o.add(h.filename,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=h.anchor||h.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?o.customData[d]=r[d].slice(0):o.customData[d]=r[d]);return o};c.exports=p},39711:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);var n=r.frames,l;for(var i in n)if(n.hasOwnProperty(i)){var h=n[i];if(l=o.add(i,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+i);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=h.anchor||h.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?o.customData[d]=r[d].slice(0):o.customData[d]=r[d]);return o};c.exports=p},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],p,o=new Uint8Array(t,0,12);for(p=0;p<o.length;p++)if(o[p]!==a[p]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*s),e=r.getUint32(0,!0)===67305985,n=r.getUint32(1*s,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*s,e),i=r.getUint32(6*s,e),h=r.getUint32(7*s,e),u=Math.max(1,r.getUint32(11*s,e)),d=r.getUint32(12*s,e),v=new Array(u),m=12+13*4+d,T=i,C=h;for(p=0;p<u;p++){var S=new Int32Array(t,m,1)[0];m+=4,v[p]={data:new Uint8Array(t,m,S),width:T,height:C},T=Math.max(1,T>>1),C=Math.max(1,C>>1),m+=S}return{mipmaps:v,width:i,height:h,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=x},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(L,F,I,D,B,G,z){return z===void 0&&(z=16),Math.floor((L+I)/B)*Math.floor((F+D)/G)*z}function t(L,F){return L=Math.max(L,16),F=Math.max(F,8),L*F/4}function a(L,F){return L=Math.max(L,8),F=Math.max(F,8),L*F/2}function p(L,F){return Math.ceil(L/4)*Math.ceil(F/4)*16}function o(L,F){return x(L,F,3,3,4,4,8)}function s(L,F){return x(L,F,3,3,4,4)}function r(L,F){return x(L,F,4,3,5,4)}function e(L,F){return x(L,F,4,4,5,5)}function n(L,F){return x(L,F,5,4,6,5)}function l(L,F){return x(L,F,5,5,6,6)}function i(L,F){return x(L,F,7,4,8,5)}function h(L,F){return x(L,F,7,5,8,6)}function u(L,F){return x(L,F,7,7,8,8)}function d(L,F){return x(L,F,9,4,10,5)}function v(L,F){return x(L,F,9,5,10,6)}function m(L,F){return x(L,F,9,7,10,8)}function T(L,F){return x(L,F,9,9,10,10)}function C(L,F){return x(L,F,11,9,12,10)}function S(L,F){return x(L,F,11,11,12,12)}var P={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:T,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},A=function(L){for(var F=new Uint32Array(L,0,13),I=F[0],D=I===55727696,B=D?F[2]:F[3],G=F[4],z=P[B].glFormat[G],W=P[B].sizeFunc,Y=F[11],K=F[7],Z=F[6],V=52+F[12],H=new Uint8Array(L,V),N=new Array(Y),b=0,X=K,$=Z,Q=0;Q<Y;Q++){var J=W(X,$);N[Q]={data:new Uint8Array(H.buffer,H.byteOffset+b,J),width:X,height:$},X=Math.max(1,X>>1),$=Math.max(1,$>>1),b+=J}return{mipmaps:N,width:K,height:Z,internalFormat:z,compressed:!0,generateMipmap:!1}};c.exports=A},75549:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r,e,n,l,i){var h=a(i,"frameWidth",null),u=a(i,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=o.source[s];o.add("__BASE",s,0,0,d.width,d.height);var v=a(i,"startFrame",0),m=a(i,"endFrame",-1),T=a(i,"margin",0),C=a(i,"spacing",0),S=Math.floor((n-T+C)/(h+C)),P=Math.floor((l-T+C)/(u+C)),A=S*P;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>A||v<-A)&&(v=0),v<0&&(v=A+v),(m===-1||m>A||m<v)&&(m=A);for(var L=T,F=T,I=0,D=0,B=0,G=0;G<A;G++){I=0,D=0;var z=L+h,W=F+u;z>n&&(I=z-n),W>l&&(D=W-l),G>=v&&G<=m&&(o.add(B,s,r+L,e+F,h-I,u-D),B++),L+=h+C,L+h>n&&(L=T,F+=u+C)}return o};c.exports=p},47534:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r){var e=a(r,"frameWidth",null),n=a(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),a(r,"startFrame",0),a(r,"endFrame",-1);for(var i=a(r,"margin",0),h=a(r,"spacing",0),u=s.cutX,d=s.cutY,v=s.cutWidth,m=s.cutHeight,T=s.realWidth,C=s.realHeight,S=Math.floor((T-i+h)/(e+h)),P=Math.floor((C-i+h)/(n+h)),A=s.x,L=e-A,F=e-(T-v-A),I=s.y,D=n-I,B=n-(C-m-I),G,z=i,W=i,Y=0,K=0,Z=0;Z<P;Z++){for(var V=Z===0,H=Z===P-1,N=0;N<S;N++){var b=N===0,X=N===S-1;if(G=o.add(Y,K,u+z,d+W,e,n),b||V||X||H){var $=b?A:0,Q=V?I:0,J=0,k=0;b&&(J+=e-L),X&&(J+=e-F),V&&(k+=n-D),H&&(k+=n-B);var et=e-J,nt=n-k;G.cutWidth=et,G.cutHeight=nt,G.setTrim(e,n,$,Q,et,nt)}z+=h,b?z+=L:X?z+=F:z+=e,Y++}z=i,W+=h,V?W+=D:H?W+=B:W+=n}return o};c.exports=p},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,t=function(p,o,s,r){var e=x-r.y-r.height;p.add(s,o,r.x,e,r.width,r.height)},a=function(p,o,s){var r=p.source[o];p.add("__BASE",o,0,0,r.width,r.height),x=r.height;for(var e=s.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",i="",h={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var d=e[u].match(n);if(d){var v=d[1]==="- ",m=d[2],T=d[3];if(v&&(i!==l&&(t(p,o,i,h),l=i),h={x:0,y:0,width:0,height:0}),m==="name"){i=T;continue}switch(m){case"x":case"y":case"width":case"height":h[m]=parseInt(T,10);break}}}return i!==l&&t(p,o,i,h),p};c.exports=a},55222:(c,x,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(50030),p=function(l){for(var i=l.mipmaps,h=1;h<i.length;h++){var u=i[h].width,d=i[h].height;if(!a(u,d))return console.warn("Mip level "+h+" is not a power-of-two size: "+u+"x"+d),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var i=l.mipmaps,h=0;h<i.length;h++){var u=i[h].width,d=i[h].height;if((u<<h)%4!==0||(d<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+u+"x"+d),!1}return!0}function s(){return!0}function r(l){var i=l.mipmaps,h=i[0];return a(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(l){var i=l.mipmaps,h=i[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var n={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:e,35917:e,35918:e,35919:e};c.exports=p},61309:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i,h){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),i===void 0&&(i=0),this.name=s,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=i|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,s){return this.images.push({gid:o,image:s}),this.total++,this}});c.exports=p},27462:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=new a({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var e=s[r],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var s=this.gids[o.gid];if(s){var r=s.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,s,r,e){if(s===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(s===null&&n.image!==void 0&&(s=n.image.key),r===null&&(r=e.gid-n.firstgid),o.scene.textures.getFrame(s,r)||(s=null,r=null))}o.setTexture(s,r)},setPropertiesFromTiledObject:function(o,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(s.gid))}this.setFromJSON(o,s.properties)},setFromJSON:function(o,s){if(s){if(Array.isArray(s)){for(var r=0;r<s.length;r++){var e=s[r];o[e.name]!==void 0?o[e.name]=e.value:o.setData(e.name,e.value)}return}for(var n in s)o[n]!==void 0?o[n]=s[n]:o.setData(n,s[n])}}});c.exports=p},31989:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(87010),o=t(46177),s=t(49075),r=function(e,n,l,i,h,u,d,v){l===void 0&&(l=32),i===void 0&&(i=32),h===void 0&&(h=10),u===void 0&&(u=10),v===void 0&&(v=!1);var m=null;if(Array.isArray(d)){var T=n!==void 0?n:"map";m=o(T,a.ARRAY_2D,d,l,i,v)}else if(n!==void 0){var C=e.cache.tilemap.get(n);C?m=o(n,C.format,C.data,l,i,v):console.warn("No map data found for key "+n)}return m===null&&(m=new p({tileWidth:l,tileHeight:i,width:h,height:u})),new s(e,m)};c.exports=r},23029:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(31401),o=t(91907),s=t(62644),r=t(93232),e=new a({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(l,i,h,u,d,v,m,T){this.layer=l,this.index=i,this.x=h,this.y=u,this.width=d,this.height=v,this.right,this.bottom,this.baseWidth=m!==void 0?m:d,this.baseHeight=T!==void 0?T:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=s(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,i,h){return!(i<=this.pixelX||h<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,i,h,u){if(l===void 0&&(l=n),i===void 0&&(i=n),h===void 0&&(h=n),u===void 0&&(u=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=i,this.collideDown=h,this.faceLeft=n,this.faceRight=l,this.faceTop=i,this.faceBottom=h,u){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,i,h){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),i!==void 0&&(this.baseWidth=i),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,i=this.layer.staggerIndex,h=this.layer.hexSideLength,u,d;l==="y"?(d=(this.baseHeight-h)/2+h,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):l==="x"&&(u=(this.baseWidth-h)/2+h,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});c.exports=e},49075:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(84101),p=t(83419),o=t(39506),s=t(80341),r=t(95540),e=t(14977),n=t(27462),l=t(91907),i=t(36305),h=t(19133),u=t(68287),d=t(23029),v=t(81086),m=t(20442),T=t(33629),C=new p({initialize:function(P,A){this.scene=P,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(L),WorldToTileX:v.GetWorldToTileXFunction(L),WorldToTileY:v.GetWorldToTileYFunction(L),TileToWorldXY:v.GetTileToWorldXYFunction(L),TileToWorldX:v.GetTileToWorldXFunction(L),TileToWorldY:v.GetTileToWorldYFunction(L),GetTileCorners:v.GetTileCornersFunction(L)}},setRenderOrder:function(S){var P=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=P[S]),P.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,P,A,L,F,I,D,B){if(S===void 0)return null;P==null&&(P=S);var G=this.scene.sys.textures;if(!G.exists(P))return console.warn('Texture key "%s" not found',P),null;var z=G.get(P),W=this.getTilesetIndex(S);if(W===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var Y=this.tilesets[W];return Y?(Y.setTileSize(A,L),Y.setSpacing(F,I),Y.setImage(z),Y):(A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight),F===void 0&&(F=0),I===void 0&&(I=0),D===void 0&&(D=0),B===void 0&&(B={x:0,y:0}),Y=new T(S,D,A,L,F,I,void 0,void 0,B),Y.setImage(z),this.tilesets.push(Y),this.tiles=a(this),Y)},copy:function(S,P,A,L,F,I,D,B){return B=this.getLayer(B),B!==null?(v.Copy(S,P,A,L,F,I,D,B),this):null},createBlankLayer:function(S,P,A,L,F,I,D,B){A===void 0&&(A=0),L===void 0&&(L=0),F===void 0&&(F=this.width),I===void 0&&(I=this.height),D===void 0&&(D=this.tileWidth),B===void 0&&(B=this.tileHeight);var G=this.getLayerIndex(S);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var z=new e({name:S,tileWidth:D,tileHeight:B,width:F,height:I,orientation:this.orientation}),W,Y=0;Y<I;Y++){W=[];for(var K=0;K<F;K++)W.push(new d(z,-1,K,Y,D,B,this.tileWidth,this.tileHeight));z.data.push(W)}this.layers.push(z),this.currentLayerIndex=this.layers.length-1;var Z=new m(this.scene,this,this.currentLayerIndex,P,A,L);return Z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Z),Z},createLayer:function(S,P,A,L){var F=this.getLayerIndex(S);if(F===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[F];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=F,A===void 0&&(A=I.x),L===void 0&&(L=I.y);var D=new m(this.scene,this,F,P,A,L);return D.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(D),D},createFromObjects:function(S,P,A){A===void 0&&(A=!0);var L=[],F=this.getObjectLayer(S);if(!F)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),L;var I=new n(A?this.tilesets:void 0);Array.isArray(P)||(P=[P]);for(var D=F.objects,B=0;B<P.length;B++){var G=P[B],z=r(G,"id",null),W=r(G,"gid",null),Y=r(G,"name",null),K=r(G,"type",null);I.enabled=!r(G,"ignoreTileset",null);for(var Z,V=[],H=0;H<D.length;H++)Z=D[H],(z===null&&W===null&&Y===null&&K===null||z!==null&&Z.id===z||W!==null&&Z.gid===W||Y!==null&&Z.name===Y||K!==null&&I.getTypeIncludingTile(Z)===K)&&V.push(Z);for(var N=r(G,"classType",u),b=r(G,"scene",this.scene),X=r(G,"container",null),$=r(G,"key",null),Q=r(G,"frame",null),J=0;J<V.length;J++){Z=V[J];var k=new N(b);if(k.setName(Z.name),k.setPosition(Z.x,Z.y),I.setTextureAndFrame(k,$,Q,Z),Z.width&&(k.displayWidth=Z.width),Z.height&&(k.displayHeight=Z.height),this.orientation===l.ISOMETRIC){var et=this.tileWidth/this.tileHeight,nt={x:k.x-k.y,y:(k.x+k.y)/et};k.x=nt.x,k.y=nt.y}var st={x:k.originX*Z.width,y:(k.originY-(Z.gid?1:0))*Z.height};if(Z.rotation){var ot=o(Z.rotation);i(st,ot),k.rotation=ot}k.x+=st.x,k.y+=st.y,(Z.flippedHorizontal!==void 0||Z.flippedVertical!==void 0)&&k.setFlip(Z.flippedHorizontal,Z.flippedVertical),Z.visible||(k.visible=!1),I.setPropertiesFromTiledObject(k,Z),X?X.add(k):b.add.existing(k),L.push(k)}}return L},createFromTiles:function(S,P,A,L,F,I){return I=this.getLayer(I),I===null?null:v.CreateFromTiles(S,P,A,L,F,I)},fill:function(S,P,A,L,F,I,D){return I===void 0&&(I=!0),D=this.getLayer(D),D===null?null:(v.Fill(S,P,A,L,F,I,D),this)},filterObjects:function(S,P,A){if(typeof S=="string"){var L=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+L),null}return S.objects.filter(P,A)},filterTiles:function(S,P,A,L,F,I,D,B){return B=this.getLayer(B),B===null?null:v.FilterTiles(S,P,A,L,F,I,D,B)},findByIndex:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.FindByIndex(S,P,A,L)},findObject:function(S,P,A){if(typeof S=="string"){var L=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+L),null}return S.objects.find(P,A)||null},findTile:function(S,P,A,L,F,I,D,B){return B=this.getLayer(B),B===null?null:v.FindTile(S,P,A,L,F,I,D,B)},forEachTile:function(S,P,A,L,F,I,D,B){return B=this.getLayer(B),B===null?null:(v.ForEachTile(S,P,A,L,F,I,D,B),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,P){for(var A=0;A<S.length;A++)if(S[A].name===P)return A;return null},getLayer:function(S){var P=this.getLayerIndex(S);return P!==null?this.layers[P]:null},getObjectLayer:function(S){var P=this.getIndex(this.objects,S);return P!==null?this.objects[P]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof m&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.GetTileAt(S,P,A,L)},getTileAtWorldXY:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:v.GetTileAtWorldXY(S,P,A,L,F)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,P,A,L,F,I){return I=this.getLayer(I),I===null?null:v.GetTilesWithin(S,P,A,L,F,I)},getTilesWithinShape:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.GetTilesWithinShape(S,P,A,L)},getTilesWithinWorldXY:function(S,P,A,L,F,I,D){return D=this.getLayer(D),D===null?null:v.GetTilesWithinWorldXY(S,P,A,L,F,I,D)},getTileset:function(S){var P=this.getIndex(this.tilesets,S);return P!==null?this.tilesets[P]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,P,A){return A=this.getLayer(A),A===null?null:v.HasTileAt(S,P,A)},hasTileAtWorldXY:function(S,P,A,L){return L=this.getLayer(L),L===null?null:v.HasTileAtWorldXY(S,P,A,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,P,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:v.PutTileAt(S,P,A,L,F)},putTileAtWorldXY:function(S,P,A,L,F,I){return L===void 0&&(L=!0),I=this.getLayer(I),I===null?null:v.PutTileAtWorldXY(S,P,A,L,F,I)},putTilesAt:function(S,P,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(v.PutTilesAt(S,P,A,L,F),this)},randomize:function(S,P,A,L,F,I){return I=this.getLayer(I),I===null?null:(v.Randomize(S,P,A,L,F,I),this)},calculateFacesAt:function(S,P,A){return A=this.getLayer(A),A===null?null:(v.CalculateFacesAt(S,P,A),this)},calculateFacesWithin:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:(v.CalculateFacesWithin(S,P,A,L,F),this)},removeLayer:function(S){var P=this.getLayerIndex(S);if(P!==null){h(this.layers,P);for(var A=P;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===P&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var P=this.getLayerIndex(S);return P!==null?(S=this.layers[P],S.tilemapLayer.destroy(),h(this.layers,P),this.currentLayerIndex===P&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,P=0;P<S.length;P++)S[P].tilemapLayer&&S[P].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,P,A){P===void 0&&(P=-1),A===void 0&&(A=!0);var L=[];Array.isArray(S)||(S=[S]);for(var F=0;F<S.length;F++){var I=S[F];L.push(this.removeTileAt(I.x,I.y,!0,A,I.tilemapLayer)),P>-1&&this.putTileAt(P,I.x,I.y,A,I.tilemapLayer)}return L},removeTileAt:function(S,P,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:v.RemoveTileAt(S,P,A,L,F)},removeTileAtWorldXY:function(S,P,A,L,F,I){return A===void 0&&(A=!0),L===void 0&&(L=!0),I=this.getLayer(I),I===null?null:v.RemoveTileAtWorldXY(S,P,A,L,F,I)},renderDebug:function(S,P,A){return A=this.getLayer(A),A===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(S,P,A),this)},renderDebugFull:function(S,P){for(var A=this.layers,L=0;L<A.length;L++)v.RenderDebug(S,P,A[L]);return this},replaceByIndex:function(S,P,A,L,F,I,D){return D=this.getLayer(D),D===null?null:(v.ReplaceByIndex(S,P,A,L,F,I,D),this)},setCollision:function(S,P,A,L,F){return P===void 0&&(P=!0),A===void 0&&(A=!0),F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(v.SetCollision(S,P,A,L,F),this)},setCollisionBetween:function(S,P,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(v.SetCollisionBetween(S,P,A,L,F),this)},setCollisionByProperty:function(S,P,A,L){return P===void 0&&(P=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionByProperty(S,P,A,L),this)},setCollisionByExclusion:function(S,P,A,L){return P===void 0&&(P=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionByExclusion(S,P,A,L),this)},setCollisionFromCollisionGroup:function(S,P,A){return S===void 0&&(S=!0),P===void 0&&(P=!0),A=this.getLayer(A),A===null?null:(v.SetCollisionFromCollisionGroup(S,P,A),this)},setTileIndexCallback:function(S,P,A,L){return L=this.getLayer(L),L===null?null:(v.SetTileIndexCallback(S,P,A,L),this)},setTileLocationCallback:function(S,P,A,L,F,I,D){return D=this.getLayer(D),D===null?null:(v.SetTileLocationCallback(S,P,A,L,F,I,D),this)},setLayer:function(S){var P=this.getLayerIndex(S);return P!==null&&(this.currentLayerIndex=P),this},setBaseTileSize:function(S,P){this.tileWidth=S,this.tileHeight=P,this.widthInPixels=this.width*S,this.heightInPixels=this.height*P;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=S,this.layers[A].baseTileHeight=P;for(var L=this.layers[A].data,F=this.layers[A].width,I=this.layers[A].height,D=0;D<I;D++)for(var B=0;B<F;B++){var G=L[D][B];G!==null&&G.setSize(void 0,void 0,S,P)}}return this},setLayerTileSize:function(S,P,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=S,A.tileHeight=P;for(var L=A.data,F=A.width,I=A.height,D=0;D<I;D++)for(var B=0;B<F;B++){var G=L[D][B];G!==null&&G.setSize(S,P)}return this},shuffle:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:(v.Shuffle(S,P,A,L,F),this)},swapByIndex:function(S,P,A,L,F,I,D){return D=this.getLayer(D),D===null?null:(v.SwapByIndex(S,P,A,L,F,I,D),this)},tileToWorldX:function(S,P,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(S,P,A)},tileToWorldY:function(S,P,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(S,P,A)},tileToWorldXY:function(S,P,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.TileToWorldXY(S,P,A,L,F)},getTileCorners:function(S,P,A,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(S,P,A,L)},weightedRandomize:function(S,P,A,L,F,I){return I=this.getLayer(I),I===null?null:(v.WeightedRandomize(P,A,L,F,S,I),this)},worldToTileX:function(S,P,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(S,P,A,L)},worldToTileY:function(S,P,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(S,P,A,L)},worldToTileXY:function(S,P,A,L,F,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(S,P,A,L,F,I)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=C},45939:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(44603),p=t(31989);a.register("tilemap",function(o){var s=o!==void 0?o:{};return p(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(39429),p=t(31989);a.register("tilemap",function(o,s,r,e,n,l,i){return o===null&&(o=void 0),s===null&&(s=void 0),r===null&&(r=void 0),e===null&&(e=void 0),n===null&&(n=void 0),p(this.scene,o,s,r,e,n,l,i)})},20442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(78389),o=t(31401),s=t(95643),r=t(81086),e=t(19218),n=t(26099),l=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,p,e],initialize:function(h,u,d,v,m,T){s.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=d,this.layer=u.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,T),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var h=[],u=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var v=0;v<i.length;v++){var m=i[v];if(typeof m=="string"&&(m=d.getTileset(m)),m){u.push(m);for(var T=m.firstgid,C=0;C<m.total;C++)h[T+C]=m}}this.gidMap=h,this.tileset=u},setRenderOrder:function(i){var h=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=h.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,h){return r.CalculateFacesAt(i,h,this.layer),this},calculateFacesWithin:function(i,h,u,d){return r.CalculateFacesWithin(i,h,u,d,this.layer),this},createFromTiles:function(i,h,u,d,v){return r.CreateFromTiles(i,h,u,d,v,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,h,u,d,v,m,T){return r.Copy(i,h,u,d,v,m,T,this.layer),this},fill:function(i,h,u,d,v,m){return r.Fill(i,h,u,d,v,m,this.layer),this},filterTiles:function(i,h,u,d,v,m,T){return r.FilterTiles(i,h,u,d,v,m,T,this.layer)},findByIndex:function(i,h,u){return r.FindByIndex(i,h,u,this.layer)},findTile:function(i,h,u,d,v,m,T){return r.FindTile(i,h,u,d,v,m,T,this.layer)},forEachTile:function(i,h,u,d,v,m,T){return r.ForEachTile(i,h,u,d,v,m,T,this.layer),this},setTint:function(i,h,u,d,v,m){i===void 0&&(i=16777215);var T=function(C){C.tint=i,C.tintFill=!1};return this.forEachTile(T,this,h,u,d,v,m)},setTintFill:function(i,h,u,d,v,m){i===void 0&&(i=16777215);var T=function(C){C.tint=i,C.tintFill=!0};return this.forEachTile(T,this,h,u,d,v,m)},getTileAt:function(i,h,u){return r.GetTileAt(i,h,u,this.layer)},getTileAtWorldXY:function(i,h,u,d){return r.GetTileAtWorldXY(i,h,u,d,this.layer)},getIsoTileAtWorldXY:function(i,h,u,d,v){u===void 0&&(u=!0);var m=this.tempVec;return r.IsometricWorldToTileXY(i,h,!0,m,v,this.layer,u),this.getTileAt(m.x,m.y,d)},getTilesWithin:function(i,h,u,d,v){return r.GetTilesWithin(i,h,u,d,v,this.layer)},getTilesWithinShape:function(i,h,u){return r.GetTilesWithinShape(i,h,u,this.layer)},getTilesWithinWorldXY:function(i,h,u,d,v,m){return r.GetTilesWithinWorldXY(i,h,u,d,v,m,this.layer)},hasTileAt:function(i,h){return r.HasTileAt(i,h,this.layer)},hasTileAtWorldXY:function(i,h,u){return r.HasTileAtWorldXY(i,h,u,this.layer)},putTileAt:function(i,h,u,d){return r.PutTileAt(i,h,u,d,this.layer)},putTileAtWorldXY:function(i,h,u,d,v){return r.PutTileAtWorldXY(i,h,u,d,v,this.layer)},putTilesAt:function(i,h,u,d){return r.PutTilesAt(i,h,u,d,this.layer),this},randomize:function(i,h,u,d,v){return r.Randomize(i,h,u,d,v,this.layer),this},removeTileAt:function(i,h,u,d){return r.RemoveTileAt(i,h,u,d,this.layer)},removeTileAtWorldXY:function(i,h,u,d,v){return r.RemoveTileAtWorldXY(i,h,u,d,v,this.layer)},renderDebug:function(i,h){return r.RenderDebug(i,h,this.layer),this},replaceByIndex:function(i,h,u,d,v,m){return r.ReplaceByIndex(i,h,u,d,v,m,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=1),this.cullPaddingX=i,this.cullPaddingY=h,this},setCollision:function(i,h,u,d){return r.SetCollision(i,h,u,this.layer,d),this},setCollisionBetween:function(i,h,u,d){return r.SetCollisionBetween(i,h,u,d,this.layer),this},setCollisionByProperty:function(i,h,u){return r.SetCollisionByProperty(i,h,u,this.layer),this},setCollisionByExclusion:function(i,h,u){return r.SetCollisionByExclusion(i,h,u,this.layer),this},setCollisionFromCollisionGroup:function(i,h){return r.SetCollisionFromCollisionGroup(i,h,this.layer),this},setTileIndexCallback:function(i,h,u){return r.SetTileIndexCallback(i,h,u,this.layer),this},setTileLocationCallback:function(i,h,u,d,v,m){return r.SetTileLocationCallback(i,h,u,d,v,m,this.layer),this},shuffle:function(i,h,u,d){return r.Shuffle(i,h,u,d,this.layer),this},swapByIndex:function(i,h,u,d,v,m){return r.SwapByIndex(i,h,u,d,v,m,this.layer),this},tileToWorldX:function(i,h){return this.tilemap.tileToWorldX(i,h,this)},tileToWorldY:function(i,h){return this.tilemap.tileToWorldY(i,h,this)},tileToWorldXY:function(i,h,u,d){return this.tilemap.tileToWorldXY(i,h,u,d,this)},getTileCorners:function(i,h,u){return this.tilemap.getTileCorners(i,h,u,this)},weightedRandomize:function(i,h,u,d,v){return r.WeightedRandomize(h,u,d,v,i,this.layer),this},worldToTileX:function(i,h,u){return this.tilemap.worldToTileX(i,h,u,this)},worldToTileY:function(i,h,u){return this.tilemap.worldToTileY(i,h,u,this)},worldToTileXY:function(i,h,u,d,v){return this.tilemap.worldToTileXY(i,h,u,d,v,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});c.exports=l},16153:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61340),p=new a,o=new a,s=new a,r=function(e,n,l,i){var h=n.cull(l),u=h.length,d=l.alpha*n.alpha;if(!(u===0||d<=0)){var v=p,m=o,T=s;m.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var C=e.currentContext,S=n.gidMap;C.save(),i?(v.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),m.e=n.x,m.f=n.y,v.multiply(m,T),T.copyToContext(C)):(m.e-=l.scrollX*n.scrollFactorX,m.f-=l.scrollY*n.scrollFactorY,m.copyToContext(C)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var P=0;P<u;P++){var A=h[P],L=S[A.index];if(L){var F=L.image.getSourceImage(),I=L.getTileTextureCoordinates(A.index),D=L.tileWidth,B=L.tileHeight;if(!(I===null||D===0||B===0)){var G=D*.5,z=B*.5;I.x+=L.tileOffset.x,I.y+=L.tileOffset.y,C.save(),C.translate(A.pixelX+G,A.pixelY+z),A.rotation!==0&&C.rotate(A.rotation),(A.flipX||A.flipY)&&C.scale(A.flipX?-1:1,A.flipY?-1:1),C.globalAlpha=d*A.alpha,C.drawImage(F,I.x,I.y,D,B,-G,-z,D,B),C.restore()}}}C.restore()}};c.exports=r},19218:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(29747),p=a,o=a;p=t(99558),o=t(16153),c.exports={renderWebGL:p,renderCanvas:o}},99558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70554),p=function(o,s,r){var e=s.cull(r),n=e.length,l=r.alpha*s.alpha;if(!(n===0||l<=0)){var i=s.gidMap,h=o.pipelines.set(s.pipeline,s),u=a.getTintAppendFloatAlpha,d=s.scrollFactorX,v=s.scrollFactorY,m=s.x,T=s.y,C=s.scaleX,S=s.scaleY;o.pipelines.preBatch(s);for(var P=0;P<n;P++){var A=e[P],L=i[A.index];if(L){var F=L.getTileTextureCoordinates(A.index),I=L.tileWidth,D=L.tileHeight;if(!(!F||I===0||D===0)){var B=I*.5,G=D*.5,z=L.glTexture,W=h.setTexture2D(z,s),Y=I,K=D,Z=F.x,V=F.y,H=L.tileOffset.x,N=L.tileOffset.y,b=u(A.tint,l*A.alpha);h.batchTexture(s,z,z.width,z.height,m+A.pixelX*C+(B*C-H),T+A.pixelY*S+(G*S-N),I,D,C,S,A.rotation,A.flipX,A.flipY,d,v,B,G,Z,V,Y,K,b,b,b,b,A.tintFill,0,0,r,null,!0,W,!0)}}}o.pipelines.postBatch(s)}};c.exports=p},33629:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(26099),o=new a({initialize:function(r,e,n,l,i,h,u,d,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u={}),d===void 0&&(d={}),this.name=r,this.firstgid=e,this.tileWidth=n,this.tileHeight=l,this.tileMargin=i,this.tileSpacing=h,this.tileProperties=u,this.tileData=d,this.tileOffset=new p,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var r=s.get(),e=s.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),i=Math.floor(i),this.rows=l,this.columns=i,this.total=l*i,this.texCoordinates.length=0;for(var h=this.tileMargin+e,u=this.tileMargin+n,d=0;d<this.rows;d++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:h,y:u}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});c.exports=o},72023:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),p=function(o,s,r){var e=a(o,s,!0,r),n=a(o,s-1,!0,r),l=a(o,s+1,!0,r),i=a(o-1,s,!0,r),h=a(o+1,s,!0,r),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(u&&(e.faceTop=!1),n.faceBottom=!u),l&&l.collides&&(u&&(e.faceBottom=!1),l.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),h&&h.collides&&(u&&(e.faceRight=!1),h.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};c.exports=p},42573:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),p=t(7386),o=function(s,r,e,n,l){for(var i=null,h=null,u=null,d=null,v=p(s,r,e,n,null,l),m=0;m<v.length;m++){var T=v[m];T&&(T.collides?(i=a(T.x,T.y-1,!0,l),h=a(T.x,T.y+1,!0,l),u=a(T.x-1,T.y,!0,l),d=a(T.x+1,T.y,!0,l),T.faceTop=!(i&&i.collides),T.faceBottom=!(h&&h.collides),T.faceLeft=!(u&&u.collides),T.faceRight=!(d&&d.collides)):T.resetFaces())}};c.exports=o},33528:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=new a,o=function(s,r,e,n){var l=e.tilemapLayer,i=l.cullPaddingX,h=l.cullPaddingY,u=l.tilemap.tileToWorldXY(s,r,p,n,l);return u.x>n.worldView.x+l.scaleX*e.tileWidth*(-i-.5)&&u.x<n.worldView.right+l.scaleX*e.tileWidth*(i-.5)&&u.y>n.worldView.y+l.scaleY*e.tileHeight*(-h-1)&&u.y<n.worldView.bottom+l.scaleY*e.tileHeight*(h-.5)};c.exports=o},1785:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42573),p=t(7386),o=t(62991),s=t(23029),r=function(e,n,l,i,h,u,d,v){d===void 0&&(d=!0);var m=p(e,n,l,i,null,v),T=[];m.forEach(function(I){var D=new s(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);D.copy(I),T.push(D)});for(var C=h-e,S=u-n,P=0;P<T.length;P++){var A=T[P],L=A.x+C,F=A.y+S;o(L,F,v)&&v.data[F][L]&&(A.x=L,A.y=F,A.updatePixelXY(),v.data[F][L]=A)}d&&a(h-1,u-1,l+2,i+2,v),m.length=0,T.length=0};c.exports=r},78419:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62644),p=t(7386),o=t(27987),s=function(r,e,n,l,i,h){n||(n={}),Array.isArray(r)||(r=[r]);var u=h.tilemapLayer;l||(l=u.scene),i||(i=l.cameras.main);var d=h.width,v=h.height,m=p(0,0,d,v,null,h),T=[],C,S=function(F,I,D){for(var B=0;B<D.length;B++){var G=D[B];F.hasOwnProperty(G)||(F[G]=I[G])}};for(C=0;C<m.length;C++){var P=m[C],A=a(n);if(r.indexOf(P.index)!==-1){var L=u.tileToWorldXY(P.x,P.y,void 0,i,h);A.x=L.x,A.y=L.y,S(A,P,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=P.width*.5,A.y+=P.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=P.tileset.image,A.frame=P.index-1),T.push(l.make.sprite(A))}}if(Array.isArray(e))for(C=0;C<r.length;C++)o(r[C],e[C],0,0,d,v,h);else if(e!==null)for(C=0;C<r.length;C++)o(r[C],e,0,0,d,v,h);return T};c.exports=s},19545:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(87841),p=t(63448),o=t(56583),s=new a,r=function(e,n){var l=e.tilemapLayer.tilemap,i=e.tilemapLayer,h=Math.floor(l.tileWidth*i.scaleX),u=Math.floor(l.tileHeight*i.scaleY),d=o(n.worldView.x-i.x,h,0,!0)-i.cullPaddingX,v=p(n.worldView.right-i.x,h,0,!0)+i.cullPaddingX,m=o(n.worldView.y-i.y,u,0,!0)-i.cullPaddingY,T=p(n.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return s.setTo(d,m,v-d,T-m)};c.exports=r},30003:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19545),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};c.exports=o},35137:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(42573),o=t(20576),s=function(r,e,n,l,i,h,u){for(var d=u.collideIndexes.indexOf(r)!==-1,v=a(e,n,l,i,null,u),m=0;m<v.length;m++)v[m].index=r,o(v[m],d);h&&p(e-1,n-1,l+2,i+2,u)};c.exports=s},40253:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i,h){var u=a(r,e,n,l,i,h);return u.filter(o,s)};c.exports=p},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a===void 0&&(a=0),p===void 0&&(p=!1);var s=0,r,e,n;if(p){for(e=o.height-1;e>=0;e--)for(r=o.width-1;r>=0;r--)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}}else for(e=0;e<o.height;e++)for(r=0;r<o.width;r++)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}return null};c.exports=x},66151:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i,h){var u=a(r,e,n,l,i,h);return u.find(o,s)||null};c.exports=p},97560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i,h){var u=a(r,e,n,l,i,h);u.forEach(o,s)};c.exports=p},43305:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(30003),o=t(9474),s=t(14018),r=t(29747),e=t(54503),n=function(l){return l===a.ORTHOGONAL?p:l===a.HEXAGONAL?o:l===a.STAGGERED?e:l===a.ISOMETRIC?s:r};c.exports=n},7423:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62991),p=function(o,s,r,e){if(r===void 0&&(r=!1),a(o,s,e)){var n=e.data[s][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};c.exports=p},60540:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7423),p=t(26099),o=new p,s=function(r,e,n,l,i){return i.tilemapLayer.worldToTileXY(r,e,!0,o,l),a(o.x,o.y,n,i)};c.exports=s},55826:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e){var n=e.baseTileWidth,l=e.baseTileHeight,i=e.tilemapLayer,h=0,u=0;i&&(r||(r=i.scene.cameras.main),h=i.x+r.scrollX*(1-i.scrollFactorX),u=i.y+r.scrollY*(1-i.scrollFactorY),n*=i.scaleX,l*=i.scaleY);var d=h+o*n,v=u+s*l;return[new a(d,v),new a(d+n,v),new a(d+n,v+l),new a(d,v+l)]};c.exports=p},11758:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(27229),o=t(29747),s=t(55826),r=function(e){return e===a.ORTHOGONAL?s:e===a.ISOMETRIC?o:e===a.HEXAGONAL?p:(e===a.STAGGERED,o)};c.exports=r},39167:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(29747),o=t(97281),s=function(r){return r===a.ORTHOGONAL?o:p};c.exports=s},62e3:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(19951),o=t(14127),s=t(29747),r=t(97202),e=t(70326),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?p:l===a.STAGGERED?r:s};c.exports=n},5984:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(29747),o=t(28054),s=t(29650),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:p};c.exports=r},7386:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r,e,n,l){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),n||(n={});var i=a(n,"isNotEmpty",!1),h=a(n,"isColliding",!1),u=a(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),s<0&&(e+=s,s=0),o+r>l.width&&(r=Math.max(l.width-o,0)),s+e>l.height&&(e=Math.max(l.height-s,0));for(var d=[],v=s;v<s+e;v++)for(var m=o;m<o+r;m++){var T=l.data[v][m];if(T!==null){if(i&&T.index===-1||h&&!T.collides||u&&!T.hasInterestingFace)continue;d.push(T)}}return d};c.exports=p},91141:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(55738),p=t(7386),o=t(91865),s=t(29747),r=t(26099),e=function(u,d){return o.RectangleToTriangle(d,u)},n=new r,l=new r,i=new r,h=function(u,d,v,m){if(u===void 0)return[];var T=s;u instanceof a.Circle?T=o.CircleToRectangle:u instanceof a.Rectangle?T=o.RectangleToRectangle:u instanceof a.Triangle?T=e:u instanceof a.Line&&(T=o.LineToRectangle),m.tilemapLayer.worldToTileXY(u.left,u.top,!0,l,v);var C=l.x,S=l.y;m.tilemapLayer.worldToTileXY(u.right,u.bottom,!1,i,v);var P=Math.ceil(i.x),A=Math.ceil(i.y),L=Math.max(P-C,1),F=Math.max(A-S,1),I=p(C,S,L,F,d,m),D=m.tileWidth,B=m.tileHeight;m.tilemapLayer&&(D*=m.tilemapLayer.scaleX,B*=m.tilemapLayer.scaleY);for(var G=[],z=new a.Rectangle(0,0,D,B),W=0;W<I.length;W++){var Y=I[W];m.tilemapLayer.tileToWorldXY(Y.x,Y.y,n,v),z.x=n.x,z.y=n.y,T(u,z)&&G.push(Y)}return G};c.exports=h},96523:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(26099),o=new p,s=new p,r=function(e,n,l,i,h,u,d){var v=d.tilemapLayer.tilemap._convert.WorldToTileXY;v(e,n,!0,o,u,d);var m=o.x,T=o.y;v(e+l,n+i,!1,s,u,d);var C=Math.ceil(s.x),S=Math.ceil(s.y);return a(m,T,C-m,S-T,h,d)};c.exports=r},96113:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(20242),o=t(10095),s=function(r){return r===a.ORTHOGONAL?o:p};c.exports=s},16926:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(86625),o=t(96897),s=t(29747),r=t(15108),e=t(85896),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?p:l===a.STAGGERED?r:s};c.exports=n},55762:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=t(20242),o=t(51900),s=t(63288),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:p};c.exports=r},45091:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62991),p=function(o,s,r){if(a(o,s,r)){var e=r.data[s][o];return e!==null&&e.index>-1}else return!1};c.exports=p},24152:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(45091),p=t(26099),o=new p,s=function(r,e,n,l){l.tilemapLayer.worldToTileXY(r,e,!0,o,n);var i=o.x,h=o.y;return a(i,h,l)};c.exports=s},90454:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63448),p=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=s.hexSideLength,u,d,v,m;if(s.staggerAxis==="y"){var T=(i-h)/2+h;u=p(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=p(r.worldView.y-n.y,T,0,!0)-n.cullPaddingY,m=a(r.worldView.bottom-n.y,T,0,!0)+n.cullPaddingY}else{var C=(l-h)/2+h;u=p(r.worldView.x-n.x,C,0,!0)-n.cullPaddingX,d=a(r.worldView.right-n.x,C,0,!0)+n.cullPaddingX,v=p(r.worldView.y-n.y,i,0,!0)-n.cullPaddingY,m=a(r.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:u,right:d,top:v,bottom:m}};c.exports=o},9474:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(90454),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};c.exports=o},27229:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19951),p=t(26099),o=new p,s=function(r,e,n,l){var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(i*=u.scaleX,h*=u.scaleY);var d=a(r,e,o,n,l),v=[],m=.5773502691896257,T,C;l.staggerAxis==="y"?(T=m*i,C=h/2):(T=i/2,C=m*h);for(var S=0;S<6;S++){var P=2*Math.PI*(.5-S)/6;v.push(new p(d.x+T*Math.cos(P),d.y+C*Math.sin(P)))}return v};c.exports=s},19951:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),d=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleX,i*=h.scaleY);var v=l/2,m=i/2,T,C;return n.staggerAxis==="y"?(T=u+l*o+l,C=d+1.5*s*m+m,s%2===0&&(this.staggerIndex==="odd"?T-=v:T+=v)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(T=u+1.5*o*v+v,C=d+i*o+i,o%2===0&&(this.staggerIndex==="odd"?C-=m:C+=m)),r.set(T,C)};c.exports=p},86625:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(n||(n=u.scene.cameras.main),o=o-(u.x+n.scrollX*(1-u.scrollFactorX)),s=s-(u.y+n.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var d=.5773502691896257,v=-.3333333333333333,m=0,T=.6666666666666666,C=i/2,S=h/2,P,A,L,F,I;l.staggerAxis==="y"?(P=(o-C)/(d*i),A=(s-S)/S,L=d*P+v*A,F=m*P+T*A):(P=(o-C)/C,A=(s-S)/(d*h),L=v*P+d*A,F=T*P+m*A),I=-L-F;var D=Math.round(L),B=Math.round(F),G=Math.round(I),z=Math.abs(D-L),W=Math.abs(B-F),Y=Math.abs(G-I);z>W&&z>Y?D=-B-G:W>Y&&(B=-D-G);var K,Z=B;return l.staggerIndex==="odd"?K=Z%2===0?B/2+D:B/2+D-.5:K=Z%2===0?B/2+D:B/2+D+.5,e.set(K,Z)};c.exports=p},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t>=0&&t<p.width&&a>=0&&a<p.height};c.exports=x},14018:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33528),p=function(o,s,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var n=o.tilemapLayer,l=o.data,i=o.width,h=o.height,u=n.skipCull,d=0,v=i,m=0,T=h,C,S,P;if(e===0)for(S=m;S<T;S++)for(C=d;C<v;C++)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));else if(e===1)for(S=m;S<T;S++)for(C=v;C>=d;C--)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));else if(e===2)for(S=T;S>=m;S--)for(C=d;C<v;C++)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));else if(e===3)for(S=T;S>=m;S--)for(C=v;C>=d;C--)P=l[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!a(C,S,o,s)||r.push(P));return n.tilesDrawn=r.length,n.tilesTotal=i*h,r};c.exports=p},14127:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var v=u+(o-s)*(l/2),m=d+(o+s)*(i/2);return r.set(v,m)};c.exports=p},96897:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l,i){e||(e=new a);var h=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),s=s-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),h*=d.scaleX);var v=h/2,m=u/2;o=o-v,i||(s=s-u);var T=.5*(o/v+s/m),C=.5*(-o/v+s/m);return r&&(T=Math.floor(T),C=Math.floor(C)),e.set(T,C)};c.exports=p},71558:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23029),p=t(62991),o=t(72023),s=t(20576),r=function(e,n,l,i,h){if(i===void 0&&(i=!0),!p(n,l,h))return null;var u,d=h.data[l][n],v=d&&d.collides;e instanceof a?(h.data[l][n]===null&&(h.data[l][n]=new a(h,e.index,n,l,h.tileWidth,h.tileHeight)),h.data[l][n].copy(e)):(u=e,h.data[l][n]===null?h.data[l][n]=new a(h,u,n,l,h.tileWidth,h.tileHeight):h.data[l][n].index=u);var m=h.data[l][n],T=h.collideIndexes.indexOf(m.index)!==-1;if(u=e instanceof a?e.index:e,u===-1)m.width=h.tileWidth,m.height=h.tileHeight;else{var C=h.tilemapLayer.tilemap,S=C.tiles,P=S[u][2],A=C.tilesets[P];m.width=A.tileWidth,m.height=A.tileHeight}return s(m,T),i&&v!==m.collides&&o(n,l,h),m};c.exports=r},26303:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(71558),p=t(26099),o=new p,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(e,n,!0,o,i,h),a(r,o.x,o.y,l,h)};c.exports=s},14051:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(42573),p=t(71558),o=function(s,r,e,n,l){if(n===void 0&&(n=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var i=s.length,h=s[0].length,u=0;u<i;u++)for(var d=0;d<h;d++){var v=s[u][d];p(v,r+d,e+u,!1,l)}n&&a(r-1,e-1,h+2,i+2,l)};c.exports=o},77389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(26546),o=function(s,r,e,n,l,i){var h,u=a(s,r,e,n,{},i);if(!l)for(l=[],h=0;h<u.length;h++)l.indexOf(u[h].index)===-1&&l.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=p(l)};c.exports=o},63557:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(23029),p=t(62991),o=t(72023),s=function(r,e,n,l,i){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!p(r,e,i))return null;var h=i.data[e][r];if(h)i.data[e][r]=n?null:new a(i,-1,r,e,i.tileWidth,i.tileHeight);else return null;return l&&h&&h.collides&&o(r,e,i),h};c.exports=s},94178:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63557),p=t(26099),o=new p,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(r,e,!0,o,i,h),a(o.x,o.y,n,l,h)};c.exports=s},15533:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(3956),o=new p(105,210,231,150),s=new p(243,134,48,200),r=new p(40,39,37,150),e=function(n,l,i){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:o,u=l.collidingTileColor!==void 0?l.collidingTileColor:s,d=l.faceColor!==void 0?l.faceColor:r,v=a(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var m=0;m<v.length;m++){var T=v[m],C=T.width,S=T.height,P=T.pixelX,A=T.pixelY,L=T.collides?u:h;L!==null&&(n.fillStyle(L.color,L.alpha/255),n.fillRect(P,A,C,S)),P+=1,A+=1,C-=2,S-=2,d!==null&&(n.lineStyle(1,d.color,d.alpha/255),T.faceTop&&n.lineBetween(P,A,P+C,A),T.faceRight&&n.lineBetween(P+C,A,P+C,A+S),T.faceBottom&&n.lineBetween(P,A+S,P+C,A+S),T.faceLeft&&n.lineBetween(P,A,P,A+S))}};c.exports=e},27987:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),u=0;u<h.length;u++)h[u]&&h[u].index===o&&(h[u].index=s)};c.exports=p},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t.data,r=t.width,e=t.height,n=t.tilemapLayer,l=Math.max(0,a.left),i=Math.min(r,a.right),h=Math.max(0,a.top),u=Math.min(e,a.bottom),d,v,m;if(p===0)for(v=h;v<u;v++)for(d=l;s[v]&&d<i;d++)m=s[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(p===1)for(v=h;v<u;v++)for(d=i;s[v]&&d>=l;d--)m=s[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(p===2)for(v=u;v>=h;v--)for(d=l;s[v]&&d<i;d++)m=s[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(p===3)for(v=u;v>=h;v--)for(d=i;s[v]&&d>=l;d--)m=s[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);return n.tilesDrawn=o.length,n.tilesTotal=r*e,o};c.exports=x},57068:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l,i){e===void 0&&(e=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++)o(r[h],e,l);if(i)for(var u=0;u<l.height;u++)for(var d=0;d<l.width;d++){var v=l.data[u][d];v&&r.indexOf(v.index)!==-1&&a(v,e)}n&&p(0,0,l.width,l.height,l)};c.exports=s},37266:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l,i,h){if(n===void 0&&(n=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(r>e)){for(var u=r;u<=e;u++)o(u,n,i);if(h)for(var d=0;d<i.height;d++)for(var v=0;v<i.width;v++){var m=i.data[d][v];m&&m.index>=r&&m.index<=e&&a(m,n)}l&&p(0,0,i.width,i.height,i)}};c.exports=s},75661:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var u=l.data[i][h];u&&r.indexOf(u.index)===-1&&(a(u,e),o(u.index,e,l))}n&&p(0,0,l.width,l.height,l)};c.exports=s},64740:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=t(97022),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var u=l.data[i][h];if(u){for(var d in r)if(o(u.properties,d)){var v=r[d];Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)u.properties[d]===v[m]&&a(u,e)}}}n&&p(0,0,l.width,l.height,l)};c.exports=s},63307:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(20576),p=t(42573),o=function(s,r,e){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var n=0;n<e.height;n++)for(var l=0;l<e.width;l++){var i=e.data[n][l];if(i){var h=i.getCollisionGroup();h&&h.objects&&h.objects.length>0&&a(i,s)}}r&&p(0,0,e.width,e.height,e)};c.exports=o},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.collideIndexes.indexOf(t);a&&o===-1?p.collideIndexes.push(t):!a&&o!==-1&&p.collideIndexes.splice(o,1)};c.exports=x},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=x},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){if(typeof t=="number")o.callbacks[t]=a!==null?{callback:a,callbackContext:p}:void 0;else for(var s=0,r=t.length;s<r;s++)o.callbacks[t[s]]=a!==null?{callback:a,callbackContext:p}:void 0};c.exports=x},93254:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(o,s,r,e,null,i),u=0;u<h.length;u++)h[u].setCollisionCallback(n,l)};c.exports=p},32903:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(33680),o=function(s,r,e,n,l){var i=a(s,r,e,n,null,l),h=i.map(function(d){return d.index});p(h);for(var u=0;u<i.length;u++)i[u].index=h[u]};c.exports=o},61325:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(63448),p=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=p(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,u=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,d=p(r.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,v=a(r.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:h,right:u,top:d,bottom:v}};c.exports=o},54503:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(61325),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};c.exports=o},97202:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var v=u+o*l+s%2*(l/2),m=d+s*(i/2);return r.set(v,m)};c.exports=p},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*(o/2)+o};c.exports=x},15108:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(n||(n=u.scene.cameras.main),s=s-(u.y+n.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,o=o-(u.x+n.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var d=r?Math.floor(s/(h/2)):s/(h/2),v=r?Math.floor((o+d%2*.5*i)/i):(o+d%2*.5*i)/i;return e.set(v,d)};c.exports=p},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=o.baseTileHeight,r=o.tilemapLayer;return r&&(p||(p=r.scene.cameras.main),t=t-(r.y+p.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),a?Math.floor(t/(s/2)):t/(s/2)};c.exports=x},86560:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),u=0;u<h.length;u++)h[u]&&(h[u].index===o?h[u].index=s:h[u].index===s&&(h[u].index=o))};c.exports=p},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.baseTileWidth,s=p.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.x+a.scrollX*(1-s.scrollFactorX),o*=s.scaleX),r+t*o};c.exports=x},70326:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97281),p=t(29650),o=t(26099),s=function(r,e,n,l,i){return n||(n=new o(0,0)),n.x=a(r,l,i),n.y=p(e,l,i),n};c.exports=s},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*o};c.exports=x},77366:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(7386),p=t(75508),o=function(s,r,e,n,l,i){if(l){var h,u=a(s,r,e,n,null,i),d=0;for(h=0;h<l.length;h++)d+=l[h].weight;if(!(d<=0))for(h=0;h<u.length;h++){for(var v=p.RND.frac()*d,m=0,T=-1,C=0;C<l.length;C++)if(m+=l[C].weight,v<=m){var S=l[C].index;T=Array.isArray(S)?S[Math.floor(p.RND.frac()*S.length)]:S;break}u[h].index=T}}};c.exports=o},10095:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85896),p=t(26099),o=new p,s=function(r,e,n,l){return a(r,0,e,o,n,l),o.x};c.exports=s},85896:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(26099),p=function(o,s,r,e,n,l){r===void 0&&(r=!0),e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(n||(n=u.scene.cameras.main),o=o-(u.x+n.scrollX*(1-u.scrollFactorX)),s=s-(u.y+n.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var d=o/i,v=s/h;return r&&(d=Math.floor(d),v=Math.floor(v)),e.set(d,v)};c.exports=p},63288:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(85896),p=t(26099),o=new p,s=function(r,e,n,l){return a(0,r,e,o,n,l),o.y};c.exports=s},81086:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:t(91907)};c.exports=a},62501:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=a(!1,o,p.ORIENTATION),c.exports=o},14977:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.id=o(e,"id",0),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",p.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=s},87010:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",p.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=s},48700:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=new a({initialize:function(r){r===void 0&&(r={}),this.name=p(r,"name","object layer"),this.id=p(r,"id",0),this.opacity=p(r,"opacity",1),this.properties=p(r,"properties",{}),this.propertyTypes=p(r,"propertytypes",{}),this.type=p(r,"type","objectgroup"),this.visible=p(r,"visible",!0),this.objects=p(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=o},6641:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(91907),p=function(o){return o=o.toLowerCase(),o==="isometric"?a.ISOMETRIC:o==="staggered"?a.STAGGERED:o==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};c.exports=p},46177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(2342),o=t(82593),s=t(46594),r=t(87021),e=function(n,l,i,h,u,d){var v;switch(l){case a.ARRAY_2D:v=p(n,i,h,u,d);break;case a.CSV:v=o(n,i,h,u,d);break;case a.TILED_JSON:v=s(n,i,d);break;case a.WELTMEISTER:v=r(n,i,d);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};c.exports=e},2342:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(14977),o=t(87010),s=t(23029),r=function(e,n,l,i,h){for(var u=new p({tileWidth:l,tileHeight:i}),d=new o({name:e,tileWidth:l,tileHeight:i,format:a.ARRAY_2D,layers:[u]}),v=[],m=n.length,T=0,C=0;C<n.length;C++){v[C]=[];for(var S=n[C],P=0;P<S.length;P++){var A=parseInt(S[P],10);isNaN(A)||A===-1?v[C][P]=h?null:new s(u,-1,P,C,l,i):v[C][P]=new s(u,A,P,C,l,i)}T===0&&(T=S.length)}return d.width=u.width=T,d.height=u.height=m,d.widthInPixels=u.widthInPixels=T*l,d.heightInPixels=u.heightInPixels=m*i,u.data=v,d};c.exports=r},82593:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(2342),o=function(s,r,e,n,l){var i=r.trim().split(`
`).map(function(u){return u.split(",")}),h=p(s,i,e,n,l);return h.format=a.CSV,h};c.exports=o},6656:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(14977),p=t(23029),o=function(s,r){for(var e=[],n=0;n<s.layer.length;n++){for(var l=s.layer[n],i=new a({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],u=[],d=0;d<l.data.length;d++){for(var v=0;v<l.data[d].length;v++){var m=l.data[d][v]-1,T;m>-1?T=new p(i,m,v,d,l.tilesize,l.tilesize):T=r?null:new p(i,-1,v,d,l.tilesize,l.tilesize),h.push(T)}u.push(h),h=[]}i.data=u,e.push(i)}return e};c.exports=o},96483:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),p=function(o){for(var s=[],r=[],e=0;e<o.layer.length;e++){var n=o.layer[e],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),s.push(new a(l,0,n.tilesize,n.tilesize,0,0)))}return s};c.exports=p},87021:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(80341),p=t(87010),o=t(6656),s=t(96483),r=function(e,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,h=0,u=0;u<n.layer.length;u++)n.layer[u].width>i&&(i=n.layer[u].width),n.layer[u].height>h&&(h=n.layer[u].height);var d=new p({width:i,height:h,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:a.WELTMEISTER});return d.layers=o(n,l),d.tilesets=s(n),d};c.exports=r},52833:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(79291),p=function(o){for(var s,r,e,n,l,i=0;i<o.layers.length;i++){s=o.layers[i],n=null;for(var h=0;h<s.data.length;h++){l=s.data[h];for(var u=0;u<l.length;u++)r=l[u],!(r===null||r.index<0)&&(e=o.tiles[r.index][2],n=o.tilesets[e],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=a(r.properties,n.tileProperties[r.index-n.firstgid])))}}};c.exports=p},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=window.atob(t),p=a.length,o=new Array(p/4),s=0;s<p;s+=4)o[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return o};c.exports=x},84101:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),p=function(o){var s,r,e=[];for(s=0;s<o.imageCollections.length;s++)for(var n=o.imageCollections[s],l=n.images,i=0;i<l.length;i++){var h=l[i];r=new a(h.image,h.gid,n.imageWidth,n.imageHeight,0,0),r.updateTileData(n.imageWidth,n.imageHeight),o.tilesets.push(r)}for(s=0;s<o.tilesets.length;s++){r=o.tilesets[s];for(var u=r.tileMargin,d=r.tileMargin,v=0,m=0,T=0,C=r.firstgid;C<r.firstgid+r.total&&(e[C]=[u,d,s],u+=r.tileWidth+r.tileSpacing,v++,!(v===r.total||(m++,m===r.columns&&(u=r.tileMargin,d+=r.tileHeight+r.tileSpacing,m=0,T++,T===r.rows))));C++);}return e};c.exports=p},79677:(c,x,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=function(o,s,r){if(!s)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+a(s,"startx",0)*o.tilewidth+a(s,"offsetx",0),n=s.y+a(s,"starty",0)*o.tileheight+a(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+e,y:r.y+n}};c.exports=p},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,t=1073741824,a=536870912,p=function(o){var s=!!(o&x),r=!!(o&t),e=!!(o&a);o=o&~(x|t|a);var n=0,l=!1;return s&&r&&e?(n=Math.PI/2,l=!0):s&&r&&!e?(n=Math.PI,l=!1):s&&!r&&e?(n=Math.PI/2,l=!1):s&&!r&&!e?(n=0,l=!0):!s&&r&&e?(n=3*Math.PI/2,l=!1):!s&&r&&!e?(n=Math.PI,l=!0):!s&&!r&&e?(n=3*Math.PI/2,l=!0):!s&&!r&&!e&&(n=0,l=!1),{gid:o,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:e,rotation:n,flipped:l}};c.exports=p},12635:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=t(79677),o=function(s){for(var r=[],e=[],n=p(s);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var i=p(s,l,n);e.push(n),n=i}continue}var h=a(l,"offsetx",0)+a(l,"startx",0),u=a(l,"offsety",0)+a(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+h+l.x,y:n.y+u+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:a(l,"properties",{})})}return r};c.exports=o},46594:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(51233),p=t(84101),o=t(91907),s=t(62644),r=t(80341),e=t(6641),n=t(87010),l=t(12635),i=t(22611),h=t(28200),u=t(24619),d=function(v,m,T){var C=s(m),S=new n({width:C.width,height:C.height,name:v,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:e(C.orientation),format:r.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});S.orientation===o.HEXAGONAL&&(S.hexSideLength=C.hexsidelength,S.staggerAxis=C.staggeraxis,S.staggerIndex=C.staggerindex),S.layers=h(C,T),S.images=l(C);var P=u(C);return S.tilesets=P.tilesets,S.imageCollections=P.imageCollections,S.objects=i(C),S.tiles=p(S),a(S),S};c.exports=d},52205:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(18254),p=t(29920),o=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var i=a(e,s);if(i.x+=n,i.y+=l,e.gid){var h=p(e.gid);i.gid=h.gid,i.flippedHorizontal=h.flippedHorizontal,i.flippedVertical=h.flippedVertical,i.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(o):e.polygon?i.polygon=e.polygon.map(o):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};c.exports=r},22611:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95540),p=t(52205),o=t(48700),s=t(79677),r=function(e){for(var n=[],l=[],i=s(e);i.i<i.layers.length||l.length>0;){if(i.i>=i.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=l.pop();continue}var h=i.layers[i.i];if(i.i++,h.opacity*=i.opacity,h.visible=i.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var u=s(e,h,i);l.push(i),i=u}continue}h.name=i.name+h.name;for(var d=i.x+a(h,"startx",0)+a(h,"offsetx",0),v=i.y+a(h,"starty",0)+a(h,"offsety",0),m=[],T=0;T<h.objects.length;T++){var C=p(h.objects[T],d,v);m.push(C)}var S=new o(h);S.objects=m,n.push(S)}return n};c.exports=r},28200:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41868),p=t(91907),o=t(79677),s=t(6641),r=t(95540),e=t(14977),n=t(29920),l=t(23029),i=function(h,u){for(var d=r(h,"infinite",!1),v=[],m=[],T=o(h);T.i<T.layers.length||m.length>0;){if(T.i>=T.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=m.pop();continue}var C=T.layers[T.i];if(T.i++,C.type!=="tilelayer"){if(C.type==="group"){var S=o(h,C,T);m.push(T),T=S}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var P=0;P<C.chunks.length;P++)C.chunks[P].data=a(C.chunks[P].data);C.data&&(C.data=a(C.data)),delete C.encoding}var A,L,F,I,D=[],B=0;if(d){var G=r(C,"startx",0)+C.x,z=r(C,"starty",0)+C.y;A=new e({name:T.name+C.name,id:C.id,x:T.x+r(C,"offsetx",0)+G*h.tilewidth,y:T.y+r(C,"offsety",0)+z*h.tileheight,width:C.width,height:C.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:T.opacity*C.opacity,visible:T.visible&&C.visible,properties:r(C,"properties",[]),orientation:s(h.orientation)}),A.orientation===p.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var W=0;W<C.height;W++){D[W]=[null];for(var Y=0;Y<C.width;Y++)D[W][Y]=null}for(W=0,k=C.chunks.length;W<k;W++)for(var K=C.chunks[W],Z=K.x-G,V=K.y-z,H=0,N=0,b=K.data.length;N<b;N++){var X=B+Z,$=H+V;L=n(K.data[N]),L.gid>0?(F=new l(A,L.gid,X,$,h.tilewidth,h.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,D[$][X]=F):(I=u?null:new l(A,-1,X,$,h.tilewidth,h.tileheight),D[$][X]=I),B++,B===K.width&&(H++,B=0)}}else{A=new e({name:T.name+C.name,id:C.id,x:T.x+r(C,"offsetx",0)+C.x,y:T.y+r(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:T.opacity*C.opacity,visible:T.visible&&C.visible,properties:r(C,"properties",[]),orientation:s(h.orientation)}),A.orientation===p.HEXAGONAL&&(A.hexSideLength=h.hexsidelength,A.staggerAxis=h.staggeraxis,A.staggerIndex=h.staggerindex);for(var Q=[],J=0,k=C.data.length;J<k;J++)L=n(C.data[J]),L.gid>0?(F=new l(A,L.gid,B,D.length,h.tilewidth,h.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,Q.push(F)):(I=u?null:new l(A,-1,B,D.length,h.tilewidth,h.tileheight),Q.push(I)),B++,B===C.width&&(D.push(Q),B=0,Q=[])}A.data=D,v.push(A)}return v};c.exports=i},24619:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(33629),p=t(16536),o=t(52205),s=t(57880),r=function(e){for(var n=[],l=[],i=null,h,u=0;u<e.tilesets.length;u++){var d=e.tilesets[u];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var v=new a(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(e.version>1){var m=void 0,T=void 0;if(Array.isArray(d.tiles)){m=m||{},T=T||{};for(var C=0;C<d.tiles.length;C++){var S=d.tiles[C];if(S.properties){var P={};S.properties.forEach(function(W){P[W.name]=W.value}),T[S.id]=P}if(S.objectgroup&&((m[S.id]||(m[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var A=S.objectgroup.objects.map(function(W){return o(W)});m[S.id].objectgroup.objects=A}S.animation&&((m[S.id]||(m[S.id]={})).animation=S.animation),S.type&&((m[S.id]||(m[S.id]={})).type=S.type)}}Array.isArray(d.wangsets)&&(m=m||{},T=T||{},s(d.wangsets,m)),m&&(v.tileData=m,v.tileProperties=T)}else if(d.tileproperties&&(v.tileProperties=d.tileproperties),d.tiles){v.tileData=d.tiles;for(h in v.tileData){var L=v.tileData[h].objectgroup;if(L&&L.objects){var F=L.objects.map(function(W){return o(W)});v.tileData[h].objectgroup.objects=F}}}v.updateTileData(d.imagewidth,d.imageheight),n.push(v)}else{var I=new p(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),D=0;for(C=0;C<d.tiles.length;C++){S=d.tiles[C];var B=S.image,G=parseInt(S.id,10),z=d.firstgid+G;I.addImage(z,B),D=Math.max(G,D)}I.maxId=D,l.push(I)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:n,imageCollections:l}};c.exports=r},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=0;p<t.length;p++){var o=t[p],s=p;if(o.name&&o.name!==""&&(s=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},e={},n,l,i;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)i=1+n,l=o.edgecolors[n],l.name!==""&&(r[i]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)i=1+n,l=o.cornercolors[n],l.name!==""&&(e[i]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],i=1+n,l.name!==""&&(r[i]=e[i]=l.name);for(var h=[r,e,r,e,r,e,r,e],u=0;u<o.wangtiles.length;u++){var d=o.wangtiles[u],v=a[d.tileid]||(a[d.tileid]={});v=v.wangid||(v.wangid={});for(var m=[],T=0;T<Math.min(h.length,d.wangid.length);T++){if(l=d.wangid[T],l===0){m.push(void 0);continue}var C=h[T][l];if(C!==void 0){m.push(C);continue}m.push(l)}v[s]=m}}}};c.exports=x},96761:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(37277),o=t(44594),s=t(94880),r=t(72905),e=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;return n instanceof s?(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new s(n),this._pendingInsertion.push(l),l},delayedCall:function(n,l,i,h){return this.addEvent({delay:n,callback:l,args:i,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=n[l];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var i,h;for(i=0;i<n;i++){h=this._pendingRemoval[i];var u=this._active.indexOf(h);u>-1&&this._active.splice(u,1),h.destroy()}for(i=0;i<l;i++)h=this._pendingInsertion[i],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var i=0;i<this._active.length;i++){var h=this._active[i];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var u=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,u>=h.delay)for(;u>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),u-=h.delay,h.repeatCount--;h.elapsed=u,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),c.exports=e},96120:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(39429),s=t(95540),r=t(44594),e=t(89809),n=new a({Extends:p,initialize:function(i,h){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(r.PRE_UPDATE,this.preUpdate,this),u.on(r.UPDATE,this.update,this),u.once(r.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(l,i){this.paused||(this.elapsed+=i)},update:function(){if(!(this.paused||this.complete)){var l,i=this.events,h=!1,u=this.systems,d;for(l=0;l<i.length;l++){var v=i[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,d=v.target?v.target:this,v.if&&!v.if.call(d,v))continue;if(v.once&&(h=!0),v.set&&v.target)for(var m in v.set)v.target[m]=v.set[m];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(d),v.tween&&u.tweens.add(v.tween),v.sound&&(typeof v.sound=="string"?u.sound.play(v.sound):u.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,d),v.run&&v.run.call(d),v.stop&&this.stop()}}if(h)for(l=0;l<i.length;l++)i[l].complete&&i[l].once&&(i.splice(l,1),l--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var i=0;i<this.events.length;i++)this.events[i].complete=!1,l||(this.events[i].repeat=0);return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var i=this.events,h=0;i.length>0&&(h=i[i.length-1].time);for(var u=0;u<l.length;u++){var d=l[u],v=s(d,"at",0),m=s(d,"in",null);m!==null&&(v=this.elapsed+m);var T=s(d,"from",null);T!==null&&(v=h+T),i.push({complete:!1,time:v,repeat:0,if:s(d,"if",null),run:s(d,"run",null),loop:s(d,"loop",null),event:s(d,"event",null),target:s(d,"target",null),set:s(d,"set",null),tween:s(d,"tween",null),sound:s(d,"sound",null),once:s(d,"once",!1),stop:s(d,"stop",!1)}),h=v}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});o.register("timeline",function(l){return new n(this.scene,l)}),c.exports=n},94880:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(95540),o=new a({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=p(s,"delay",0),this.repeat=p(s,"repeat",0),this.loop=p(s,"loop",!1),this.callback=p(s,"callback",void 0),this.callbackScope=p(s,"callbackScope",this),this.args=p(s,"args",[]),this.timeScale=p(s,"timeScale",1),this.startAt=p(s,"startAt",0),this.paused=p(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=o},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),p=t(83419),o=t(43491),s=t(88032),r=t(37277),e=t(44594),n=t(93109),l=t(86081),i=t(8357),h=t(43960),u=t(26012),d=new p({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var m=[],T=0;T<v.length;T++){var C=v[T];C instanceof l||C instanceof h?m.push(C):Array.isArray(C.tweens)?m.push(u(this,C)):m.push(i(this,C))}return m.length===1?m[0]:m},add:function(v){var m=v,T=this.tweens;return m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=u(this,m):m=i(this,m)),T.push(m.reset()),m},addMultiple:function(v){for(var m,T=[],C=this.tweens,S=0;S<v.length;S++)m=v[S],m instanceof l||m instanceof h||(Array.isArray(m.tweens)?m=u(this,m):m=i(this,m)),C.push(m.reset()),T.push(m);return T},chain:function(v){var m=u(this,v);return this.tweens.push(m.init()),m},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var m=s(this,v);return this.tweens.push(m.reset()),m},stagger:function(v,m){return n(v,m)},setLagSmooth:function(v,m){return v===void 0&&(v=1/1e-8),m===void 0&&(m=0),this.maxLag=v,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var T=this.prevTime-this.startTime,C=T-this.nextTime,S=T-this.time*1e3;return C>0||v?(T/=1e3,this.time=T,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var m=this.getDelta(v);if(!(m<=0)){this.processing=!0;var T,C,S=[],P=this.tweens;for(T=0;T<P.length;T++)C=P[T],C.update(m)&&S.push(C);var A=S.length;if(A&&P.length>0){for(T=0;T<A;T++){C=S[T];var L=P.indexOf(C);L>-1&&(C.isPendingRemove()||C.isDestroyed())&&(P.splice(L,1),C.destroy())}S.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(a(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,m){var T,C=[null];for(T=1;T<arguments.length;T++)C.push(arguments[T]);return this.tweens.forEach(function(S){C[0]=S,v.apply(m,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var m=[],T=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var C=v.length,S=0;S<T.length;S++)for(var P=T[S],A=0;A<C;A++)!P.isDestroyed()&&P.hasTarget(v[A])&&m.push(P);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var m=this.tweens,T,C=0;C<m.length;C++)if(T=m[C],T.isPlaying()&&T.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,m=0;m<v.length;m++)v[m].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var m=this.getTweensOf(v),T=0;T<m.length;T++)m[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",d,"tweens"),c.exports=d},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){return t&&t.hasOwnProperty(a)?t[a]:p};c.exports=x},6113:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(62640),p=t(35355),o=function(s,r){var e=a.Power0;if(typeof s=="string")if(a.hasOwnProperty(s))e=a[s];else{var n="";if(s.indexOf(".")){n=s.substring(s.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}s=p(s.substring(0,s.indexOf(".")+1)+n),a.hasOwnProperty(s)&&(e=a[s])}else typeof s=="function"&&(e=s);if(!r)return e;var i=r.slice(0);return i.unshift(0),function(h){return i[0]=h,e.apply(this,i)}};c.exports=o},91389:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(89318),p=t(77259),o=t(28392),s={bezier:a,catmull:p,catmullrom:p,linear:o},r=function(e){if(e===null)return null;var n=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(n=s[e]):typeof e=="function"&&(n=e),n};c.exports=r},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o;if(t.hasOwnProperty(a)){var s=typeof t[a];s==="function"?o=function(r,e,n,l,i,h){return t[a](r,e,n,l,i,h)}:o=function(){return t[a]}}else typeof p=="function"?o=p:o=function(){return p};return o};c.exports=x},82985:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(81076),p=function(o){var s,r=[];if(o.hasOwnProperty("props"))for(s in o.props)s.substring(0,1)!=="_"&&r.push({key:s,value:o.props[s]});else for(s in o)a.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:o[s]});return r};c.exports=p},62329:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=function(o){var s=a(o,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};c.exports=p},17777:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(30976),p=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function s(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return s(l)||r(l)||o(l)}var n=function(l,i){var h,u=function(K,Z,V){return V},d=function(K,Z,V){return V},v=null,m=typeof i;if(m==="number")u=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},u=function(){return i[i.length-1]};else if(m==="string"){var T=i.toLowerCase(),C=T.substring(0,6)==="random",S=T.substring(0,3)==="int";if(C||S){var P=T.indexOf("("),A=T.indexOf(")"),L=T.indexOf(",");if(P&&A&&L){var F=parseFloat(T.substring(P+1,L)),I=parseFloat(T.substring(L+1,A));C?u=function(){return p(F,I)}:u=function(){return a(F,I)}}else throw new Error("invalid random() format")}else{T=T[0];var D=parseFloat(i.substr(2));switch(T){case"+":u=function(K,Z,V){return V+D};break;case"-":u=function(K,Z,V){return V-D};break;case"*":u=function(K,Z,V){return V*D};break;case"/":u=function(K,Z,V){return V/D};break;default:u=function(){return parseFloat(i)}}}}else if(m==="function")u=i;else if(m==="object")if(e(i))o(i)&&(v=i.getActive),r(i)&&(u=i.getEnd),s(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))h=n(l,i.value);else{var B=i.hasOwnProperty("to"),G=i.hasOwnProperty("from"),z=i.hasOwnProperty("start");if(B&&(G||z)){if(h=n(l,i.to),z){var W=n(l,i.start);h.getActive=W.getEnd}if(G){var Y=n(l,i.from);h.getStart=Y.getEnd}}}return h||(h={getActive:v,getEnd:u,getStart:d}),h};c.exports=n},88032:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(55292),n=t(35154),l=t(17777),i=t(269),h=t(86081),u=function(d,v,m){if(v instanceof h)return v.parent=d,v;m===void 0?m=p:m=i(p,m);var T=n(v,"from",0),C=n(v,"to",1),S=[{value:T}],P=n(v,"delay",m.delay),A=n(v,"easeParams",m.easeParams),L=n(v,"ease",m.ease),F=l("value",C),I=new h(d,S),D=I.add(0,"value",F.getEnd,F.getStart,F.getActive,r(n(v,"ease",L),n(v,"easeParams",A)),e(v,"delay",P),n(v,"duration",m.duration),s(v,"yoyo",m.yoyo),n(v,"hold",m.hold),n(v,"repeat",m.repeat),n(v,"repeatDelay",m.repeatDelay),!1,!1);D.start=T,D.current=T,I.completeDelay=o(v,"completeDelay",0),I.loop=Math.round(o(v,"loop",0)),I.loopDelay=Math.round(o(v,"loopDelay",0)),I.paused=s(v,"paused",!1),I.persist=s(v,"persist",!1),I.callbackScope=n(v,"callbackScope",I);for(var B=a.TYPES,G=0;G<B.length;G++){var z=B[G],W=n(v,z,!1);if(W){var Y=n(v,z+"Params",[]);I.setCallback(z,W,Y)}}return I};c.exports=u},93109:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(6113),p=t(35154),o=t(36383),s=function(r,e){e===void 0&&(e={});var n,l=p(e,"start",0),i=p(e,"ease",null),h=p(e,"grid",null),u=p(e,"from",0),d=u==="first",v=u==="center",m=u==="last",T=typeof u=="number",C=Array.isArray(r),S=parseFloat(C?r[0]:r),P=C?parseFloat(r[1]):0,A=Math.max(S,P);if(C&&(l+=S),h){var L=h[0],F=h[1],I=0,D=0,B=0,G=0,z=[];m?(I=L-1,D=F-1):T?(I=u%L,D=Math.floor(u/L)):v&&(I=(L-1)/2,D=(F-1)/2);for(var W=o.MIN_SAFE_INTEGER,Y=0;Y<F;Y++){z[Y]=[];for(var K=0;K<L;K++){B=I-K,G=D-Y;var Z=Math.sqrt(B*B+G*G);Z>W&&(W=Z),z[Y][K]=Z}}}var V=i?a(i):null;return h?n=function(H,N,b,X){var $=0,Q=X%L,J=Math.floor(X/L);Q>=0&&Q<L&&J>=0&&J<F&&($=z[J][Q]);var k;if(C){var et=P-S;V?k=$/W*et*V($/W):k=$/W*et}else V?k=$*S*V($/W):k=$*S;return k+l}:n=function(H,N,b,X,$){$--;var Q;d?Q=X:v?Q=Math.abs($/2-X):m?Q=$-X:T&&(Q=Math.abs(u-X));var J;if(C){var k;v?k=(P-S)/$*(Q*2):k=(P-S)/$*Q,V?J=k*V(Q/$):J=k}else V?J=$*A*V(Q/$):J=Q*S;return J+l},n};c.exports=s},8357:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(91389),n=t(55292),l=t(82985),i=t(62329),h=t(35154),u=t(17777),d=t(269),v=t(86081),m=function(T,C,S){if(C instanceof v)return C.parent=T,C;S===void 0?S=p:S=d(p,S);var P=i(C);!P&&S.targets&&(P=S.targets);for(var A=l(C),L=h(C,"delay",S.delay),F=h(C,"duration",S.duration),I=h(C,"easeParams",S.easeParams),D=h(C,"ease",S.ease),B=h(C,"hold",S.hold),G=h(C,"repeat",S.repeat),z=h(C,"repeatDelay",S.repeatDelay),W=s(C,"yoyo",S.yoyo),Y=s(C,"flipX",S.flipX),K=s(C,"flipY",S.flipY),Z=h(C,"interpolation",S.interpolation),V=function(st,ot,ut,at){if(ut==="texture"){var ct=at,Et=void 0;Array.isArray(at)?(ct=at[0],Et=at[1]):at.hasOwnProperty("value")?(ct=at.value,Array.isArray(at.value)?(ct=at.value[0],Et=at.value[1]):typeof at.value=="string"&&(ct=at.value)):typeof at=="string"&&(ct=at),st.addFrame(ot,ct,Et,n(at,"delay",L),h(at,"duration",F),h(at,"hold",B),h(at,"repeat",G),h(at,"repeatDelay",z),s(at,"flipX",Y),s(at,"flipY",K))}else{var St=u(ut,at),Ct=e(h(at,"interpolation",Z));st.add(ot,ut,St.getEnd,St.getStart,St.getActive,r(h(at,"ease",D),h(at,"easeParams",I)),n(at,"delay",L),h(at,"duration",F),s(at,"yoyo",W),h(at,"hold",B),h(at,"repeat",G),h(at,"repeatDelay",z),s(at,"flipX",Y),s(at,"flipY",K),Ct,Ct?at:null)}},H=new v(T,P),N=0;N<A.length;N++)for(var b=A[N].key,X=A[N].value,$=0;$<P.length;$++)b==="scale"&&!P[$].hasOwnProperty("scale")?(V(H,$,"scaleX",X),V(H,$,"scaleY",X)):V(H,$,b,X);H.completeDelay=o(C,"completeDelay",0),H.loop=Math.round(o(C,"loop",0)),H.loopDelay=Math.round(o(C,"loopDelay",0)),H.paused=s(C,"paused",!1),H.persist=s(C,"persist",!1),H.callbackScope=h(C,"callbackScope",H);for(var Q=a.TYPES,J=0;J<Q.length;J++){var k=Q[J],et=h(C,k,!1);if(et){var nt=h(C,k+"Params",[]);H.setCallback(k,et,nt)}}return H};c.exports=m},26012:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(23568),o=t(57355),s=t(62329),r=t(35154),e=t(8357),n=t(43960),l=function(i,h){if(h instanceof n)return h.parent=i,h;var u=new n(i);u.startDelay=r(h,"delay",0),u.completeDelay=p(h,"completeDelay",0),u.loop=Math.round(p(h,"loop",r(h,"repeat",0))),u.loopDelay=Math.round(p(h,"loopDelay",r(h,"repeatDelay",0))),u.paused=o(h,"paused",!1),u.persist=o(h,"persist",!1),u.callbackScope=r(h,"callbackScope",u);var d,v=a.TYPES;for(d=0;d<v.length;d++){var m=v[d],T=r(h,m,!1);if(T){var C=r(h,m+"Params",[]);u.setCallback(m,T,C)}}var S=r(h,"tweens",null);if(Array.isArray(S)){var P=[],A=s(h),L=void 0;for(A&&(L={targets:A}),d=0;d<S.length;d++)P.push(e(u,S[d],L));u.add(P)}return u};c.exports=l},30231:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=a},70402:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(50792),o=t(842),s=t(86353),r=new a({Extends:p,initialize:function(n){p.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:l}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=r},95042:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(83419),p=t(842),o=t(86353),s=new a({initialize:function(e,n,l,i,h,u,d,v,m,T){this.tween=e,this.targetIndex=n,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=h,this.hold=u,this.repeat=d,this.repeatDelay=v,this.repeatCounter=0,this.flipX=m,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,n=this.targetIndex,l=r.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,i,0,n,e,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var u=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=u*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,n){var l=this.tween,i=l.totalTargets,h=this.targetIndex,u=l.targets[h],d=this.key,v=d!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),v&&(e||n)&&(this.start=this.getStartValue(u,d,this.start,h,i,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(u,d,this.start,h,i,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,v&&(this.current=this.start,u[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=s},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=x},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(70402),p=t(83419),o=t(842),s=t(44603),r=t(39429),e=t(36383),n=t(86353),l=t(48177),i=t(42220),h=new p({Extends:a,initialize:function(d,v){a.call(this,d),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(u,d,v,m,T,C,S,P,A,L,F,I,D,B,G,z){var W=new l(this,u,d,v,m,T,C,S,P,A,L,F,I,D,B,G,z);return this.totalData=this.data.push(W),W},addFrame:function(u,d,v,m,T,C,S,P,A,L){var F=new i(this,u,d,v,m,T,C,S,P,A,L);return this.totalData=this.data.push(F),F},getValue:function(u){u===void 0&&(u=0);var d=null;return this.data&&(d=this.data[u].current),d},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,d,v){if(v===void 0&&(v=!1),u!=="texture")for(var m=0;m<this.totalData;m++){var T=this.data[m];T.key===u&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=d,v&&(T.start=T.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,d,v){if(u===void 0&&(u=0),d===void 0&&(d=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,u>0){for(var T=Math.floor(u/d),C=u-T*d,S=0;S<T;S++)this.update(d);C>0&&this.update(C)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var d=this.data,v=0;v<this.totalData;v++)d[v].reset(u);this.duration=Math.max(this.duration,.01);var m=this.duration,T=this.completeDelay,C=this.loopCounter,S=this.loopDelay;C>0?this.totalDuration=m+T+(m+S)*C:this.totalDuration=m+T},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),u=0));var d=!1;if(this.isActive())for(var v=this.data,m=0;m<this.totalData;m++)v[m].update(u)&&(d=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,d){if(!this.isSeeking){this.emit(u,this,this.targets);var v=this.callbacks[d];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(u){return this.scene.sys.tweens.add(u)}),s.register("tween",function(u){return this.scene.sys.tweens.create(u)}),c.exports=h},43960:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(72905),p=t(70402),o=t(83419),s=t(842),r=t(44603),e=t(39429),n=t(86353),l=new o({Extends:p,initialize:function(h){p.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive"),this},add:function(i){var h=this.parent.create(i);Array.isArray(h)||(h=[h]);for(var u=this.data,d=0;d<h.length;d++){var v=h[d];v.parent=this,u.push(v.reset())}return this.totalData=u.length,this},remove:function(i){return a(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var h=this.data,u=0;u<this.totalData;u++)if(h[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,h=this.totalData,u=0;u<h;u++)i[u].reset(!1);this.currentIndex=0,this.currentTween=i[0]},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(i,h){this.emit(i,this);var u=this.callbacks[h];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),c.exports=l},48177:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95042),p=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,u,d,v,m,T,C,S,P,A,L,F,I,D){a.call(this,n,l,m,T,C,S,P,A,L,F),this.key=i,this.getActiveValue=d,this.getEndValue=h,this.getStartValue=u,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=D},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;e&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(e){var n=this.tween,l=n.totalTargets,i=this.targetIndex,h=n.targets[i],u=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,u,h[u],i,l,n),this.end=this.getEndValue(h,u,this.start,i,l,n),this.current=this.start,h[u]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),v=this.isPlayingBackward();if(d||v){var m=this.elapsed,T=this.duration,C=0,S=!1;m+=e,m>=T?(C=m-T,m=T,S=!0):m<0&&(m=0);var P=p(m/T,0,1);if(this.elapsed=m,this.progress=P,this.previous=this.current,S)d?(this.current=this.end,h[u]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(this.current=this.start,h[u]=this.start,this.setStateFromStart(C));else{d||(P=1-P);var A=this.ease(P);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,h[u]=this.current}this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key,u=this.current,d=this.previous;l.emit(e,l,h,i,u,d);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,i,h,u,d].concat(v.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=r},42220:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(95042),p=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,u,d,v,m,T,C,S){a.call(this,n,l,u,d,!1,v,m,T,C,S),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=h,this.yoyo=m!==0},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,l=this.targetIndex,i=n.targets[l];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),u=this.isPlayingBackward();if(h||u){var d=this.elapsed,v=this.duration,m=0,T=!1;d+=e,d>=v?(m=d-v,d=v,T=!0):d<0&&(d=0);var C=p(d/v,0,1);this.elapsed=d,this.progress=C,T&&(h?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key;l.emit(e,l,h,i);var u=l.callbacks[n];u&&u.func.apply(l.callbackScope,[l,i,h].concat(u.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=r},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=x},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,n){var l=n?r[e]:Object.getOwnPropertyDescriptor(r,e);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&x(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function a(r,e){var n=Object.getOwnPropertyDescriptor(r,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function p(r,e,n,l){for(var i in e)if(e.hasOwnProperty(i)){var h=t(e,i,n);if(h!==!1){var u=l||r;if(a(u.prototype,i)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,h)}else r.prototype[i]=e[i]}}function o(r,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)p(r,e[n].prototype||e[n])}}function s(r){r||(r={});var e,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,n=r.Extends,delete r.Extends):e.prototype.constructor=e;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),o(e,i),p(e,r,!0,n),e}s.extend=p,s.mixin=o,s.ignoreFinals=!1,c.exports=s},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};c.exports=x},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};c.exports=x},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s){if(s===void 0&&(s=t),p>0){var r=p-t.length;if(r<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),o&&o.call(s,a),a):null;for(var e=a.length-1;e>=0;)t.indexOf(a[e])!==-1&&a.splice(e,1),e--;if(e=a.length,e===0)return null;p>0&&e>r&&(a.splice(r),e=r);for(var n=0;n<e;n++){var l=a[n];t.push(l),o&&o.call(s,l)}return a};c.exports=x},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o,s,r){if(p===void 0&&(p=0),r===void 0&&(r=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(p,0,a),s&&s.call(r,a),a):null;for(var n=a.length-1;n>=0;)t.indexOf(a[n])!==-1&&a.pop(),n--;if(n=a.length,n===0)return null;o>0&&n>e&&(a.splice(e),n=e);for(var l=n-1;l>=0;l--){var i=a[l];t.splice(p,0,i),s&&s.call(r,i)}return a};c.exports=x},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(a)),a};c.exports=x},21612:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=0;if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];h[s]===r&&l++}return l};c.exports=p},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o,s=[null];for(o=3;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t.length;o++)s[0]=t[o],a.apply(p,s);return t};c.exports=x},36914:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n)){var l,i=[null];for(l=5;l<arguments.length;l++)i.push(arguments[l]);for(l=e;l<n;l++)i[0]=o[l],s.apply(r,i)}return o};c.exports=p},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a.length){if(a.length===1)return a[0]}else return NaN;var o=1,s,r;if(p){if(t<a[0][p])return a[0];for(;a[o][p]<t;)o++}else for(;a[o]<t;)o++;return o>a.length&&(o=a.length),p?(s=a[o-1][p],r=a[o][p],r-t<=t-s?a[o]:a[o-1]):(s=a[o-1],r=a[o],r-t<=t-s?r:s)};c.exports=x},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?x(t[p],a):a.push(t[p]);return a};c.exports=x},46710:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=[];if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];(!s||s&&r===void 0&&h.hasOwnProperty(s)||s&&r!==void 0&&h[s]===r)&&l.push(h)}return l};c.exports=p},58731:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n))for(var l=e;l<n;l++){var i=o[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}return null};c.exports=p},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=t.length);var o=a+Math.floor(Math.random()*p);return t[o]===void 0?null:t[o]};c.exports=x},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o>s||(t.splice(o,1),s===t.length-1?t.push(a):t.splice(s,0,a)),t};c.exports=x},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o<s||(t.splice(o,1),s===0?t.unshift(a):t.splice(s,0,a)),t};c.exports=x},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);if(p>0){var o=t[p-1],s=t.indexOf(o);t[p]=o,t[s]=a}return t};c.exports=x},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.indexOf(a);if(o===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return o!==p&&(t.splice(o,1),t.splice(p,0,a)),a};c.exports=x},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);if(p!==-1&&p<t.length-1){var o=t[p+1],s=t.indexOf(o);t[p]=o,t[s]=a}return t};c.exports=x},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=[],r,e=!1;if((p||o)&&(e=!0,p||(p=""),o||(o="")),a<t)for(r=t;r>=a;r--)e?s.push(p+r.toString()+o):s.push(r);else for(r=t;r<=a;r++)e?s.push(p+r.toString()+o):s.push(r);return s};c.exports=x},593:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(2284),p=function(o,s,r){o===void 0&&(o=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=o,o=0);for(var e=[],n=Math.max(a((s-o)/(r||1)),0),l=0;l<n;l++)e.push(o),o+=r;return e};c.exports=p},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(p,o,s){var r=p[o];p[o]=p[s],p[s]=r}function t(p,o){return p<o?-1:p>o?1:0}var a=function(p,o,s,r,e){for(s===void 0&&(s=0),r===void 0&&(r=p.length-1),e===void 0&&(e=t);r>s;){if(r-s>600){var n=r-s+1,l=o-s+1,i=Math.log(n),h=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*h*(n-h)/n)*(l-n/2<0?-1:1),d=Math.max(s,Math.floor(o-l*h/n+u)),v=Math.min(r,Math.floor(o+(n-l)*h/n+u));a(p,o,d,v,e)}var m=p[o],T=s,C=r;for(x(p,s,o),e(p[r],m)>0&&x(p,s,r);T<C;){for(x(p,T,C),T++,C--;e(p[T],m)<0;)T++;for(;e(p[C],m)>0;)C--}e(p[s],m)===0?x(p,s,C):(C++,x(p,C,r)),C<=o&&(s=C+1),o<=C&&(r=C-1)}};c.exports=a},88492:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=t(33680),o=function(r,e,n){for(var l=[],i=0;i<r.length;i++)for(var h=0;h<e.length;h++)for(var u=0;u<n;u++)l.push({a:r[i],b:e[h]});return l},s=function(r,e,n){var l=a(n,"max",0),i=a(n,"qty",1),h=a(n,"random",!1),u=a(n,"randomB",!1),d=a(n,"repeat",0),v=a(n,"yoyo",!1),m=[];if(u&&p(e),d===-1)if(l===0)d=0;else{var T=r.length*e.length*i;v&&(T*=2),d=Math.ceil(l/T)}for(var C=0;C<=d;C++){var S=o(r,e,i);h&&p(S),m=m.concat(S),v&&(S.reverse(),m=m.concat(S))}return l&&m.splice(l),m};c.exports=s},72905:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),p=function(o,s,r,e){e===void 0&&(e=o);var n;if(!Array.isArray(s))return n=o.indexOf(s),n!==-1?(a(o,n),r&&r.call(e,s),s):null;for(var l=s.length-1,i=[];l>=0;){var h=s[l];n=o.indexOf(h),n!==-1&&(a(o,n),i.push(h),r&&r.call(e,h)),l--}return i};c.exports=p},60248:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),p=function(o,s,r,e){if(e===void 0&&(e=o),s<0||s>o.length-1)throw new Error("Index out of bounds");var n=a(o,s);return r&&r.call(e,n),n};c.exports=p},81409:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(s===void 0&&(s=0),r===void 0&&(r=o.length),n===void 0&&(n=o),a(o,s,r)){var l=r-s,i=o.splice(s,l);if(e)for(var h=0;h<i.length;h++){var u=i[h];e.call(n,u)}return i}else return[]};c.exports=p},31856:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(19133),p=function(o,s,r){s===void 0&&(s=0),r===void 0&&(r=o.length);var e=s+Math.floor(Math.random()*r);return a(o,e)};c.exports=p},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=t.indexOf(a),s=t.indexOf(p);return o!==-1&&s===-1?(t[o]=p,!0):!1};c.exports=x},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);for(var p=null,o=0;o<a;o++)p=t.shift(),t.push(p);return p};c.exports=x},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){a===void 0&&(a=1);for(var p=null,o=0;o<a;o++)p=t.pop(),t.unshift(p);return p};c.exports=x},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){var s=t.length;if(a<0||a>s||a>=p||p>s){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=x},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){var p=t.indexOf(a);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(a)),a};c.exports=x},17810:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n))for(var l=e;l<n;l++){var i=o[l];i.hasOwnProperty(s)&&(i[s]=r)}return o};c.exports=p},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=t.length-1;a>0;a--){var p=Math.floor(Math.random()*(a+1)),o=t[a];t[a]=t[p],t[p]=o}return t};c.exports=x},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a=/\D/g;return t.sort(function(p,o){return parseInt(p.replace(a,""),10)-parseInt(o.replace(a,""),10)}),t};c.exports=x},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){if(!(a>=t.length)){for(var p=t.length-1,o=t[a],s=a;s<p;s++)t[s]=t[s+1];return t.length=p,o}};c.exports=x},19186:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(82264);function p(e,n){return String(e).localeCompare(n)}function o(e,n){var l=e.length;if(l<=1)return e;for(var i=new Array(l),h=1;h<l;h*=2){s(e,n,h,i);var u=e;e=i,i=u}return e}function s(e,n,l,i){var h=e.length,u=0,d=l*2,v,m,T,C,S;for(v=0;v<h;v+=d)for(m=v+l,T=m+l,m>h&&(m=h),T>h&&(T=h),C=v,S=m;;)if(C<m&&S<T)n(e[C],e[S])<=0?i[u++]=e[C++]:i[u++]=e[S++];else if(C<m)i[u++]=e[C++];else if(S<T)i[u++]=e[S++];else break}var r=function(e,n){if(n===void 0&&(n=p),!e||e.length<2)return e;if(a.features.stableSort)return e.sort(n);var l=o(e,n);return l!==e&&s(l,null,e.length,e),e};c.exports=r},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[o]=p,t[s]=a,t};c.exports=x},37105:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,p=1;p<t.length;p++)if(t[p].length!==a)return!1;return!0};c.exports=x},63362:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41836),p=t(86922),o=function(s){var r="";if(!p(s))return r;for(var e=0;e<s.length;e++){for(var n=0;n<s[e].length;n++){var l=s[e][n].toString();l!=="undefined"?r+=a(l,2):r+="?",n<s[e].length-1&&(r+=" |")}if(e<s.length-1){r+=`
`;for(var i=0;i<s[e].length;i++)r+="---",i<s[e].length-1&&(r+="+");r+=`
`}}return r};c.exports=o},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.reverse()};c.exports=x},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};c.exports=x},98717:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),p=function(o){return a(o,180)};c.exports=p},44657:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),p=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,90);return o};c.exports=p},37829:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86922),p=t(2429),o=function(s,r){if(r===void 0&&(r=90),!a(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=p(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=p(s);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};c.exports=o},92632:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(37829),p=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,-90);return o};c.exports=p},69512:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(86003),p=t(49498),o=function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?a(s,Math.abs(e)):p(s,e)),r!==0)for(var n=0;n<s.length;n++){var l=s[n];r<0?a(l,Math.abs(r)):p(l,r)}return s};c.exports=o},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var a=t.length,p=t[0].length,o=new Array(p),s=0;s<p;s++){o[s]=new Array(a);for(var r=a-1;r>-1;r--)o[s][r]=t[r][s]}return o};c.exports=x},54915:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,p){for(var o=new Uint8Array(a),s=o.length,r=p?"data:"+p+";base64,":"",e=0;e<s;e+=3)r+=x[o[e]>>2],r+=x[(o[e]&3)<<4|o[e+1]>>4],r+=x[(o[e+1]&15)<<2|o[e+2]>>6],r+=x[o[e+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<x.length;a++)t[x.charCodeAt(a)]=a;var p=function(o){o=o.substr(o.indexOf(",")+1);var s=o.length,r=s*.75,e=0,n,l,i,h;o[s-1]==="="&&(r--,o[s-2]==="="&&r--);for(var u=new ArrayBuffer(r),d=new Uint8Array(u),v=0;v<s;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],i=t[o.charCodeAt(v+2)],h=t[o.charCodeAt(v+3)],d[e++]=n<<2|l>>4,d[e++]=(l&15)<<4|i>>2,d[e++]=(i&3)<<6|h&63;return u};c.exports=p},65839:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a={};for(var p in t)Array.isArray(t[p])?a[p]=t[p].slice(0):a[p]=t[p];return a};c.exports=x},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var a,p,o;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(o in t)p=t[o],a[o]=x(p);return a};c.exports=x},79291:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41212),p=function(){var o,s,r,e,n,l,i=arguments[0]||{},h=1,u=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},h=2),u===h&&(i=this,--h);h<u;h++)if((o=arguments[h])!=null)for(s in o)r=i[s],e=o[s],i!==e&&(d&&e&&(a(e)||(n=Array.isArray(e)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&a(r)?r:{},i[s]=p(d,l,e)):e!==void 0&&(i[s]=e));return i};c.exports=p},23568:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(75508),p=t(35154),o=function(s,r,e){var n=p(s,r,null);if(n===null)return e;if(Array.isArray(n))return a.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return a.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return a.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};c.exports=o},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){var o=typeof t;return!t||o==="number"||o==="string"?p:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:p};c.exports=x},82840:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(35154),p=t(45319),o=function(s,r,e,n,l){l===void 0&&(l=e);var i=a(s,r,l);return p(i,e,n)};c.exports=o},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){if(!t&&!o||typeof t=="number")return p;if(t&&t.hasOwnProperty(a))return t[a];if(o&&o.hasOwnProperty(a))return o[a];if(a.indexOf(".")!==-1){for(var s=a.split("."),r=t,e=o,n=p,l=p,i=!0,h=!0,u=0;u<s.length;u++)r&&r.hasOwnProperty(s[u])?(n=r[s[u]],r=r[s[u]]):i=!1,e&&e.hasOwnProperty(s[u])?(l=e[s[u]],e=e[s[u]]):h=!1;return i?n:h?l:p}else return p};c.exports=x},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=0;p<a.length;p++)if(!t.hasOwnProperty(a[p]))return!1;return!0};c.exports=x},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){for(var p=0;p<a.length;p++)if(t.hasOwnProperty(a[p]))return!0;return!1};c.exports=x},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.hasOwnProperty(a)};c.exports=x},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=x},46975:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)||(r[e]=s[e]);return r};c.exports=p},269:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(41786),p=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)&&(r[e]=s[e]);return r};c.exports=p},18254:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=t(97022),p=function(o,s){for(var r={},e=0;e<s.length;e++){var n=s[e];a(o,n)&&(r[n]=o[n])}return r};c.exports=p},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=p,!0;if(a.indexOf(".")!==-1){for(var o=a.split("."),s=t,r=t,e=0;e<o.length;e++)if(s.hasOwnProperty(o[e]))r=s,s=s[o[e]];else return!1;return r[o[o.length-1]]=p,!0}return!1};c.exports=x},1183:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return t.replace(/%([0-9]+)/g,function(p,o){return a[Number(o)-1]})};c.exports=x},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a,p,o){a===void 0&&(a=0),p===void 0&&(p=" "),o===void 0&&(o=3),t=t.toString();var s=0;if(a+1>=t.length)switch(o){case 1:t=new Array(a+1-t.length).join(p)+t;break;case 3:var r=Math.ceil((s=a-t.length)/2),e=s-r;t=new Array(e+1).join(p)+t+new Array(r+1).join(p);break;default:t=t+new Array(a+1-t.length).join(p);break}return t};c.exports=x},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,a){return a===0?t.slice(1):t.slice(0,a-1)+t.slice(a)};c.exports=x},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.split("").reverse().join("")};c.exports=x},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,p=t==="x"?a:a&3|8;return p.toString(16)})};c.exports=x},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=x},31749:(c,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function w(c){var x=E[c];if(x!==void 0)return x.exports;var t=E[c]={exports:{}};return y[c](t,t.exports,w),t.exports}w.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var R=w(85454);return R})())})(bx);var Ux=bx.exports;const bt=ea(Ux);var S9=Object.create,Av=Object.defineProperty,C9=Object.defineProperties,E9=Object.getOwnPropertyDescriptor,P9=Object.getOwnPropertyDescriptors,A9=Object.getOwnPropertyNames,zm=Object.getOwnPropertySymbols,w9=Object.getPrototypeOf,Vx=Object.prototype.hasOwnProperty,M9=Object.prototype.propertyIsEnumerable,bm=(f,g,y)=>g in f?Av(f,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):f[g]=y,de=(f,g)=>{for(var y in g||(g={}))Vx.call(g,y)&&bm(f,y,g[y]);if(zm)for(var y of zm(g))M9.call(g,y)&&bm(f,y,g[y]);return f},Sr=(f,g)=>C9(f,P9(g)),Ft=(f,g)=>()=>(g||f((g={exports:{}}).exports,g),g.exports),R9=(f,g,y,E)=>{if(g&&typeof g=="object"||typeof g=="function")for(let w of A9(g))!Vx.call(f,w)&&w!==y&&Av(f,w,{get:()=>g[w],enumerable:!(E=E9(g,w))||E.enumerable});return f},Wx=(f,g,y)=>(y=f!=null?S9(w9(f)):{},R9(g||!f||!f.__esModule?Av(y,"default",{value:f,enumerable:!0}):y,f)),fu=Ft(f=>{var g=function(R,c){return R<c?-1:R>c?1:0},y=function(R,c){return R<c?1:R>c?-1:0};function E(R){return function(c,x){return R(x,c)}}function w(R){return R===2?function(c,x){return c[0]<x[0]?-1:c[0]>x[0]?1:c[1]<x[1]?-1:c[1]>x[1]?1:0}:function(c,x){for(var t=0;t<R;){if(c[t]<x[t])return-1;if(c[t]>x[t])return 1;t++}return 0}}f.DEFAULT_COMPARATOR=g,f.DEFAULT_REVERSE_COMPARATOR=y,f.reverseComparator=E,f.createTupleComparator=w}),L9=Ft(f=>{f.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",f.SYMBOL_SUPPORT=typeof Symbol<"u"}),xe=Ft((f,g)=>{var y=L9(),E=y.ARRAY_BUFFER_SUPPORT,w=y.SYMBOL_SUPPORT;g.exports=function(R,c){var x,t,a,p,o;if(!R)throw new Error("obliterator/forEach: invalid iterable.");if(typeof c!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(R)||E&&ArrayBuffer.isView(R)||typeof R=="string"||R.toString()==="[object Arguments]"){for(a=0,p=R.length;a<p;a++)c(R[a],a);return}if(typeof R.forEach=="function"){R.forEach(c);return}if(w&&Symbol.iterator in R&&typeof R.next!="function"&&(R=R[Symbol.iterator]()),typeof R.next=="function"){for(x=R,a=0;o=x.next(),o.done!==!0;)c(o.value,a),a++;return}for(t in R)R.hasOwnProperty(t)&&c(R[t],t)}}),wv=Ft((f,g)=>{var y=fu(),E=xe(),w=y.DEFAULT_COMPARATOR,R=y.reverseComparator;function c(n){if(this.clear(),this.comparator=n||w,typeof this.comparator!="function")throw new Error("mnemonist/FibonacciHeap.constructor: given comparator should be a function.")}c.prototype.clear=function(){this.root=null,this.min=null,this.size=0};function x(n){return{item:n,degree:0}}function t(n,l){n.root?(l.right=n.root.right,l.left=n.root,n.root.right.left=l,n.root.right=l):n.root=l}c.prototype.push=function(n){var l=x(n);return l.left=l,l.right=l,t(this,l),(!this.min||this.comparator(l.item,this.min.item)<=0)&&(this.min=l),++this.size},c.prototype.peek=function(){return this.min?this.min.item:void 0};function a(n){for(var l=[],i=n,h=!1;!(i===n&&h);)i===n&&(h=!0),l.push(i),i=i.right;return l}function p(n,l){n.root===l&&(n.root=l.right),l.left.right=l.right,l.right.left=l.left}function o(n,l){n.child?(l.right=n.child.right,l.left=n.child,n.child.right.left=l,n.child.right=l):n.child=l}function s(n,l,i){p(n,l),l.left=l,l.right=l,o(i,l),i.degree++,l.parent=i}function r(n){var l=new Array(n.size),i=a(n.root),h,u,d,v,m,T;for(h=0,u=i.length;h<u;h++){for(d=i[h],m=d.degree;l[m];)v=l[m],n.comparator(d.item,v.item)>0&&(T=d,d=v,v=T),s(n,v,d),l[m]=null,m++;l[m]=d}for(h=0;h<n.size;h++)l[h]&&n.comparator(l[h].item,n.min.item)<=0&&(n.min=l[h])}c.prototype.pop=function(){if(this.size){var n=this.min;if(n.child){var l=a(n.child),i,h,u;for(h=0,u=l.length;h<u;h++)i=l[h],t(this,i),delete i.parent}return p(this,n),n===n.right?(this.min=null,this.root=null):(this.min=n.right,r(this)),this.size--,n.item}},c.prototype.inspect=function(){var n={size:this.size};return this.min&&"item"in this.min&&(n.top=this.min.item),Object.defineProperty(n,"constructor",{value:c,enumerable:!1}),n},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect);function e(n){if(this.clear(),this.comparator=n||w,typeof this.comparator!="function")throw new Error("mnemonist/FibonacciHeap.constructor: given comparator should be a function.");this.comparator=R(this.comparator)}e.prototype=c.prototype,c.from=function(n,l){var i=new c(l);return E(n,function(h){i.push(h)}),i},e.from=function(n,l){var i=new e(l);return E(n,function(h){i.push(h)}),i},c.MinFibonacciHeap=c,c.MaxFibonacciHeap=e,g.exports=c}),vi=Ft(f=>{var g=Math.pow(2,8)-1,y=Math.pow(2,16)-1,E=Math.pow(2,32)-1,w=Math.pow(2,7)-1,R=Math.pow(2,15)-1,c=Math.pow(2,31)-1;f.getPointerArray=function(t){var a=t-1;if(a<=g)return Uint8Array;if(a<=y)return Uint16Array;if(a<=E)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},f.getSignedPointerArray=function(t){var a=t-1;return a<=w?Int8Array:a<=R?Int16Array:a<=c?Int32Array:Float64Array},f.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var x={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};f.getMinimalRepresentation=function(t,a){var p=null,o=0,s,r,e,n,l;for(n=0,l=t.length;n<l;n++)e=a?a(t[n]):t[n],r=f.getNumberType(e),s=x[r.name],s>o&&(o=s,p=r);return p},f.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)},f.concat=function(){var t=0,a,p,o;for(a=0,o=arguments.length;a<o;a++)t+=arguments[a].length;var s=new arguments[0].constructor(t);for(a=0,p=0;a<o;a++)s.set(arguments[a],p),p+=arguments[a].length;return s},f.indices=function(t){for(var a=f.getPointerArray(t),p=new a(t),o=0;o<t;o++)p[o]=o;return p}}),Li=Ft(f=>{var g=xe(),y=vi();function E(x){return Array.isArray(x)||y.isTypedArray(x)}function w(x){if(typeof x.length=="number")return x.length;if(typeof x.size=="number")return x.size}function R(x){var t=w(x),a=typeof t=="number"?new Array(t):[],p=0;return g(x,function(o){a[p++]=o}),a}function c(x){var t=w(x),a=typeof t=="number"?y.getPointerArray(t):Array,p=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new a(t):[],s=0;return g(x,function(r){p[s]=r,o[s]=s++}),[p,o]}f.isArrayLike=E,f.guessLength=w,f.toArray=R,f.toArrayWithIndices=c}),Mv=Ft((f,g)=>{var y=xe(),E=fu(),w=Li(),R=E.DEFAULT_COMPARATOR,c=E.reverseComparator;function x(u,d,v,m){for(var T=d[m],C,S;m>v;){if(C=m-1>>1,S=d[C],u(T,S)<0){d[m]=S,m=C;continue}break}d[m]=T}function t(u,d,v){for(var m=d.length,T=v,C=d[v],S=2*v+1,P;S<m;)P=S+1,P<m&&u(d[S],d[P])>=0&&(S=P),d[v]=d[S],v=S,S=2*v+1;d[v]=C,x(u,d,T,v)}function a(u,d,v){d.push(v),x(u,d,0,d.length-1)}function p(u,d){var v=d.pop();if(d.length!==0){var m=d[0];return d[0]=v,t(u,d,0),m}return v}function o(u,d,v){if(d.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var m=d[0];return d[0]=v,t(u,d,0),m}function s(u,d,v){var m;return d.length!==0&&u(d[0],v)<0&&(m=d[0],d[0]=v,v=m,t(u,d,0)),v}function r(u,d){for(var v=d.length,m=v>>1,T=m;--T>=0;)t(u,d,T)}function e(u,d){for(var v=d.length,m=0,T=new Array(v);m<v;)T[m++]=p(u,d);return T}function n(u,d,v){arguments.length===2&&(v=d,d=u,u=R);var m=c(u),T,C,S,P=1/0,A;if(d===1){if(w.isArrayLike(v)){for(T=0,C=v.length;T<C;T++)S=v[T],(P===1/0||u(S,P)<0)&&(P=S);return A=new v.constructor(1),A[0]=P,A}return y(v,function(F){(P===1/0||u(F,P)<0)&&(P=F)}),[P]}if(w.isArrayLike(v)){if(d>=v.length)return v.slice().sort(u);for(A=v.slice(0,d),r(m,A),T=d,C=v.length;T<C;T++)m(v[T],A[0])>0&&o(m,A,v[T]);return A.sort(u)}var L=w.guessLength(v);return L!==null&&L<d&&(d=L),A=new Array(d),T=0,y(v,function(F){T<d?A[T]=F:(T===d&&r(m,A),m(F,A[0])>0&&o(m,A,F)),T++}),A.length>T&&(A.length=T),A.sort(u)}function l(u,d,v){arguments.length===2&&(v=d,d=u,u=R);var m=c(u),T,C,S,P=-1/0,A;if(d===1){if(w.isArrayLike(v)){for(T=0,C=v.length;T<C;T++)S=v[T],(P===-1/0||u(S,P)>0)&&(P=S);return A=new v.constructor(1),A[0]=P,A}return y(v,function(F){(P===-1/0||u(F,P)>0)&&(P=F)}),[P]}if(w.isArrayLike(v)){if(d>=v.length)return v.slice().sort(m);for(A=v.slice(0,d),r(u,A),T=d,C=v.length;T<C;T++)u(v[T],A[0])>0&&o(u,A,v[T]);return A.sort(m)}var L=w.guessLength(v);return L!==null&&L<d&&(d=L),A=new Array(d),T=0,y(v,function(F){T<d?A[T]=F:(T===d&&r(u,A),u(F,A[0])>0&&o(u,A,F)),T++}),A.length>T&&(A.length=T),A.sort(m)}function i(u){if(this.clear(),this.comparator=u||R,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}i.prototype.clear=function(){this.items=[],this.size=0},i.prototype.push=function(u){return a(this.comparator,this.items,u),++this.size},i.prototype.peek=function(){return this.items[0]},i.prototype.pop=function(){return this.size!==0&&this.size--,p(this.comparator,this.items)},i.prototype.replace=function(u){return o(this.comparator,this.items,u)},i.prototype.pushpop=function(u){return s(this.comparator,this.items,u)},i.prototype.consume=function(){return this.size=0,e(this.comparator,this.items)},i.prototype.toArray=function(){return e(this.comparator,this.items.slice())},i.prototype.inspect=function(){var u=this.toArray();return Object.defineProperty(u,"constructor",{value:i,enumerable:!1}),u},typeof Symbol<"u"&&(i.prototype[Symbol.for("nodejs.util.inspect.custom")]=i.prototype.inspect);function h(u){if(this.clear(),this.comparator=u||R,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=c(this.comparator)}h.prototype=i.prototype,i.from=function(u,d){var v=new i(d),m;return w.isArrayLike(u)?m=u.slice():m=w.toArray(u),r(v.comparator,m),v.items=m,v.size=m.length,v},h.from=function(u,d){var v=new h(d),m;return w.isArrayLike(u)?m=u.slice():m=w.toArray(u),r(v.comparator,m),v.items=m,v.size=m.length,v},i.siftUp=t,i.siftDown=x,i.push=a,i.pop=p,i.replace=o,i.pushpop=s,i.heapify=r,i.consume=e,i.nsmallest=n,i.nlargest=l,i.MinHeap=i,i.MaxHeap=h,g.exports=i}),F9=Ft((f,g)=>{var y="";function E(a,p,o){for(var s=p.length,r=[],e=s,n=-1,l,i=0,h;e--;)n=Math.max(a[p[e]+o],n);for(h=n>>24&&32||n>>16&&24||n>>8&&16||8;i<h;i+=4){for(e=16;e--;)r[e]=[];for(e=s;e--;)r[a[p[e]+o]>>i&15].push(p[e]);for(l=0;l<16;l++)for(n=r[l].length;n--;)p[++e]=r[l][n]}}function w(a,p,o,s){return a[o]-a[s]||(o%3===2?a[o+1]-a[s+1]||p[o+2]-p[s+2]:p[o+1]-p[s+1])}function R(a,p){var o=[],s=[],r=2*p/3|0,e=p-r,n=r+1>>1,l=r,i=0,h,u=[],d=[];if(p===1)return[0];for(;l--;)o[l]=(l*3>>1)+1;for(l=3;l--;)E(a,o,l);for(i=s[(o[0]/3|0)+(o[0]%3===1?0:n)]=1,l=1;l<r;l++)(a[o[l]]!==a[o[l-1]]||a[o[l]+1]!==a[o[l-1]+1]||a[o[l]+2]!==a[o[l-1]+2])&&i++,s[(o[l]/3|0)+(o[l]%3===1?0:n)]=i;if(i<r)for(s=R(s,r),l=r;l--;)o[l]=s[l]<n?s[l]*3+1:(s[l]-n)*3+2;for(l=r;l--;)u[o[l]]=l;for(u[p]=-1,u[p+1]=-2,s=p%3===1?[p-1]:[],l=0;l<r;l++)o[l]%3===1&&s.push(o[l]-1);for(E(a,s,0),l=0,i=0,h=0;l<r&&i<e;)d[h++]=w(a,u,o[l],s[i])<0?o[l++]:s[i++];for(;l<r;)d[h++]=o[l++];for(;i<e;)d[h++]=s[i++];return d}function c(a){var p=a.length,o=p%3,s=new Array(p+o),r,e;if(typeof a!="string"){var n=Object.create(null);for(e=0;e<p;e++)n[a[e]]||(n[a[e]]=!0);var l=Object.create(null),i=Object.keys(n).sort();for(e=0,r=i.length;e<r;e++)l[i[e]]=e+1;for(e=0;e<p;e++)s[e]=l[a[e]]}else for(e=0;e<p;e++)s[e]=a.charCodeAt(e);for(e=p;e<p+o;e++)s[e]=0;return s}function x(a){this.hasArbitrarySequence=typeof a!="string",this.string=a,this.length=a.length,this.array=R(c(a),this.length)}x.prototype.toString=function(){return this.array.join(",")},x.prototype.toJSON=function(){return this.array},x.prototype.inspect=function(){for(var a=new Array(this.length),p=0;p<this.length;p++)a[p]=this.string.slice(this.array[p]);return Object.defineProperty(a,"constructor",{value:x,enumerable:!1}),a},typeof Symbol<"u"&&(x.prototype[Symbol.for("nodejs.util.inspect.custom")]=x.prototype.inspect);function t(a){if(this.hasArbitrarySequence=typeof a[0]!="string",this.size=a.length,this.hasArbitrarySequence){this.text=[];for(var p=0,o=this.size;p<o;p++)this.text.push.apply(this.text,a[p]),p<o-1&&this.text.push(y)}else this.text=a.join(y);this.firstLength=a[0].length,this.length=this.text.length,this.array=R(c(this.text),this.length)}t.prototype.longestCommonSubsequence=function(){var a=this.hasArbitrarySequence?[]:"",p,o,s,r,e;for(o=1;o<this.length;o++)if(r=this.array[o],e=this.array[o-1],!(r<this.firstLength&&e<this.firstLength)&&!(r>this.firstLength&&e>this.firstLength)){for(p=Math.min(this.length-r,this.length-e),s=0;s<p;s++)if(this.text[r+s]!==this.text[e+s]){p=s;break}p>a.length&&(a=this.text.slice(r,r+p))}return a},t.prototype.toString=function(){return this.array.join(",")},t.prototype.toJSON=function(){return this.array},t.prototype.inspect=function(){for(var a=new Array(this.length),p=0;p<this.length;p++)a[p]=this.text.slice(this.array[p]);return Object.defineProperty(a,"constructor",{value:t,enumerable:!1}),a},typeof Symbol<"u"&&(t.prototype[Symbol.for("nodejs.util.inspect.custom")]=t.prototype.inspect),x.GeneralizedSuffixArray=t,g.exports=x}),O9=Ft((f,g)=>{var y=xe();function E(a){this.size=0,this.items=new Map,this.inverse=a}function w(){this.size=0,this.items=new Map,this.inverse=new E(this)}function R(){this.size=0,this.items.clear(),this.inverse.items.clear()}w.prototype.clear=R,E.prototype.clear=R;function c(a,p){if(this.items.has(a)){var o=this.items.get(a);if(o===p)return this;this.inverse.items.delete(o)}if(this.inverse.items.has(p)){var s=this.inverse.items.get(p);if(s===a)return this;this.items.delete(s)}return this.items.set(a,p),this.inverse.items.set(p,a),this.size=this.items.size,this.inverse.size=this.inverse.items.size,this}w.prototype.set=c,E.prototype.set=c;function x(a){if(this.items.has(a)){var p=this.items.get(a);return this.items.delete(a),this.inverse.items.delete(p),this.size=this.items.size,this.inverse.size=this.inverse.items.size,!0}return!1}w.prototype.delete=x,E.prototype.delete=x;var t=["has","get","forEach","keys","values","entries"];t.forEach(function(a){w.prototype[a]=E.prototype[a]=function(){return Map.prototype[a].apply(this.items,arguments)}}),typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.entries,E.prototype[Symbol.iterator]=E.prototype.entries),w.prototype.inspect=function(){var a={left:this.items,right:this.inverse.items};return Object.defineProperty(a,"constructor",{value:w,enumerable:!1}),a},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),E.prototype.inspect=function(){var a={left:this.inverse.items,right:this.items};return Object.defineProperty(a,"constructor",{value:E,enumerable:!1}),a},typeof Symbol<"u"&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=E.prototype.inspect),w.from=function(a){var p=new w;return y(a,function(o,s){p.set(s,o)}),p},g.exports=w}),He=Ft((f,g)=>{function y(E){if(typeof E!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=E}typeof Symbol<"u"&&(y.prototype[Symbol.iterator]=function(){return this}),y.of=function(){var E=arguments,w=E.length,R=0;return new y(function(){return R>=w?{done:!0}:{done:!1,value:E[R++]}})},y.empty=function(){var E=new y(function(){return{done:!0}});return E},y.fromSequence=function(E){var w=0,R=E.length;return new y(function(){return w>=R?{done:!0}:{done:!1,value:E[w++]}})},y.is=function(E){return E instanceof y?!0:typeof E=="object"&&E!==null&&typeof E.next=="function"},g.exports=y}),Xx=Ft(f=>{function g(c){return c|=c>>1,c|=c>>2,c|=c>>4,c|=c>>8,c|=c>>16,c&~(c>>1)}f.msb32=g;function y(c){return c|=c>>1,c|=c>>2,c|=c>>4,c&~(c>>1)}f.msb8=y,f.test=function(c,x){return c>>x&1},f.criticalBit8=function(c,x){return y(c^x)},f.criticalBit8Mask=function(c,x){return~y(c^x)>>>0&255},f.testCriticalBit8=function(c,x){return 1+(c|x)>>8},f.criticalBit32Mask=function(c,x){return~g(c^x)>>>0&4294967295},f.popcount=function(c){return c-=c>>1&1431655765,c=(c&858993459)+(c>>2&858993459),c=c+(c>>4)&252645135,c+=c>>8,c+=c>>16,c&127};var E=new Uint8Array(Math.pow(2,8));for(w=0,R=E.length;w<R;w++)E[w]=f.popcount(w);var w,R;f.table8Popcount=function(c){return E[c&255]+E[c>>8&255]+E[c>>16&255]+E[c>>24&255]}}),D9=Ft((f,g)=>{var y=He(),E=Xx();function w(R){this.length=R,this.clear()}w.prototype.clear=function(){this.size=0,this.array=new Uint32Array(Math.ceil(this.length/32))},w.prototype.set=function(R,c){var x=R>>5,t=R&31,a=this.array[x],p;return c===0||c===!1?p=this.array[x]&=~(1<<t):p=this.array[x]|=1<<t,p=p>>>0,p>a?this.size++:p<a&&this.size--,this},w.prototype.reset=function(R){var c=R>>5,x=R&31,t=this.array[c],a;return a=this.array[c]&=~(1<<x),a<t&&this.size--,this},w.prototype.flip=function(R){var c=R>>5,x=R&31,t=this.array[c],a=this.array[c]^=1<<x;return a=a>>>0,a>t?this.size++:a<t&&this.size--,this},w.prototype.get=function(R){var c=R>>5,x=R&31;return this.array[c]>>x&1},w.prototype.test=function(R){return!!this.get(R)},w.prototype.rank=function(R){if(this.size===0)return 0;for(var c=R>>5,x=R&31,t=0,a=0;a<c;a++)t+=E.table8Popcount(this.array[a]);var p=this.array[c]&(1<<x)-1;return t+=E.table8Popcount(p),t},w.prototype.select=function(R){if(this.size===0||R>=this.length)return-1;for(var c,x=32,t=0,a=0,p=0,o=this.array.length;p<o;p++)if(c=this.array[p],c!==0){p===o-1&&(x=this.length%32||32);for(var s=0;s<x;s++,t++)if(a+=c>>s&1,a===R)return t}},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.length,t,a,p=32,o=0,s=this.array.length;o<s;o++){t=this.array[o],o===s-1&&(p=x%32||32);for(var r=0;r<p;r++)a=t>>r&1,R.call(c,a,o*32+r)}},w.prototype.values=function(){var R=this.length,c=!1,x,t,a=this.array,p=a.length,o=0,s=-1,r=32;return new y(function e(){if(!c){if(o>=p)return{done:!0};o===p-1&&(r=R%32||32),x=a[o++],c=!0,s=-1}return s++,s>=r?(c=!1,e()):(t=x>>s&1,{value:t})})},w.prototype.entries=function(){var R=this.length,c=!1,x,t,a=this.array,p,o=a.length,s=0,r=-1,e=32;return new y(function n(){if(!c){if(s>=o)return{done:!0};s===o-1&&(e=R%32||32),x=a[s++],c=!0,r=-1}return r++,p=~-s*32+r,r>=e?(c=!1,n()):(t=x>>r&1,{value:[p,t]})})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=new Uint8Array(this.length);return this.forEach(function(c,x){R[x]=c}),Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.prototype.toJSON=function(){return Array.from(this.array)},g.exports=w}),I9=Ft((f,g)=>{var y=He(),E=Xx(),w=function(x){return Math.max(1,Math.ceil(x*1.5))};function R(x){return new Uint32Array(Math.ceil(x/32))}function c(x){var t=x||0,a=w;typeof x=="object"&&(t=x.initialLength||x.initialCapacity||0,a=x.policy||a),this.size=0,this.length=t,this.capacity=Math.ceil(this.length/32)*32,this.policy=a,this.array=R(this.capacity)}c.prototype.set=function(x,t){if(this.length<x)throw new Error("BitVector.set: index out of bounds.");var a=x>>5,p=x&31,o=this.array[a],s;return t===0||t===!1?s=this.array[a]&=~(1<<p):s=this.array[a]|=1<<p,s=s>>>0,s>o?this.size++:s<o&&this.size--,this},c.prototype.reset=function(x){var t=x>>5,a=x&31,p=this.array[t],o;return o=this.array[t]&=~(1<<a),o<p&&this.size--,this},c.prototype.flip=function(x){var t=x>>5,a=x&31,p=this.array[t],o=this.array[t]^=1<<a;return o=o>>>0,o>p?this.size++:o<p&&this.size--,this},c.prototype.applyPolicy=function(x){var t=this.policy(x||this.capacity);if(typeof t!="number"||t<0)throw new Error("mnemonist/bit-vector.applyPolicy: policy returned an invalid value (expecting a positive integer).");if(t<=this.capacity)throw new Error("mnemonist/bit-vector.applyPolicy: policy returned a less or equal capacity to allocate.");return Math.ceil(t/32)*32},c.prototype.reallocate=function(x){var t=x;if(x=Math.ceil(x/32)*32,t<this.length&&(this.length=t),x===this.capacity)return this;var a=this.array,p=x/32;return p===this.array.length?this:(p>this.array.length?(this.array=new Uint32Array(p),this.array.set(a,0)):this.array=a.slice(0,p),this.capacity=x,this)},c.prototype.grow=function(x){var t;if(typeof x=="number"){if(this.capacity>=x)return this;for(t=this.capacity;t<x;)t=this.applyPolicy(t);return this.reallocate(t),this}return t=this.applyPolicy(),this.reallocate(t),this},c.prototype.resize=function(x){return x===this.length?this:x<this.length?(this.length=x,this):(this.length=x,this.reallocate(x),this)},c.prototype.push=function(x){if(this.capacity===this.length&&this.grow(),x===0||x===!1)return++this.length;this.size++;var t=this.length++,a=t>>5,p=t&31;return this.array[a]|=1<<p,this.length},c.prototype.pop=function(){if(this.length!==0){var x=--this.length,t=x>>5,a=x&31;return this.array[t]>>a&1}},c.prototype.get=function(x){if(!(this.length<x)){var t=x>>5,a=x&31;return this.array[t]>>a&1}},c.prototype.test=function(x){return this.length<x?!1:!!this.get(x)},c.prototype.rank=function(x){if(this.size===0)return 0;for(var t=x>>5,a=x&31,p=0,o=0;o<t;o++)p+=E.table8Popcount(this.array[o]);var s=this.array[t]&(1<<a)-1;return p+=E.table8Popcount(s),p},c.prototype.select=function(x){if(this.size===0||x>=this.length)return-1;for(var t,a=32,p=0,o=0,s=0,r=this.array.length;s<r;s++)if(t=this.array[s],t!==0){s===r-1&&(a=this.length%32||32);for(var e=0;e<a;e++,p++)if(o+=t>>e&1,o===x)return p}},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;for(var a=this.length,p,o,s=32,r=0,e=this.array.length;r<e;r++){p=this.array[r],r===e-1&&(s=a%32||32);for(var n=0;n<s;n++)o=p>>n&1,x.call(t,o,r*32+n)}},c.prototype.values=function(){var x=this.length,t=!1,a,p,o=this.array,s=o.length,r=0,e=-1,n=32;return new y(function l(){if(!t){if(r>=s)return{done:!0};r===s-1&&(n=x%32||32),a=o[r++],t=!0,e=-1}return e++,e>=n?(t=!1,l()):(p=a>>e&1,{value:p})})},c.prototype.entries=function(){var x=this.length,t=!1,a,p,o=this.array,s,r=o.length,e=0,n=-1,l=32;return new y(function i(){if(!t){if(e>=r)return{done:!0};e===r-1&&(l=x%32||32),a=o[e++],t=!0,n=-1}return n++,s=~-e*32+n,n>=l?(t=!1,i()):(p=a>>n&1,{value:[s,p]})})},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.values),c.prototype.inspect=function(){var x=new Uint8Array(this.length);return this.forEach(function(t,a){x[a]=t}),Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.prototype.toJSON=function(){return Array.from(this.array.slice(0,(this.length>>5)+1))},g.exports=c}),B9=Ft((f,g)=>{function y(R,c){return(R&65535)*c+(((R>>>16)*c&65535)<<16)&4294967295}function E(R,c){return(R&65535)+(c>>>16)+(((R>>>16)+c&65535)<<16)&4294967295}function w(R,c){return R<<c|R>>>32-c}g.exports=function(R,c){var x=3432918353,t=461845907,a=15,p=13,o=5,s=1801774676,r=R,e,n,l;for(n=0,l=c.length-4;n<=l;n+=4)e=c[n]|c[n+1]<<8|c[n+2]<<16|c[n+3]<<24,e=y(e,x),e=w(e,a),e=y(e,t),r^=e,r=w(r,p),r=y(r,o),r=E(r,s);switch(e=0,c.length&3){case 3:e^=c[n+2]<<16;case 2:e^=c[n+1]<<8;case 1:e^=c[n],e=y(e,x),e=w(e,a),e=y(e,t),r^=e}return r^=c.length,r^=r>>>16,r=y(r,2246822507),r^=r>>>13,r=y(r,3266489909),r^=r>>>16,r>>>0}}),N9=Ft((f,g)=>{var y=B9(),E=xe(),w=Math.LN2*Math.LN2,R={errorRate:.005};function c(a){var p=new Uint16Array(a.length),o,s;for(o=0,s=a.length;o<s;o++)p[o]=a.charCodeAt(o);return p}function x(a,p,o){var s=y(p*4221880213&4294967295,o);return s%(a*8)}function t(a){var p={};if(!a)throw new Error("mnemonist/BloomFilter.constructor: a BloomFilter must be created with a capacity.");if(typeof a=="object"?p=a:p.capacity=a,typeof p.capacity!="number"||p.capacity<=0)throw new Error("mnemonist/BloomFilter.constructor: `capacity` option should be a positive integer.");if(this.capacity=p.capacity,this.errorRate=p.errorRate||R.errorRate,typeof this.errorRate!="number"||p.errorRate<=0)throw new Error("mnemonist/BloomFilter.constructor: `errorRate` option should be a positive float.");this.clear()}t.prototype.clear=function(){var a=-1/w*this.capacity*Math.log(this.errorRate),p=a/8|0;this.hashFunctions=p*8/this.capacity*Math.LN2|0,this.data=new Uint8Array(p)},t.prototype.add=function(a){for(var p=c(a),o=0,s=this.hashFunctions;o<s;o++){var r=x(this.data.length,o,p),e=1<<(7&r);this.data[r>>3]|=e}return this},t.prototype.test=function(a){for(var p=c(a),o=0,s=this.hashFunctions;o<s;o++){var r=x(this.data.length,o,p);if(!(this.data[r>>3]&1<<(7&r)))return!1}return!0},t.prototype.toJSON=function(){return this.data},t.from=function(a,p){if(!p&&(p=a.length||a.size,typeof p!="number"))throw new Error("BloomFilter.from: could not infer the filter's capacity. Try passing it as second argument.");var o=new t(p);return E(a,function(s){o.add(s)}),o},g.exports=t}),G9=Ft((f,g)=>{var y=xe();function E(w){if(typeof w!="function")throw new Error("mnemonist/BKTree.constructor: given `distance` should be a function.");this.distance=w,this.clear()}E.prototype.add=function(w){if(!this.root)return this.root={item:w,children:{}},this.size++,this;for(var R=this.root,c;c=this.distance(w,R.item),!!R.children[c];)R=R.children[c];return R.children[c]={item:w,children:{}},this.size++,this},E.prototype.search=function(w,R){if(!this.root)return[];for(var c=[],x=[this.root],t,a,p,o,s;x.length;)for(t=x.pop(),p=this.distance(R,t.item),p<=w&&c.push({item:t.item,distance:p}),o=p-w,s=p+w+1;o<s;o++)a=t.children[o],a&&x.push(a);return c},E.prototype.clear=function(){this.size=0,this.root=null},E.prototype.toJSON=function(){return this.root},E.prototype.inspect=function(){for(var w=[],R=[this.root],c,x;R.length;)if(c=R.pop(),!!c){w.push(c.item);for(x in c.children)R.push(c.children[x])}return Object.defineProperty(w,"constructor",{value:E,enumerable:!1}),w},typeof Symbol<"u"&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=E.prototype.inspect),E.from=function(w,R){var c=new E(R);return y(w,function(x){c.add(x)}),c},g.exports=E}),Yx=Ft((f,g)=>{var y=Li(),E=He();function w(R,c){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if(typeof c!="number"||c<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=R,this.capacity=c,this.items=new R(this.capacity),this.clear()}w.prototype.clear=function(){this.start=0,this.size=0},w.prototype.push=function(R){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var c=(this.start+this.size)%this.capacity;return this.items[c]=R,++this.size},w.prototype.unshift=function(R){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var c=this.start-1;return this.start===0&&(c=this.capacity-1),this.items[c]=R,this.start=c,++this.size},w.prototype.pop=function(){if(this.size===0)return;let R=(this.start+this.size-1)%this.capacity;return this.size--,this.items[R]},w.prototype.shift=function(){if(this.size!==0){var R=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[R]}},w.prototype.peekFirst=function(){if(this.size!==0)return this.items[this.start]},w.prototype.peekLast=function(){if(this.size!==0){var R=this.start+this.size-1;return R>this.capacity&&(R-=this.capacity),this.items[R]}},w.prototype.get=function(R){if(this.size!==0)return R=this.start+R,R>this.capacity&&(R-=this.capacity),this.items[R]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.capacity,t=this.size,a=this.start,p=0;p<t;)R.call(c,this.items[a],p,this),a++,p++,a===x&&(a=0)},w.prototype.toArray=function(){var R=this.start+this.size;if(R<this.capacity)return this.items.slice(this.start,R);for(var c=new this.ArrayClass(this.size),x=this.capacity,t=this.size,a=this.start,p=0;p<t;)c[p]=this.items[a],a++,p++,a===x&&(a=0);return c},w.prototype.values=function(){var R=this.items,c=this.capacity,x=this.size,t=this.start,a=0;return new E(function(){if(a>=x)return{done:!0};var p=R[t];return t++,a++,t===c&&(t=0),{value:p,done:!1}})},w.prototype.entries=function(){var R=this.items,c=this.capacity,x=this.size,t=this.start,a=0;return new E(function(){if(a>=x)return{done:!0};var p=R[t];return t++,t===c&&(t=0),{value:[a++,p],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=this.toArray();return R.type=this.ArrayClass.name,R.capacity=this.capacity,Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R,c,x){if(arguments.length<3&&(x=y.guessLength(R),typeof x!="number"))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var t=new w(c,x);if(y.isArrayLike(R)){var a,p;for(a=0,p=R.length;a<p;a++)t.items[a]=R[a];return t.size=p,t}return y.forEach(R,function(o){t.push(o)}),t},g.exports=w}),z9=Ft((f,g)=>{var y=Li(),E=Yx();function w(c,x){if(arguments.length<2)throw new Error("mnemonist/circular-buffer: expecting an Array class and a capacity.");if(typeof x!="number"||x<=0)throw new Error("mnemonist/circular-buffer: `capacity` should be a positive number.");this.ArrayClass=c,this.capacity=x,this.items=new c(this.capacity),this.clear()}function R(c){w.prototype[c]=E.prototype[c]}Object.keys(E.prototype).forEach(R),typeof Symbol<"u"&&Object.getOwnPropertySymbols(E.prototype).forEach(R),w.prototype.push=function(c){var x=(this.start+this.size)%this.capacity;return this.items[x]=c,this.size===this.capacity?(this.start=(x+1)%this.capacity,this.size):++this.size},w.prototype.unshift=function(c){var x=this.start-1;return this.start===0&&(x=this.capacity-1),this.items[x]=c,this.size===this.capacity?(this.start=x,this.size):(this.start=x,++this.size)},w.from=function(c,x,t){if(arguments.length<3&&(t=y.guessLength(c),typeof t!="number"))throw new Error("mnemonist/circular-buffer.from: could not guess iterable length. Please provide desired capacity as last argument.");var a=new w(x,t);if(y.isArrayLike(c)){var p,o;for(p=0,o=c.length;p<o;p++)a.items[p]=c[p];return a.size=o,a}return y.forEach(c,function(s){a.push(s)}),a},g.exports=w}),b9=Ft((f,g)=>{function y(E){if(typeof E!="function")throw new Error("mnemonist/DefaultMap.constructor: expecting a function.");this.items=new Map,this.factory=E,this.size=0}y.prototype.clear=function(){this.items.clear(),this.size=0},y.prototype.get=function(E){var w=this.items.get(E);return typeof w>"u"&&(w=this.factory(E,this.size),this.items.set(E,w),this.size++),w},y.prototype.peek=function(E){return this.items.get(E)},y.prototype.set=function(E,w){return this.items.set(E,w),this.size=this.items.size,this},y.prototype.has=function(E){return this.items.has(E)},y.prototype.delete=function(E){var w=this.items.delete(E);return this.size=this.items.size,w},y.prototype.forEach=function(E,w){w=arguments.length>1?w:this,this.items.forEach(E,w)},y.prototype.entries=function(){return this.items.entries()},y.prototype.keys=function(){return this.items.keys()},y.prototype.values=function(){return this.items.values()},typeof Symbol<"u"&&(y.prototype[Symbol.iterator]=y.prototype.entries),y.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(y.prototype[Symbol.for("nodejs.util.inspect.custom")]=y.prototype.inspect),y.autoIncrement=function(){var E=0;return function(){return E++}},g.exports=y}),U9=Ft((f,g)=>{function y(E){if(typeof E!="function")throw new Error("mnemonist/DefaultWeakMap.constructor: expecting a function.");this.items=new WeakMap,this.factory=E}y.prototype.clear=function(){this.items=new WeakMap},y.prototype.get=function(E){var w=this.items.get(E);return typeof w>"u"&&(w=this.factory(E),this.items.set(E,w)),w},y.prototype.peek=function(E){return this.items.get(E)},y.prototype.set=function(E,w){return this.items.set(E,w),this},y.prototype.has=function(E){return this.items.has(E)},y.prototype.delete=function(E){return this.items.delete(E)},y.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(y.prototype[Symbol.for("nodejs.util.inspect.custom")]=y.prototype.inspect),g.exports=y}),V9=Ft((f,g)=>{var y=vi();function E(w){var R=y.getPointerArray(w),c=y.getPointerArray(Math.log2(w));this.size=w,this.dimension=w,this.parents=new R(w),this.ranks=new c(w);for(var x=0;x<w;x++)this.parents[x]=x}E.prototype.find=function(w){for(var R=w,c,x;c=this.parents[R],R!==c;)R=c;for(;x=this.parents[w],x!==R;)this.parents[w]=R,w=x;return R},E.prototype.union=function(w,R){var c=this.find(w),x=this.find(R);if(c===x)return this;this.dimension--;var t=this.ranks[w],a=this.ranks[R];return t<a?this.parents[c]=x:t>a?this.parents[x]=c:(this.parents[x]=c,this.ranks[c]++),this},E.prototype.connected=function(w,R){var c=this.find(w);return c===this.find(R)},E.prototype.mapping=function(){for(var w=y.getPointerArray(this.dimension),R={},c=new w(this.size),x=0,t,a=0,p=this.parents.length;a<p;a++)t=this.find(a),typeof R[t]>"u"?(c[a]=x,R[t]=x++):c[a]=R[t];return c},E.prototype.compile=function(){for(var w={},R=new Array(this.dimension),c=0,x,t=0,a=this.parents.length;t<a;t++)x=this.find(t),typeof w[x]>"u"?(R[c]=[t],w[x]=c++):R[w[x]].push(t);return R},E.prototype.inspect=function(){var w=this.compile();return Object.defineProperty(w,"constructor",{value:E,enumerable:!1}),w},typeof Symbol<"u"&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=E.prototype.inspect),g.exports=E}),Rv=Ft((f,g)=>{var y=fu(),E=Mv(),w=y.DEFAULT_COMPARATOR,R=y.reverseComparator;function c(a,p,o,s){for(var r=o,e=s,n=p[s],l=2*s+1,i;l<r;)i=l+1,i<r&&a(p[l],p[i])>=0&&(l=i),p[s]=p[l],s=l,l=2*s+1;p[s]=n,E.siftDown(a,p,e,s)}function x(a,p,o,s){for(var r=s,e=r,n=new a(s),l,i;e>0;)l=o[--e],e!==0&&(i=o[0],o[0]=l,c(p,o,--s,0),l=i),n[e]=l;return n}function t(a,p,o){if(arguments.length===2&&(o=p,p=null),this.ArrayClass=a,this.capacity=o,this.items=new a(o),this.clear(),this.comparator=p||w,typeof o!="number"&&o<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if(typeof this.comparator!="function")throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=R(this.comparator)}t.prototype.clear=function(){this.size=0},t.prototype.push=function(a){return this.size<this.capacity?(this.items[this.size]=a,E.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(a,this.items[0])>0&&E.replace(this.comparator,this.items,a),this.size},t.prototype.peek=function(){return this.items[0]},t.prototype.consume=function(){var a=x(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,a},t.prototype.toArray=function(){return x(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},t.prototype.inspect=function(){var a=this.toArray();return Object.defineProperty(a,"constructor",{value:t,enumerable:!1}),a},typeof Symbol<"u"&&(t.prototype[Symbol.for("nodejs.util.inspect.custom")]=t.prototype.inspect),g.exports=t}),W9=Ft((f,g)=>{var y=xe(),E=function(R){return R};function w(R){if(this.items=new Map,this.clear(),Array.isArray(R)?(this.writeHashFunction=R[0],this.readHashFunction=R[1]):(this.writeHashFunction=R,this.readHashFunction=R),this.writeHashFunction||(this.writeHashFunction=E),this.readHashFunction||(this.readHashFunction=E),typeof this.writeHashFunction!="function")throw new Error("mnemonist/FuzzyMap.constructor: invalid hash function given.");if(typeof this.readHashFunction!="function")throw new Error("mnemonist/FuzzyMap.constructor: invalid hash function given.")}w.prototype.clear=function(){this.items.clear(),this.size=0},w.prototype.add=function(R){var c=this.writeHashFunction(R);return this.items.set(c,R),this.size=this.items.size,this},w.prototype.set=function(R,c){return R=this.writeHashFunction(R),this.items.set(R,c),this.size=this.items.size,this},w.prototype.get=function(R){return R=this.readHashFunction(R),this.items.get(R)},w.prototype.has=function(R){return R=this.readHashFunction(R),this.items.has(R)},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this,this.items.forEach(function(x){R.call(c,x,x)})},w.prototype.values=function(){return this.items.values()},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=Array.from(this.items.values());return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R,c,x){var t=new w(c);return y(R,function(a,p){x?t.set(p,a):t.add(a)}),t},g.exports=w}),Hx=Ft((f,g)=>{var y=He(),E=xe();function w(R){this.Container=R||Array,this.items=new Map,this.clear(),Object.defineProperty(this.items,"constructor",{value:w,enumerable:!1})}w.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()},w.prototype.set=function(R,c){var x=this.items.get(R),t;return x||(this.dimension++,x=new this.Container,this.items.set(R,x)),this.Container===Set?(t=x.size,x.add(c),t<x.size&&this.size++):(x.push(c),this.size++),this},w.prototype.delete=function(R){var c=this.items.get(R);return c?(this.size-=this.Container===Set?c.size:c.length,this.dimension--,this.items.delete(R),!0):!1},w.prototype.remove=function(R,c){var x=this.items.get(R),t,a;return x?this.Container===Set?(t=x.delete(c),t&&this.size--,x.size===0&&(this.items.delete(R),this.dimension--),t):(a=x.indexOf(c),a===-1?!1:(this.size--,x.length===1?(this.items.delete(R),this.dimension--,!0):(x.splice(a,1),!0))):!1},w.prototype.has=function(R){return this.items.has(R)},w.prototype.get=function(R){return this.items.get(R)},w.prototype.multiplicity=function(R){var c=this.items.get(R);return typeof c>"u"?0:this.Container===Set?c.size:c.length},w.prototype.count=w.prototype.multiplicity,w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;var x;function t(a){R.call(c,a,x)}this.items.forEach(function(a,p){x=p,a.forEach(t)})},w.prototype.forEachAssociation=function(R,c){c=arguments.length>1?c:this,this.items.forEach(R,c)},w.prototype.keys=function(){return this.items.keys()},w.prototype.values=function(){var R=this.items.values(),c=!1,x,t,a,p;return this.Container===Set?new y(function o(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,x=t.value.values()}return t=x.next(),t.done?(c=!1,o()):{done:!1,value:t.value}}):new y(function o(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,x=t.value,a=0,p=x.length}return a>=p?(c=!1,o()):{done:!1,value:x[a++]}})},w.prototype.entries=function(){var R=this.items.entries(),c=!1,x,t,a,p,o;return this.Container===Set?new y(function s(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,a=t.value[0],x=t.value[1].values()}return t=x.next(),t.done?(c=!1,s()):{done:!1,value:[a,t.value]}}):new y(function s(){if(!c){if(t=R.next(),t.done)return{done:!0};c=!0,a=t.value[0],x=t.value[1],p=0,o=x.length}return p>=o?(c=!1,s()):{done:!1,value:[a,x[p++]]}})},w.prototype.containers=function(){return this.items.values()},w.prototype.associations=function(){return this.items.entries()},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.entries),w.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.prototype.toJSON=function(){return this.items},w.from=function(R,c){var x=new w(c);return E(R,function(t,a){x.set(a,t)}),x},g.exports=w}),X9=Ft((f,g)=>{var y=Hx(),E=xe(),w=function(c){return c};function R(c,x){if(this.items=new y(x),this.clear(),Array.isArray(c)?(this.writeHashFunction=c[0],this.readHashFunction=c[1]):(this.writeHashFunction=c,this.readHashFunction=c),this.writeHashFunction||(this.writeHashFunction=w),this.readHashFunction||(this.readHashFunction=w),typeof this.writeHashFunction!="function")throw new Error("mnemonist/FuzzyMultiMap.constructor: invalid hash function given.");if(typeof this.readHashFunction!="function")throw new Error("mnemonist/FuzzyMultiMap.constructor: invalid hash function given.")}R.prototype.clear=function(){this.items.clear(),this.size=0,this.dimension=0},R.prototype.add=function(c){var x=this.writeHashFunction(c);return this.items.set(x,c),this.size=this.items.size,this.dimension=this.items.dimension,this},R.prototype.set=function(c,x){return c=this.writeHashFunction(c),this.items.set(c,x),this.size=this.items.size,this.dimension=this.items.dimension,this},R.prototype.get=function(c){return c=this.readHashFunction(c),this.items.get(c)},R.prototype.has=function(c){return c=this.readHashFunction(c),this.items.has(c)},R.prototype.forEach=function(c,x){x=arguments.length>1?x:this,this.items.forEach(function(t){c.call(x,t,t)})},R.prototype.values=function(){return this.items.values()},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.values),R.prototype.inspect=function(){var c=Array.from(this);return Object.defineProperty(c,"constructor",{value:R,enumerable:!1}),c},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.from=function(c,x,t,a){arguments.length===3&&typeof t=="boolean"&&(a=t,t=Array);var p=new R(x,t);return E(c,function(o,s){a?p.set(s,o):p.add(o)}),p},g.exports=R}),Y9=Ft((f,g)=>{var y=1024;function E(R){return(R&R-1)===0}function w(R,c){if(arguments.length<1)throw new Error("mnemonist/hashed-array-tree: expecting at least a byte array constructor.");var x=c||0,t=y,a=0;if(typeof c=="object"&&(x=c.initialCapacity||0,a=c.initialLength||0,t=c.blockSize||y),!t||!E(t))throw new Error("mnemonist/hashed-array-tree: block size should be a power of two.");var p=Math.max(a,x),o=Math.ceil(p/t);this.ArrayClass=R,this.length=a,this.capacity=o*t,this.blockSize=t,this.offsetMask=t-1,this.blockMask=Math.log2(t),this.blocks=new Array(o);for(var s=0;s<o;s++)this.blocks[s]=new this.ArrayClass(this.blockSize)}w.prototype.set=function(R,c){if(this.length<R)throw new Error("HashedArrayTree("+this.ArrayClass.name+").set: index out of bounds.");var x=R>>this.blockMask,t=R&this.offsetMask;return this.blocks[x][t]=c,this},w.prototype.get=function(R){if(!(this.length<R)){var c=R>>this.blockMask,x=R&this.offsetMask;return this.blocks[c][x]}},w.prototype.grow=function(R){if(typeof R!="number"&&(R=this.capacity+this.blockSize),this.capacity>=R)return this;for(;this.capacity<R;)this.blocks.push(new this.ArrayClass(this.blockSize)),this.capacity+=this.blockSize;return this},w.prototype.resize=function(R){return R===this.length?this:R<this.length?(this.length=R,this):(this.length=R,this.grow(R),this)},w.prototype.push=function(R){this.capacity===this.length&&this.grow();var c=this.length,x=c>>this.blockMask,t=c&this.offsetMask;return this.blocks[x][t]=R,++this.length},w.prototype.pop=function(){if(this.length!==0){var R=this.blocks[this.blocks.length-1],c=--this.length&this.offsetMask;return R[c]}},w.prototype.inspect=function(){for(var R=new this.ArrayClass(this.length),c,x=0,t=this.length;x<t;x++)c=x>>this.blockMask,R[x]=this.blocks[c][x&this.offsetMask];return R.type=this.ArrayClass.name,R.items=this.length,R.capacity=this.capacity,R.blockSize=this.blockSize,Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),g.exports=w}),$x=Ft((f,g)=>{var y=He(),E=Li();function w(R,c){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if(typeof c!="number"||c<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=c,this.ArrayClass=R,this.items=new this.ArrayClass(this.capacity),this.clear()}w.prototype.clear=function(){this.size=0},w.prototype.push=function(R){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=R,this.size},w.prototype.pop=function(){if(this.size!==0)return this.items[--this.size]},w.prototype.peek=function(){return this.items[this.size-1]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=0,t=this.items.length;x<t;x++)R.call(c,this.items[t-x-1],x,this)},w.prototype.toArray=function(){for(var R=new this.ArrayClass(this.size),c=this.size-1,x=this.size;x--;)R[x]=this.items[c-x];return R},w.prototype.values=function(){var R=this.items,c=this.size,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return x++,{value:t,done:!1}})},w.prototype.entries=function(){var R=this.items,c=this.size,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return{value:[x++,t],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return R.type=this.ArrayClass.name,R.capacity=this.capacity,Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R,c,x){if(arguments.length<3&&(x=E.guessLength(R),typeof x!="number"))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var t=new w(c,x);if(E.isArrayLike(R)){var a,p;for(a=0,p=R.length;a<p;a++)t.items[a]=R[a];return t.size=p,t}return E.forEach(R,function(o){t.push(o)}),t},g.exports=w}),H9=Ft((f,g)=>{var y=Li(),E=vi(),w=$x();function R(x,t,a,p,o,s,r,e){var n=r+(e-r)/2|0,l=~-n,i=-~n,h=a[n];p[s]=h+1;var u=t?t(x[h]):x[h][1],d=s*2+1,v=s*2+2,m=-1/0,T=-1/0;r<=l&&(m=R(x,t,a,p,o,d,r,l)),i<=e&&(T=R(x,t,a,p,o,v,i,e));var C=Math.max(u,m,T),S=h;return C===m?S=o[p[d]-1]:C===T&&(S=o[p[v]-1]),o[h]=S,C}function c(x,t){this.size=x.length,this.intervals=x;var a=null,p=null;Array.isArray(t)&&(a=t[0],p=t[1]);var o=x.length,s=E.getPointerArray(o+1),r=new s(o),e;for(e=1;e<o;e++)r[e]=e;r.sort(function(u,d){return u=x[u],d=x[d],a?(u=a(u),d=a(d)):(u=u[0],d=d[0]),u<d?-1:u>d?1:0});var n=Math.ceil(Math.log2(o+1)),l=Math.pow(2,n)-1,i=new s(l),h=new s(o);R(x,p,r,i,h,0,0,o-1),r=null,this.height=n,this.tree=i,this.augmentations=h,this.startGetter=a,this.endGetter=p,this.stack=new w(s,this.height)}c.prototype.intervalsContainingPoint=function(x){var t=[],a=this.stack;a.clear(),a.push(0);for(var p=this.tree.length,o,s,r,e,n,l,i,h,u;a.size;)o=a.pop(),s=this.tree[o]-1,r=this.intervals[s],e=this.intervals[this.augmentations[s]],i=this.endGetter?this.endGetter(e):e[1],!(x>i)&&(h=o*2+1,h<p&&this.tree[h]!==0&&a.push(h),n=this.startGetter?this.startGetter(r):r[0],l=this.endGetter?this.endGetter(r):r[1],x>=n&&x<=l&&t.push(r),!(x<n)&&(u=o*2+2,u<p&&this.tree[u]!==0&&a.push(u)));return t},c.prototype.intervalsOverlappingInterval=function(x){var t=this.startGetter?this.startGetter(x):x[0],a=this.endGetter?this.endGetter(x):x[1],p=[],o=this.stack;o.clear(),o.push(0);for(var s=this.tree.length,r,e,n,l,i,h,u,d,v;o.size;)r=o.pop(),e=this.tree[r]-1,n=this.intervals[e],l=this.intervals[this.augmentations[e]],u=this.endGetter?this.endGetter(l):l[1],!(t>u)&&(d=r*2+1,d<s&&this.tree[d]!==0&&o.push(d),i=this.startGetter?this.startGetter(n):n[0],h=this.endGetter?this.endGetter(n):n[1],a>=i&&t<=h&&p.push(n),!(a<i)&&(v=r*2+2,v<s&&this.tree[v]!==0&&o.push(v)));return p},c.prototype.inspect=function(){var x=this.intervals.slice();return Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.from=function(x,t){return y.isArrayLike(x)?new c(x,t):new c(Array.from(x),t)},g.exports=c}),Kx=Ft(f=>{f.search=function(g,y,E,w){var R=0;E=typeof E<"u"?E:0,w=typeof w<"u"?w:g.length,w--;for(var c;E<=w;)if(R=E+w>>>1,c=g[R],c>y)w=~-R;else if(c<y)E=-~R;else return R;return-1},f.searchWithComparator=function(g,y,E){for(var w=0,R=0,c=~-y.length,x;R<=c;)if(w=R+c>>>1,x=g(y[w],E),x>0)c=~-w;else if(x<0)R=-~w;else return w;return-1},f.lowerBound=function(g,y,E,w){var R=0;for(E=typeof E<"u"?E:0,w=typeof w<"u"?w:g.length;E<w;)R=E+w>>>1,y<=g[R]?w=R:E=-~R;return E},f.lowerBoundWithComparator=function(g,y,E){for(var w=0,R=0,c=y.length;R<c;)w=R+c>>>1,g(E,y[w])<=0?c=w:R=-~w;return R},f.lowerBoundIndices=function(g,y,E,w,R){var c=0;for(w=typeof w<"u"?w:0,R=typeof R<"u"?R:g.length;w<R;)c=w+R>>>1,E<=g[y[c]]?R=c:w=-~c;return w},f.upperBound=function(g,y,E,w){var R=0;for(E=typeof E<"u"?E:0,w=typeof w<"u"?w:g.length;E<w;)R=E+w>>>1,y>=g[R]?E=-~R:w=R;return E},f.upperBoundWithComparator=function(g,y,E){for(var w=0,R=0,c=y.length;R<c;)w=R+c>>>1,g(E,y[w])>=0?R=-~w:c=w;return R}}),$9=Ft(f=>{var g=vi(),y=Li().isArrayLike,E=Kx(),w=wv();function R(a,p){if(a.length===0)return p.slice();if(p.length===0)return a.slice();var o;a[0]>p[0]&&(o=a,a=p,p=o);var s=a[a.length-1],r=p[0];if(s<=r)return g.isTypedArray(a)?g.concat(a,p):a.concat(p);var e=new a.constructor(a.length+p.length),n,l,i;for(n=0,l=a.length;n<l&&(i=a[n],i<=r);n++)e[n]=i;for(var h=n,u=a.length,d=0,v=p.length,m,T;h<u&&d<v;)m=a[h],T=p[d],m<=T?(e[n++]=m,h++):(e[n++]=T,d++);for(;h<u;)e[n++]=a[h++];for(;d<v;)e[n++]=p[d++];return e}function c(a,p){if(a.length===0)return p.slice();if(p.length===0)return a.slice();var o;a[0]>p[0]&&(o=a,a=p,p=o);var s=a[a.length-1],r=p[0];if(s<r)return g.isTypedArray(a)?g.concat(a,p):a.concat(p);var e=new a.constructor,n,l,i;for(n=0,l=a.length;n<l&&(i=a[n],i<r);n++)e.push(i);for(var h=n,u=a.length,d=0,v=p.length,m,T;h<u&&d<v;)m=a[h],T=p[d],m<=T?((e.length===0||e[e.length-1]!==m)&&e.push(m),h++):((e.length===0||e[e.length-1]!==T)&&e.push(T),d++);for(;h<u;)m=a[h++],(e.length===0||e[e.length-1]!==m)&&e.push(m);for(;d<v;)T=p[d++],(e.length===0||e[e.length-1]!==T)&&e.push(T);return e}f.intersectionUniqueArrays=function(a,p){if(a.length===0||p.length===0)return new a.constructor(0);var o;a[0]>p[0]&&(o=a,a=p,p=o);var s=a[a.length-1],r=p[0];if(s<r)return new a.constructor(0);for(var e=new a.constructor,n=E.lowerBound(a,r),l=a.length,i=0,h=E.upperBound(p,s),u,d;n<l&&i<h;)u=a[n],d=p[i],u<d?n=E.lowerBound(a,d,n+1):u>d?i=E.lowerBound(p,u,i+1):(e.push(u),n++,i++);return e};function x(a){var p=0,o=-1/0,s,r,e,n=[];for(r=0,e=a.length;r<e;r++)s=a[r].length,s!==0&&(n.push(a[r]),p+=s,s>o&&(o=s));if(n.length===0)return new a[0].constructor(0);if(n.length===1)return n[0].slice();if(n.length===2)return R(n[0],n[1]);a=n;var l=new a[0].constructor(p),i=g.getPointerArray(o),h=new i(a.length),u=new w(function(m,T){return m=a[m][h[m]],T=a[T][h[T]],m<T?-1:m>T?1:0});for(r=0;r<e;r++)u.push(r);r=0;for(var d,v;u.size;)d=u.pop(),v=a[d][h[d]++],l[r++]=v,h[d]<a[d].length&&u.push(d);return l}function t(a){var p=-1/0,o,s,r,e=[];for(s=0,r=a.length;s<r;s++)o=a[s].length,o!==0&&(e.push(a[s]),o>p&&(p=o));if(e.length===0)return new a[0].constructor(0);if(e.length===1)return e[0].slice();if(e.length===2)return c(e[0],e[1]);a=e;var n=new a[0].constructor,l=g.getPointerArray(p),i=new l(a.length),h=new w(function(v,m){return v=a[v][i[v]],m=a[m][i[m]],v<m?-1:v>m?1:0});for(s=0;s<r;s++)h.push(s);for(var u,d;h.size;)u=h.pop(),d=a[u][i[u]++],(n.length===0||n[n.length-1]!==d)&&n.push(d),i[u]<a[u].length&&h.push(u);return n}f.kWayIntersectionUniqueArrays=function(a){var p=-1/0,o=1/0,s,r,e,n,l;for(n=0,l=a.length;n<l;n++){if(e=a[n].length,e===0)return[];s=a[n][0],r=a[n][e-1],s>p&&(p=s),r<o&&(o=r)}if(p>o)return[];if(p===o)return[p];var i,h,u=a[0],d,v,m,T,C,S,P=p;for(n=1;n<l;n++){for(i=u,h=a[n],u=new Array,d=0,v=E.lowerBound(h,P),m=i.length,T=h.length;d<m&&v<T;)C=i[d],S=h[v],C<S?d=E.lowerBound(i,S,d+1):C>S?v=E.lowerBound(h,C,v+1):(u.push(C),d++,v++);if(u.length===0)return u;P=u[0]}return u},f.merge=function(){if(arguments.length===2){if(y(arguments[0]))return R(arguments[0],arguments[1])}else if(y(arguments[0]))return x(arguments);return null},f.unionUnique=function(){if(arguments.length===2){if(y(arguments[0]))return c(arguments[0],arguments[1])}else if(y(arguments[0]))return t(arguments);return null},f.intersectionUnique=function(){if(arguments.length===2){if(y(arguments[0]))return f.intersectionUniqueArrays(arguments[0],arguments[1])}else if(y(arguments[0]))return f.kWayIntersectionUniqueArrays(arguments);return null}}),K9=Ft((f,g)=>{var y=He(),E=xe(),w=$9();function R(x){return x}function c(x){if(this.clear(),Array.isArray(x)?(this.documentTokenizer=x[0],this.queryTokenizer=x[1]):(this.documentTokenizer=x,this.queryTokenizer=x),this.documentTokenizer||(this.documentTokenizer=R),this.queryTokenizer||(this.queryTokenizer=R),typeof this.documentTokenizer!="function")throw new Error("mnemonist/InvertedIndex.constructor: document tokenizer is not a function.");if(typeof this.queryTokenizer!="function")throw new Error("mnemonist/InvertedIndex.constructor: query tokenizer is not a function.")}c.prototype.clear=function(){this.items=[],this.mapping=new Map,this.size=0,this.dimension=0},c.prototype.add=function(x){this.size++;var t=this.items.length;this.items.push(x);var a=this.documentTokenizer(x);if(!Array.isArray(a))throw new Error("mnemonist/InvertedIndex.add: tokenizer function should return an array of tokens.");for(var p=new Set,o,s,r=0,e=a.length;r<e;r++)o=a[r],!p.has(o)&&(p.add(o),s=this.mapping.get(o),s||(s=[],this.mapping.set(o,s)),s.push(t));return this.dimension=this.mapping.size,this},c.prototype.get=function(x){if(!this.size)return[];var t=this.queryTokenizer(x);if(!Array.isArray(t))throw new Error("mnemonist/InvertedIndex.query: tokenizer function should return an array of tokens.");if(!t.length)return[];var a=this.mapping.get(t[0]),p,o,s;if(typeof a>"u"||a.length===0)return[];if(t.length>1)for(o=1,s=t.length;o<s;o++){if(p=this.mapping.get(t[o]),typeof p>"u"||p.length===0)return[];a=w.intersectionUniqueArrays(a,p)}var r=new Array(a.length);for(o=0,s=r.length;o<s;o++)r[o]=this.items[a[o]];return r},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;for(var a=0,p=this.documents.length;a<p;a++)x.call(t,this.documents[a],a,this)},c.prototype.documents=function(){var x=this.items,t=x.length,a=0;return new y(function(){if(a>=t)return{done:!0};var p=x[a++];return{value:p,done:!1}})},c.prototype.tokens=function(){return this.mapping.keys()},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.documents),c.prototype.inspect=function(){var x=this.items.slice();return Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.from=function(x,t){var a=new c(t);return E(x,function(p){a.add(p)}),a},g.exports=c}),jx=Ft(f=>{var g=new Float64Array(64),y=new Float64Array(64);function E(R,c,x){var t,a,p,o,s;for(g[0]=c,y[0]=x,a=0;a>=0;)if(p=g[a],o=y[a]-1,p<o){for(t=R[p];p<o;){for(;R[o]>=t&&p<o;)o--;for(p<o&&(R[p++]=R[o]);R[p]<=t&&p<o;)p++;p<o&&(R[o--]=R[p])}R[p]=t,g[a+1]=p+1,y[a+1]=y[a],y[a++]=p,y[a]-g[a]>y[a-1]-g[a-1]&&(s=g[a],g[a]=g[a-1],g[a-1]=s,s=y[a],y[a]=y[a-1],y[a-1]=s)}else a--;return R}f.inplaceQuickSort=E;function w(R,c,x,t){var a,p,o,s,r,e;for(g[0]=x,y[0]=t,p=0;p>=0;)if(o=g[p],s=y[p]-1,o<s){for(r=c[o],a=R[r];o<s;){for(;R[c[s]]>=a&&o<s;)s--;for(o<s&&(c[o++]=c[s]);R[c[o]]<=a&&o<s;)o++;o<s&&(c[s--]=c[o])}c[o]=r,g[p+1]=o+1,y[p+1]=y[p],y[p++]=o,y[p]-g[p]>y[p-1]-g[p-1]&&(e=g[p],g[p]=g[p-1],g[p-1]=e,e=y[p],y[p]=y[p-1],y[p-1]=e)}else p--;return c}f.inplaceQuickSortIndices=w}),j9=Ft((f,g)=>{var y=Li(),E=vi(),w=fu().createTupleComparator,R=Rv(),c=jx().inplaceQuickSortIndices;function x(r,e,n,l){var i,h=0,u;for(i=0;i<r;i++)u=e[i][n]-l[i],h+=u*u;return h}function t(r,e){var n=e.length,l=new Array(r),i=new Array(n),h,u=E.getPointerArray(n),d=new u(n),v,m,T,C=!0;for(v=0;v<r;v++){for(h=new Float64Array(n),m=0;m<n;m++)T=e[m],h[m]=T[1][v],C&&(i[m]=T[0],d[m]=m);C=!1,l[v]=h}return{axes:l,ids:d,labels:i}}function a(r,e,n,l){for(var i=l.length,h=E.getPointerArray(i+1),u=new h(i),d=new h(i),v=new h(i),m=[[0,0,n.length,-1,0]],T,C,S,P,A,L,F,I,D=0;m.length!==0;)T=m.pop(),I=T[0],L=T[1],F=T[2],C=T[3],S=T[4],c(e[I],n,L,F),i=F-L,P=L+(i>>>1),A=n[P],u[D]=A,C>-1&&(S===0?d[C]=D+1:v[C]=D+1),I=(I+1)%r,P!==L&&P!==F-1&&m.push([I,P+1,F,D,1]),P!==L&&m.push([I,L,P,D,0]),D++;return{axes:e,labels:l,pivots:u,lefts:d,rights:v}}function p(r,e){this.dimensions=r,this.visited=0,this.axes=e.axes,this.labels=e.labels,this.pivots=e.pivots,this.lefts=e.lefts,this.rights=e.rights,this.size=this.labels.length}p.prototype.nearestNeighbor=function(r){var e=1/0,n=null,l=this.dimensions,i=this.axes,h=this.pivots,u=this.lefts,d=this.rights,v=0;function m(T,C){v++;var S=u[C],P=d[C],A=h[C],L=x(l,i,A,r);if(!(L<e&&(n=A,e=L,L===0))){var F=i[T][A]-r[T];T=(T+1)%l,F>0?S!==0&&m(T,S-1):P!==0&&m(T,P-1),F*F<e&&(F>0?P!==0&&m(T,P-1):S!==0&&m(T,S-1))}}return m(0,0),this.visited=v,this.labels[n]};var o=w(3),s=w(2);p.prototype.kNearestNeighbors=function(r,e){if(r<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");if(r=Math.min(r,this.size),r===1)return[this.nearestNeighbor(e)];var n=new R(Array,o,r),l=this.dimensions,i=this.axes,h=this.pivots,u=this.lefts,d=this.rights,v=0;function m(S,P){var A=u[P],L=d[P],F=h[P],I=x(l,i,F,e);n.push([I,v++,F]);var D=e[S],B=i[S][F],G=D-B;S=(S+1)%l,D<B?A!==0&&m(S,A-1):L!==0&&m(S,L-1),(G*G<n.peek()[0]||n.size<r)&&(D<B?L!==0&&m(S,L-1):A!==0&&m(S,A-1))}m(0,0),this.visited=v;for(var T=n.consume(),C=0;C<T.length;C++)T[C]=this.labels[T[C][2]];return T},p.prototype.linearKNearestNeighbors=function(r,e){if(r<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");r=Math.min(r,this.size);var n=new R(Array,s,r),l,i,h;for(l=0,i=this.size;l<i;l++)h=x(this.dimensions,this.axes,this.pivots[l],e),n.push([h,l]);var u=n.consume();for(l=0;l<u.length;l++)u[l]=this.labels[this.pivots[u[l][1]]];return u},p.prototype.inspect=function(){var r=new Map;r.dimensions=this.dimensions,Object.defineProperty(r,"constructor",{value:p,enumerable:!1});var e,n,l;for(e=0;e<this.size;e++){for(l=new Array(this.dimensions),n=0;n<this.dimensions;n++)l[n]=this.axes[n][e];r.set(this.labels[e],l)}return r},typeof Symbol<"u"&&(p.prototype[Symbol.for("nodejs.util.inspect.custom")]=p.prototype.inspect),p.from=function(r,e){var n=y.toArray(r),l=t(e,n),i=a(e,l.axes,l.ids,l.labels);return new p(e,i)},p.fromAxes=function(r,e){e||(e=E.indices(r[0].length));var n=r.length,l=a(r.length,r,E.indices(e.length),e);return new p(n,l)},g.exports=p}),Z9=Ft((f,g)=>{var y=He(),E=xe();function w(){this.clear()}w.prototype.clear=function(){this.head=null,this.tail=null,this.size=0},w.prototype.first=function(){return this.head?this.head.item:void 0},w.prototype.peek=w.prototype.first,w.prototype.last=function(){return this.tail?this.tail.item:void 0},w.prototype.push=function(R){var c={item:R,next:null};return this.head?(this.tail.next=c,this.tail=c):(this.head=c,this.tail=c),this.size++,this.size},w.prototype.unshift=function(R){var c={item:R,next:null};return this.head?(this.head.next||(this.tail=this.head),c.next=this.head,this.head=c):(this.head=c,this.tail=c),this.size++,this.size},w.prototype.shift=function(){if(this.size){var R=this.head;return this.head=R.next,this.size--,R.item}},w.prototype.forEach=function(R,c){if(this.size){c=arguments.length>1?c:this;for(var x=this.head,t=0;x;)R.call(c,x.item,t,this),x=x.next,t++}},w.prototype.toArray=function(){if(!this.size)return[];for(var R=new Array(this.size),c=0,x=this.size,t=this.head;c<x;c++)R[c]=t.item,t=t.next;return R},w.prototype.values=function(){var R=this.head;return new y(function(){if(!R)return{done:!0};var c=R.item;return R=R.next,{value:c,done:!1}})},w.prototype.entries=function(){var R=this.head,c=0;return new y(function(){if(!R)return{done:!0};var x=R.item;return R=R.next,c++,{value:[c-1,x],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R){var c=new w;return E(R,function(x){c.push(x)}),c},g.exports=w}),Lv=Ft((f,g)=>{var y=He(),E=xe(),w=vi(),R=Li();function c(x,t,a){if(arguments.length<2&&(a=x,x=null,t=null),this.capacity=a,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var p=w.getPointerArray(a);this.forward=new p(a),this.backward=new p(a),this.K=typeof x=="function"?new x(a):new Array(a),this.V=typeof t=="function"?new t(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items={}}c.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},c.prototype.splayOnTop=function(x){var t=this.head;if(this.head===x)return this;var a=this.backward[x],p=this.forward[x];return this.tail===x?this.tail=a:this.backward[p]=a,this.forward[a]=p,this.backward[t]=x,this.head=x,this.forward[x]=t,this},c.prototype.set=function(x,t){var a=this.items[x];if(typeof a<"u"){this.splayOnTop(a),this.V[a]=t;return}this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],delete this.items[this.K[a]]),this.items[x]=a,this.K[a]=x,this.V[a]=t,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},c.prototype.setpop=function(x,t){var a=null,p=null,o=this.items[x];return typeof o<"u"?(this.splayOnTop(o),a=this.V[o],this.V[o]=t,{evicted:!1,key:x,value:a}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],a=this.V[o],p=this.K[o],delete this.items[this.K[o]]),this.items[x]=o,this.K[o]=x,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,p?{evicted:!0,key:p,value:a}:null)},c.prototype.has=function(x){return x in this.items},c.prototype.get=function(x){var t=this.items[x];if(typeof t<"u")return this.splayOnTop(t),this.V[t]},c.prototype.peek=function(x){var t=this.items[x];if(typeof t<"u")return this.V[t]},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;for(var a=0,p=this.size,o=this.head,s=this.K,r=this.V,e=this.forward;a<p;)x.call(t,r[o],s[o],this),o=e[o],a++},c.prototype.keys=function(){var x=0,t=this.size,a=this.head,p=this.K,o=this.forward;return new y(function(){if(x>=t)return{done:!0};var s=p[a];return x++,x<t&&(a=o[a]),{done:!1,value:s}})},c.prototype.values=function(){var x=0,t=this.size,a=this.head,p=this.V,o=this.forward;return new y(function(){if(x>=t)return{done:!0};var s=p[a];return x++,x<t&&(a=o[a]),{done:!1,value:s}})},c.prototype.entries=function(){var x=0,t=this.size,a=this.head,p=this.K,o=this.V,s=this.forward;return new y(function(){if(x>=t)return{done:!0};var r=p[a],e=o[a];return x++,x<t&&(a=s[a]),{done:!1,value:[r,e]}})},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.entries),c.prototype.inspect=function(){for(var x=new Map,t=this.entries(),a;a=t.next(),!a.done;)x.set(a.value[0],a.value[1]);return Object.defineProperty(x,"constructor",{value:c,enumerable:!1}),x},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.from=function(x,t,a,p){if(arguments.length<2){if(p=R.guessLength(x),typeof p!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(p=t,t=null,a=null);var o=new c(t,a,p);return E(x,function(s,r){o.set(r,s)}),o},g.exports=c}),Q9=Ft((f,g)=>{var y=Lv(),E=xe(),w=vi(),R=Li();function c(t,a,p){arguments.length<2?y.call(this,t):y.call(this,t,a,p);var o=w.getPointerArray(this.capacity);this.deleted=new o(this.capacity),this.deletedSize=0}for(x in y.prototype)c.prototype[x]=y.prototype[x];var x;typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=y.prototype[Symbol.iterator]),c.prototype.clear=function(){y.prototype.clear.call(this),this.deletedSize=0},c.prototype.set=function(t,a){var p=this.items[t];if(typeof p<"u"){this.splayOnTop(p),this.V[p]=a;return}this.size<this.capacity?(this.deletedSize>0?p=this.deleted[--this.deletedSize]:p=this.size,this.size++):(p=this.tail,this.tail=this.backward[p],delete this.items[this.K[p]]),this.items[t]=p,this.K[p]=t,this.V[p]=a,this.forward[p]=this.head,this.backward[this.head]=p,this.head=p},c.prototype.setpop=function(t,a){var p=null,o=null,s=this.items[t];return typeof s<"u"?(this.splayOnTop(s),p=this.V[s],this.V[s]=a,{evicted:!1,key:t,value:p}):(this.size<this.capacity?(this.deletedSize>0?s=this.deleted[--this.deletedSize]:s=this.size,this.size++):(s=this.tail,this.tail=this.backward[s],p=this.V[s],o=this.K[s],delete this.items[this.K[s]]),this.items[t]=s,this.K[s]=t,this.V[s]=a,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,o?{evicted:!0,key:o,value:p}:null)},c.prototype.delete=function(t){var a=this.items[t];if(typeof a>"u")return!1;if(delete this.items[t],this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,!0;var p=this.backward[a],o=this.forward[a];return this.head===a&&(this.head=o),this.tail===a&&(this.tail=p),this.forward[p]=o,this.backward[o]=p,this.size--,this.deleted[this.deletedSize++]=a,!0},c.prototype.remove=function(t,a=void 0){var p=this.items[t];if(typeof p>"u")return a;var o=this.V[p];if(delete this.items[t],this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,o;var s=this.backward[p],r=this.forward[p];return this.head===p&&(this.head=r),this.tail===p&&(this.tail=s),this.forward[s]=r,this.backward[r]=s,this.size--,this.deleted[this.deletedSize++]=p,o},c.from=function(t,a,p,o){if(arguments.length<2){if(o=R.guessLength(t),typeof o!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=a,a=null,p=null);var s=new c(a,p,o);return E(t,function(r,e){s.set(e,r)}),s},g.exports=c}),Zx=Ft((f,g)=>{var y=Lv(),E=xe(),w=vi(),R=Li();function c(x,t,a){if(arguments.length<2&&(a=x,x=null,t=null),this.capacity=a,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-map: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-map: capacity should be a finite positive integer.");var p=w.getPointerArray(a);this.forward=new p(a),this.backward=new p(a),this.K=typeof x=="function"?new x(a):new Array(a),this.V=typeof t=="function"?new t(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items=new Map}c.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items.clear()},c.prototype.set=function(x,t){var a=this.items.get(x);if(typeof a<"u"){this.splayOnTop(a),this.V[a]=t;return}this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],this.items.delete(this.K[a])),this.items.set(x,a),this.K[a]=x,this.V[a]=t,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},c.prototype.setpop=function(x,t){var a=null,p=null,o=this.items.get(x);return typeof o<"u"?(this.splayOnTop(o),a=this.V[o],this.V[o]=t,{evicted:!1,key:x,value:a}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],a=this.V[o],p=this.K[o],this.items.delete(this.K[o])),this.items.set(x,o),this.K[o]=x,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,p?{evicted:!0,key:p,value:a}:null)},c.prototype.has=function(x){return this.items.has(x)},c.prototype.get=function(x){var t=this.items.get(x);if(typeof t<"u")return this.splayOnTop(t),this.V[t]},c.prototype.peek=function(x){var t=this.items.get(x);if(typeof t<"u")return this.V[t]},c.prototype.splayOnTop=y.prototype.splayOnTop,c.prototype.forEach=y.prototype.forEach,c.prototype.keys=y.prototype.keys,c.prototype.values=y.prototype.values,c.prototype.entries=y.prototype.entries,typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.entries),c.prototype.inspect=y.prototype.inspect,c.from=function(x,t,a,p){if(arguments.length<2){if(p=R.guessLength(x),typeof p!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(p=t,t=null,a=null);var o=new c(t,a,p);return E(x,function(s,r){o.set(r,s)}),o},g.exports=c}),J9=Ft((f,g)=>{var y=Zx(),E=xe(),w=vi(),R=Li();function c(t,a,p){arguments.length<2?y.call(this,t):y.call(this,t,a,p);var o=w.getPointerArray(this.capacity);this.deleted=new o(this.capacity),this.deletedSize=0}for(x in y.prototype)c.prototype[x]=y.prototype[x];var x;typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=y.prototype[Symbol.iterator]),c.prototype.clear=function(){y.prototype.clear.call(this),this.deletedSize=0},c.prototype.set=function(t,a){var p=this.items.get(t);if(typeof p<"u"){this.splayOnTop(p),this.V[p]=a;return}this.size<this.capacity?(this.deletedSize>0?p=this.deleted[--this.deletedSize]:p=this.size,this.size++):(p=this.tail,this.tail=this.backward[p],this.items.delete(this.K[p])),this.items.set(t,p),this.K[p]=t,this.V[p]=a,this.forward[p]=this.head,this.backward[this.head]=p,this.head=p},c.prototype.setpop=function(t,a){var p=null,o=null,s=this.items.get(t);return typeof s<"u"?(this.splayOnTop(s),p=this.V[s],this.V[s]=a,{evicted:!1,key:t,value:p}):(this.size<this.capacity?(this.deletedSize>0?s=this.deleted[--this.deletedSize]:s=this.size,this.size++):(s=this.tail,this.tail=this.backward[s],p=this.V[s],o=this.K[s],this.items.delete(this.K[s])),this.items.set(t,s),this.K[s]=t,this.V[s]=a,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,o?{evicted:!0,key:o,value:p}:null)},c.prototype.delete=function(t){var a=this.items.get(t);if(typeof a>"u")return!1;if(this.items.delete(t),this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,!0;var p=this.backward[a],o=this.forward[a];return this.head===a&&(this.head=o),this.tail===a&&(this.tail=p),this.forward[p]=o,this.backward[o]=p,this.size--,this.deleted[this.deletedSize++]=a,!0},c.prototype.remove=function(t,a=void 0){var p=this.items.get(t);if(typeof p>"u")return a;var o=this.V[p];if(this.items.delete(t),this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,o;var s=this.backward[p],r=this.forward[p];return this.head===p&&(this.head=r),this.tail===p&&(this.tail=s),this.forward[s]=r,this.backward[r]=s,this.size--,this.deleted[this.deletedSize++]=p,o},c.from=function(t,a,p,o){if(arguments.length<2){if(o=R.guessLength(t),typeof o!="number")throw new Error("mnemonist/lru-map.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=a,a=null,p=null);var s=new c(a,p,o);return E(t,function(r,e){s.set(e,r)}),s},g.exports=c}),k9=Ft((f,g)=>{var y=He(),E=xe(),w=Rv(),R=function(x,t){return x[1]>t[1]?-1:x[1]<t[1]?1:0};function c(){this.items=new Map,Object.defineProperty(this.items,"constructor",{value:c,enumerable:!1}),this.clear()}c.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()},c.prototype.add=function(x,t){if(t===0)return this;if(t<0)return this.remove(x,-t);if(t=t||1,typeof t!="number")throw new Error("mnemonist/multi-set.add: given count should be a number.");this.size+=t;let a=this.items.get(x);return a===void 0?this.dimension++:t+=a,this.items.set(x,t),this},c.prototype.set=function(x,t){var a;if(typeof t!="number")throw new Error("mnemonist/multi-set.set: given count should be a number.");return t<=0?(a=this.items.get(x),typeof a<"u"&&(this.size-=a,this.dimension--),this.items.delete(x),this):(t=t||1,a=this.items.get(x),typeof a=="number"?this.items.set(x,a+t):(this.dimension++,this.items.set(x,t)),this.size+=t,this)},c.prototype.has=function(x){return this.items.has(x)},c.prototype.delete=function(x){var t=this.items.get(x);return t===0?!1:(this.size-=t,this.dimension--,this.items.delete(x),!0)},c.prototype.remove=function(x,t){if(t!==0){if(t<0)return this.add(x,-t);if(t=t||1,typeof t!="number")throw new Error("mnemonist/multi-set.remove: given count should be a number.");var a=this.items.get(x);if(typeof a<"u"){var p=Math.max(0,a-t);p===0?(this.items.delete(x),this.size-=a,this.dimension--):(this.items.set(x,p),this.size-=t)}}},c.prototype.edit=function(x,t){var a=this.multiplicity(x);if(a!==0){var p=this.multiplicity(t);return this.items.set(t,a+p),this.items.delete(x),this}},c.prototype.multiplicity=function(x){var t=this.items.get(x);return typeof t>"u"?0:t},c.prototype.get=c.prototype.multiplicity,c.prototype.count=c.prototype.multiplicity,c.prototype.frequency=function(x){if(this.size===0)return 0;var t=this.multiplicity(x);return t/this.size},c.prototype.top=function(x){if(typeof x!="number"||x<=0)throw new Error("mnemonist/multi-set.top: n must be a number > 0.");for(var t=new w(Array,R,x),a=this.items.entries(),p;p=a.next(),!p.done;)t.push(p.value);return t.consume()},c.prototype.forEach=function(x,t){t=arguments.length>1?t:this;var a;this.items.forEach(function(p,o){for(a=0;a<p;a++)x.call(t,o,o)})},c.prototype.forEachMultiplicity=function(x,t){t=arguments.length>1?t:this,this.items.forEach(x,t)},c.prototype.keys=function(){return this.items.keys()},c.prototype.values=function(){var x=this.items.entries(),t=!1,a,p,o,s;return new y(function r(){if(!t){if(a=x.next(),a.done)return{done:!0};t=!0,p=a.value[0],o=a.value[1],s=0}return s>=o?(t=!1,r()):(s++,{done:!1,value:p})})},c.prototype.multiplicities=function(){return this.items.entries()},typeof Symbol<"u"&&(c.prototype[Symbol.iterator]=c.prototype.values),c.prototype.inspect=function(){return this.items},typeof Symbol<"u"&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),c.prototype.toJSON=function(){return this.items},c.from=function(x){var t=new c;return E(x,function(a){t.add(a)}),t},c.isSubset=function(x,t){var a=x.multiplicities(),p,o,s;if(x===t)return!0;if(x.dimension>t.dimension)return!1;for(;p=a.next(),!p.done;)if(o=p.value[0],s=p.value[1],t.multiplicity(o)<s)return!1;return!0},c.isSuperset=function(x,t){return c.isSubset(t,x)},g.exports=c}),q9=Ft((f,g)=>{var y=He(),E=xe();function w(r,e,n){return((Math.pow(r,2)-Math.pow(Math.abs(e-n),2))/2|0)+r+1}function R(r,e){for(var n=0,l=0,i=e+1;l<i;l++)n+=w(r,e,l);return n}function c(r,e){return r.length>e.length?-1:r.length<e.length?1:r<e?-1:r>e?1:0}function x(r,e){var n=r+1,l=e/n|0,i=l+1,h,u,d=e-l*n,v=n-d,m=new Array(r+1);for(h=0;h<v;h++)m[h]=[h*l,l];var T=(h-1)*l+l;for(u=0;u<d;u++)m[h+u]=[T+u*i,i];return m}function t(r,e){var n=e.length,l=r+1,i=n/l|0,h=i+1,u,d,v,m=n-i*l,T=l-m,C=new Array(r+1);for(d=0;d<T;d++)u=d*i,C[d]=e.slice(u,u+i);var S=(d-1)*i+i;for(v=0;v<m;v++)u=S+v*h,C[d+v]=e.slice(u,u+h);return C}function a(r,e,n){if(e===0)return 0;var l=n.length,i=r+1,h=l/i|0,u=h+1,d=l-h*i,v=i-d;if(e<=v-1)return e*h;var m=e-v;return v*h+m*u}function p(r,e,n,l,i,h){var u=i-n,d=i+n,v=r-n,m=i+e-v,T=i+e+v,C=l-h;return[Math.max(0,u,m),Math.min(d,T,C)]}function o(r,e,n,l,i,h){var u=e.length,d=u-n,v=p(r,d,l,u,i,h),m=v[0],T=v[1],C="",S=[],P,A,L;for(A=m,L=T+1;A<L;A++)P=e.slice(A,A+h),P!==C&&(S.push(P),C=P);return S}function s(r,e){if(typeof r!="function")throw new Error("mnemonist/passjoin-index: `levenshtein` should be a function returning edit distance between two strings.");if(typeof e!="number"||e<1)throw new Error("mnemonist/passjoin-index: `k` should be a number > 0");this.levenshtein=r,this.k=e,this.clear()}s.prototype.clear=function(){this.size=0,this.strings=[],this.invertedIndices={}},s.prototype.add=function(r){var e=r.length,n=this.size;this.strings.push(r),this.size++;var l=t(this.k,r),i=this.invertedIndices[e];typeof i>"u"&&(i={},this.invertedIndices[e]=i);var h,u,d,v,m;for(v=0,m=l.length;v<m;v++)h=l[v],d=h+v,u=i[d],typeof u>"u"?(u=[n],i[d]=u):u.push(n);return this},s.prototype.search=function(r){var e=r.length,n=this.k,l=new Set,i,h,u,d,v,m,T,C,S,P,A,L,F,I,D;for(C=Math.max(0,e-n),S=e+n+1;C<S;C++){var B=this.invertedIndices[C];if(typeof B<"u"){for(T=x(n,C),P=0,A=T.length;P<A;P++)for(u=T[P][0],d=T[P][1],m=o(n,r,C,P,u,d),m.length||(m=[""]),L=0,F=m.length;L<F;L++)if(v=m[L]+P,i=B[v],typeof i<"u")for(I=0,D=i.length;I<D;I++)h=this.strings[i[I]],(e<=n&&C<=n||!l.has(h)&&this.levenshtein(r,h)<=n)&&l.add(h)}}return l},s.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var n=0,l=this.strings.length;n<l;n++)r.call(e,this.strings[n],n,this)},s.prototype.values=function(){var r=this.strings,e=r.length,n=0;return new y(function(){if(n>=e)return{done:!0};var l=r[n];return n++,{value:l,done:!1}})},typeof Symbol<"u"&&(s.prototype[Symbol.iterator]=s.prototype.values),s.prototype.inspect=function(){var r=this.strings.slice();return Object.defineProperty(r,"constructor",{value:s,enumerable:!1}),r},typeof Symbol<"u"&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(r,e,n){var l=new s(e,n);return E(r,function(i){l.add(i)}),l},s.countKeys=R,s.comparator=c,s.partition=x,s.segments=t,s.segmentPos=a,s.multiMatchAwareInterval=p,s.multiMatchAwareSubstrings=o,g.exports=s}),_9=Ft((f,g)=>{var y=He(),E=xe();function w(){this.clear()}w.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},w.prototype.enqueue=function(R){return this.items.push(R),++this.size},w.prototype.dequeue=function(){if(this.size){var R=this.items[this.offset];return++this.offset*2>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,R}},w.prototype.peek=function(){if(this.size)return this.items[this.offset]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.offset,t=0,a=this.items.length;x<a;x++,t++)R.call(c,this.items[x],t,this)},w.prototype.toArray=function(){return this.items.slice(this.offset)},w.prototype.values=function(){var R=this.items,c=this.offset;return new y(function(){if(c>=R.length)return{done:!0};var x=R[c];return c++,{value:x,done:!1}})},w.prototype.entries=function(){var R=this.items,c=this.offset,x=0;return new y(function(){if(c>=R.length)return{done:!0};var t=R[c];return c++,{value:[x++,t],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R){var c=new w;return E(R,function(x){c.enqueue(x)}),c},w.of=function(){return w.from(arguments)},g.exports=w}),tR=Ft((f,g)=>{var y=He(),E=xe();function w(){this.clear()}w.prototype.clear=function(){this.items=[],this.size=0},w.prototype.push=function(R){return this.items.push(R),++this.size},w.prototype.pop=function(){if(this.size!==0)return this.size--,this.items.pop()},w.prototype.peek=function(){return this.items[this.size-1]},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=0,t=this.items.length;x<t;x++)R.call(c,this.items[t-x-1],x,this)},w.prototype.toArray=function(){for(var R=new Array(this.size),c=this.size-1,x=this.size;x--;)R[x]=this.items[c-x];return R},w.prototype.values=function(){var R=this.items,c=R.length,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return x++,{value:t,done:!1}})},w.prototype.entries=function(){var R=this.items,c=R.length,x=0;return new y(function(){if(x>=c)return{done:!0};var t=R[c-x-1];return{value:[x++,t],done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.toString=function(){return this.toArray().join(",")},w.prototype.toJSON=function(){return this.toArray()},w.prototype.inspect=function(){var R=this.toArray();return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),w.from=function(R){var c=new w;return E(R,function(x){c.push(x)}),c},w.of=function(){return w.from(arguments)},g.exports=w}),eR=Ft(f=>{f.intersection=function(){if(arguments.length<2)throw new Error("mnemonist/Set.intersection: needs at least two arguments.");var g=new Set,y=1/0,E=null,w,R,c=arguments.length;for(R=0;R<c;R++){if(w=arguments[R],w.size===0)return g;w.size<y&&(y=w.size,E=w)}for(var x=E.values(),t,a,p,o;t=x.next(),!t.done;){for(a=t.value,p=!0,R=0;R<c;R++)if(o=arguments[R],o!==E&&!o.has(a)){p=!1;break}p&&g.add(a)}return g},f.union=function(){if(arguments.length<2)throw new Error("mnemonist/Set.union: needs at least two arguments.");var g=new Set,y,E=arguments.length,w,R;for(y=0;y<E;y++)for(w=arguments[y].values();R=w.next(),!R.done;)g.add(R.value);return g},f.difference=function(g,y){if(!g.size)return new Set;if(!y.size)return new Set(g);for(var E=new Set,w=g.values(),R;R=w.next(),!R.done;)y.has(R.value)||E.add(R.value);return E},f.symmetricDifference=function(g,y){for(var E=new Set,w=g.values(),R;R=w.next(),!R.done;)y.has(R.value)||E.add(R.value);for(w=y.values();R=w.next(),!R.done;)g.has(R.value)||E.add(R.value);return E},f.isSubset=function(g,y){var E=g.values(),w;if(g===y)return!0;if(g.size>y.size)return!1;for(;w=E.next(),!w.done;)if(!y.has(w.value))return!1;return!0},f.isSuperset=function(g,y){return f.isSubset(y,g)},f.add=function(g,y){for(var E=y.values(),w;w=E.next(),!w.done;)g.add(w.value)},f.subtract=function(g,y){for(var E=y.values(),w;w=E.next(),!w.done;)g.delete(w.value)},f.intersect=function(g,y){for(var E=g.values(),w;w=E.next(),!w.done;)y.has(w.value)||g.delete(w.value)},f.disjunct=function(g,y){for(var E=g.values(),w,R=[];w=E.next(),!w.done;)y.has(w.value)&&R.push(w.value);for(E=y.values();w=E.next(),!w.done;)g.has(w.value)||g.add(w.value);for(var c=0,x=R.length;c<x;c++)g.delete(R[c])},f.intersectionSize=function(g,y){var E;if(g.size>y.size&&(E=g,g=y,y=E),g.size===0)return 0;if(g===y)return g.size;for(var w=g.values(),R,c=0;R=w.next(),!R.done;)y.has(R.value)&&c++;return c},f.unionSize=function(g,y){var E=f.intersectionSize(g,y);return g.size+y.size-E},f.jaccard=function(g,y){var E=f.intersectionSize(g,y);if(E===0)return 0;var w=g.size+y.size-E;return E/w},f.overlap=function(g,y){var E=f.intersectionSize(g,y);return E===0?0:E/Math.min(g.size,y.size)}}),iR=Ft((f,g)=>{var y=He(),E=vi().getPointerArray;function w(R){var c=E(R);this.start=0,this.size=0,this.capacity=R,this.dense=new c(R),this.sparse=new c(R)}w.prototype.clear=function(){this.start=0,this.size=0},w.prototype.has=function(R){if(this.size===0)return!1;var c=this.sparse[R],x=c<this.capacity&&c>=this.start&&c<this.start+this.size||c<(this.start+this.size)%this.capacity;return x&&this.dense[c]===R},w.prototype.enqueue=function(R){var c=this.sparse[R];if(this.size!==0){var x=c<this.capacity&&c>=this.start&&c<this.start+this.size||c<(this.start+this.size)%this.capacity;if(x&&this.dense[c]===R)return this}return c=(this.start+this.size)%this.capacity,this.dense[c]=R,this.sparse[R]=c,this.size++,this},w.prototype.dequeue=function(){if(this.size!==0){var R=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var c=this.dense[R];return this.sparse[c]=this.capacity,c}},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=this.capacity,t=this.size,a=this.start,p=0;p<t;)R.call(c,this.dense[a],p,this),a++,p++,a===x&&(a=0)},w.prototype.values=function(){var R=this.dense,c=this.capacity,x=this.size,t=this.start,a=0;return new y(function(){if(a>=x)return{done:!0};var p=R[t];return t++,a++,t===c&&(t=0),{value:p,done:!1}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){var R=[];return this.forEach(function(c){R.push(c)}),Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R.capacity=this.capacity,R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),g.exports=w}),nR=Ft((f,g)=>{var y=He(),E=vi().getPointerArray;function w(R,c){arguments.length<2&&(c=R,R=Array);var x=E(c);this.size=0,this.length=c,this.dense=new x(c),this.sparse=new x(c),this.vals=new R(c)}w.prototype.clear=function(){this.size=0},w.prototype.has=function(R){var c=this.sparse[R];return c<this.size&&this.dense[c]===R},w.prototype.get=function(R){var c=this.sparse[R];if(c<this.size&&this.dense[c]===R)return this.vals[c]},w.prototype.set=function(R,c){var x=this.sparse[R];return x<this.size&&this.dense[x]===R?(this.vals[x]=c,this):(this.dense[this.size]=R,this.sparse[R]=this.size,this.vals[this.size]=c,this.size++,this)},w.prototype.delete=function(R){var c=this.sparse[R];return c>=this.size||this.dense[c]!==R?!1:(c=this.dense[this.size-1],this.dense[this.sparse[R]]=c,this.sparse[c]=this.sparse[R],this.size--,!0)},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x=0;x<this.size;x++)R.call(c,this.vals[x],this.dense[x])},w.prototype.keys=function(){var R=this.size,c=this.dense,x=0;return new y(function(){if(x<R){var t=c[x];return x++,{value:t}}return{done:!0}})},w.prototype.values=function(){var R=this.size,c=this.vals,x=0;return new y(function(){if(x<R){var t=c[x];return x++,{value:t}}return{done:!0}})},w.prototype.entries=function(){var R=this.size,c=this.dense,x=this.vals,t=0;return new y(function(){if(t<R){var a=[c[t],x[t]];return t++,{value:a}}return{done:!0}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.entries),w.prototype.inspect=function(){for(var R=new Map,c=0;c<this.size;c++)R.set(this.dense[c],this.vals[c]);return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R.length=this.length,this.vals.constructor!==Array&&(R.type=this.vals.constructor.name),R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),g.exports=w}),rR=Ft((f,g)=>{var y=He(),E=vi().getPointerArray;function w(R){var c=E(R);this.size=0,this.length=R,this.dense=new c(R),this.sparse=new c(R)}w.prototype.clear=function(){this.size=0},w.prototype.has=function(R){var c=this.sparse[R];return c<this.size&&this.dense[c]===R},w.prototype.add=function(R){var c=this.sparse[R];return c<this.size&&this.dense[c]===R?this:(this.dense[this.size]=R,this.sparse[R]=this.size,this.size++,this)},w.prototype.delete=function(R){var c=this.sparse[R];return c>=this.size||this.dense[c]!==R?!1:(c=this.dense[this.size-1],this.dense[this.sparse[R]]=c,this.sparse[c]=this.sparse[R],this.size--,!0)},w.prototype.forEach=function(R,c){c=arguments.length>1?c:this;for(var x,t=0;t<this.size;t++)x=this.dense[t],R.call(c,x,x)},w.prototype.values=function(){var R=this.size,c=this.dense,x=0;return new y(function(){if(x<R){var t=c[x];return x++,{value:t}}return{done:!0}})},typeof Symbol<"u"&&(w.prototype[Symbol.iterator]=w.prototype.values),w.prototype.inspect=function(){for(var R=new Set,c=0;c<this.size;c++)R.add(this.dense[c]);return Object.defineProperty(R,"constructor",{value:w,enumerable:!1}),R.length=this.length,R},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect),g.exports=w}),sR=Ft((f,g)=>{var y=xe(),E=2,w=2,R=new Set([0,1,2]),c={0:"Returns only the top suggestion",1:"Returns suggestions with the smallest edit distance",2:"Returns every suggestion (no early termination)"};function x(e){var n=new Set;return typeof e=="number"&&n.add(e),{suggestions:n,count:0}}function t(e,n,l){return{term:e||"",distance:n||0,count:l||0}}function a(e,n,l,i){i=i||new Set,n++;var h,u=e.length,d;if(u>1)for(d=0;d<u;d++)h=e.substring(0,d)+e.substring(d+1),i.has(h)||(i.add(h),n<l&&a(h,n,l,i));return i}function p(e,n,l,i,h,u){var d=l.suggestions.values().next().value;n<2&&l.suggestions.size>0&&e[d].length-u.length>i.length-u.length&&(l.suggestions=new Set,l.count=0),(n===2||!l.suggestions.size||e[d].length-u.length>=i.length-u.length)&&l.suggestions.add(h)}function o(e,n){var l=e.length,i=n.length,h=[[]],u=l+i,d=new Map,v,m,T;for(h[0][0]=u,v=0;v<=l;v++)h[v+1]||(h[v+1]=[]),h[v+1][1]=v,h[v+1][0]=u;for(T=0;T<=i;T++)h[1][T+1]=T,h[0][T+1]=u;var C=e+n,S;for(v=0,m=C.length;v<m;v++)S=C[v],d.has(S)||d.set(S,0);for(v=1;v<=l;v++){var P=0;for(T=1;T<=i;T++){var A=d.get(n[T-1]),L=P;e[v-1]===n[T-1]?(h[v+1][T+1]=h[v][T],P=T):h[v+1][T+1]=Math.min(h[v][T],h[v+1][T],h[v][T+1])+1,h[v+1][T+1]=Math.min(h[v+1][T+1],h[A][L]+(v-A-1)+1+(T-L-1))}d.set(e[v-1],v)}return h[l+1][i+1]}function s(e,n,l,i,h,u){var d=u.length;if(d-i>h)return[];for(var v=[u],m=new Set,T=new Set,C=[],S,P;v.length>0&&(S=v.shift(),!(l<2&&C.length>0&&d-S.length>C[0].distance));){if(P=e[S],P!==void 0){if(typeof P=="number"&&(P=x(P)),P.count>0&&!T.has(S)){T.add(S);var A=t(S,d-S.length,P.count);if(C.push(A),l<2&&d-S.length===0)break}P.suggestions.forEach(D=>{var B=n[D];if(!T.has(B)){T.add(B);var G=0;if(u!==B)if(B.length===S.length)G=d-S.length;else if(d===S.length)G=B.length-S.length;else{for(var z=0,W=0,Y=B.length;z<Y&&z<d&&B[z]===u[z];)z++;for(;W<Y-z&&W<d&&B[Y-W-1]===u[d-W-1];)W++;z>0||W>0?G=o(B.substr(z,Y-z-W),u.substr(z,d-z-W)):G=o(B,u)}if(l<2&&C.length>0&&C[0].distance>G&&(C=[]),!(l<2&&C.length>0&&G>C[0].distance)&&G<=i){var K=e[B];K!==void 0&&C.push(t(B,G,K.count))}}})}if(d-S.length<i){if(l<2&&C.length>0&&d-S.length>=C[0].distance)continue;for(var L=0,F=S.length;L<F;L++){var I=S.substring(0,L)+S.substring(L+1);m.has(I)||(m.add(I),v.push(I))}}}return l===0?C.slice(0,1):C}function r(e){if(e=e||{},this.clear(),this.maxDistance=typeof e.maxDistance=="number"?e.maxDistance:E,this.verbosity=typeof e.verbosity=="number"?e.verbosity:w,typeof this.maxDistance!="number"||this.maxDistance<=0)throw Error("mnemonist/SymSpell.constructor: invalid `maxDistance` option. Should be a integer greater than 0.");if(!R.has(this.verbosity))throw Error("mnemonist/SymSpell.constructor: invalid `verbosity` option. Should be either 0, 1 or 2.")}r.prototype.clear=function(){this.size=0,this.dictionary=Object.create(null),this.maxLength=0,this.words=[]},r.prototype.add=function(e){var n=this.dictionary[e];if(n!==void 0?(typeof n=="number"&&(n=x(n),this.dictionary[e]=n),n.count++):(n=x(),n.count++,this.dictionary[e]=n,e.length>this.maxLength&&(this.maxLength=e.length)),n.count===1){var l=this.words.length;this.words.push(e);var i=a(e,0,this.maxDistance);i.forEach(h=>{var u=this.dictionary[h];u!==void 0?(typeof u=="number"&&(u=x(u),this.dictionary[h]=u),u.suggestions.has(l)||p(this.words,this.verbosity,u,e,l,h)):this.dictionary[h]=l})}return this.size++,this},r.prototype.search=function(e){return s(this.dictionary,this.words,this.verbosity,this.maxDistance,this.maxLength,e)},r.prototype.inspect=function(){var e=[];e.size=this.size,e.maxDistance=this.maxDistance,e.verbosity=this.verbosity,e.behavior=c[this.verbosity];for(var n in this.dictionary)typeof this.dictionary[n]=="object"&&this.dictionary[n].count&&e.push([n,this.dictionary[n].count]);return Object.defineProperty(e,"constructor",{value:r,enumerable:!1}),e},typeof Symbol<"u"&&(r.prototype[Symbol.for("nodejs.util.inspect.custom")]=r.prototype.inspect),r.from=function(e,n){var l=new r(n);return y(e,function(i){l.add(i)}),l},g.exports=r}),Qx=Ft((f,g)=>{var y=xe(),E=He(),w=String.fromCharCode(0);function R(c){this.mode=c===Array?"array":"string",this.clear()}R.prototype.clear=function(){this.root={},this.size=0},R.prototype.set=function(c,x){for(var t=this.root,a,p=0,o=c.length;p<o;p++)a=c[p],t=t[a]||(t[a]={});return w in t||this.size++,t[w]=x,this},R.prototype.update=function(c,x){for(var t=this.root,a,p=0,o=c.length;p<o;p++)a=c[p],t=t[a]||(t[a]={});return w in t||this.size++,t[w]=x(t[w]),this},R.prototype.get=function(c){var x=this.root,t,a,p;for(a=0,p=c.length;a<p;a++)if(t=c[a],x=x[t],typeof x>"u")return;if(w in x)return x[w]},R.prototype.delete=function(c){var x=this.root,t=null,a=null,p,o,s,r;for(s=0,r=c.length;s<r;s++){if(o=c[s],p=x,x=x[o],typeof x>"u")return!1;t!==null?Object.keys(x).length>1&&(t=null,a=null):Object.keys(x).length<2&&(t=p,a=o)}return w in x?(this.size--,t?delete t[a]:delete x[w],!0):!1},R.prototype.has=function(c){for(var x=this.root,t,a=0,p=c.length;a<p;a++)if(t=c[a],x=x[t],typeof x>"u")return!1;return w in x},R.prototype.find=function(c){var x=typeof c=="string",t=this.root,a=[],p,o,s;for(o=0,s=c.length;o<s;o++)if(p=c[o],t=t[p],typeof t>"u")return a;for(var r=[t],e=[c],n;r.length;){c=e.pop(),t=r.pop();for(n in t){if(n===w){a.push([c,t[w]]);continue}r.push(t[n]),e.push(x?c+n:c.concat(n))}}return a},R.prototype.values=function(c){var x=this.root,t=[],a,p,o;if(c){for(p=0,o=c.length;p<o;p++)if(a=c[p],x=x[a],typeof x>"u")return E.empty()}return t.push(x),new E(function(){for(var s,r=!1,e;t.length;){s=t.pop();for(e in s){if(e===w){r=!0;continue}t.push(s[e])}if(r)return{done:!1,value:s[w]}}return{done:!0}})},R.prototype.prefixes=function(c){var x=this.root,t=[],a=[],p,o,s,r=this.mode==="string";if(c){for(o=0,s=c.length;o<s;o++)if(p=c[o],x=x[p],typeof x>"u")return E.empty()}else c=r?"":[];return t.push(x),a.push(c),new E(function(){for(var e,n,l=!1,i;t.length;){e=t.pop(),n=a.pop();for(i in e){if(i===w){l=!0;continue}t.push(e[i]),a.push(r?n+i:n.concat(i))}if(l)return{done:!1,value:n}}return{done:!0}})},R.prototype.keys=R.prototype.prefixes,R.prototype.entries=function(c){var x=this.root,t=[],a=[],p,o,s,r=this.mode==="string";if(c){for(o=0,s=c.length;o<s;o++)if(p=c[o],x=x[p],typeof x>"u")return E.empty()}else c=r?"":[];return t.push(x),a.push(c),new E(function(){for(var e,n,l=!1,i;t.length;){e=t.pop(),n=a.pop();for(i in e){if(i===w){l=!0;continue}t.push(e[i]),a.push(r?n+i:n.concat(i))}if(l)return{done:!1,value:[n,e[w]]}}return{done:!0}})},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.entries),R.prototype.inspect=function(){for(var c=new Array(this.size),x=this.entries(),t,a=0;t=x.next(),!t.done;)c[a++]=t.value;return Object.defineProperty(c,"constructor",{value:R,enumerable:!1}),c},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.prototype.toJSON=function(){return this.root},R.from=function(c){var x=new R;return y(c,function(t,a){x.set(a,t)}),x},R.SENTINEL=w,g.exports=R}),aR=Ft((f,g)=>{var y=xe(),E=Qx(),w=String.fromCharCode(0);function R(x){this.mode=x===Array?"array":"string",this.clear()}for(c in E.prototype)R.prototype[c]=E.prototype[c];var c;delete R.prototype.set,delete R.prototype.get,delete R.prototype.values,delete R.prototype.entries,R.prototype.add=function(x){for(var t=this.root,a,p=0,o=x.length;p<o;p++)a=x[p],t=t[a]||(t[a]={});return w in t||this.size++,t[w]=!0,this},R.prototype.find=function(x){var t=typeof x=="string",a=this.root,p=[],o,s,r;for(s=0,r=x.length;s<r;s++)if(o=x[s],a=a[o],typeof a>"u")return p;for(var e=[a],n=[x],l;e.length;){x=n.pop(),a=e.pop();for(l in a){if(l===w){p.push(x);continue}e.push(a[l]),n.push(t?x+l:x.concat(l))}}return p},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.keys),R.prototype.inspect=function(){for(var x=new Set,t=this.keys(),a;a=t.next(),!a.done;)x.add(a.value);return Object.defineProperty(x,"constructor",{value:R,enumerable:!1}),x},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.prototype.toJSON=function(){return this.root},R.from=function(x){var t=new R;return y(x,function(a){t.add(a)}),t},R.SENTINEL=w,g.exports=R}),oR=Ft((f,g)=>{var y=He(),E=xe(),w=Li(),R=vi(),c=function(p){return Math.max(1,Math.ceil(p*1.5))},x=function(p){var o=R.getPointerArray(p);return new o(p)};function t(p,o){if(arguments.length<1)throw new Error("mnemonist/vector: expecting at least a byte array constructor.");var s=o||0,r=c,e=0,n=!1;typeof o=="object"&&(s=o.initialCapacity||0,e=o.initialLength||0,r=o.policy||r,n=o.factory===!0),this.factory=n?p:null,this.ArrayClass=p,this.length=e,this.capacity=Math.max(e,s),this.policy=r,this.array=new p(this.capacity)}t.prototype.set=function(p,o){if(this.length<p)throw new Error("Vector("+this.ArrayClass.name+").set: index out of bounds.");return this.array[p]=o,this},t.prototype.get=function(p){if(!(this.length<p))return this.array[p]},t.prototype.applyPolicy=function(p){var o=this.policy(p||this.capacity);if(typeof o!="number"||o<0)throw new Error("mnemonist/vector.applyPolicy: policy returned an invalid value (expecting a positive integer).");if(o<=this.capacity)throw new Error("mnemonist/vector.applyPolicy: policy returned a less or equal capacity to allocate.");return o},t.prototype.reallocate=function(p){if(p===this.capacity)return this;var o=this.array;if(p<this.length&&(this.length=p),p>this.capacity)if(this.factory===null?this.array=new this.ArrayClass(p):this.array=this.factory(p),R.isTypedArray(this.array))this.array.set(o,0);else for(var s=0,r=this.length;s<r;s++)this.array[s]=o[s];else this.array=o.slice(0,p);return this.capacity=p,this},t.prototype.grow=function(p){var o;if(typeof p=="number"){if(this.capacity>=p)return this;for(o=this.capacity;o<p;)o=this.applyPolicy(o);return this.reallocate(o),this}return o=this.applyPolicy(),this.reallocate(o),this},t.prototype.resize=function(p){return p===this.length?this:p<this.length?(this.length=p,this):(this.length=p,this.reallocate(p),this)},t.prototype.push=function(p){return this.capacity===this.length&&this.grow(),this.array[this.length++]=p,this.length},t.prototype.pop=function(){if(this.length!==0)return this.array[--this.length]},t.prototype.values=function(){var p=this.array,o=this.length,s=0;return new y(function(){if(s>=o)return{done:!0};var r=p[s];return s++,{value:r,done:!1}})},t.prototype.entries=function(){var p=this.array,o=this.length,s=0;return new y(function(){if(s>=o)return{done:!0};var r=p[s];return{value:[s++,r],done:!1}})},typeof Symbol<"u"&&(t.prototype[Symbol.iterator]=t.prototype.values),t.prototype.inspect=function(){var p=this.array.slice(0,this.length);return p.type=this.array.constructor.name,p.items=this.length,p.capacity=this.capacity,Object.defineProperty(p,"constructor",{value:t,enumerable:!1}),p},typeof Symbol<"u"&&(t.prototype[Symbol.for("nodejs.util.inspect.custom")]=t.prototype.inspect),t.from=function(p,o,s){if(arguments.length<3&&(s=w.guessLength(p),typeof s!="number"))throw new Error("mnemonist/vector.from: could not guess iterable length. Please provide desired capacity as last argument.");var r=new t(o,s);return E(p,function(e){r.push(e)}),r};function a(p){var o=function(r){t.call(this,p,r)};for(var s in t.prototype)t.prototype.hasOwnProperty(s)&&(o.prototype[s]=t.prototype[s]);return o.from=function(r,e){return t.from(r,p,e)},typeof Symbol<"u"&&(o.prototype[Symbol.iterator]=o.prototype.values),o}t.Int8Vector=a(Int8Array),t.Uint8Vector=a(Uint8Array),t.Uint8ClampedVector=a(Uint8ClampedArray),t.Int16Vector=a(Int16Array),t.Uint16Vector=a(Uint16Array),t.Int32Vector=a(Int32Array),t.Uint32Vector=a(Uint32Array),t.Float32Vector=a(Float32Array),t.Float64Vector=a(Float64Array),t.PointerVector=a(x),g.exports=t}),hR=Ft((f,g)=>{var y=Li(),E=vi(),w=jx().inplaceQuickSortIndices,R=Kx().lowerBoundIndices,c=Mv(),x=E.getPointerArray;function t(o,s){return o.distance<s.distance?1:o.distance>s.distance?-1:0}function a(o,s,r){for(var e=r.length,n=x(e),l=0,i=new n(e),h=new n(e),u=new n(e),d=new Float64Array(e),v=[0,0,e],m=new Float64Array(e),T,C,S,P,A,L,F,I,D;v.length;)if(A=v.pop(),P=v.pop(),T=v.pop(),C=r[A-1],A--,D=A-P,i[T]=C,D!==0){if(D===1){F=o(s[C],s[r[P]]),d[T]=F,l++,u[T]=l,i[l]=r[P];continue}for(I=P;I<A;I++)m[r[I]]=o(s[C],s[r[I]]);w(m,r,P,A),S=P+D/2-1,S===(S|0)?F=(m[r[S]]+m[r[S+1]])/2:F=m[r[Math.ceil(S)]],d[T]=F,L=R(m,r,F,P,A),A-L>0&&(l++,u[T]=l,v.push(l,L,A)),L-P>0&&(l++,h[T]=l,v.push(l,P,L))}return{nodes:i,lefts:h,rights:u,mus:d}}function p(o,s){if(typeof o!="function")throw new Error("mnemonist/VPTree.constructor: given `distance` must be a function.");if(!s)throw new Error("mnemonist/VPTree.constructor: you must provide items to the tree. A VPTree cannot be updated after its creation.");this.distance=o,this.heap=new c(t),this.D=0;var r=y.toArrayWithIndices(s);this.items=r[0];var e=r[1];this.size=e.length;var n=a(o,this.items,e);this.nodes=n.nodes,this.lefts=n.lefts,this.rights=n.rights,this.mus=n.mus}p.prototype.nearestNeighbors=function(o,s){var r=this.heap,e=[0],n=1/0,l,i,h,u,d,v,m;for(this.D=0;e.length;)l=e.pop(),i=this.nodes[l],h=this.items[i],m=this.distance(h,s),this.D++,m<n&&(r.push({distance:m,item:h}),r.size>o&&r.pop(),r.size>=o&&(n=r.peek().distance)),u=this.lefts[l],d=this.rights[l],!(!u&&!d)&&(v=this.mus[l],m<v?(u&&m<v+n&&e.push(u),d&&m>=v-n&&e.push(d)):(d&&m>=v-n&&e.push(d),u&&m<v+n&&e.push(u)));for(var T=new Array(r.size),C=r.size-1;C>=0;C--)T[C]=r.pop();return T},p.prototype.neighbors=function(o,s){var r=[],e=[0],n,l,i,h,u,d,v;for(this.D=0;e.length;)n=e.pop(),l=this.nodes[n],i=this.items[l],v=this.distance(i,s),this.D++,v<=o&&r.push({distance:v,item:i}),h=this.lefts[n],u=this.rights[n],!(!h&&!u)&&(d=this.mus[n],v<d?(h&&v<d+o&&e.push(h),u&&v>=d-o&&e.push(u)):(u&&v>=d-o&&e.push(u),h&&v<d+o&&e.push(h)));return r},p.prototype.inspect=function(){var o=this.items.slice();return Object.defineProperty(o,"constructor",{value:p,enumerable:!1}),o},typeof Symbol<"u"&&(p.prototype[Symbol.for("nodejs.util.inspect.custom")]=p.prototype.inspect),p.from=function(o,s){return new p(s,o)},g.exports=p}),lR=Ft((f,g)=>{var y=Mv(),E=wv(),w=F9();g.exports={BiMap:O9(),BitSet:D9(),BitVector:I9(),BloomFilter:N9(),BKTree:G9(),CircularBuffer:z9(),DefaultMap:b9(),DefaultWeakMap:U9(),FixedDeque:Yx(),StaticDisjointSet:V9(),FibonacciHeap:E,MinFibonacciHeap:E.MinFibonacciHeap,MaxFibonacciHeap:E.MaxFibonacciHeap,FixedReverseHeap:Rv(),FuzzyMap:W9(),FuzzyMultiMap:X9(),HashedArrayTree:Y9(),Heap:y,MinHeap:y.MinHeap,MaxHeap:y.MaxHeap,StaticIntervalTree:H9(),InvertedIndex:K9(),KDTree:j9(),LinkedList:Z9(),LRUCache:Lv(),LRUCacheWithDelete:Q9(),LRUMap:Zx(),LRUMapWithDelete:J9(),MultiMap:Hx(),MultiSet:k9(),PassjoinIndex:q9(),Queue:_9(),FixedStack:$x(),Stack:tR(),SuffixArray:w,GeneralizedSuffixArray:w.GeneralizedSuffixArray,Set:eR(),SparseQueueSet:iR(),SparseMap:nR(),SparseSet:rR(),SymSpell:sR(),Trie:aR(),TrieMap:Qx(),Vector:oR(),VPTree:hR()}}),Pt=class Me{static get ZERO(){return new Me(0,0)}static get ONE(){return new Me(1,1)}static get UP(){return new Me(0,-1)}static get DOWN(){return new Me(0,1)}static get LEFT(){return new Me(-1,0)}static get RIGHT(){return new Me(1,0)}static get UP_LEFT(){return new Me(-1,-1)}static get UP_RIGHT(){return new Me(1,-1)}static get DOWN_RIGHT(){return new Me(1,1)}static get DOWN_LEFT(){return new Me(-1,1)}constructor(g,y){typeof g=="number"?(this.x=g,this.y=y||0):(this.x=g.x,this.y=g.y)}clone(){return new Me(this.x,this.y)}add(g){return new Me(this.x+g.x,this.y+g.y)}multiply(g){return new Me(this.x*g.x,this.y*g.y)}divide(g){return new Me(this.x/g.x,this.y/g.y)}subtract(g){return new Me(this.x-g.x,this.y-g.y)}equals(g){return this.x===g.x&&this.y===g.y}abs(){return new Me(Math.abs(this.x),Math.abs(this.y))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}modulo(g){return new Me(this.x%g.x,this.y%g.y)}scalarModulo(g){return new Me(this.x%g,this.y%g)}scalarMult(g){return new Me(this.x*g,this.y*g)}toPosition(){return{x:this.x,y:this.y}}toString(){return`${this.x}#${this.y}`}},Vt=class{static equal(f,g){return f.position.x===g.position.x&&f.position.y===g.position.y&&f.layer===g.layer}static copyOver(f,g){g.position.x=f.position.x,g.position.y=f.position.y,g.layer=f.layer}static clone(f){return{position:f.position.clone(),layer:f.layer}}static toString(f){return`${f.position.toString()}#${f.layer}`}static toInternal(f){return{position:new Pt(f.position.x,f.position.y),layer:f.charLayer}}static fromInternal(f){return{position:f.position.toPosition(),charLayer:f.layer}}},uR=(f=>(f.NONE="none",f.LEFT="left",f.UP_LEFT="up-left",f.UP="up",f.UP_RIGHT="up-right",f.RIGHT="right",f.DOWN_RIGHT="down-right",f.DOWN="down",f.DOWN_LEFT="down-left",f))(uR||{}),fR={up:"down",down:"up",left:"right",right:"left",none:"none","up-left":"down-right","up-right":"down-left","down-right":"up-left","down-left":"up-right"},dR={up:Pt.UP,down:Pt.DOWN,left:Pt.LEFT,right:Pt.RIGHT,none:Pt.ZERO,"up-left":Pt.UP_LEFT,"up-right":Pt.UP_RIGHT,"down-right":Pt.DOWN_RIGHT,"down-left":Pt.DOWN_LEFT},Ml={up:0,"up-right":1,right:2,"down-right":3,down:4,"down-left":5,left:6,"up-left":7,none:NaN},Jx=["up","up-right","right","down-right","down","down-left","left","up-left"],cR=["down-left","down-right","up-right","up-left"];function Fv(){return["up","down","left","right","none","up-left","up-right","down-right","down-left"]}function Za(f){return cR.includes(f)}function Um(f){return["left","right"].includes(f)}function Vm(f){return["up","down"].includes(f)}function vR(f,g=1){return f==="none"?"none":Jx[(Ml[f]+8-Math.abs(g)%8)%8]}function Ov(f,g=1){return f==="none"?"none":Jx[(Ml[f]+g)%8]}function _s(f){return dR[f]}function pR(f){return fR[f]}function Hi(f,g){if(f.x===g.x){if(f.y>g.y)return"up";if(f.y<g.y)return"down"}else if(f.y===g.y){if(f.x>g.x)return"left";if(f.x<g.x)return"right"}else if(f.x>g.x){if(f.y<g.y)return"down-left";if(f.y>g.y)return"up-left"}else if(f.x<g.x){if(f.y<g.y)return"down-right";if(f.y>g.y)return"up-right"}return"none"}var gR=(f=>(f[f.FOUR=4]="FOUR",f[f.EIGHT=8]="EIGHT",f))(gR||{});function Is(f){return typeof f=="string"&&Fv().includes(f)}var fc=function(f,g){return fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(y[w]=E[w])},fc(f,g)};function Po(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");fc(f,g);function y(){this.constructor=f}f.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}function mR(f,g,y,E){function w(R){return R instanceof y?R:new y(function(c){c(R)})}return new(y||(y=Promise))(function(R,c){function x(p){try{a(E.next(p))}catch(o){c(o)}}function t(p){try{a(E.throw(p))}catch(o){c(o)}}function a(p){p.done?R(p.value):w(p.value).then(x,t)}a((E=E.apply(f,g||[])).next())})}function kx(f,g){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},E,w,R,c;return c={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function x(a){return function(p){return t([a,p])}}function t(a){if(E)throw new TypeError("Generator is already executing.");for(;c&&(c=0,a[0]&&(y=0)),y;)try{if(E=1,w&&(R=a[0]&2?w.return:a[0]?w.throw||((R=w.return)&&R.call(w),0):w.next)&&!(R=R.call(w,a[1])).done)return R;switch(w=0,R&&(a=[a[0]&2,R.value]),a[0]){case 0:case 1:R=a;break;case 4:return y.label++,{value:a[1],done:!1};case 5:y.label++,w=a[1],a=[0];continue;case 7:a=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(a[0]===6||a[0]===2)){y=0;continue}if(a[0]===3&&(!R||a[1]>R[0]&&a[1]<R[3])){y.label=a[1];break}if(a[0]===6&&y.label<R[1]){y.label=R[1],R=a;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(a);break}R[2]&&y.ops.pop(),y.trys.pop();continue}a=g.call(f,y)}catch(p){a=[6,p],w=0}finally{E=R=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ta(f){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&f[g],E=0;if(y)return y.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&E>=f.length&&(f=void 0),{value:f&&f[E++],done:!f}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function go(f,g){var y=typeof Symbol=="function"&&f[Symbol.iterator];if(!y)return f;var E=y.call(f),w,R=[],c;try{for(;(g===void 0||g-- >0)&&!(w=E.next()).done;)R.push(w.value)}catch(x){c={error:x}}finally{try{w&&!w.done&&(y=E.return)&&y.call(E)}finally{if(c)throw c.error}}return R}function mo(f,g,y){if(y||arguments.length===2)for(var E=0,w=g.length,R;E<w;E++)(R||!(E in g))&&(R||(R=Array.prototype.slice.call(g,0,E)),R[E]=g[E]);return f.concat(R||Array.prototype.slice.call(g))}function Xs(f){return this instanceof Xs?(this.v=f,this):new Xs(f)}function yR(f,g,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=y.apply(f,g||[]),w,R=[];return w={},c("next"),c("throw"),c("return"),w[Symbol.asyncIterator]=function(){return this},w;function c(s){E[s]&&(w[s]=function(r){return new Promise(function(e,n){R.push([s,r,e,n])>1||x(s,r)})})}function x(s,r){try{t(E[s](r))}catch(e){o(R[0][3],e)}}function t(s){s.value instanceof Xs?Promise.resolve(s.value.v).then(a,p):o(R[0][2],s)}function a(s){x("next",s)}function p(s){x("throw",s)}function o(s,r){s(r),R.shift(),R.length&&x(R[0][0],R[0][1])}}function xR(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=f[Symbol.asyncIterator],y;return g?g.call(f):(f=typeof ta=="function"?ta(f):f[Symbol.iterator](),y={},E("next"),E("throw"),E("return"),y[Symbol.asyncIterator]=function(){return this},y);function E(R){y[R]=f[R]&&function(c){return new Promise(function(x,t){c=f[R](c),w(x,t,c.done,c.value)})}}function w(R,c,x,t){Promise.resolve(t).then(function(a){R({value:a,done:x})},c)}}function Ie(f){return typeof f=="function"}function qx(f){var g=function(E){Error.call(E),E.stack=new Error().stack},y=f(g);return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}var rd=qx(function(f){return function(g){f(this),this.message=g?g.length+` errors occurred during unsubscription:
`+g.map(function(y,E){return E+1+") "+y.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=g}});function dc(f,g){if(f){var y=f.indexOf(g);0<=y&&f.splice(y,1)}}var du=function(){function f(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}return f.prototype.unsubscribe=function(){var g,y,E,w,R;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var x=ta(c),t=x.next();!t.done;t=x.next()){var a=t.value;a.remove(this)}}catch(n){g={error:n}}finally{try{t&&!t.done&&(y=x.return)&&y.call(x)}finally{if(g)throw g.error}}else c.remove(this);var p=this.initialTeardown;if(Ie(p))try{p()}catch(n){R=n instanceof rd?n.errors:[n]}var o=this._finalizers;if(o){this._finalizers=null;try{for(var s=ta(o),r=s.next();!r.done;r=s.next()){var e=r.value;try{Wm(e)}catch(n){R=R??[],n instanceof rd?R=mo(mo([],go(R)),go(n.errors)):R.push(n)}}}catch(n){E={error:n}}finally{try{r&&!r.done&&(w=s.return)&&w.call(s)}finally{if(E)throw E.error}}}if(R)throw new rd(R)}},f.prototype.add=function(g){var y;if(g&&g!==this)if(this.closed)Wm(g);else{if(g instanceof f){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=(y=this._finalizers)!==null&&y!==void 0?y:[]).push(g)}},f.prototype._hasParent=function(g){var y=this._parentage;return y===g||Array.isArray(y)&&y.includes(g)},f.prototype._addParent=function(g){var y=this._parentage;this._parentage=Array.isArray(y)?(y.push(g),y):y?[y,g]:g},f.prototype._removeParent=function(g){var y=this._parentage;y===g?this._parentage=null:Array.isArray(y)&&dc(y,g)},f.prototype.remove=function(g){var y=this._finalizers;y&&dc(y,g),g instanceof f&&g._removeParent(this)},f.EMPTY=function(){var g=new f;return g.closed=!0,g}(),f}(),_x=du.EMPTY;function tT(f){return f instanceof du||f&&"closed"in f&&Ie(f.remove)&&Ie(f.add)&&Ie(f.unsubscribe)}function Wm(f){Ie(f)?f():f.unsubscribe()}var eT={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},TR={setTimeout:function(f,g){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];return setTimeout.apply(void 0,mo([f,g],go(y)))},clearTimeout:function(f){return clearTimeout(f)},delegate:void 0};function iT(f){TR.setTimeout(function(){throw f})}function cc(){}function qh(f){f()}var Dv=function(f){Po(g,f);function g(y){var E=f.call(this)||this;return E.isStopped=!1,y?(E.destination=y,tT(y)&&y.add(E)):E.destination=PR,E}return g.create=function(y,E,w){return new vc(y,E,w)},g.prototype.next=function(y){this.isStopped?void 0:this._next(y)},g.prototype.error=function(y){this.isStopped?void 0:(this.isStopped=!0,this._error(y))},g.prototype.complete=function(){this.isStopped?void 0:(this.isStopped=!0,this._complete())},g.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,f.prototype.unsubscribe.call(this),this.destination=null)},g.prototype._next=function(y){this.destination.next(y)},g.prototype._error=function(y){try{this.destination.error(y)}finally{this.unsubscribe()}},g.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},g}(du),SR=Function.prototype.bind;function sd(f,g){return SR.call(f,g)}var CR=function(){function f(g){this.partialObserver=g}return f.prototype.next=function(g){var y=this.partialObserver;if(y.next)try{y.next(g)}catch(E){Ih(E)}},f.prototype.error=function(g){var y=this.partialObserver;if(y.error)try{y.error(g)}catch(E){Ih(E)}else Ih(g)},f.prototype.complete=function(){var g=this.partialObserver;if(g.complete)try{g.complete()}catch(y){Ih(y)}},f}(),vc=function(f){Po(g,f);function g(y,E,w){var R=f.call(this)||this,c;if(Ie(y)||!y)c={next:y??void 0,error:E??void 0,complete:w??void 0};else{var x;R&&eT.useDeprecatedNextContext?(x=Object.create(y),x.unsubscribe=function(){return R.unsubscribe()},c={next:y.next&&sd(y.next,x),error:y.error&&sd(y.error,x),complete:y.complete&&sd(y.complete,x)}):c=y}return R.destination=new CR(c),R}return g}(Dv);function Ih(f){iT(f)}function ER(f){throw f}var PR={closed:!0,next:cc,error:ER,complete:cc},Iv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nT(f){return f}function AR(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return rT(f)}function rT(f){return f.length===0?nT:f.length===1?f[0]:function(g){return f.reduce(function(y,E){return E(y)},g)}}var Zi=function(){function f(g){g&&(this._subscribe=g)}return f.prototype.lift=function(g){var y=new f;return y.source=this,y.operator=g,y},f.prototype.subscribe=function(g,y,E){var w=this,R=MR(g)?g:new vc(g,y,E);return qh(function(){var c=w,x=c.operator,t=c.source;R.add(x?x.call(R,t):t?w._subscribe(R):w._trySubscribe(R))}),R},f.prototype._trySubscribe=function(g){try{return this._subscribe(g)}catch(y){g.error(y)}},f.prototype.forEach=function(g,y){var E=this;return y=Xm(y),new y(function(w,R){var c=new vc({next:function(x){try{g(x)}catch(t){R(t),c.unsubscribe()}},error:R,complete:w});E.subscribe(c)})},f.prototype._subscribe=function(g){var y;return(y=this.source)===null||y===void 0?void 0:y.subscribe(g)},f.prototype[Iv]=function(){return this},f.prototype.pipe=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return rT(g)(this)},f.prototype.toPromise=function(g){var y=this;return g=Xm(g),new g(function(E,w){var R;y.subscribe(function(c){return R=c},function(c){return w(c)},function(){return E(R)})})},f.create=function(g){return new f(g)},f}();function Xm(f){var g;return(g=f??eT.Promise)!==null&&g!==void 0?g:Promise}function wR(f){return f&&Ie(f.next)&&Ie(f.error)&&Ie(f.complete)}function MR(f){return f&&f instanceof Dv||wR(f)&&tT(f)}function RR(f){return Ie(f==null?void 0:f.lift)}function wr(f){return function(g){if(RR(g))return g.lift(function(y){try{return f(y,this)}catch(E){this.error(E)}});throw new TypeError("Unable to lift unknown Observable type")}}function kr(f,g,y,E,w){return new LR(f,g,y,E,w)}var LR=function(f){Po(g,f);function g(y,E,w,R,c,x){var t=f.call(this,y)||this;return t.onFinalize=c,t.shouldUnsubscribe=x,t._next=E?function(a){try{E(a)}catch(p){y.error(p)}}:f.prototype._next,t._error=R?function(a){try{R(a)}catch(p){y.error(p)}finally{this.unsubscribe()}}:f.prototype._error,t._complete=w?function(){try{w()}catch(a){y.error(a)}finally{this.unsubscribe()}}:f.prototype._complete,t}return g.prototype.unsubscribe=function(){var y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var E=this.closed;f.prototype.unsubscribe.call(this),!E&&((y=this.onFinalize)===null||y===void 0||y.call(this))}},g}(Dv),FR=qx(function(f){return function(){f(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ge=function(f){Po(g,f);function g(){var y=f.call(this)||this;return y.closed=!1,y.currentObservers=null,y.observers=[],y.isStopped=!1,y.hasError=!1,y.thrownError=null,y}return g.prototype.lift=function(y){var E=new Ym(this,this);return E.operator=y,E},g.prototype._throwIfClosed=function(){if(this.closed)throw new FR},g.prototype.next=function(y){var E=this;qh(function(){var w,R;if(E._throwIfClosed(),!E.isStopped){E.currentObservers||(E.currentObservers=Array.from(E.observers));try{for(var c=ta(E.currentObservers),x=c.next();!x.done;x=c.next()){var t=x.value;t.next(y)}}catch(a){w={error:a}}finally{try{x&&!x.done&&(R=c.return)&&R.call(c)}finally{if(w)throw w.error}}}})},g.prototype.error=function(y){var E=this;qh(function(){if(E._throwIfClosed(),!E.isStopped){E.hasError=E.isStopped=!0,E.thrownError=y;for(var w=E.observers;w.length;)w.shift().error(y)}})},g.prototype.complete=function(){var y=this;qh(function(){if(y._throwIfClosed(),!y.isStopped){y.isStopped=!0;for(var E=y.observers;E.length;)E.shift().complete()}})},g.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(g.prototype,"observed",{get:function(){var y;return((y=this.observers)===null||y===void 0?void 0:y.length)>0},enumerable:!1,configurable:!0}),g.prototype._trySubscribe=function(y){return this._throwIfClosed(),f.prototype._trySubscribe.call(this,y)},g.prototype._subscribe=function(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)},g.prototype._innerSubscribe=function(y){var E=this,w=this,R=w.hasError,c=w.isStopped,x=w.observers;return R||c?_x:(this.currentObservers=null,x.push(y),new du(function(){E.currentObservers=null,dc(x,y)}))},g.prototype._checkFinalizedStatuses=function(y){var E=this,w=E.hasError,R=E.thrownError,c=E.isStopped;w?y.error(R):c&&y.complete()},g.prototype.asObservable=function(){var y=new Zi;return y.source=this,y},g.create=function(y,E){return new Ym(y,E)},g}(Zi),Ym=function(f){Po(g,f);function g(y,E){var w=f.call(this)||this;return w.destination=y,w.source=E,w}return g.prototype.next=function(y){var E,w;(w=(E=this.destination)===null||E===void 0?void 0:E.next)===null||w===void 0||w.call(E,y)},g.prototype.error=function(y){var E,w;(w=(E=this.destination)===null||E===void 0?void 0:E.error)===null||w===void 0||w.call(E,y)},g.prototype.complete=function(){var y,E;(E=(y=this.destination)===null||y===void 0?void 0:y.complete)===null||E===void 0||E.call(y)},g.prototype._subscribe=function(y){var E,w;return(w=(E=this.source)===null||E===void 0?void 0:E.subscribe(y))!==null&&w!==void 0?w:_x},g}(ge),sT=new Zi(function(f){return f.complete()});function OR(f){return f&&Ie(f.schedule)}function aT(f){return f[f.length-1]}function oT(f){return OR(aT(f))?f.pop():void 0}function hT(f,g){return typeof aT(f)=="number"?f.pop():g}var lT=function(f){return f&&typeof f.length=="number"&&typeof f!="function"};function uT(f){return Ie(f==null?void 0:f.then)}function fT(f){return Ie(f[Iv])}function dT(f){return Symbol.asyncIterator&&Ie(f==null?void 0:f[Symbol.asyncIterator])}function cT(f){return new TypeError("You provided "+(f!==null&&typeof f=="object"?"an invalid object":"'"+f+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function DR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vT=DR();function pT(f){return Ie(f==null?void 0:f[vT])}function gT(f){return yR(this,arguments,function(){var g,y,E,w;return kx(this,function(R){switch(R.label){case 0:g=f.getReader(),R.label=1;case 1:R.trys.push([1,,9,10]),R.label=2;case 2:return[4,Xs(g.read())];case 3:return y=R.sent(),E=y.value,w=y.done,w?[4,Xs(void 0)]:[3,5];case 4:return[2,R.sent()];case 5:return[4,Xs(E)];case 6:return[4,R.sent()];case 7:return R.sent(),[3,2];case 8:return[3,10];case 9:return g.releaseLock(),[7];case 10:return[2]}})})}function mT(f){return Ie(f==null?void 0:f.getReader)}function es(f){if(f instanceof Zi)return f;if(f!=null){if(fT(f))return IR(f);if(lT(f))return BR(f);if(uT(f))return NR(f);if(dT(f))return yT(f);if(pT(f))return GR(f);if(mT(f))return zR(f)}throw cT(f)}function IR(f){return new Zi(function(g){var y=f[Iv]();if(Ie(y.subscribe))return y.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BR(f){return new Zi(function(g){for(var y=0;y<f.length&&!g.closed;y++)g.next(f[y]);g.complete()})}function NR(f){return new Zi(function(g){f.then(function(y){g.closed||(g.next(y),g.complete())},function(y){return g.error(y)}).then(null,iT)})}function GR(f){return new Zi(function(g){var y,E;try{for(var w=ta(f),R=w.next();!R.done;R=w.next()){var c=R.value;if(g.next(c),g.closed)return}}catch(x){y={error:x}}finally{try{R&&!R.done&&(E=w.return)&&E.call(w)}finally{if(y)throw y.error}}g.complete()})}function yT(f){return new Zi(function(g){bR(f,g).catch(function(y){return g.error(y)})})}function zR(f){return yT(gT(f))}function bR(f,g){var y,E,w,R;return mR(this,void 0,void 0,function(){var c,x;return kx(this,function(t){switch(t.label){case 0:t.trys.push([0,5,6,11]),y=xR(f),t.label=1;case 1:return[4,y.next()];case 2:if(E=t.sent(),!!E.done)return[3,4];if(c=E.value,g.next(c),g.closed)return[2];t.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return x=t.sent(),w={error:x},[3,11];case 6:return t.trys.push([6,,9,10]),E&&!E.done&&(R=y.return)?[4,R.call(y)]:[3,8];case 7:t.sent(),t.label=8;case 8:return[3,10];case 9:if(w)throw w.error;return[7];case 10:return[7];case 11:return g.complete(),[2]}})})}function yr(f,g,y,E,w){E===void 0&&(E=0),w===void 0&&(w=!1);var R=g.schedule(function(){y(),w?f.add(this.schedule(null,E)):this.unsubscribe()},E);if(f.add(R),!w)return R}function xT(f,g){return g===void 0&&(g=0),wr(function(y,E){y.subscribe(kr(E,function(w){return yr(E,f,function(){return E.next(w)},g)},function(){return yr(E,f,function(){return E.complete()},g)},function(w){return yr(E,f,function(){return E.error(w)},g)}))})}function TT(f,g){return g===void 0&&(g=0),wr(function(y,E){E.add(f.schedule(function(){return y.subscribe(E)},g))})}function UR(f,g){return es(f).pipe(TT(g),xT(g))}function VR(f,g){return es(f).pipe(TT(g),xT(g))}function WR(f,g){return new Zi(function(y){var E=0;return g.schedule(function(){E===f.length?y.complete():(y.next(f[E++]),y.closed||this.schedule())})})}function XR(f,g){return new Zi(function(y){var E;return yr(y,g,function(){E=f[vT](),yr(y,g,function(){var w,R,c;try{w=E.next(),R=w.value,c=w.done}catch(x){y.error(x);return}c?y.complete():y.next(R)},0,!0)}),function(){return Ie(E==null?void 0:E.return)&&E.return()}})}function ST(f,g){if(!f)throw new Error("Iterable cannot be null");return new Zi(function(y){yr(y,g,function(){var E=f[Symbol.asyncIterator]();yr(y,g,function(){E.next().then(function(w){w.done?y.complete():y.next(w.value)})},0,!0)})})}function YR(f,g){return ST(gT(f),g)}function HR(f,g){if(f!=null){if(fT(f))return UR(f,g);if(lT(f))return WR(f,g);if(uT(f))return VR(f,g);if(dT(f))return ST(f,g);if(pT(f))return XR(f,g);if(mT(f))return YR(f,g)}throw cT(f)}function CT(f,g){return g?HR(f,g):es(f)}function Qa(f,g){return wr(function(y,E){var w=0;y.subscribe(kr(E,function(R){E.next(f.call(g,R,w++))}))})}function $R(f,g,y,E,w,R,c,x){var t=[],a=0,p=0,o=!1,s=function(){o&&!t.length&&!a&&g.complete()},r=function(n){return a<E?e(n):t.push(n)},e=function(n){R&&g.next(n),a++;var l=!1;es(y(n,p++)).subscribe(kr(g,function(i){w==null||w(i),R?r(i):g.next(i)},function(){l=!0},void 0,function(){if(l)try{a--;for(var i=function(){var h=t.shift();c?yr(g,c,function(){return e(h)}):e(h)};t.length&&a<E;)i();s()}catch(h){g.error(h)}}))};return f.subscribe(kr(g,r,function(){o=!0,s()})),function(){x==null||x()}}function ET(f,g,y){return y===void 0&&(y=1/0),Ie(g)?ET(function(E,w){return Qa(function(R,c){return g(E,R,w,c)})(es(f(E,w)))},y):(typeof g=="number"&&(y=g),wr(function(E,w){return $R(E,w,f,y)}))}function PT(f){return f===void 0&&(f=1/0),ET(nT,f)}function KR(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];var y=oT(f),E=hT(f,1/0),w=f;return w.length?w.length===1?es(w[0]):PT(E)(CT(w,y)):sT}var jR=Array.isArray;function ZR(f){return f.length===1&&jR(f[0])?f[0]:f}function Cr(f,g){return wr(function(y,E){var w=0;y.subscribe(kr(E,function(R){return f.call(g,R,w++)&&E.next(R)}))})}function sa(f){return f<=0?function(){return sT}:wr(function(g,y){var E=0;g.subscribe(kr(y,function(w){++E<=f&&(y.next(w),f<=E&&y.complete())}))})}function QR(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];var y=oT(f),E=hT(f,1/0);return f=ZR(f),wr(function(w,R){PT(E)(CT(mo([w],go(f)),y)).subscribe(R)})}function JR(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return QR.apply(void 0,mo([],go(f)))}function Wi(f){return wr(function(g,y){es(f).subscribe(kr(y,function(){return y.complete()},cc)),!y.closed&&g.subscribe(y)})}var br=1e3,kR=class{constructor(f,g){this.id=f,this.movementDirection="none",this._tilePos={position:new Pt(0,0),layer:void 0},this.movementStarted$=new ge,this.movementStopped$=new ge,this.directionChanged$=new ge,this.positionChangeStarted$=new ge,this.positionChangeFinished$=new ge,this.tilePositionSet$=new ge,this.autoMovementSet$=new ge,this.lastMovementImpulse="none",this.facingDirection="down",this.depthChanged$=new ge,this.movementProgress=0;var y,E,w;this.tilemap=g.tilemap,this.speed=g.speed,this.collidesWithTilesInternal=g.collidesWithTiles,this._tilePos.layer=g.charLayer,this.ignoreMissingTiles=(y=g.ignoreMissingTiles)!=null?y:!1,this.collisionGroups=new Set(g.collisionGroups||[]),this.ignoreCollisionGroups=new Set(g.ignoreCollisionGroups||[]),this.labels=new Set(g.labels||[]),this.numberOfDirections=g.numberOfDirections,g.facingDirection&&this.turnTowards(g.facingDirection),this.tileWidth=(E=g.tileWidth)!=null?E:1,this.tileHeight=(w=g.tileHeight)!=null?w:1}getId(){return this.id}getSpeed(){return this.speed}setSpeed(f){this.speed=f}setMovement(f){this.autoMovementSet$.next(f),this.movement=f}getMovement(){return this.movement}collidesWithTiles(){return this.collidesWithTilesInternal}setCollidesWithTiles(f){this.collidesWithTilesInternal=f}getIgnoreMissingTiles(){return this.ignoreMissingTiles}setIgnoreMissingTiles(f){this.ignoreMissingTiles=f}setTilePosition(f){this.isMoving()&&this.movementStopped$.next(this.movementDirection),this.tilePositionSet$.next(de({},f)),this.fire(this.positionChangeStarted$,this.tilePos,f),this.fire(this.positionChangeFinished$,this.tilePos,f),this.movementDirection="none",this.lastMovementImpulse="none",this.tilePos=f,this.movementProgress=0}getTilePos(){return this.tilePos}getNextTilePos(){if(!this.isMoving())return this.tilePos;let f=this.tilePos.layer,g=this.tilePosInDirection(this.tilePos.position,this.movementDirection),y=this.tilemap.getTransition(g,this.tilePos.layer);return y&&(f=y),{position:this.tilePosInDirection(this.tilePos.position,this.movementDirection),layer:f}}getTileWidth(){return this.tileWidth}getTileHeight(){return this.tileHeight}move(f){this.lastMovementImpulse=f,f!="none"&&(this.isMoving()||(this.isBlockingDirection(f)?this.changeFacingDirection(f):this.startMoving(f)))}update(f){var g;(g=this.movement)==null||g.update(f),this.isMoving()&&this.updateCharacterPosition(f),this.lastMovementImpulse="none"}getMovementDirection(){return this.movementDirection}isBlockingDirection(f){if(f=="none")return!1;let g=this.tilePosInDirection(this.getNextTilePos().position,f),y=this.tilemap.getTransition(g,this.getNextTilePos().layer)||this.getNextTilePos().layer;return this.collidesWithTilesInternal&&this.isTileBlocking(f,y)?!0:this.isCharBlocking(f,y)}isTileBlocking(f,g){return this.someCharTile((y,E)=>{let w=this.tilePosInDirection(new Pt(y,E),f);return this.tilemap.hasBlockingTile(w,g,pR(f),this.ignoreMissingTiles)})}isCharBlocking(f,g){return this.someCharTile((y,E)=>{let w=this.tilePosInDirection(new Pt(y,E),f);return this.tilemap.hasBlockingChar(w,g,this.getCollisionGroups(),new Set([this.getId()]),this.ignoreCollisionGroups)})}isMoving(){return this.movementDirection!="none"}turnTowards(f){this.isMoving()||f!="none"&&this.changeFacingDirection(f)}changeFacingDirection(f){this.facingDirection!==f&&(this.facingDirection=f,this.directionChanged$.next(f))}getFacingDirection(){return this.facingDirection}getFacingPosition(){return this._tilePos.position.add(_s(this.facingDirection))}addCollisionGroup(f){this.collisionGroups.add(f)}setCollisionGroups(f){this.collisionGroups=new Set(f)}setIgnoreCollisionGroups(f){this.ignoreCollisionGroups=new Set(f)}getCollisionGroups(){return Array.from(this.collisionGroups)}getIgnoreCollisionGroups(){return Array.from(this.ignoreCollisionGroups)}hasCollisionGroup(f){return this.collisionGroups.has(f)}removeCollisionGroup(f){this.collisionGroups.delete(f)}removeAllCollisionGroups(){this.collisionGroups.clear()}addLabels(f){for(let g of f)this.labels.add(g)}getLabels(){return[...this.labels.values()]}hasLabel(f){return this.labels.has(f)}clearLabels(){this.labels.clear()}removeLabels(f){for(let g of f)this.labels.delete(g)}getNumberOfDirections(){return this.numberOfDirections}movementStarted(){return this.movementStarted$}movementStopped(){return this.movementStopped$}directionChanged(){return this.directionChanged$}tilePositionSet(){return this.tilePositionSet$}positionChangeStarted(){return this.positionChangeStarted$}positionChangeFinished(){return this.positionChangeFinished$}autoMovementSet(){return this.autoMovementSet$}depthChanged(){return this.depthChanged$}getMovementProgress(){return this.movementProgress}setMovementProgress(f){let g=Math.max(0,Math.min(br,f));this.movementProgress=g}hasWalkedHalfATile(){return this.movementProgress>br/2}willCrossTileBorderThisUpdate(f){return this.movementProgress+this.maxProgressForDelta(f)>=br}updateCharacterPosition(f){let g=this.willCrossTileBorderThisUpdate(f),y=1-(g?br-this.movementProgress:this.maxProgressForDelta(f))/this.maxProgressForDelta(f);this.movementProgress=Math.min(this.movementProgress+this.maxProgressForDelta(f),br),g&&(this.movementProgress=0,this.shouldContinueMoving()?(this.fire(this.positionChangeFinished$,this.tilePos,this.getNextTilePos()),this.tilePos=this.getNextTilePos(),this.startMoving(this.lastMovementImpulse),y>0&&this.updateCharacterPosition(f*y)):this.stopMoving())}maxProgressForDelta(f){let g=f/1e3;return Math.floor(g*this.speed*br)}get tilePos(){return Vt.clone(this._tilePos)}set tilePos(f){Vt.copyOver(f,this._tilePos)}startMoving(f){f!=="none"&&(f!=this.movementDirection&&this.movementStarted$.next(f),this.movementDirection=f,this.facingDirection=f,this.fire(this.positionChangeStarted$,this.tilePos,this.getNextTilePos()))}tilePosInDirection(f,g){return f.add(_s(this.tilemap.toMapDirection(g)))}shouldContinueMoving(){return this.lastMovementImpulse!=="none"&&!this.isBlockingDirection(this.lastMovementImpulse)}stopMoving(){if(this.movementDirection==="none")return;let f=this.tilePos,g=this.getNextTilePos(),y=this.movementDirection;this.tilePos=this.getNextTilePos(),this.movementDirection="none",this.movementStopped$.next(y),this.fire(this.positionChangeFinished$,f,g)}fire(f,{position:g,layer:y},{position:E,layer:w}){f.next({exitTile:g,enterTile:E,exitLayer:y,enterLayer:w})}someCharTile(f){let g=this.getNextTilePos().position;for(let y=g.x;y<g.x+this.getTileWidth();y++)for(let E=g.y;E<g.y+this.getTileHeight();E++)if(f(y,E))return!0;return!1}},pc=class _h{constructor(g,y){this.walkingAnimationMapping=g,this.charsInRow=y,this.lastFootLeft=!1,this.directionToFrameRow={down:0,"down-left":1,"down-right":2,left:1,right:2,up:3,"up-left":1,"up-right":2},this._isEnabled=!0,this.frameChange$=new ge,this.setWalkingAnimationMapping(g)}frameChange(){return this.frameChange$}setIsEnabled(g){this._isEnabled=g}isEnabled(){return this._isEnabled}updateCharacterFrame(g,y,E){this._isEnabled&&(y?this.setStandingFrameDuringWalk(g,E):this.setWalkingFrame(g))}setStandingFrame(g){this._isEnabled&&this._setStandingFrame(g)}setWalkingAnimationMapping(g){this.walkingAnimationMapping=g,this._isEnabled=this.walkingAnimationMapping!==void 0}getWalkingAnimationMapping(){return this.walkingAnimationMapping}getCharsInRow(){return this.charsInRow}setStandingFrameDuringWalk(g,y){this.isCurrentFrameStanding(g,y)||(this.lastFootLeft=!this.lastFootLeft),this._setStandingFrame(g)}setWalkingFrame(g){let y=this.framesOfDirection(g);y&&this.frameChange$.next(this.lastFootLeft?y.rightFoot:y.leftFoot)}_setStandingFrame(g){let y=this.framesOfDirection(g);y&&this.frameChange$.next(y.standing)}isCurrentFrameStanding(g,y){var E;return y===((E=this.framesOfDirection(g))==null?void 0:E.standing)}framesOfDirection(g){return typeof this.walkingAnimationMapping=="number"?this.getFramesForCharIndex(g,this.walkingAnimationMapping):this.getFramesForAnimationMapping(g)}getFramesForAnimationMapping(g){if(this.walkingAnimationMapping)return this.walkingAnimationMapping[g]||this.walkingAnimationMapping[this.fallbackDirection(g)]}fallbackDirection(g){switch(g){case"down-left":return"left";case"down-right":return"right";case"up-left":return"left";case"up-right":return"right"}return g}getFramesForCharIndex(g,y){var E;let w=Math.floor(y/this.charsInRow),R=y%this.charsInRow,c=this.charsInRow*_h.FRAMES_CHAR_ROW,x=_h.FRAMES_CHAR_ROW*R,t=((E=this.directionToFrameRow[g])!=null?E:0)+w*_h.FRAMES_CHAR_COL,a=x+t*c;return{rightFoot:a,standing:a+1,leftFoot:a+2}}};pc.FRAMES_CHAR_ROW=3,pc.FRAMES_CHAR_COL=4;var Hm=pc,gc=class{static shiftPad(f,g){let y=Math.floor(f),E=`${y}`.padStart(g,"0").length;return y/Math.pow(10,E)}},fn=class mc{static vec2str(g){return`${g.x}#${g.y}`}static equal(g,y){return mc.vec2str(g)==mc.vec2str(y)}static manhattanDistance(g,y){let E=Math.abs(g.x-y.x),w=Math.abs(g.y-y.y);return E+w}static chebyshevDistance(g,y){let E=Math.abs(g.x-y.x),w=Math.abs(g.y-y.y);return Math.max(E,w)}static scalarMult(g,y){return g.clone().multiply(new Pt(y,y))}},za=class Ur{constructor(g){this.tilemap=g,this.charLayerDepths=new Map,this.setLayerDepths()}getTileWidth(){var g,y;let E=(y=(g=this.tilemap.layers[0])==null?void 0:g.tilemapLayer.scale)!=null?y:1;return this.tilemap.tileWidth*E}getTileHeight(){var g,y;let E=(y=(g=this.tilemap.layers[0])==null?void 0:g.tilemapLayer.scale)!=null?y:1;return this.tilemap.tileHeight*E}getDepthOfCharLayer(g){var y;return(y=this.charLayerDepths.get(g))!=null?y:0}tilePosToPixelPos(g){return this.isIsometric()?fn.scalarMult(this.getTileSize(),.5).multiply(new Pt(g.x-g.y,g.x+g.y)):g.clone().multiply(this.getTileSize())}getTileDistance(g){if(this.isIsometric())switch(g){case"down-left":case"down-right":case"up-left":case"up-right":return fn.scalarMult(this.getTileSize(),.5);default:return this.getTileSize()}return this.getTileSize()}getTileSize(){return new Pt(this.getTileWidth(),this.getTileHeight())}isIsometric(){return this.tilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()}isLayerAlwaysOnTop(g){return this.hasLayerProp(g,Ur.ALWAYS_TOP_PROP_NAME)}isCharLayer(g){return this.hasLayerProp(g,Ur.CHAR_LAYER_PROP_NAME)}setLayerDepths(){let g=[],y=-1,E=this.tilemap.layers.filter(w=>this.isLayerAlwaysOnTop(w));this.tilemap.layers.filter(w=>!this.isLayerAlwaysOnTop(w)).forEach(w=>{this.hasLayerProp(w,Ur.HEIGHT_SHIFT_PROP_NAME)?(this.createHeightShiftLayers(w,y),g.push(w.tilemapLayer)):this.setDepth(w,++y)}),this.charLayerDepths.set(void 0,y),E.forEach((w,R)=>{w.tilemapLayer.setDepth(R+1+y)}),g.forEach(w=>w.destroy())}setDepth(g,y){g.tilemapLayer.setDepth(y),this.isCharLayer(g)&&this.charLayerDepths.set(this.getLayerProp(g,Ur.CHAR_LAYER_PROP_NAME),y)}createHeightShiftLayers(g,y){let E=this.getLayerProp(g,Ur.HEIGHT_SHIFT_PROP_NAME);isNaN(E)&&(E=0);let w=1;for(let R=0;R<g.height;R++){let c=this.copyLayer(g,R);if(c){c.scale=g.tilemapLayer.scale;let x=this.isIsometric()?this.getTileHeight()/2:this.getTileHeight();c.setDepth(y+gc.shiftPad((R+E)*x+w,Ur.Z_INDEX_PADDING))}}}getLayerProp(g,y){let E=g.properties.find(w=>w.name==y);return E==null?void 0:E.value}hasLayerProp(g,y){return this.getLayerProp(g,y)!=null}copyLayer(g,y){let E=`${g.name}#${y}`,w=this.tilemap.createBlankLayer(E,g.tilemapLayer.tileset);if(w){if(w.name=E,this.isIsometric())for(let R=y;R>=0;R--){let c=y-R;w.putTileAt(g.data[R][c],c,R)}else for(let R=0;R<g.width;R++)w.putTileAt(g.data[y][R],R,y);return w}}};za.ALWAYS_TOP_PROP_NAME="ge_alwaysTop",za.CHAR_LAYER_PROP_NAME="ge_charLayer",za.HEIGHT_SHIFT_PROP_NAME="ge_heightShift",za.Z_INDEX_PADDING=7;var yc=za,qR=class{constructor(f,g,y,E,w){this.charData=f,this.scene=g,this.tilemap=y,this.geHeadless=w,this.customOffset=new Pt(0,0),this.cachedContainerHeight=0,this.newSpriteSet$=new ge,this.destroy$=new ge;var R,c;this.layerOverlaySprite=E&&f.sprite?this.scene.add.sprite(0,0,f.sprite.texture):void 0,this.walkingAnimationMapping=f.walkingAnimationMapping,this.customOffset=new Pt(f.offsetX||0,f.offsetY||0),this.sprite=f.sprite,this.container=f.container,this.cachedContainerHeight=(c=(R=f.container)==null?void 0:R.getBounds().height)!=null?c:0,this.geHeadless.directionChanged().pipe(Cr(({charId:x})=>x===this.charData.id)).subscribe(({direction:x})=>{var t;(t=this.animation)==null||t.setStandingFrame(x)}),this.sprite&&(this.sprite.setOrigin(0,0),this.resetAnimation(this.sprite),this.updateOverlaySprite(),this.updateGridChar())}destroy(){this.destroy$.next(),this.destroy$.complete(),this.newSpriteSet$.complete()}setSprite(f){f?(this.sprite&&(f.x=this.sprite.x,f.y=this.sprite.y),this.sprite=f,this.newSpriteSet$.next(),this.layerOverlaySprite=this.layerOverlaySprite?this.scene.add.sprite(0,0,this.sprite.texture):void 0,this.updateOverlaySprite(),this.resetAnimation(this.sprite),this.updateDepth()):(this.layerOverlaySprite=void 0,this.sprite=void 0)}getSprite(){return this.sprite}getLayerOverlaySprite(){return this.layerOverlaySprite}setContainer(f){var g;this.container=f,this.cachedContainerHeight=(g=f==null?void 0:f.getBounds().height)!=null?g:0}getContainer(){return this.container}getOffsetX(){return this.customOffset.x}setOffsetX(f){this.customOffset.x=f}getOffsetY(){return this.customOffset.y}setOffsetY(f){this.customOffset.y=f}getWalkingAnimationMapping(){return this.walkingAnimationMapping}turnTowards(f){var g;this.geHeadless.isMoving(this.charData.id)||f!="none"&&(this.geHeadless.turnTowards(this.charData.id,f),(g=this.animation)==null||g.setStandingFrame(f))}getAnimation(){return this.animation}setAnimation(f){this.animation=f}update(f){this.updateGridChar()}getEngineOffset(){var f,g,y,E;if(!this.sprite)return Pt.ZERO;let w=this.tilemap.getTileWidth()/2-Math.floor(((g=(f=this.sprite)==null?void 0:f.displayWidth)!=null?g:0)/2),R=-((E=(y=this.sprite)==null?void 0:y.displayHeight)!=null?E:0)+this.tilemap.getTileHeight();return new Pt(w,R)}updatePixelPos(){let f=new Pt(this.geHeadless.getPosition(this.charData.id)),g=this.geHeadless.getMovementProgress(this.charData.id)/1e3,y=this.tilemap.tilePosToPixelPos(f).add(this.getEngineOffset()).add(this.customOffset).add(_s(this.geHeadless.getFacingDirection(this.charData.id)).multiply(this.tilemap.getTileDistance(this.geHeadless.getFacingDirection(this.charData.id)).scalarMult(g))),E=this.getGameObj();E&&(E.x=Math.floor(y.x),E.y=Math.floor(y.y))}getGameObj(){return this.container||this.sprite}updateGridChar(){var f;if(this.updatePixelPos(),this.sprite&&this.geHeadless.isMoving(this.charData.id)){let g=this.geHeadless.getMovementProgress(this.charData.id)>br/2;(f=this.getAnimation())==null||f.updateCharacterFrame(this.geHeadless.getFacingDirection(this.charData.id),g,Number(this.sprite.frame.name))}this.updateDepth()}resetAnimation(f){let g=new Hm(this.walkingAnimationMapping,f.texture.source[0].width/f.width/Hm.FRAMES_CHAR_ROW);this.setAnimation(g),g.frameChange().pipe(Wi(this.newSpriteSet$)).subscribe(y=>{f==null||f.setFrame(y)}),g.setIsEnabled(this.walkingAnimationMapping!==void 0),g.setStandingFrame(this.geHeadless.getFacingDirection(this.charData.id))}updateOverlaySprite(){if(!this.layerOverlaySprite||!this.sprite)return;this.layerOverlaySprite.scale=this.sprite.scale;let f=this.tilemap.getTileHeight()/this.layerOverlaySprite.scale;this.layerOverlaySprite.setCrop(0,0,this.layerOverlaySprite.displayWidth,this.sprite.height-f),this.layerOverlaySprite.setOrigin(0,0)}updateDepth(){if(!this.getGameObj())return;let f=new Pt(this.geHeadless.getPosition(this.charData.id)),g=this.geHeadless.getCharLayer(this.charData.id);this.container?this.setContainerDepth(this.container,{position:f,layer:g}):this.sprite&&this.setSpriteDepth(this.sprite,{position:f,layer:g});let y=this.getLayerOverlaySprite();if(y){let E=new Pt(Sr(de({},f),{y:f.y-1}));this.setSpriteDepth(y,{position:E,layer:g})}}setSpriteDepth(f,g){f.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(g))+this.getPaddedPixelDepthSprite(f))}setContainerDepth(f,g){f.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(g))+this.getPaddedPixelDepthContainer(f))}getPaddedPixelDepthContainer(f){return gc.shiftPad(f.y+this.cachedContainerHeight,yc.Z_INDEX_PADDING)}getPaddedPixelDepthSprite(f){return gc.shiftPad(f.y+f.displayHeight,yc.Z_INDEX_PADDING)}getTransitionLayer(f){if(f.layer)return this.geHeadless.getTransition(f.position,f.layer)||f.layer}},_R=(f=>(f.DONT_BLOCK="DONT_BLOCK",f.BLOCK_TWO_TILES="BLOCK_TWO_TILES",f.BLOCK_ONE_TILE_AHEAD="BLOCK_ONE_TILE_AHEAD",f.BLOCK_ONE_TILE_BEHIND="BLOCK_ONE_TILE_BEHIND",f))(_R||{}),AT=(f=>(f.STOP="STOP",f.CLOSEST_REACHABLE="CLOSEST_REACHABLE",f.RETRY="RETRY",f.ALTERNATIVE_TARGETS="ALTERNATIVE_TARGETS",f))(AT||{}),tL=class{distance(f,g){return fn.manhattanDistance(f,g)}direction(f,g){if(fn.equal(f,g))return"none";let y=f.clone().subtract(g);return Math.abs(y.x)>Math.abs(y.y)?y.x>0?"left":"right":y.y>0?"up":"down"}neighbors(f){return[new Pt(f.x,f.y+1),new Pt(f.x+1,f.y),new Pt(f.x-1,f.y),new Pt(f.x,f.y-1)]}getDirections(){return["up","right","down","left"]}},eL=class{distance(f,g){return fn.chebyshevDistance(f,g)}neighbors(f){let g=[new Pt(f.x,f.y+1),new Pt(f.x+1,f.y),new Pt(f.x-1,f.y),new Pt(f.x,f.y-1)],y=[new Pt(f.x+1,f.y+1),new Pt(f.x+1,f.y-1),new Pt(f.x-1,f.y+1),new Pt(f.x-1,f.y-1)];return[...g,...y]}direction(f,g){return g.x>f.x?g.y>f.y?"down-right":g.y<f.y?"up-right":"right":g.x<f.x?g.y>f.y?"down-left":g.y<f.y?"up-left":"left":g.y<f.y?"up":g.y>f.y?"down":"none"}getDirections(){return["up","right","down","left","down-left","down-right","up-right","up-left"]}},qr=class{static create(f){switch(f){case 4:return new tL;case 8:return new eL}}},$m=class{constructor(f,g,y){this.backoffMs=f,this.maxRetries=g,this.onFinished=y,this.retries=0,this.elapsed=0}retry(f,g){this.shouldRetry()?(this.elapsed+=f,this.elapsed>=this.backoffMs&&(this.elapsed=0,this.retries++,g())):this.onFinished()}reset(){this.retries=0,this.elapsed=0}getMaxRetries(){return this.maxRetries}getBackoffMs(){return this.backoffMs}shouldRetry(){return this.maxRetries===-1||this.retries<this.maxRetries}},wT=(f=>(f.WAIT="WAIT",f.RETRY="RETRY",f.STOP="STOP",f))(wT||{}),cu=class{constructor(f,{shortestPathAlgorithm:g="BFS",pathWidth:y=1,pathHeight:E=1,numberOfDirections:w=4,isPositionAllowed:R=(n,l)=>!0,collisionGroups:c=[],ignoredChars:x=[],ignoreTiles:t=!1,ignoreMapBounds:a=!1,ignoreBlockedTarget:p=!1,maxPathLength:o=1/0,ignoreLayers:s=!1,considerCosts:r=!1,calculateClosestToTarget:e=!0}={}){this.gridTilemap=f,this.options={shortestPathAlgorithm:g,pathWidth:y,pathHeight:E,numberOfDirections:w,isPositionAllowed:R,collisionGroups:c,ignoredChars:x,ignoreTiles:t,ignoreMapBounds:a,ignoreBlockedTarget:p,maxPathLength:o,ignoreLayers:s,considerCosts:r,calculateClosestToTarget:e}}findShortestPath(f,g){this.options.ignoreLayers&&(this.gridTilemap.fixCacheLayer(f.layer),g.layer=f.layer);let y=this.findShortestPathImpl(f,g);return this.gridTilemap.unfixCacheLayers(),y}getNeighbors(f,g){var y;return qr.create((y=this.options.numberOfDirections)!=null?y:4).neighbors(f.position).map(E=>{let w=f.layer;return this.options.ignoreLayers||(w=this.gridTilemap.getTransition(E,f.layer)),{position:E,layer:w||f.layer}}).filter(E=>!this.isBlocking(f,E)||this.options.ignoreBlockedTarget&&Vt.equal(E,g))}getTransition(f,g){if(!this.options.ignoreLayers)return this.gridTilemap.getTransition(f,g)}getCosts(f,g){if(!this.options.considerCosts)return 1;let y=Hi(g.position,f);return this.gridTilemap.getTileCosts(g,y)}isBlocking(f,g){return!(this.options.ignoreMapBounds||this.gridTilemap.isInRange(g.position))||!this.options.isPositionAllowed(g.position,g.layer)||!this.options.ignoreTiles&&this.hasBlockingTileFrom(f,g,this.options.pathWidth,this.options.pathHeight,this.options.ignoreMapBounds,this.gridTilemap)?!0:this.hasBlockingCharFrom(f,g,this.options.pathWidth,this.options.pathHeight,this.options.collisionGroups,this.options.ignoredChars,this.gridTilemap)}distance(f,g){return(this.options.numberOfDirections===4?fn.manhattanDistance:fn.chebyshevDistance)(f,g)}getTilePosInDir(f,g){return this.gridTilemap.getTilePosInDirection(f,g)}getReverseNeighbors(f,g){var y;let E=qr.create((y=this.options.numberOfDirections)!=null?y:4).neighbors(f.position),w;if(!this.options.ignoreLayers){let R=this.gridTilemap.getReverseTransitions(f.position,f.layer);w=R?[...R]:void 0}return E.map(R=>w?w.map(c=>({position:R,layer:c||f.layer})):[{position:R,layer:f.layer}]).flat().filter(R=>!this.isBlocking(R,f)||this.options.ignoreBlockedTarget&&Vt.equal(f,g))}hasBlockingCharFrom(f,g,y,E,w,R,c){let x=a=>c.hasBlockingChar(a,g.layer,w,new Set(R));if(y===1&&E===1)return x(g.position);let t=Hi(f.position,g.position);return this.isBlockingMultiTile(f,t,y,E,x)}hasBlockingTileFrom(f,g,y,E,w,R){if(y===1&&E===1)return R.hasBlockingTile(g.position,g.layer,Hi(g.position,f.position),w);let c=Hi(f.position,g.position),x=t=>R.hasBlockingTile(t,g.layer,c,w);return this.isBlockingMultiTile(f,c,y,E,x)}isBlockingMultiTile(f,g,y,E,w){let R={src:new Pt(f.position.x+y,f.position.y),dest:new Pt(f.position.x+y,f.position.y+E-1)},c={src:new Pt(f.position.x-1,f.position.y),dest:new Pt(f.position.x-1,f.position.y+E-1)},x={src:new Pt(f.position.x,f.position.y-1),dest:new Pt(f.position.x+y-1,f.position.y-1)},t={src:new Pt(f.position.x,f.position.y+E),dest:new Pt(f.position.x+y-1,f.position.y+E)};switch(g){case"right":return this.checkLine(R,w);case"left":return this.checkLine(c,w);case"up":return this.checkLine(x,w);case"down":return this.checkLine(t,w);case"up-left":return this.checkLine({src:x.src,dest:new Pt(x.dest.x-1,x.dest.y)},w)||this.checkLine({src:new Pt(c.src.x,c.src.y-1),dest:new Pt(c.dest.x,c.dest.y-1)},w);case"up-right":return this.checkLine({src:new Pt(x.src.x+1,x.src.y),dest:x.dest},w)||this.checkLine({src:new Pt(R.src.x,R.src.y-1),dest:new Pt(R.dest.x,R.dest.y-1)},w);case"down-left":return this.checkLine({src:new Pt(c.src.x,c.src.y+1),dest:new Pt(c.dest.x,c.dest.y+1)},w)||this.checkLine({src:t.src,dest:new Pt(t.dest.x-1,t.dest.y)},w);case"down-right":return this.checkLine({src:new Pt(t.src.x+1,t.src.y),dest:t.dest},w)||this.checkLine({src:new Pt(R.src.x,R.src.y+1),dest:new Pt(R.dest.x,R.dest.y+1)},w)}return!1}checkLine(f,g){for(let y=f.src.x;y<=f.dest.x;y++)for(let E=f.src.y;E<=f.dest.y;E++)if(g(new Pt(y,E)))return!0;return!1}},iL=Wx(wv(),1),nL=class extends cu{findShortestPathImpl(f,g){let y=this.shortestPathBfs(f,g);return{path:this.returnPath(y.previous,f,g),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"A_STAR"}}shortestPathBfs(f,g){let y=new Map,E=new Map,w=new Map,R=new iL.MinFibonacciHeap((a,p)=>Oa(w,a)-Oa(w,p)),c=f,x=this.distance(f.position,g.position),t=0;for(R.push(f),E.set(Vt.toString(f),0),w.set(Vt.toString(f),this.distance(f.position,g.position));R.size>0;){let a=R.pop();if(!a)break;t++;let p=this.distance(a.position,g.position);if(p<x&&(x=p,c=a),Km(a,g))return{previous:y,closestToTarget:c,steps:t,maxPathLengthReached:!1};if(Oa(E,a)+1>this.options.maxPathLength)return{previous:new Map,closestToTarget:c,steps:t,maxPathLengthReached:!0};for(let o of this.getNeighbors(a,g)){let s=Oa(E,a)+this.getCosts(a.position,o),r=Vt.toString(o);(!E.has(r)||s<Oa(E,o))&&(y.set(r,a),E.set(r,s),w.set(r,s+this.distance(o.position,g.position)),R.push(o))}}return{previous:y,closestToTarget:c,steps:t,maxPathLengthReached:!1}}returnPath(f,g,y){let E=[],w=y;for(E.push(w);!Km(w,g);){if(w=f.get(Vt.toString(w)),!w)return[];E.push(w)}return E.reverse()}};function Oa(f,g){var y;return(y=f.get(Vt.toString(g)))!=null?y:Number.MAX_VALUE}function Km(f,g){return fn.equal(f.position,g.position)?f.layer===g.layer:!1}var jm=class{constructor(f){this.data=f}},Rl=class{constructor(){this.sizeInternal=0}dequeue(){if(this.tail===void 0)return;this.sizeInternal--;let f=this.tail.data;return this.tail.prev===void 0?(this.tail=void 0,this.head=void 0,f):(this.tail.prev.next=void 0,this.tail=this.tail.prev,f)}enqueue(f){if(this.sizeInternal++,this.head===void 0){this.head=new jm(f),this.tail=this.head;return}let g=new jm(f);g.next=this.head,this.head.prev=g,this.head=g}peek(){return this.tail?this.tail.data:void 0}peekAll(){let f=[],g=this.tail;for(;g;)f.push(g.data),g=g.prev;return f}clear(){this.head=void 0,this.tail=void 0,this.sizeInternal=0}peekEnd(){var f;return(f=this.head)==null?void 0:f.data}size(){return this.sizeInternal}},MT=class extends cu{findShortestPathImpl(f,g){let y=this.shortestPathBfs(f,g);return{path:this.returnPath(y.previous,f,g),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"BFS"}}equal(f,g){return fn.equal(f.position,g.position)?f.layer===g.layer:!1}shortestPathBfs(f,g){let y=new Map,E=new Set,w=new Rl,R=f,c=this.distance(f.position,g.position),x=0;for(w.enqueue({node:f,dist:0}),E.add(Vt.toString(f));w.size()>0;){let t=w.dequeue();if(x++,!t)break;let{node:a,dist:p}=t;if(p>this.options.maxPathLength)return{previous:new Map,closestToTarget:R,steps:x,maxPathLengthReached:!0};let o=this.distance(a.position,g.position);if(o<c&&(c=o,R=a),this.equal(a,g))return{previous:y,closestToTarget:R,steps:x,maxPathLengthReached:!1};for(let s of this.getNeighbors(a,g))E.has(Vt.toString(s))||(y.set(Vt.toString(s),a),w.enqueue({node:s,dist:p+1}),E.add(Vt.toString(s)))}return{previous:y,closestToTarget:R,steps:x,maxPathLengthReached:!1}}returnPath(f,g,y){let E=[],w=y;for(E.push(w);!this.equal(w,g);){if(w=f.get(Vt.toString(w)),!w)return[];E.push(w)}return E.reverse()}},Zm=class{constructor(){this.previous=new Map,this.visited=new Map,this.queue=new Rl,this.minMatching=1/0,this.lastDist=0}isNewFrontier(){let f=this.queue.peek();return!!(f&&f.dist>this.lastDist)}step(f,g,y){var E;this.lastDist=y;for(let w of f){let R=Vt.toString(w);if(!this.visited.has(R)){this.previous.set(R,g),this.queue.enqueue({node:w,dist:y+1}),this.visited.set(R,y+1);let c=(E=this.otherBfs)==null?void 0:E.visited.get(R);c!==void 0&&c<this.minMatching&&(this.minMatching=c,this.minMatchingNode=w)}}}},rL=class extends cu{findShortestPathImpl(f,g){let y=this.shortestPathBfs(f,g);return{path:this.returnPath(y.previous,y.previous2,y.matchingPos,f,g),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"BIDIRECTIONAL_SEARCH"}}equal(f,g){return fn.equal(f.position,g.position)?f.layer===g.layer:!1}shortestPathBfs(f,g){var y;if(Vt.equal(f,g))return{previous:new Map,previous2:new Map,closestToTarget:f,steps:0,maxPathLengthReached:!1};let E=new Zm,w=new Zm,R=0;E.otherBfs=w,w.otherBfs=E;let c=f,x=this.distance(f.position,g.position);for(E.queue.enqueue({node:f,dist:0}),w.queue.enqueue({node:g,dist:0}),E.visited.set(Vt.toString(f),0),w.visited.set(Vt.toString(g),0);this.shouldStop(E.queue.size()>0,w.queue.size()>0);){let t=E.queue.dequeue();if(!t)break;let{node:a,dist:p}=t;if(p+1+(((y=w.queue.peek())==null?void 0:y.dist)||0)>this.options.maxPathLength)return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(c),steps:R,maxPathLengthReached:!0};let o=this.distance(a.position,g.position);if(o<x&&(x=o,c=a),R++,E.step(this.getNeighbors(a,g),a,p),E.isNewFrontier()&&E.minMatchingNode)return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(g),matchingPos:E.minMatchingNode,steps:R,maxPathLengthReached:!1};let s=w.queue.dequeue();if(!s)continue;let{node:r,dist:e}=s;if(R++,w.step(this.getReverseNeighbors(r,g),r,e),w.isNewFrontier()&&w.minMatchingNode)return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(g),matchingPos:w.minMatchingNode,steps:R,maxPathLengthReached:!1}}return{previous:E.previous,previous2:w.previous,closestToTarget:this.maybeClosestToTarget(c),steps:R,maxPathLengthReached:!1}}shouldStop(f,g){return this.options.calculateClosestToTarget?f||g:f&&g}maybeClosestToTarget(f){return this.options.calculateClosestToTarget?f:void 0}returnPath(f,g,y,E,w){if(y){let R=this.getPathFromPrev(f,E,y).reverse(),c=this.getPathFromPrev(g,w,y);return R.pop(),[...R,...c]}else return this.getPathFromPrev(f,E,w).reverse()}getPathFromPrev(f,g,y){let E=[],w=y;for(E.push(w);!this.equal(w,g);){if(w=f.get(Vt.toString(w)),!w)return[];E.push(w)}return E}},Qm=Wx(lR(),1),RT=class extends cu{constructor(f,g={}){super(f,g),this.openSet=new Qm.MinFibonacciHeap,this.g=new Map,this.f=new Map,this.closestToTarget={position:new Pt(0,0),layer:void 0},this.smallestDistToTarget=0,this.steps=0,this.maxFrontierSize=0,this.maxJumpSize=0,this.turnOrder={right:0,"down-right":1,down:2,"down-left":3,left:4,"up-left":5,up:6,"up-right":7},this.turnTimes=sL(),this.distanceUtils=qr.create(4)}findShortestPathImpl(f,g){this.maxJumpSize=this.distance(f.position,g.position);let y=this.shortestPath(f,g);return{path:this.returnPath(y.previous,f,g),closestToTarget:y.closestToTarget,steps:y.steps,maxPathLengthReached:y.maxPathLengthReached,algorithmUsed:"JPS"}}shortestPath(f,g){this.steps=0;let y=new Map;this.g=new Map,this.f=new Map,this.closestToTarget=f,this.smallestDistToTarget=this.distance(f.position,g.position),this.openSet=new Qm.MinFibonacciHeap((w,R)=>Da(this.f,w)-Da(this.f,R)),this.openSet.push(f);let E=Vt.toString(f);for(this.g.set(E,0),this.f.set(E,this.distance(f.position,g.position)),this.maxFrontierSize=Math.max(this.maxFrontierSize,this.openSet.size);this.openSet.size>0;){let w=this.openSet.pop();if(!w)break;if(this.steps++,Vt.equal(w,g))return{previous:y,closestToTarget:g,steps:this.steps,maxPathLengthReached:!1};if(Da(this.g,w)+1>this.options.maxPathLength)return{previous:new Map,closestToTarget:this.closestToTarget,steps:this.steps,maxPathLengthReached:!0};this.updateClosestToTarget(w,g);for(let R of this.getNeighborsInternal(w,y.get(Vt.toString(w)),g)){let c=Vt.toString(R.p),x=Da(this.g,w)+R.dist;(!this.g.has(c)||x<Da(this.g,R.p))&&(y.set(c,w),this.g.set(c,x),this.f.set(c,x+this.distance(R.p.position,g.position)),this.openSet.push(R.p))}}return{previous:y,closestToTarget:this.closestToTarget,steps:this.steps,maxPathLengthReached:!1}}updateClosestToTarget(f,g){let y=this.distance(f.position,g.position);y<this.smallestDistToTarget&&(this.smallestDistToTarget=y,this.closestToTarget=f)}addIfNotBlocked(f,g,y){this.blockOrTrans(g,y)||f.add(y)}blockOrTrans(f,g){return this.isBlocking(f,g)||this.getTransition(g.position,g.layer)!==void 0}getNeighborsInternal(f,g,y){if(!g||f.layer!==g.layer)return this.getNeighbors(f,y).map(R=>({p:R,dist:1}));let E=this.prune(g,f).map(R=>{let c=this.getTransition(R.position,f.layer);return{position:R.position,layer:c||f.layer}}),w=[];for(let R of E){let c=this.jump(f,R,y,1);c&&w.push(c)}return w}jump(f,g,y,E){let w=this.distanceUtils.direction(f.position,g.position);if(!(this.isBlocking(f,g)&&!(Vt.equal(g,y)&&this.options.ignoreBlockedTarget)))return Vt.equal(g,y)?{p:g,dist:E}:E>=this.maxJumpSize?{p:g,dist:E}:this.getTransition(g.position,f.layer)!==void 0?{p:g,dist:E}:Um(w)?{p:g,dist:E}:this.hasForced(f,g)?{p:g,dist:E}:(this.updateClosestToTarget(g,y),this.jump(g,this.getTilePosInDir(g,Hi(f.position,g.position)),y,E+1))}getForced(f,g){let y=new Set,E=this.posInDir(g,this.distanceUtils.direction(g.position,f.position)),{topLeft:w,downLeft:R,top:c,bottom:x}=this.normalizedPositions(E,g),t=this.distanceUtils.direction(f.position,g.position);return Vm(t)&&((this.blockOrTrans(E,R)||this.blockOrTrans(R,x))&&this.addIfNotBlocked(y,g,x),(this.blockOrTrans(E,w)||this.blockOrTrans(w,c))&&this.addIfNotBlocked(y,g,c)),y}hasForced(f,g){let y=this.posInDir(g,this.distanceUtils.direction(g.position,f.position)),{topLeft:E,downLeft:w,top:R,bottom:c}=this.normalizedPositions(y,g),x=this.distanceUtils.direction(f.position,g.position);return!!(Vm(x)&&((this.blockOrTrans(y,w)||this.blockOrTrans(w,c))&&!this.blockOrTrans(g,c)||(this.blockOrTrans(y,E)||this.blockOrTrans(E,R))&&!this.blockOrTrans(g,R)))}prune(f,g){let{right:y,top:E,bottom:w}=this.normalizedPositions(f,g),R=this.getForced(f,g),c=Hi(f.position,g.position);return Um(c)?[y,E,w]:[y,...R]}normalizedPositions(f,g){var y,E,w,R,c,x,t;let a=Hi(f.position,g.position);return{topLeft:this.posInDir(g,((y=this.turnTimes.get("up-left"))==null?void 0:y.get(this.turnOrder[a]))||"up-left"),downLeft:this.posInDir(g,((E=this.turnTimes.get("down-left"))==null?void 0:E.get(this.turnOrder[a]))||"down-left"),downRight:this.posInDir(g,((w=this.turnTimes.get("down-right"))==null?void 0:w.get(this.turnOrder[a]))||"down-right"),topRight:this.posInDir(g,((R=this.turnTimes.get("up-right"))==null?void 0:R.get(this.turnOrder[a]))||"up-right"),top:this.posInDir(g,((c=this.turnTimes.get("up"))==null?void 0:c.get(this.turnOrder[a]))||"up"),bottom:this.posInDir(g,((x=this.turnTimes.get("down"))==null?void 0:x.get(this.turnOrder[a]))||"down"),right:this.posInDir(g,((t=this.turnTimes.get("right"))==null?void 0:t.get(this.turnOrder[a]))||"right")}}posInDir(f,g){return{position:f.position.add(_s(g)),layer:f.layer}}returnPath(f,g,y){let E=[],w=y;for(E.push(w);!Vt.equal(w,g);){let R=f.get(Vt.toString(w));if(!R)return[];this.distance(R.position,w.position)>1?this.fillPath(w,R,E):E.push(R),w=R}return E.reverse()}fillPath(f,g,y){let E=f;do{let w=Hi(E.position,g.position);E=this.getTilePosInDir(E,w),y.push(E)}while(!fn.equal(E.position,g.position))}};function Da(f,g){var y;return(y=f.get(Vt.toString(g)))!=null?y:Number.MAX_VALUE}function sL(){let f=["right","down-right","down","down-left","left","up-left","up","up-right"],g=new Map;for(let y=0;y<f.length;y++){let E=new Map,w=f[y];E.set(0,w);for(let R=1;R<=7;R++)w=Ov(w),E.set(R,w);g.set(f[y],E)}return g}var aL=class{constructor(f,g,y,E={}){this.character=f,this.gridTilemap=g,this.charToFollow=y;let w={distance:0,noPathFoundStrategy:"STOP",maxPathLength:1/0,shortestPathAlgorithm:"BIDIRECTIONAL_SEARCH",ignoreLayers:!1,considerCosts:E.considerCosts||!1,facingDirection:"none"};this.options=de(de({},w),E),this.options.considerCosts&&this.options.shortestPathAlgorithm!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${this.options.shortestPathAlgorithm}'. It can only be used with A* algorithm.`),(f.getTileWidth()>1||f.getTileHeight()>1&&this.options.shortestPathAlgorithm==="JPS")&&console.warn("GridEngine: Pathfinding algorithm 'JPS' can only be used for characters with 'tileWidth' and 'tileHeight' of 1"),this.character=f,this.updateTarget(this.charToFollow.getTilePos().position,this.charToFollow.getTilePos().layer),this.charToFollow.positionChangeStarted().pipe(Wi(this.character.autoMovementSet().pipe(Cr(R=>R!==this),sa(1)))).subscribe(({enterTile:R,enterLayer:c})=>{this.updateTarget(R,c)})}update(f){var g;(g=this.targetMovement)==null||g.update(f)}getInfo(){return{type:"Follow",config:{charToFollow:this.charToFollow.getId(),distance:this.options.distance,noPathFoundStrategy:this.options.noPathFoundStrategy,maxPathLength:this.options.maxPathLength,ignoreLayers:this.options.ignoreLayers,facingDirection:this.options.facingDirection,shortestPathAlgorithm:this.options.shortestPathAlgorithm}}}updateTarget(f,g){let y=this.options.facingDirection!=="none"&&this.options.distance===0;if(y){let E=Ml[this.options.facingDirection]+Ml[this.charToFollow.getFacingDirection()],w=Ov("up",E);f=this.gridTilemap.getTilePosInDirection({position:new Pt(f),layer:g},w).position}this.targetMovement=new IT(this.character,this.gridTilemap,{position:new Pt(f),layer:g},{distance:y?0:this.options.distance+1,config:{algorithm:this.options.shortestPathAlgorithm,noPathFoundStrategy:this.options.noPathFoundStrategy,maxPathLength:this.options.maxPathLength,ignoreLayers:this.options.ignoreLayers,considerCosts:this.options.considerCosts},ignoreBlockedTarget:!0})}},Jm=class{static getRandomInt(f){return Math.floor(Math.random()*Math.floor(f))}},oL=class{constructor(f,g=0,y=-1){this.character=f,this.delay=g,this.radius=y,this.stepSize=0,this.delayLeft=this.delay,this.initialRow=f.getNextTilePos().position.y,this.initialCol=f.getNextTilePos().position.x,this.randomizeStepSize(),this.stepsWalked=0,this.currentMovementDirection="none",this.character.positionChangeStarted().pipe(Wi(this.character.autoMovementSet().pipe(Cr(E=>E!==this),sa(1)))).subscribe(()=>{this.stepsWalked++}),this.distanceUtils=qr.create(f.getNumberOfDirections())}update(f){if(this.shouldContinueWalkingCurrentDirection())this.character.move(this.currentMovementDirection);else if(this.delayLeft-=f,this.delayLeft<=0){this.delayLeft=this.delay;let g=this.getFreeRandomDirection();this.stepsWalked=0,this.character.move(g),this.currentMovementDirection=g,this.randomizeStepSize()}}getInfo(){return{type:"Random",config:{delay:this.delay,radius:this.radius}}}shouldContinueWalkingCurrentDirection(){return this.stepsWalked<this.stepSize&&this.currentMovementDirection!=="none"&&!this.character.isBlockingDirection(this.currentMovementDirection)&&this.isWithinRadius(this.currentMovementDirection)}getFreeDirections(){return this.distanceUtils.getDirections().filter(f=>!this.character.isBlockingDirection(f)).filter(f=>this.isWithinRadius(f))}isWithinRadius(f){return this.radius==-1?!0:this.getDist(f)<=this.radius}getDist(f){return this.distanceUtils.distance(this.character.getNextTilePos().position.add(_s(f)),new Pt(this.initialCol,this.initialRow))}getFreeRandomDirection(){let f=this.getFreeDirections();return f.length==0?"none":f[Jm.getRandomInt(f.length)]}randomizeStepSize(){this.stepSize=Jm.getRandomInt(this.radius)+1}};function hL(f,g){return f.filter(y=>{var E,w,R,c,x,t;return(E=g.labels)!=null&&E.withAllLabels?(w=g.labels)==null?void 0:w.withAllLabels.every(a=>y.hasLabel(a)):(R=g.labels)!=null&&R.withOneOfLabels?(c=g.labels)==null?void 0:c.withOneOfLabels.some(a=>y.hasLabel(a)):(x=g.labels)!=null&&x.withNoneLabels?!((t=g.labels)!=null&&t.withNoneLabels.some(a=>y.hasLabel(a))):!0})}var LT="2.44.2",lL=class{constructor(f,g){this.collistionStrategy=f,this.collisionGroupRelation=g,this.tilePosToCharacters=new Map,this.charRemoved$=new ge}isCharBlockingAt(f,g,y,E=new Set,w=new Set){if(y.length===0)return!1;let R=this.posToString(f,g),c=this.tilePosToCharacters.get(R);return!!(c&&c.size>0&&[...c].filter(x=>!E.has(x.getId())).filter(x=>!this.doIntersect(x.getCollisionGroups(),w)).some(x=>y.some(t=>x.getCollisionGroups().some(a=>this.collidesWith(t,a)))))}doIntersect(f,g){for(let y of f)if(g.has(y))return!0;return!1}collidesWith(f,g){return this.collisionGroupRelation?(this.collisionGroupRelation.get(f)||new Set).has(g):f===g}getCharactersAt(f,g){let y=this.posToString(f,g),E=this.tilePosToCharacters.get(y);return new Set(E)}addCharacter(f){this.addTilePositions(f.getTilePos(),f),this.addTilePositions(f.getNextTilePos(),f),this.addPositionChangeSub(f),this.addPositionChangeFinishedSub(f),this.addTilePosSetSub(f)}removeCharacter(f){let g=f.getId();this.charRemoved$.next(g),this.deleteTilePositions(f.getTilePos(),f),this.deleteTilePositions(f.getNextTilePos(),f)}add(f,g){var y;this.tilePosToCharacters.has(f)||this.tilePosToCharacters.set(f,new Set),(y=this.tilePosToCharacters.get(f))==null||y.add(g)}addTilePosSetSub(f){f.tilePositionSet().pipe(Wi(this.charRemoved(f.getId()))).subscribe(g=>{this.deleteTilePositions(f.getNextTilePos(),f),this.addTilePositions(g,f)})}charRemoved(f){var g;return(g=this.charRemoved$)==null?void 0:g.pipe(sa(1),Cr(y=>y==f))}addPositionChangeSub(f){f.positionChangeStarted().pipe(Wi(this.charRemoved(f.getId())),this.posChangeToLayerPos()).subscribe(g=>{this.collistionStrategy==="BLOCK_ONE_TILE_AHEAD"&&this.deleteTilePositions(g.exit,f),this.addTilePositions(g.enter,f)})}addPositionChangeFinishedSub(f){f.positionChangeFinished().pipe(Wi(this.charRemoved(f.getId())),this.posChangeToLayerPos()).subscribe(g=>{this.deleteTilePositions(g.exit,f),this.addTilePositions(g.enter,f)})}addTilePositions(f,g){this.forEachCharTile(f,g,(y,E)=>{this.add(this.posToString(new Pt(y,E),f.layer),g)})}deleteTilePositions(f,g){this.forEachCharTile(f,g,(y,E)=>{var w;(w=this.tilePosToCharacters.get(this.posToString(new Pt(y,E),f.layer)))==null||w.delete(g)})}forEachCharTile(f,g,y){let E=f.position;for(let w=E.x;w<E.x+g.getTileWidth();w++)for(let R=E.y;R<E.y+g.getTileHeight();R++)y(w,R)}posChangeToLayerPos(){return AR(Qa(f=>({enter:{position:new Pt(f.enterTile),layer:f.enterLayer},exit:{position:new Pt(f.exitTile),layer:f.exitLayer}})))}posToString(f,g){return`${f.x}#${f.y}#${g}`}},Bv=class{constructor(f,g,y,E){this.x=f,this.y=g,this.width=y,this.height=E}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}isInRange(f){return f.x>=this.x&&f.x<this.x+this.width&&f.y>=this.y&&f.y<this.y+this.height}},tl="ge_charLayer",km=0,uL=1,ad={none:1,left:2,"up-left":3,up:4,"up-right":5,right:6,"down-right":7,down:8,"down-left":9},fL=class{constructor(f,g){this.tilemap=f,this.gridTilemap=g,this.tileCollisionCache=new Map}fixLayer(f){this.fixedLayer=this.tileCollisionCache.get(f)}unfixLayers(){this.fixedLayer=void 0}rebuild(f){f||(f=new Bv(0,0,this.tilemap.getWidth(),this.tilemap.getHeight()));let g=this.tilemap.getLayers().filter(y=>y.isCharLayer());for(let y of[...g,void 0]){let E=this.tileCollisionCache.get(y==null?void 0:y.getName());if(E===void 0){E=new Array(this.tilemap.getWidth());for(let w=0;w<this.tilemap.getWidth();w++)E[w]=new Array(this.tilemap.getHeight());this.tileCollisionCache.set(y==null?void 0:y.getName(),E)}for(let w=f.getY();w<f.getY()+f.getHeight();w++)for(let R=f.getX();R<f.getX()+f.getWidth();R++){let c=0;!this.gridTilemap.hasNoTileUncached(new Pt(R,w),y==null?void 0:y.getName())&&(c=od(c,0));for(let x of Fv())this.gridTilemap.hasBlockingTileUncached(new Pt(R,w),y==null?void 0:y.getName(),x,!0)&&(c=od(c,ad[x]));this.gridTilemap.hasBlockingTileUncached(new Pt(R,w),y==null?void 0:y.getName(),void 0,!0)&&(c=od(c,ad[1])),E[R][w]=c}}}hasTileAt(f,g,y){var E;let w=this.fixedLayer||this.tileCollisionCache.get(y),R=(E=w==null?void 0:w[f])==null?void 0:E[g];if(R!==void 0)return Bh(R,km)}isBlockingFrom(f,g,y,E,w){var R;let c=this.fixedLayer||this.tileCollisionCache.get(y),x=(R=c==null?void 0:c[f])==null?void 0:R[g];if(x!==void 0)return!w&&!Bh(x,km)?!0:E===void 0?Bh(x,uL):Bh(x,ad[E])}};function od(f,g){return f|1<<g}function Bh(f,g){return(f>>g&1)==1}var qm="ge_cost",FT=class OT{constructor(g,y,E,w=void 0,R=!1){this.tilemap=g,this.collisionTilePropertyName=y,this.useTileCollisionCache=R,this.characters=new Map,this.transitions=new Map,this.reverseTransitions=new Map,this.collidesPropNames=new Map,this.tileCostPropNames=new Map,this.collisionRelevantLayersFrameCache=new Map,this.charBlockCache=new lL(E,w);for(let c of Fv())this.collidesPropNames.set(c,OT.ONE_WAY_COLLIDE_PROP_PREFIX+c),this.tileCostPropNames.set(c,`${qm}_${c}`);this.useTileCollisionCache&&(this.tileCollisionCache=new fL(g,this),this.tileCollisionCache.rebuild())}fixCacheLayer(g){var y;(y=this.tileCollisionCache)==null||y.fixLayer(g)}unfixCacheLayers(){var g;(g=this.tileCollisionCache)==null||g.unfixLayers()}addCharacter(g){this.characters.set(g.getId(),g);let y=g.getNextTilePos().layer;y===void 0?g.setTilePosition(Sr(de({},g.getNextTilePos()),{layer:this.getLowestCharLayer()})):this.getCharLayerNames().includes(y)||console.warn(`Char layer '${y}' of character '${g.getId()}' is unknown.`),this.charBlockCache.addCharacter(g)}removeCharacter(g){let y=this.characters.get(g);y&&(this.charBlockCache.removeCharacter(y),this.characters.delete(g))}getCharacters(){return[...this.characters.values()]}getCharactersAt(g,y){return this.charBlockCache.getCharactersAt(g,y)}rebuildTileCollisionCache(g){var y;(y=this.tileCollisionCache)==null||y.rebuild(g)}hasBlockingTileUncached(g,y,E,w){if(!w&&this.hasNoTileUncached(g,y))return!0;let R=this.getCollisionRelevantLayers(y);for(let c of R)if(this.isLayerBlockingAt(c.getName(),g,E))return!0;return!1}hasBlockingTile(g,y,E,w){var R;let c=(R=this.tileCollisionCache)==null?void 0:R.isBlockingFrom(g.x,g.y,y,E,w);return c!==void 0?c:this.hasBlockingTileUncached(g,y,E,w)}getTransition(g,y){let E=this.transitions.get(g.toString());if(E)return E.get(y)}getReverseTransitions(g,y){let E=this.reverseTransitions.get(g.toString());if(E)return E.get(y)}setTransition(g,y,E){var w,R,c,x,t;this.transitions.has(g.toString())||this.transitions.set(g.toString(),new Map),this.reverseTransitions.has(g.toString())||this.reverseTransitions.set(g.toString(),new Map),(w=this.transitions.get(g.toString()))==null||w.set(y,E),(R=this.reverseTransitions.get(g.toString()))!=null&&R.has(E)||(c=this.reverseTransitions.get(g.toString()))==null||c.set(E,new Set),(t=(x=this.reverseTransitions.get(g.toString()))==null?void 0:x.get(E))==null||t.add(y)}getTransitions(){return new Map([...this.transitions].map(([g,y])=>[g,new Map(y)]))}getTileCosts(g,y){let E=this.getCollisionRelevantLayers(g.layer),w=1;for(let R of E)w=Math.max(w,this.getTileCostsForLayer(Sr(de({},g),{layer:R.getName()}),y));return w}getTileCostsForLayer(g,y){let E=this.tilemap.getTileAt(g.position.x,g.position.y,g.layer);return y&&(E==null?void 0:E.getProperty(this.tileCostPropNames.get(y)||""))||(E==null?void 0:E.getProperty(qm))||1}hasNoTileUncached(g,y){return!this.getCollisionRelevantLayers(y).some(E=>this.tilemap.hasTileAt(g.x,g.y,E.getName()))}hasNoTile(g,y){var E;let w=(E=this.tileCollisionCache)==null?void 0:E.hasTileAt(g.x,g.y,y);return w!==void 0?w:this.hasNoTileUncached(g,y)}hasBlockingChar(g,y,E,w=new Set,R=new Set){return this.charBlockCache.isCharBlockingAt(g,y,E,w,R)}isInRange(g){return new Bv(0,0,this.tilemap.getWidth(),this.tilemap.getHeight()).isInRange(g)}toMapDirection(g){return this.isIsometric()?vR(g):g}fromMapDirection(g){return this.isIsometric()?Ov(g):g}isIsometric(){return this.tilemap.getOrientation()==="isometric"}getTilePosInDirection(g,y){let E=g.position.add(_s(this.toMapDirection(y))),w=this.getTransition(E,g.layer)||g.layer;return{position:E,layer:w}}invalidateFrameCache(){this.collisionRelevantLayersFrameCache.clear()}isLayerBlockingAt(g,y,E){let w=this.tilemap.getTileAt(y.x,y.y,g);return w?!!(w.getProperty(this.collisionTilePropertyName)||E&&w.getProperty(this.collidesPropNames.get(E)||"")):!1}getCharLayerIndexes(){return this.tilemap.getLayers().map((g,y)=>({layer:g,index:y})).filter(({layer:g})=>g.isCharLayer()).map(({index:g})=>g)}findPrevAndCharLayer(g){let y=this.getCharLayerIndexes(),E=this.tilemap.getLayers(),w=y.findIndex(R=>E[R].getProperty(tl)==g);return w==0?{prevIndex:-1,charLayerIndex:y[w]}:{prevIndex:y[w-1],charLayerIndex:y[w]}}getCollisionRelevantLayers(g){if(!g)return this.tilemap.getLayers();let y=this.collisionRelevantLayersFrameCache.get(g);if(y)return y;let{prevIndex:E,charLayerIndex:w}=this.findPrevAndCharLayer(g),R=this.tilemap.getLayers().slice(E+1,w+1);return this.collisionRelevantLayersFrameCache.set(g,R),R}getLowestCharLayer(){for(let g of this.tilemap.getLayers())if(g.isCharLayer())return g.getProperty(tl)}getCharLayerNames(){return this.tilemap.getLayers().filter(g=>g.isCharLayer()).map(g=>g.getProperty(tl)).filter(cL)}};FT.ONE_WAY_COLLIDE_PROP_PREFIX="ge_collide_";var dL=FT;function cL(f){return f!=null}var vL=(f=>(f.REMOVED="REMOVED",f.ADDED="ADDED",f))(vL||{}),pL=(f=>(f.WAIT="WAIT",f.SKIP="SKIP",f.STOP="STOP",f))(pL||{}),gL=class{constructor(f,g){this.character=f,this.tilemap=g,this.queue=new Rl,this.finished$=new ge,this.pathBlockedWaitElapsed=0,this.distanceUtils=qr.create(f.getNumberOfDirections()),this.character.autoMovementSet().pipe(Cr(y=>y!==this),sa(1)).subscribe(()=>{this.queue.size()>0&&this.finishMovementTerminated(),this.finished$.complete()})}update(f){(!this.character.isMoving()||this.character.willCrossTileBorderThisUpdate(f))&&this.queue.size()>0&&this.moveCharOnPath(f)}getInfo(){return{type:"Queue"}}enqueue(f,g={}){var y,E,w;let R={pathBlockedStrategy:(y=g.pathBlockedStrategy)!=null?y:"STOP",pathBlockedWaitTimeoutMs:(g==null?void 0:g.pathBlockedWaitTimeoutMs)||-1,ignoreInvalidPositions:(E=g.ignoreInvalidPositions)!=null?E:!1,skipInvalidPositions:(w=g.skipInvalidPositions)!=null?w:!1};for(let c of f){let x={command:c,config:R};if(Is(c)){this.queue.enqueue(x);continue}let t=this.queue.peekEnd(),a=t==null?void 0:t.command;if(a||(a=this.character.getNextTilePos()),Is(a)){this.queue.enqueue(x);continue}let p=this.distanceUtils.distance(a.position,c.position)===1;(!g.ignoreInvalidPositions||p)&&this.queue.enqueue(x)}}peekAll(){return this.queue.peekAll()}size(){return this.queue.size()}finished(){return this.finished$}clear(){this.queue.clear()}moveCharOnPath(f){let g=this.queue.peek();if(!g)return;let y=g.command,E=g.config;if(Is(y)&&(y=this.tilemap.getTilePosInDirection(this.character.getNextTilePos(),y)),E.skipInvalidPositions){if(y=this.getNextValidPosition(),!y){this.finishInvalidNextPos(y);return}}else if(!this.isNeighborPos(y)){this.finishInvalidNextPos(y);return}if(this.character.isBlockingDirection(Hi(this.character.getNextTilePos().position,y.position))){if(E.pathBlockedStrategy==="STOP")this.finishPathBlocked(y);else if(E.pathBlockedStrategy==="SKIP"){this.queue.dequeue(),this.moveCharOnPath(f);return}else E.pathBlockedStrategy==="WAIT"&&E.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=f,this.pathBlockedWaitElapsed>=E.pathBlockedWaitTimeoutMs&&this.finishBlockedWaitTimeout(y,E.pathBlockedWaitTimeoutMs));return}this.pathBlockedWaitElapsed=0,this.queue.dequeue(),this.character.move(this.getDir(this.character.getNextTilePos().position,y.position)),this.isLastMovement()&&this.finish("SUCCESS","",y)}getNextValidPosition(){for(var f;this.queue.size()>0;){let g=(f=this.queue.peek())==null?void 0:f.command;if(Is(g)&&(g=this.tilemap.getTilePosInDirection(this.character.getNextTilePos(),g)),g&&this.isNeighborPos(g))return g;this.queue.dequeue()}}isLastMovement(){return this.queue.size()===0}isNeighborPos(f){let g=this.distanceUtils.distance(this.character.getNextTilePos().position,f.position)===1,y=this.tilemap.getTransition(f.position,this.character.getNextTilePos().layer);if(this.character.getNextTilePos().layer!==f.layer)return g&&y===f.layer;let E=y!==void 0&&y!==f.layer;return g&&!E}finishMovementTerminated(){this.finish("MOVEMENT_TERMINATED","New automatic movement has been set to character.")}finishInvalidNextPos(f){f?this.finish("INVALID_NEXT_POS",`Position ${this.posToStr(f)} is not reachable from ${this.posToStr(this.character.getNextTilePos())}.`):this.finish("INVALID_NEXT_POS",`No enqueued position is reachable from ${this.posToStr(this.character.getNextTilePos())}.`)}finishPathBlocked(f){this.finish("PATH_BLOCKED",`Position ${this.posToStr(f)} is blocked.`)}finishBlockedWaitTimeout(f,g){this.finish("PATH_BLOCKED_WAIT_TIMEOUT",`Position ${this.posToStr(f)} is blocked and the wait timeout of ${g} ms has been exceeded.`)}finish(f,g="",y=this.character.getNextTilePos()){this.queue=new Rl,this.finished$.next({position:y.position,result:f,description:g,layer:y.layer})}getDir(f,g){return this.tilemap.fromMapDirection(Hi(f,g))}posToStr(f){return`(${f.position.x}, ${f.position.y}, ${f.layer})`}},mL=class{constructor(f=!0){this.isCreatedInternal=!1,f&&console.log(`Using GridEngine v${LT}`)}getCharLayer(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getTilePos().layer}getTransition(f,g){var y;return this.initGuard(),(y=this.gridTilemap)==null?void 0:y.getTransition(new Pt(f),g)}setTransition(f,g,y){var E;return this.initGuard(),(E=this.gridTilemap)==null?void 0:E.setTransition(new Pt(f),g,y)}create(f,g){this.isCreatedInternal=!0,this.gridCharacters=new Map;let y=this.setConfigDefaults(g);this.config=y,this.movementStopped$=new ge,this.movementStarted$=new ge,this.directionChanged$=new ge,this.positionChangeStarted$=new ge,this.positionChangeFinished$=new ge,this.queueMovementFinished$=new ge,this.charRemoved$=new ge,this.charAdded$=new ge,this.gridTilemap=new dL(f,this.config.collisionTilePropertyName,this.config.characterCollisionStrategy,this.recordToMap(this.config.collisionGroupRelation),this.config.cacheTileCollisions),this.addCharacters()}recordToMap(f){return f?new Map(Object.entries(f).map(([g,y])=>[g,new Set(y)])):void 0}getPosition(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getTilePos().position}move(f,g){this.moveChar(f,g)}moveRandomly(f,g=0,y=-1){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(f);if(!w)throw this.createCharUnknownErr(f);let R=new oL(w,g,y);w.setMovement(R)}getMovement(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);let E=y.getMovement();return E?E.getInfo():{type:"None"}}moveTo(f,g,y){var E;let w=this.assembleMoveToConfig(y);this.initGuard();let R=(E=this.gridCharacters)==null?void 0:E.get(f);if(!R)throw this.createCharUnknownErr(f);if(!this.gridTilemap)throw this.createUninitializedErr();let c=new IT(R,this.gridTilemap,{position:new Pt(g),layer:(y==null?void 0:y.targetLayer)||R.getNextTilePos().layer},{distance:0,config:w});return R.setMovement(c),c.finishedObs().pipe(Qa(x=>({charId:f,position:x.position,result:x.result,description:x.description,layer:x.layer})))}stopMovement(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);y.setMovement(void 0)}setSpeed(f,g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(f);if(!E)throw this.createCharUnknownErr(f);E.setSpeed(g)}getSpeed(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getSpeed()}collidesWithTiles(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.collidesWithTiles()}update(f,g){var y;if(this.isCreatedInternal&&this.gridCharacters)for(let[E,w]of this.gridCharacters)w.update(g);(y=this.gridTilemap)==null||y.invalidateFrameCache()}addCharacter(f){var g,y,E,w,R;if(!this.gridTilemap)throw this.createUninitializedErr();if(!this.config)throw this.createUninitializedErr();let c={speed:f.speed||4,tilemap:this.gridTilemap,collidesWithTiles:!0,collisionGroups:["geDefault"],ignoreCollisionGroups:[],charLayer:f.charLayer,facingDirection:f.facingDirection,labels:f.labels,numberOfDirections:(g=f.numberOfDirections)!=null?g:this.config.numberOfDirections,tileWidth:f.tileWidth,tileHeight:f.tileHeight};typeof f.collides=="boolean"?f.collides===!1&&(c.collidesWithTiles=!1,c.collisionGroups=[]):f.collides!==void 0&&(f.collides.collidesWithTiles===!1&&(c.collidesWithTiles=!1),f.collides.collisionGroups&&(c.collisionGroups=f.collides.collisionGroups),f.collides.ignoreCollisionGroups&&(c.ignoreCollisionGroups=f.collides.ignoreCollisionGroups),c.ignoreMissingTiles=(E=(y=f.collides)==null?void 0:y.ignoreMissingTiles)!=null?E:!1);let x=new kR(f.id,c);f.startPosition&&x.setTilePosition({position:new Pt(f.startPosition),layer:x.getTilePos().layer}),(w=this.gridCharacters)==null||w.set(f.id,x),this.gridTilemap.addCharacter(x);let t=x.getId();x.movementStopped().pipe(Wi(this.charRemoved(t))).subscribe(a=>{var p;(p=this.movementStopped$)==null||p.next({charId:t,direction:a})}),x.movementStarted().pipe(Wi(this.charRemoved(t))).subscribe(a=>{var p;(p=this.movementStarted$)==null||p.next({charId:t,direction:a})}),x.directionChanged().pipe(Wi(this.charRemoved(t))).subscribe(a=>{var p;(p=this.directionChanged$)==null||p.next({charId:t,direction:a})}),x.positionChangeStarted().pipe(Wi(this.charRemoved(t))).subscribe(a=>{var p;(p=this.positionChangeStarted$)==null||p.next(de({charId:t},a))}),x.positionChangeFinished().pipe(Wi(this.charRemoved(t))).subscribe(a=>{var p;(p=this.positionChangeFinished$)==null||p.next(de({charId:t},a))}),(R=this.charAdded$)==null||R.next(t)}hasCharacter(f){var g;return this.initGuard(),!!((g=this.gridCharacters)!=null&&g.has(f))}removeCharacter(f){var g,y,E,w;if(this.initGuard(),!((g=this.gridCharacters)!=null&&g.get(f)))throw this.createCharUnknownErr(f);(y=this.gridTilemap)==null||y.removeCharacter(f),(E=this.gridCharacters)==null||E.delete(f),(w=this.charRemoved$)==null||w.next(f)}removeAllCharacters(){if(this.initGuard(),!!this.gridCharacters)for(let f of this.gridCharacters.keys())this.removeCharacter(f)}getAllCharacters(f){if(this.initGuard(),!this.gridCharacters)return[];let g=[...this.gridCharacters.values()];return(f?hL(g,f):g).map(y=>y.getId())}getLabels(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getLabels()}addLabels(f,g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(f);if(!E)throw this.createCharUnknownErr(f);E.addLabels(g)}removeLabels(f,g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(f);if(!E)throw this.createCharUnknownErr(f);E.removeLabels(g)}clearLabels(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);y.clearLabels()}follow(f,g,y,E){var w,R,c,x,t,a;let p;y===void 0?p={distance:0,closestPointIfBlocked:!1}:typeof y=="number"?(p={distance:y,closestPointIfBlocked:!1},E&&(p.closestPointIfBlocked=!0)):p=y,this.initGuard();let o=(w=this.gridCharacters)==null?void 0:w.get(f),s=(R=this.gridCharacters)==null?void 0:R.get(g);if(!o)throw this.createCharUnknownErr(f);if(!s)throw this.createCharUnknownErr(g);if(!this.gridTilemap)throw this.createUninitializedErr();let r=new aL(o,this.gridTilemap,s,{distance:(c=p.distance)!=null?c:0,noPathFoundStrategy:p.closestPointIfBlocked?"CLOSEST_REACHABLE":"STOP",maxPathLength:(x=p.maxPathLength)!=null?x:1/0,shortestPathAlgorithm:(t=p.algorithm)!=null?t:"BIDIRECTIONAL_SEARCH",ignoreLayers:!!p.ignoreLayers,facingDirection:(a=p.facingDirection)!=null?a:"none"});o.setMovement(r)}isMoving(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.isMoving()}getFacingDirection(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getFacingDirection()}getFacingPosition(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);let E=y.getFacingPosition();return{x:E.x,y:E.y}}turnTowards(f,g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(f);if(!E)throw this.createCharUnknownErr(f);return E.turnTowards(g)}getCharactersAt(f,g){if(this.initGuard(),!this.gridTilemap)return[];let y=this.gridTilemap.getCharactersAt(new Pt(f),g);return Array.from(y).map(E=>E.getId())}setPosition(f,g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(f);if(!w)throw this.createCharUnknownErr(f);y||w.setTilePosition({position:new Pt(g),layer:w.getTilePos().layer}),w.setTilePosition({position:new Pt(g),layer:y})}isBlocked(f,g,y=["geDefault"]){var E,w;this.initGuard();let R=new Pt(f);return!!((E=this.gridTilemap)!=null&&E.hasBlockingTile(R,g)||(w=this.gridTilemap)!=null&&w.hasBlockingChar(R,g,y))}isTileBlocked(f,g){var y;return this.initGuard(),!!((y=this.gridTilemap)!=null&&y.hasBlockingTile(new Pt(f),g))}getCollisionGroups(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getCollisionGroups()||[]}setCollisionGroups(f,g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(f);if(!E)throw this.createCharUnknownErr(f);E.setCollisionGroups(g)}getIgnoreCollisionGroups(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getIgnoreCollisionGroups()||[]}setIgnoreCollisionGroups(f,g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(f);if(!E)throw this.createCharUnknownErr(f);E.setIgnoreCollisionGroups(g)}getTilePosInDirection(f,g,y){if(!this.gridTilemap)throw this.createUninitializedErr();let E=this.gridTilemap.getTilePosInDirection({position:new Pt(f),layer:g},y);return{position:E.position.toPosition(),charLayer:E.layer}}findShortestPath(f,g,y={}){if(!this.gridTilemap)throw this.createUninitializedErr();let E=y.shortestPathAlgorithm||"BFS";y.considerCosts&&E!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${E}'. It can only be used with A* algorithm.`);let w=y.pathWidth!==void 0&&y.pathWidth!==1,R=y.pathHeight!==void 0&&y.pathHeight!==1;(w||R)&&E==="JPS"&&console.warn("GridEngine: Pathfinding options 'pathWidth' and 'pathHeight' > 1 cannot be used with algorithm 'JPS'.");let c=new DT(this.gridTilemap).findShortestPath(Vt.toInternal(f),Vt.toInternal(g),Sr(de({},y),{shortestPathAlgorithm:E}));return{path:c.path.map(Vt.fromInternal),closestToTarget:c.closestToTarget?Vt.fromInternal(c.closestToTarget):void 0,reachedMaxPathLength:!1,steps:c.steps}}steppedOn(f,g,y){return this.positionChangeFinished().pipe(Cr(E=>f.includes(E.charId)&&g.some(w=>w.x===E.enterTile.x&&w.y===E.enterTile.y)&&(y===void 0||y.includes(E.enterLayer))))}characterShifted(){if(!this.charAdded$||!this.charRemoved$)throw this.createUninitializedErr();return this.charAdded$.pipe(Qa(f=>({charId:f,action:"ADDED"})),JR(this.charRemoved$.pipe(Qa(f=>({charId:f,action:"REMOVED"})))))}movementStarted(){if(!this.movementStarted$)throw this.createUninitializedErr();return this.movementStarted$}movementStopped(){if(!this.movementStopped$)throw this.createUninitializedErr();return this.movementStopped$}directionChanged(){if(!this.directionChanged$)throw this.createUninitializedErr();return this.directionChanged$}positionChangeStarted(){if(!this.positionChangeStarted$)throw this.createUninitializedErr();return this.positionChangeStarted$}positionChangeFinished(){if(!this.positionChangeFinished$)throw this.createUninitializedErr();return this.positionChangeFinished$}getMovementProgress(f){var g;this.initGuard();let y=(g=this.gridCharacters)==null?void 0:g.get(f);if(!y)throw this.createCharUnknownErr(f);return y.getMovementProgress()}rebuildTileCollisionCache(f,g,y,E){var w;(w=this.gridTilemap)==null||w.rebuildTileCollisionCache(new Bv(f,g,y,E))}addQueueMovements(f,g,y){var E,w;this.initGuard();let R=(E=this.gridCharacters)==null?void 0:E.get(f);if(!R)throw this.createCharUnknownErr(f);if(!this.gridTilemap)throw this.createUninitializedErr();let c;((w=R==null?void 0:R.getMovement())==null?void 0:w.getInfo().type)==="Queue"?c=R.getMovement():(c=new gL(R,this.gridTilemap),R.setMovement(c),c.finished().pipe(Wi(KR(this.charRemoved(f),R.autoMovementSet()))).subscribe(x=>{var t;(t=this.queueMovementFinished$)==null||t.next(de({charId:f},x))})),c.enqueue(g.map(x=>Is(x)?x:{position:new Pt(x.position),layer:x.charLayer}),y)}queueMovementFinished(){if(!this.queueMovementFinished$)throw this.createUninitializedErr();return this.queueMovementFinished$}getEnqueuedMovements(f){var g,y;this.initGuard();let E=(g=this.gridCharacters)==null?void 0:g.get(f);if(!E)throw this.createCharUnknownErr(f);return((y=E.getMovement())==null?void 0:y.getInfo().type)==="Queue"?E.getMovement().peekAll().map(w=>({command:Is(w.command)?w.command:Vt.fromInternal(w.command),config:w.config})):[]}clearEnqueuedMovements(f){var g,y;this.initGuard();let E=(g=this.gridCharacters)==null?void 0:g.get(f);if(!E)throw this.createCharUnknownErr(f);((y=E.getMovement())==null?void 0:y.getInfo().type)==="Queue"&&E.getMovement().clear()}getTileCost(f,g,y){var E,w;return this.initGuard(),(w=(E=this.gridTilemap)==null?void 0:E.getTileCosts({position:new Pt(f),layer:g},y))!=null?w:1}getState(){let f=[];if(this.gridCharacters)for(let[g,y]of this.gridCharacters.entries())f.push({id:g,position:Vt.fromInternal(y.getTilePos()),facingDirection:y.getFacingDirection(),speed:y.getSpeed(),labels:y.getLabels(),movementProgress:y.getMovementProgress(),collisionConfig:{collisionGroups:y.getCollisionGroups(),ignoreCollisionGroups:y.getIgnoreCollisionGroups(),collidesWithTiles:y.collidesWithTiles(),ignoreMissingTiles:y.getIgnoreMissingTiles()}});return{characters:f}}setState(f){if(this.gridCharacters)for(let g of f.characters){let y=this.gridCharacters.get(g.id);if(y){let E=y.getTilePos();Vt.equal(E,Vt.toInternal(g.position))||y.setTilePosition(Vt.toInternal(g.position)),y.setSpeed(g.speed),y.turnTowards(g.facingDirection),g.collisionConfig.collisionGroups&&y.setCollisionGroups(g.collisionConfig.collisionGroups),g.collisionConfig.collidesWithTiles!==void 0&&y.setCollidesWithTiles(g.collisionConfig.collidesWithTiles),g.collisionConfig.ignoreMissingTiles!==void 0&&y.setIgnoreMissingTiles(g.collisionConfig.ignoreMissingTiles),y.setMovementProgress(g.movementProgress),y.clearLabels(),y.addLabels(g.labels)}}}charRemoved(f){var g;if(!this.charRemoved$)throw this.createUninitializedErr();return(g=this.charRemoved$)==null?void 0:g.pipe(sa(1),Cr(y=>y==f))}initGuard(){if(!this.isCreatedInternal)throw this.createUninitializedErr()}createUninitializedErr(){throw new Error("GridEngine not initialized. You need to call create() first.")}addCharacters(){var f;(f=this.config)==null||f.characters.forEach(g=>this.addCharacter(g))}moveChar(f,g){var y,E,w;this.initGuard();let R=(y=this.gridCharacters)==null?void 0:y.get(f);if(!R)throw this.createCharUnknownErr(f);if(R.getNumberOfDirections()===4){if(!((E=this.gridTilemap)!=null&&E.isIsometric())&&Za(g)){console.warn(`GridEngine: Character '${f}' can't be moved '${g}' in 4 direction mode.`);return}else if((w=this.gridTilemap)!=null&&w.isIsometric()&&!Za(g)){console.warn(`GridEngine: Character '${f}' can't be moved '${g}' in 4 direction isometric mode.`);return}}R.move(g)}createCharUnknownErr(f){return new Error(`Character unknown: ${f}`)}assembleMoveToConfig(f={}){let g=Sr(de({},f),{noPathFoundStrategy:"STOP",pathBlockedStrategy:"WAIT"});return f!=null&&f.noPathFoundStrategy&&(Object.values(AT).includes(f.noPathFoundStrategy)?g.noPathFoundStrategy=f.noPathFoundStrategy:console.warn(`GridEngine: Unknown NoPathFoundStrategy '${f.noPathFoundStrategy}'. Falling back to 'STOP'`)),f!=null&&f.pathBlockedStrategy&&(Object.values(wT).includes(f.pathBlockedStrategy)?g.pathBlockedStrategy=f.pathBlockedStrategy:console.warn(`GridEngine: Unknown PathBlockedStrategy '${f.pathBlockedStrategy}'. Falling back to 'WAIT'`)),g}setConfigDefaults(f){return de({collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",cacheTileCollisions:!1},f)}},yL=class extends RT{constructor(f,g={}){super(f,g),this.distanceUtils=qr.create(8)}getForced(f,g){let y=new Set,E=this.posInDir(g,this.distanceUtils.direction(g.position,f.position)),{topLeft:w,downLeft:R,top:c,bottom:x,topRight:t,downRight:a}=this.normalizedPositions(E,g),p=this.distanceUtils.direction(f.position,g.position);return Za(p)?(this.blockOrTrans(E,w)&&(this.addIfNotBlocked(y,g,c),this.addIfNotBlocked(y,g,t),this.blockOrTrans(R,w)&&this.addIfNotBlocked(y,g,w)),this.blockOrTrans(E,R)&&(this.addIfNotBlocked(y,g,x),this.addIfNotBlocked(y,g,a),this.blockOrTrans(w,R)&&this.addIfNotBlocked(y,g,R)),this.blockOrTrans(w,c)&&this.addIfNotBlocked(y,g,c),this.blockOrTrans(R,x)&&this.addIfNotBlocked(y,g,x),this.blockOrTrans(w,t)&&this.addIfNotBlocked(y,g,t),this.blockOrTrans(R,a)&&this.addIfNotBlocked(y,g,a)):((this.blockOrTrans(E,c)||this.blockOrTrans(c,t))&&this.addIfNotBlocked(y,g,t),(this.blockOrTrans(E,x)||this.blockOrTrans(x,a))&&this.addIfNotBlocked(y,g,a),this.blockOrTrans(E,w)&&this.blockOrTrans(E,c)&&(this.addIfNotBlocked(y,g,c),this.addIfNotBlocked(y,g,w)),this.blockOrTrans(E,R)&&this.blockOrTrans(E,x)&&(this.addIfNotBlocked(y,g,x),this.addIfNotBlocked(y,g,R)),this.blockOrTrans(w,c)&&this.blockOrTrans(E,c)&&this.addIfNotBlocked(y,g,c),this.blockOrTrans(R,x)&&this.blockOrTrans(E,x)&&this.addIfNotBlocked(y,g,x)),y}hasForced(f,g){let y=this.posInDir(g,this.distanceUtils.direction(g.position,f.position)),{topLeft:E,downLeft:w,top:R,bottom:c,topRight:x,downRight:t}=this.normalizedPositions(y,g),a=this.distanceUtils.direction(f.position,g.position);if(Za(a)){if(this.blockOrTrans(y,E)&&(!this.blockOrTrans(g,R)||!this.blockOrTrans(g,x)||this.blockOrTrans(w,E)&&!this.blockOrTrans(g,E))||this.blockOrTrans(y,w)&&(!this.blockOrTrans(g,c)||!this.blockOrTrans(g,t)||this.blockOrTrans(E,w)&&!this.blockOrTrans(g,w))||this.blockOrTrans(E,R)&&!this.blockOrTrans(g,R)||this.blockOrTrans(w,c)&&!this.blockOrTrans(g,c)||this.blockOrTrans(E,x)&&!this.blockOrTrans(g,x)||this.blockOrTrans(w,t)&&!this.blockOrTrans(g,t))return!0}else if((this.blockOrTrans(y,R)||this.blockOrTrans(R,x))&&!this.blockOrTrans(g,x)||(this.blockOrTrans(y,c)||this.blockOrTrans(c,t))&&!this.blockOrTrans(g,t)||this.blockOrTrans(y,E)&&this.blockOrTrans(y,R)&&(!this.blockOrTrans(g,R)||!this.blockOrTrans(g,E))||this.blockOrTrans(y,w)&&this.blockOrTrans(y,c)&&(!this.blockOrTrans(g,c)||!this.blockOrTrans(g,w))||this.blockOrTrans(E,R)&&this.blockOrTrans(y,R)&&!this.blockOrTrans(g,R)||this.blockOrTrans(w,c)&&this.blockOrTrans(y,c)&&!this.blockOrTrans(g,c))return!0;return!1}prune(f,g){let{top:y,right:E,topRight:w,downRight:R,bottom:c}=this.normalizedPositions(f,g),x=this.getForced(f,g),t=Hi(f.position,g.position);return Za(t)?[y,E,w,R,c,...x]:[E,...x]}jump(f,g,y,E){let w=this.distanceUtils.direction(f.position,g.position),R=this.getTilePosInDir(g,this.distanceUtils.direction(g.position,f.position));if(!(this.isBlocking(R,g)&&!(Vt.equal(g,y)&&this.options.ignoreBlockedTarget))){if(Vt.equal(g,y))return{p:g,dist:E};if(E>=this.maxJumpSize)return{p:g,dist:E};if(this.getTransition(g.position,f.layer)!==void 0)return{p:g,dist:E};if(this.hasForced(f,g))return{p:g,dist:E};if(this.updateClosestToTarget(g,y),w==="up-left"){if(this.jump(g,this.getTilePosInDir(g,"up"),y,E+1)!==void 0)return{p:g,dist:E};if(this.jump(g,this.getTilePosInDir(g,"left"),y,E+1)!==void 0)return{p:g,dist:E}}else if(w==="down-left"){if(this.jump(g,this.getTilePosInDir(g,"down"),y,E+1)!==void 0)return{p:g,dist:E};if(this.jump(g,this.getTilePosInDir(g,"left"),y,E+1)!==void 0)return{p:g,dist:E}}else if(w==="up-right"){if(this.jump(g,this.getTilePosInDir(g,"up"),y,E+1)!==void 0)return{p:g,dist:E};if(this.jump(g,this.getTilePosInDir(g,"right"),y,E+1)!==void 0)return{p:g,dist:E}}else if(w==="down-right"){if(this.jump(g,this.getTilePosInDir(g,"down"),y,E+1)!==void 0)return{p:g,dist:E};if(this.jump(g,this.getTilePosInDir(g,"right"),y,E+1)!==void 0)return{p:g,dist:E}}return this.jump(g,this.getTilePosInDir(g,Hi(f.position,g.position)),y,E+1)}}},DT=class{constructor(f){this.gridTilemap=f}findShortestPath(f,g,y={}){return xL(y.shortestPathAlgorithm||"BIDIRECTIONAL_SEARCH",this.gridTilemap,y).findShortestPath(f,g)}};function xL(f,g,y){switch(f){case"BIDIRECTIONAL_SEARCH":return new rL(g,y);case"A_STAR":return new nL(g,y);case"JPS":return y.numberOfDirections===8?new yL(g,y):new RT(g,y)}return new MT(g,y)}var TL=(f=>(f.SUCCESS="SUCCESS",f.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED="NO_PATH_FOUND_MAX_RETRIES_EXCEEDED",f.PATH_BLOCKED_MAX_RETRIES_EXCEEDED="PATH_BLOCKED_MAX_RETRIES_EXCEEDED",f.PATH_BLOCKED="PATH_BLOCKED",f.NO_PATH_FOUND="NO_PATH_FOUND",f.PATH_BLOCKED_WAIT_TIMEOUT="PATH_BLOCKED_WAIT_TIMEOUT",f.MOVEMENT_TERMINATED="MOVEMENT_TERMINATED",f.MAX_PATH_LENGTH_REACHED="MAX_PATH_LENGTH_REACHED",f))(TL||{}),IT=class{constructor(f,g,y,{config:E,ignoreBlockedTarget:w=!1,distance:R=0}={}){this.character=f,this.tilemap=g,this.targetPos=y,this.shortestPath=[],this.distOffset=0,this.posOnPath=0,this.stopped=!1,this.pathBlockedWaitElapsed=0,this.isPositionAllowed=()=>!0,this.shortestPathAlgorithm="BIDIRECTIONAL_SEARCH",this.maxPathLength=1/0,this.considerCosts=!1,this.isBlocking=(x,t)=>x?new MT(this.tilemap,this.getPathfindingOptions()).isBlocking(this.character.getTilePos(),{position:x,layer:t}):!0;var c;this.shortestPathAlgorithm=(c=E==null?void 0:E.algorithm)!=null?c:this.shortestPathAlgorithm,this.ignoreBlockedTarget=w,this.distance=R,this.noPathFoundStrategy=(E==null?void 0:E.noPathFoundStrategy)||"STOP",this.pathBlockedStrategy=(E==null?void 0:E.pathBlockedStrategy)||"WAIT",this.noPathFoundRetryable=new $m((E==null?void 0:E.noPathFoundRetryBackoffMs)||200,(E==null?void 0:E.noPathFoundMaxRetries)||-1,()=>{this.stop("NO_PATH_FOUND_MAX_RETRIES_EXCEEDED")}),this.pathBlockedRetryable=new $m((E==null?void 0:E.pathBlockedRetryBackoffMs)||200,(E==null?void 0:E.pathBlockedMaxRetries)||-1,()=>{this.stop("PATH_BLOCKED_MAX_RETRIES_EXCEEDED")}),E!=null&&E.isPositionAllowedFn&&(this.isPositionAllowed=E.isPositionAllowedFn),E!=null&&E.maxPathLength&&(this.maxPathLength=E.maxPathLength),this.alternativeTargets=E==null?void 0:E.alternativeTargets,this.noPathFoundAlternativeTargetsFallbackStrategy=E==null?void 0:E.noPathFoundAlternativeTargetsFallbackStrategy,E!=null&&E.considerCosts&&this.shortestPathAlgorithm!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${this.shortestPathAlgorithm}'. It can only be used with A* algorithm.`),(this.character.getTileWidth()>1||this.character.getTileHeight()>1&&this.shortestPathAlgorithm==="JPS")&&console.warn("GridEngine: Pathfinding algorithm 'JPS' can only be used for characters with 'tileWidth' and 'tileHeight' of 1"),this.considerCosts=(E==null?void 0:E.considerCosts)||!1,this.ignoreLayers=!!(E!=null&&E.ignoreLayers),this.distanceUtils=qr.create(f.getNumberOfDirections()),this.pathBlockedWaitTimeoutMs=(E==null?void 0:E.pathBlockedWaitTimeoutMs)||-1,this.finished$=new ge,this.setCharacter(f)}setPathBlockedStrategy(f){this.pathBlockedStrategy=f}getPathBlockedStrategy(){return this.pathBlockedStrategy}setCharacter(f){this.character=f,this.noPathFoundRetryable.reset(),this.pathBlockedRetryable.reset(),this.pathBlockedWaitElapsed=0,this.calcShortestPath(),this.character.autoMovementSet().pipe(Cr(g=>g!==this),sa(1)).subscribe(()=>{this.stop("MOVEMENT_TERMINATED")})}getPathfindingOptions(){return{shortestPathAlgorithm:this.shortestPathAlgorithm,pathWidth:this.character.getTileWidth(),pathHeight:this.character.getTileHeight(),numberOfDirections:this.character.getNumberOfDirections(),isPositionAllowed:this.isPositionAllowed,collisionGroups:this.character.getCollisionGroups(),ignoredChars:[this.character.getId()],ignoreTiles:!this.character.collidesWithTiles(),ignoreMapBounds:this.character.getIgnoreMissingTiles(),ignoreBlockedTarget:this.ignoreBlockedTarget,maxPathLength:this.maxPathLength,ignoreLayers:this.ignoreLayers,considerCosts:this.considerCosts,calculateClosestToTarget:!0}}update(f){var g,y,E,w;this.stopped||(this.noPathFound()&&(this.noPathFoundStrategy==="RETRY"?this.noPathFoundRetryable.retry(f,()=>this.calcShortestPath()):this.noPathFoundStrategy==="STOP"&&this.stop("NO_PATH_FOUND")),this.updatePosOnPath(),this.isBlocking((g=this.nextTileOnPath())==null?void 0:g.position,(y=this.character)==null?void 0:y.getNextTilePos().layer)?this.applyPathBlockedStrategy(f):this.pathBlockedWaitElapsed=0,this.hasArrived()?(this.stop("SUCCESS"),this.existsDistToTarget()&&this.turnTowardsTarget()):this.isBlocking((E=this.nextTileOnPath())==null?void 0:E.position,(w=this.character)==null?void 0:w.getNextTilePos().layer)||this.moveCharOnPath())}finishedObs(){return this.finished$}getInfo(){return{type:"Target",state:{pathAhead:this.shortestPath.slice(this.posOnPath).map(f=>Vt.fromInternal(f))},config:{algorithm:this.shortestPathAlgorithm,ignoreBlockedTarget:this.ignoreBlockedTarget,distance:this.distance,targetPos:Vt.fromInternal(this.targetPos),noPathFoundStrategy:this.noPathFoundStrategy,pathBlockedStrategy:this.pathBlockedStrategy,noPathFoundRetryBackoffMs:this.noPathFoundRetryable.getBackoffMs(),noPathFoundMaxRetries:this.noPathFoundRetryable.getMaxRetries()}}}resultToReason(f){switch(f){case"SUCCESS":return"Successfully arrived.";case"MOVEMENT_TERMINATED":return"Movement of character has been replaced before destination was reached.";case"PATH_BLOCKED":return"PathBlockedStrategy STOP: Path blocked.";case"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED":return`NoPathFoundStrategy RETRY: Maximum retries of ${this.noPathFoundRetryable.getMaxRetries()} exceeded.`;case"NO_PATH_FOUND":return"NoPathFoundStrategy STOP: No path found.";case"PATH_BLOCKED_MAX_RETRIES_EXCEEDED":return`PathBlockedStrategy RETRY: Maximum retries of ${this.pathBlockedRetryable.getMaxRetries()} exceeded.`;case"PATH_BLOCKED_WAIT_TIMEOUT":return`PathBlockedStrategy WAIT: Wait timeout of ${this.pathBlockedWaitTimeoutMs}ms exceeded.`}}applyPathBlockedStrategy(f){this.pathBlockedStrategy==="RETRY"?this.pathBlockedRetryable.retry(f,()=>{let g=this.getShortestPath();g.path.length>0&&this.calcShortestPath(g)}):this.pathBlockedStrategy==="STOP"?this.stop("PATH_BLOCKED"):this.pathBlockedStrategy==="WAIT"&&this.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=f,this.pathBlockedWaitElapsed>=this.pathBlockedWaitTimeoutMs&&this.stop("PATH_BLOCKED_WAIT_TIMEOUT"))}moveCharOnPath(){let f=this.nextTileOnPath();if(!f)return;let g=this.getDir(this.character.getNextTilePos().position,f.position);this.character.move(g)}nextTileOnPath(){return this.shortestPath[this.posOnPath+1]}stop(f){this.finished$.next({position:this.character.getTilePos().position,result:f,description:this.resultToReason(f),layer:this.character.getTilePos().layer}),this.finished$.complete(),this.stopped=!0}turnTowardsTarget(){let f=this.shortestPath[this.posOnPath+1],g=this.getDir(this.character.getNextTilePos().position,f.position);this.character.turnTowards(g)}existsDistToTarget(){return this.posOnPath<this.shortestPath.length-1}hasArrived(){return!this.noPathFound()&&this.posOnPath+Math.max(0,this.distance-this.distOffset)>=this.shortestPath.length-1}updatePosOnPath(){let f=this.shortestPath[this.posOnPath];for(;this.posOnPath<this.shortestPath.length-1&&(this.character.getNextTilePos().position.x!=f.position.x||this.character.getNextTilePos().position.y!=f.position.y);)this.posOnPath++,f=this.shortestPath[this.posOnPath]}noPathFound(){return this.shortestPath.length===0}calcShortestPath(f){f=f??this.getShortestPath(),this.posOnPath=0,this.shortestPath=f.path,this.distOffset=f.distOffset}getShortestPath(){var f;let g=new DT(this.tilemap),{path:y,closestToTarget:E}=g.findShortestPath(this.character.getNextTilePos(),this.targetPos,this.getPathfindingOptions());if(y.length==0){if(this.noPathFoundStrategy==="CLOSEST_REACHABLE"){if(!E)throw Error("ClosestToTarget should never be undefined in TargetMovement.");return this.pathToAlternativeTarget(E,g)}else if(this.noPathFoundStrategy==="ALTERNATIVE_TARGETS"){for(let w of(f=this.alternativeTargets)!=null?f:[]){let{path:R,distOffset:c}=this.pathToAlternativeTarget(Vt.toInternal(w),g);if(R.length>0)return{path:R,distOffset:c}}return this.noPathFoundStrategy=this.noPathFoundAlternativeTargetsFallbackStrategy||"STOP",this.getShortestPath()}}return{path:y,distOffset:0}}pathToAlternativeTarget(f,g){let y=g.findShortestPath(this.character.getNextTilePos(),f,this.getPathfindingOptions()).path,E=this.distanceUtils.distance(f.position,this.targetPos.position);return{path:y,distOffset:E}}getDir(f,g){return this.tilemap.fromMapDirection(this.distanceUtils.direction(f,g))}},SL=Object.create,BT=Object.defineProperty,CL=Object.getOwnPropertyDescriptor,EL=Object.getOwnPropertyNames,PL=Object.getPrototypeOf,AL=Object.prototype.hasOwnProperty,wL=(f,g)=>()=>(g||f((g={exports:{}}).exports,g),g.exports),ML=(f,g,y,E)=>{if(g&&typeof g=="object"||typeof g=="function")for(let w of EL(g))!AL.call(f,w)&&w!==y&&BT(f,w,{get:()=>g[w],enumerable:!(E=CL(g,w))||E.enumerable});return f},Nv=(f,g,y)=>(y=f!=null?SL(PL(f)):{},ML(g||!f||!f.__esModule?BT(y,"default",{value:f,enumerable:!0}):y,f)),Gv=wL((f,g)=>{(function(){var y,E="4.17.21",w=200,R="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",x="Invalid `variable` option passed into `_.template`",t="__lodash_hash_undefined__",a=500,p="__lodash_placeholder__",o=1,s=2,r=4,e=1,n=2,l=1,i=2,h=4,u=8,d=16,v=32,m=64,T=128,C=256,S=512,P=30,A="...",L=800,F=16,I=1,D=2,B=3,G=1/0,z=9007199254740991,W=17976931348623157e292,Y=0/0,K=4294967295,Z=K-1,V=K>>>1,H=[["ary",T],["bind",l],["bindKey",i],["curry",u],["curryRight",d],["flip",S],["partial",v],["partialRight",m],["rearg",C]],N="[object Arguments]",b="[object Array]",X="[object AsyncFunction]",$="[object Boolean]",Q="[object Date]",J="[object DOMException]",k="[object Error]",et="[object Function]",nt="[object GeneratorFunction]",st="[object Map]",ot="[object Number]",ut="[object Null]",at="[object Object]",ct="[object Promise]",Et="[object Proxy]",St="[object RegExp]",Ct="[object Set]",dt="[object String]",Tt="[object Symbol]",vt="[object Undefined]",wt="[object WeakMap]",Bt="[object WeakSet]",Zt="[object ArrayBuffer]",Ut="[object DataView]",Ht="[object Float32Array]",Nt="[object Float64Array]",oe="[object Int8Array]",kt="[object Int16Array]",Te="[object Int32Array]",Ee="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Ji="[object Uint16Array]",ki="[object Uint32Array]",Cn=/\b__p \+= '';/g,En=/\b(__p \+=) '' \+/g,Pn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zv=/&(?:amp|lt|gt|quot|#39);/g,bv=/[&<>"']/g,VT=RegExp(zv.source),WT=RegExp(bv.source),XT=/<%-([\s\S]+?)%>/g,YT=/<%([\s\S]+?)%>/g,Uv=/<%=([\s\S]+?)%>/g,HT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$T=/^\w*$/,KT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vu=/[\\^$.*+?()[\]{}|]/g,jT=RegExp(vu.source),pu=/^\s+/,ZT=/\s/,QT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,JT=/\{\n\/\* \[wrapped with (.+)\] \*/,kT=/,? & /,qT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_T=/[()=,{}\[\]\/\s]/,tS=/\\(\\)?/g,eS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vv=/\w*$/,iS=/^[-+]0x[0-9a-f]+$/i,nS=/^0b[01]+$/i,rS=/^\[object .+?Constructor\]$/,sS=/^0o[0-7]+$/i,aS=/^(?:0|[1-9]\d*)$/,oS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ao=/($^)/,hS=/['\n\r\u2028\u2029\\]/g,wo="\\ud800-\\udfff",lS="\\u0300-\\u036f",uS="\\ufe20-\\ufe2f",fS="\\u20d0-\\u20ff",Wv=lS+uS+fS,Xv="\\u2700-\\u27bf",Yv="a-z\\xdf-\\xf6\\xf8-\\xff",dS="\\xac\\xb1\\xd7\\xf7",cS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vS="\\u2000-\\u206f",pS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hv="A-Z\\xc0-\\xd6\\xd8-\\xde",$v="\\ufe0e\\ufe0f",Kv=dS+cS+vS+pS,gu="[']",gS="["+wo+"]",jv="["+Kv+"]",Mo="["+Wv+"]",Zv="\\d+",mS="["+Xv+"]",Qv="["+Yv+"]",Jv="[^"+wo+Kv+Zv+Xv+Yv+Hv+"]",mu="\\ud83c[\\udffb-\\udfff]",yS="(?:"+Mo+"|"+mu+")",kv="[^"+wo+"]",yu="(?:\\ud83c[\\udde6-\\uddff]){2}",xu="[\\ud800-\\udbff][\\udc00-\\udfff]",is="["+Hv+"]",qv="\\u200d",_v="(?:"+Qv+"|"+Jv+")",xS="(?:"+is+"|"+Jv+")",tp="(?:"+gu+"(?:d|ll|m|re|s|t|ve))?",ep="(?:"+gu+"(?:D|LL|M|RE|S|T|VE))?",ip=yS+"?",np="["+$v+"]?",TS="(?:"+qv+"(?:"+[kv,yu,xu].join("|")+")"+np+ip+")*",SS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rp=np+ip+TS,ES="(?:"+[mS,yu,xu].join("|")+")"+rp,PS="(?:"+[kv+Mo+"?",Mo,yu,xu,gS].join("|")+")",AS=RegExp(gu,"g"),wS=RegExp(Mo,"g"),Tu=RegExp(mu+"(?="+mu+")|"+PS+rp,"g"),MS=RegExp([is+"?"+Qv+"+"+tp+"(?="+[jv,is,"$"].join("|")+")",xS+"+"+ep+"(?="+[jv,is+_v,"$"].join("|")+")",is+"?"+_v+"+"+tp,is+"+"+ep,CS,SS,Zv,ES].join("|"),"g"),RS=RegExp("["+qv+wo+Wv+$v+"]"),LS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,FS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],OS=-1,he={};he[Ht]=he[Nt]=he[oe]=he[kt]=he[Te]=he[Ee]=he[Ue]=he[Ji]=he[ki]=!0,he[N]=he[b]=he[Zt]=he[$]=he[Ut]=he[Q]=he[k]=he[et]=he[st]=he[ot]=he[at]=he[St]=he[Ct]=he[dt]=he[wt]=!1;var se={};se[N]=se[b]=se[Zt]=se[Ut]=se[$]=se[Q]=se[Ht]=se[Nt]=se[oe]=se[kt]=se[Te]=se[st]=se[ot]=se[at]=se[St]=se[Ct]=se[dt]=se[Tt]=se[Ee]=se[Ue]=se[Ji]=se[ki]=!0,se[k]=se[et]=se[wt]=!1;var DS={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},IS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},NS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},GS=parseFloat,zS=parseInt,sp=typeof global=="object"&&global&&global.Object===Object&&global,bS=typeof self=="object"&&self&&self.Object===Object&&self,Be=sp||bS||Function("return this")(),Su=typeof f=="object"&&f&&!f.nodeType&&f,Mr=Su&&typeof g=="object"&&g&&!g.nodeType&&g,ap=Mr&&Mr.exports===Su,Cu=ap&&sp.process,Fi=function(){try{var ht=Mr&&Mr.require&&Mr.require("util").types;return ht||Cu&&Cu.binding&&Cu.binding("util")}catch{}}(),op=Fi&&Fi.isArrayBuffer,hp=Fi&&Fi.isDate,lp=Fi&&Fi.isMap,up=Fi&&Fi.isRegExp,fp=Fi&&Fi.isSet,dp=Fi&&Fi.isTypedArray;function pi(ht,pt,ft){switch(ft.length){case 0:return ht.call(pt);case 1:return ht.call(pt,ft[0]);case 2:return ht.call(pt,ft[0],ft[1]);case 3:return ht.call(pt,ft[0],ft[1],ft[2])}return ht.apply(pt,ft)}function US(ht,pt,ft,Mt){for(var Gt=-1,qt=ht==null?0:ht.length;++Gt<qt;){var Le=ht[Gt];pt(Mt,Le,ft(Le),ht)}return Mt}function Oi(ht,pt){for(var ft=-1,Mt=ht==null?0:ht.length;++ft<Mt&&pt(ht[ft],ft,ht)!==!1;);return ht}function VS(ht,pt){for(var ft=ht==null?0:ht.length;ft--&&pt(ht[ft],ft,ht)!==!1;);return ht}function cp(ht,pt){for(var ft=-1,Mt=ht==null?0:ht.length;++ft<Mt;)if(!pt(ht[ft],ft,ht))return!1;return!0}function Kn(ht,pt){for(var ft=-1,Mt=ht==null?0:ht.length,Gt=0,qt=[];++ft<Mt;){var Le=ht[ft];pt(Le,ft,ht)&&(qt[Gt++]=Le)}return qt}function Ro(ht,pt){var ft=ht==null?0:ht.length;return!!ft&&ns(ht,pt,0)>-1}function Eu(ht,pt,ft){for(var Mt=-1,Gt=ht==null?0:ht.length;++Mt<Gt;)if(ft(pt,ht[Mt]))return!0;return!1}function fe(ht,pt){for(var ft=-1,Mt=ht==null?0:ht.length,Gt=Array(Mt);++ft<Mt;)Gt[ft]=pt(ht[ft],ft,ht);return Gt}function jn(ht,pt){for(var ft=-1,Mt=pt.length,Gt=ht.length;++ft<Mt;)ht[Gt+ft]=pt[ft];return ht}function Pu(ht,pt,ft,Mt){var Gt=-1,qt=ht==null?0:ht.length;for(Mt&&qt&&(ft=ht[++Gt]);++Gt<qt;)ft=pt(ft,ht[Gt],Gt,ht);return ft}function WS(ht,pt,ft,Mt){var Gt=ht==null?0:ht.length;for(Mt&&Gt&&(ft=ht[--Gt]);Gt--;)ft=pt(ft,ht[Gt],Gt,ht);return ft}function Au(ht,pt){for(var ft=-1,Mt=ht==null?0:ht.length;++ft<Mt;)if(pt(ht[ft],ft,ht))return!0;return!1}var XS=wu("length");function YS(ht){return ht.split("")}function HS(ht){return ht.match(qT)||[]}function vp(ht,pt,ft){var Mt;return ft(ht,function(Gt,qt,Le){if(pt(Gt,qt,Le))return Mt=qt,!1}),Mt}function Lo(ht,pt,ft,Mt){for(var Gt=ht.length,qt=ft+(Mt?1:-1);Mt?qt--:++qt<Gt;)if(pt(ht[qt],qt,ht))return qt;return-1}function ns(ht,pt,ft){return pt===pt?i2(ht,pt,ft):Lo(ht,pp,ft)}function $S(ht,pt,ft,Mt){for(var Gt=ft-1,qt=ht.length;++Gt<qt;)if(Mt(ht[Gt],pt))return Gt;return-1}function pp(ht){return ht!==ht}function gp(ht,pt){var ft=ht==null?0:ht.length;return ft?Ru(ht,pt)/ft:Y}function wu(ht){return function(pt){return pt==null?y:pt[ht]}}function Mu(ht){return function(pt){return ht==null?y:ht[pt]}}function mp(ht,pt,ft,Mt,Gt){return Gt(ht,function(qt,Le,re){ft=Mt?(Mt=!1,qt):pt(ft,qt,Le,re)}),ft}function KS(ht,pt){var ft=ht.length;for(ht.sort(pt);ft--;)ht[ft]=ht[ft].value;return ht}function Ru(ht,pt){for(var ft,Mt=-1,Gt=ht.length;++Mt<Gt;){var qt=pt(ht[Mt]);qt!==y&&(ft=ft===y?qt:ft+qt)}return ft}function Lu(ht,pt){for(var ft=-1,Mt=Array(ht);++ft<ht;)Mt[ft]=pt(ft);return Mt}function jS(ht,pt){return fe(pt,function(ft){return[ft,ht[ft]]})}function yp(ht){return ht&&ht.slice(0,Cp(ht)+1).replace(pu,"")}function gi(ht){return function(pt){return ht(pt)}}function Fu(ht,pt){return fe(pt,function(ft){return ht[ft]})}function aa(ht,pt){return ht.has(pt)}function xp(ht,pt){for(var ft=-1,Mt=ht.length;++ft<Mt&&ns(pt,ht[ft],0)>-1;);return ft}function Tp(ht,pt){for(var ft=ht.length;ft--&&ns(pt,ht[ft],0)>-1;);return ft}function ZS(ht,pt){for(var ft=ht.length,Mt=0;ft--;)ht[ft]===pt&&++Mt;return Mt}var QS=Mu(DS),JS=Mu(IS);function kS(ht){return"\\"+NS[ht]}function qS(ht,pt){return ht==null?y:ht[pt]}function rs(ht){return RS.test(ht)}function _S(ht){return LS.test(ht)}function t2(ht){for(var pt,ft=[];!(pt=ht.next()).done;)ft.push(pt.value);return ft}function Ou(ht){var pt=-1,ft=Array(ht.size);return ht.forEach(function(Mt,Gt){ft[++pt]=[Gt,Mt]}),ft}function Sp(ht,pt){return function(ft){return ht(pt(ft))}}function Zn(ht,pt){for(var ft=-1,Mt=ht.length,Gt=0,qt=[];++ft<Mt;){var Le=ht[ft];(Le===pt||Le===p)&&(ht[ft]=p,qt[Gt++]=ft)}return qt}function Fo(ht){var pt=-1,ft=Array(ht.size);return ht.forEach(function(Mt){ft[++pt]=Mt}),ft}function e2(ht){var pt=-1,ft=Array(ht.size);return ht.forEach(function(Mt){ft[++pt]=[Mt,Mt]}),ft}function i2(ht,pt,ft){for(var Mt=ft-1,Gt=ht.length;++Mt<Gt;)if(ht[Mt]===pt)return Mt;return-1}function n2(ht,pt,ft){for(var Mt=ft+1;Mt--;)if(ht[Mt]===pt)return Mt;return Mt}function ss(ht){return rs(ht)?s2(ht):XS(ht)}function qi(ht){return rs(ht)?a2(ht):YS(ht)}function Cp(ht){for(var pt=ht.length;pt--&&ZT.test(ht.charAt(pt)););return pt}var r2=Mu(BS);function s2(ht){for(var pt=Tu.lastIndex=0;Tu.test(ht);)++pt;return pt}function a2(ht){return ht.match(Tu)||[]}function o2(ht){return ht.match(MS)||[]}var h2=function ht(pt){pt=pt==null?Be:Qn.defaults(Be.Object(),pt,Qn.pick(Be,FS));var ft=pt.Array,Mt=pt.Date,Gt=pt.Error,qt=pt.Function,Le=pt.Math,re=pt.Object,Du=pt.RegExp,l2=pt.String,Di=pt.TypeError,Oo=ft.prototype,u2=qt.prototype,as=re.prototype,Do=pt["__core-js_shared__"],Io=u2.toString,te=as.hasOwnProperty,f2=0,Ep=function(){var M=/[^.]+$/.exec(Do&&Do.keys&&Do.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),Bo=as.toString,d2=Io.call(re),c2=Be._,v2=Du("^"+Io.call(te).replace(vu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),No=ap?pt.Buffer:y,Jn=pt.Symbol,Go=pt.Uint8Array,Pp=No?No.allocUnsafe:y,zo=Sp(re.getPrototypeOf,re),Ap=re.create,wp=as.propertyIsEnumerable,bo=Oo.splice,Mp=Jn?Jn.isConcatSpreadable:y,oa=Jn?Jn.iterator:y,Rr=Jn?Jn.toStringTag:y,Uo=function(){try{var M=Ir(re,"defineProperty");return M({},"",{}),M}catch{}}(),p2=pt.clearTimeout!==Be.clearTimeout&&pt.clearTimeout,g2=Mt&&Mt.now!==Be.Date.now&&Mt.now,m2=pt.setTimeout!==Be.setTimeout&&pt.setTimeout,Vo=Le.ceil,Wo=Le.floor,Iu=re.getOwnPropertySymbols,y2=No?No.isBuffer:y,Rp=pt.isFinite,x2=Oo.join,T2=Sp(re.keys,re),Fe=Le.max,$e=Le.min,S2=Mt.now,C2=pt.parseInt,Lp=Le.random,E2=Oo.reverse,Bu=Ir(pt,"DataView"),ha=Ir(pt,"Map"),Nu=Ir(pt,"Promise"),os=Ir(pt,"Set"),la=Ir(pt,"WeakMap"),ua=Ir(re,"create"),Xo=la&&new la,hs={},P2=Br(Bu),A2=Br(ha),w2=Br(Nu),M2=Br(os),R2=Br(la),Yo=Jn?Jn.prototype:y,fa=Yo?Yo.valueOf:y,Fp=Yo?Yo.toString:y;function _(M){if(Se(M)&&!zt(M)&&!(M instanceof Kt)){if(M instanceof Ii)return M;if(te.call(M,"__wrapped__"))return O0(M)}return new Ii(M)}var ls=function(){function M(){}return function(O){if(!ve(O))return{};if(Ap)return Ap(O);M.prototype=O;var U=new M;return M.prototype=y,U}}();function Ho(){}function Ii(M,O){this.__wrapped__=M,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=y}_.templateSettings={escape:XT,evaluate:YT,interpolate:Uv,variable:"",imports:{_}},_.prototype=Ho.prototype,_.prototype.constructor=_,Ii.prototype=ls(Ho.prototype),Ii.prototype.constructor=Ii;function Kt(M){this.__wrapped__=M,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function L2(){var M=new Kt(this.__wrapped__);return M.__actions__=si(this.__actions__),M.__dir__=this.__dir__,M.__filtered__=this.__filtered__,M.__iteratees__=si(this.__iteratees__),M.__takeCount__=this.__takeCount__,M.__views__=si(this.__views__),M}function F2(){if(this.__filtered__){var M=new Kt(this);M.__dir__=-1,M.__filtered__=!0}else M=this.clone(),M.__dir__*=-1;return M}function O2(){var M=this.__wrapped__.value(),O=this.__dir__,U=zt(M),j=O<0,q=U?M.length:0,tt=YC(0,q,this.__views__),it=tt.start,rt=tt.end,lt=rt-it,gt=j?rt:it-1,mt=this.__iteratees__,yt=mt.length,At=0,Lt=$e(lt,this.__takeCount__);if(!U||!j&&q==lt&&Lt==lt)return t0(M,this.__actions__);var Dt=[];t:for(;lt--&&At<Lt;){gt+=O;for(var Xt=-1,It=M[gt];++Xt<yt;){var $t=mt[Xt],Qt=$t.iteratee,xi=$t.type,_e=Qt(It);if(xi==D)It=_e;else if(!_e){if(xi==I)continue t;break t}}Dt[At++]=It}return Dt}Kt.prototype=ls(Ho.prototype),Kt.prototype.constructor=Kt;function Lr(M){var O=-1,U=M==null?0:M.length;for(this.clear();++O<U;){var j=M[O];this.set(j[0],j[1])}}function D2(){this.__data__=ua?ua(null):{},this.size=0}function I2(M){var O=this.has(M)&&delete this.__data__[M];return this.size-=O?1:0,O}function B2(M){var O=this.__data__;if(ua){var U=O[M];return U===t?y:U}return te.call(O,M)?O[M]:y}function N2(M){var O=this.__data__;return ua?O[M]!==y:te.call(O,M)}function G2(M,O){var U=this.__data__;return this.size+=this.has(M)?0:1,U[M]=ua&&O===y?t:O,this}Lr.prototype.clear=D2,Lr.prototype.delete=I2,Lr.prototype.get=B2,Lr.prototype.has=N2,Lr.prototype.set=G2;function An(M){var O=-1,U=M==null?0:M.length;for(this.clear();++O<U;){var j=M[O];this.set(j[0],j[1])}}function z2(){this.__data__=[],this.size=0}function b2(M){var O=this.__data__,U=$o(O,M);if(U<0)return!1;var j=O.length-1;return U==j?O.pop():bo.call(O,U,1),--this.size,!0}function U2(M){var O=this.__data__,U=$o(O,M);return U<0?y:O[U][1]}function V2(M){return $o(this.__data__,M)>-1}function W2(M,O){var U=this.__data__,j=$o(U,M);return j<0?(++this.size,U.push([M,O])):U[j][1]=O,this}An.prototype.clear=z2,An.prototype.delete=b2,An.prototype.get=U2,An.prototype.has=V2,An.prototype.set=W2;function wn(M){var O=-1,U=M==null?0:M.length;for(this.clear();++O<U;){var j=M[O];this.set(j[0],j[1])}}function X2(){this.size=0,this.__data__={hash:new Lr,map:new(ha||An),string:new Lr}}function Y2(M){var O=nh(this,M).delete(M);return this.size-=O?1:0,O}function H2(M){return nh(this,M).get(M)}function $2(M){return nh(this,M).has(M)}function K2(M,O){var U=nh(this,M),j=U.size;return U.set(M,O),this.size+=U.size==j?0:1,this}wn.prototype.clear=X2,wn.prototype.delete=Y2,wn.prototype.get=H2,wn.prototype.has=$2,wn.prototype.set=K2;function Fr(M){var O=-1,U=M==null?0:M.length;for(this.__data__=new wn;++O<U;)this.add(M[O])}function j2(M){return this.__data__.set(M,t),this}function Z2(M){return this.__data__.has(M)}Fr.prototype.add=Fr.prototype.push=j2,Fr.prototype.has=Z2;function _i(M){var O=this.__data__=new An(M);this.size=O.size}function Q2(){this.__data__=new An,this.size=0}function J2(M){var O=this.__data__,U=O.delete(M);return this.size=O.size,U}function k2(M){return this.__data__.get(M)}function q2(M){return this.__data__.has(M)}function _2(M,O){var U=this.__data__;if(U instanceof An){var j=U.__data__;if(!ha||j.length<w-1)return j.push([M,O]),this.size=++U.size,this;U=this.__data__=new wn(j)}return U.set(M,O),this.size=U.size,this}_i.prototype.clear=Q2,_i.prototype.delete=J2,_i.prototype.get=k2,_i.prototype.has=q2,_i.prototype.set=_2;function Op(M,O){var U=zt(M),j=!U&&Nr(M),q=!U&&!j&&er(M),tt=!U&&!j&&!q&&cs(M),it=U||j||q||tt,rt=it?Lu(M.length,l2):[],lt=rt.length;for(var gt in M)(O||te.call(M,gt))&&!(it&&(gt=="length"||q&&(gt=="offset"||gt=="parent")||tt&&(gt=="buffer"||gt=="byteLength"||gt=="byteOffset")||Fn(gt,lt)))&&rt.push(gt);return rt}function Dp(M){var O=M.length;return O?M[Ku(0,O-1)]:y}function tC(M,O){return rh(si(M),Or(O,0,M.length))}function eC(M){return rh(si(M))}function Gu(M,O,U){(U!==y&&!tn(M[O],U)||U===y&&!(O in M))&&Mn(M,O,U)}function da(M,O,U){var j=M[O];(!(te.call(M,O)&&tn(j,U))||U===y&&!(O in M))&&Mn(M,O,U)}function $o(M,O){for(var U=M.length;U--;)if(tn(M[U][0],O))return U;return-1}function iC(M,O,U,j){return kn(M,function(q,tt,it){O(j,q,U(q),it)}),j}function Ip(M,O){return M&&cn(O,Ne(O),M)}function nC(M,O){return M&&cn(O,oi(O),M)}function Mn(M,O,U){O=="__proto__"&&Uo?Uo(M,O,{configurable:!0,enumerable:!0,value:U,writable:!0}):M[O]=U}function zu(M,O){for(var U=-1,j=O.length,q=ft(j),tt=M==null;++U<j;)q[U]=tt?y:yf(M,O[U]);return q}function Or(M,O,U){return M===M&&(U!==y&&(M=M<=U?M:U),O!==y&&(M=M>=O?M:O)),M}function Bi(M,O,U,j,q,tt){var it,rt=O&o,lt=O&s,gt=O&r;if(U&&(it=q?U(M,j,q,tt):U(M)),it!==y)return it;if(!ve(M))return M;var mt=zt(M);if(mt){if(it=$C(M),!rt)return si(M,it)}else{var yt=Ke(M),At=yt==et||yt==nt;if(er(M))return n0(M,rt);if(yt==at||yt==N||At&&!q){if(it=lt||At?{}:C0(M),!rt)return lt?BC(M,nC(it,M)):IC(M,Ip(it,M))}else{if(!se[yt])return q?M:{};it=KC(M,yt,rt)}}tt||(tt=new _i);var Lt=tt.get(M);if(Lt)return Lt;tt.set(M,it),k0(M)?M.forEach(function(It){it.add(Bi(It,O,U,It,M,tt))}):Q0(M)&&M.forEach(function(It,$t){it.set($t,Bi(It,O,U,$t,M,tt))});var Dt=gt?lt?rf:nf:lt?oi:Ne,Xt=mt?y:Dt(M);return Oi(Xt||M,function(It,$t){Xt&&($t=It,It=M[$t]),da(it,$t,Bi(It,O,U,$t,M,tt))}),it}function rC(M){var O=Ne(M);return function(U){return Bp(U,M,O)}}function Bp(M,O,U){var j=U.length;if(M==null)return!j;for(M=re(M);j--;){var q=U[j],tt=O[q],it=M[q];if(it===y&&!(q in M)||!tt(it))return!1}return!0}function Np(M,O,U){if(typeof M!="function")throw new Di(c);return xa(function(){M.apply(y,U)},O)}function ca(M,O,U,j){var q=-1,tt=Ro,it=!0,rt=M.length,lt=[],gt=O.length;if(!rt)return lt;U&&(O=fe(O,gi(U))),j?(tt=Eu,it=!1):O.length>=w&&(tt=aa,it=!1,O=new Fr(O));t:for(;++q<rt;){var mt=M[q],yt=U==null?mt:U(mt);if(mt=j||mt!==0?mt:0,it&&yt===yt){for(var At=gt;At--;)if(O[At]===yt)continue t;lt.push(mt)}else tt(O,yt,j)||lt.push(mt)}return lt}var kn=h0(dn),Gp=h0(Uu,!0);function sC(M,O){var U=!0;return kn(M,function(j,q,tt){return U=!!O(j,q,tt),U}),U}function Ko(M,O,U){for(var j=-1,q=M.length;++j<q;){var tt=M[j],it=O(tt);if(it!=null&&(rt===y?it===it&&!yi(it):U(it,rt)))var rt=it,lt=tt}return lt}function aC(M,O,U,j){var q=M.length;for(U=Wt(U),U<0&&(U=-U>q?0:q+U),j=j===y||j>q?q:Wt(j),j<0&&(j+=q),j=U>j?0:_0(j);U<j;)M[U++]=O;return M}function zp(M,O){var U=[];return kn(M,function(j,q,tt){O(j,q,tt)&&U.push(j)}),U}function Ve(M,O,U,j,q){var tt=-1,it=M.length;for(U||(U=ZC),q||(q=[]);++tt<it;){var rt=M[tt];O>0&&U(rt)?O>1?Ve(rt,O-1,U,j,q):jn(q,rt):j||(q[q.length]=rt)}return q}var bu=l0(),bp=l0(!0);function dn(M,O){return M&&bu(M,O,Ne)}function Uu(M,O){return M&&bp(M,O,Ne)}function jo(M,O){return Kn(O,function(U){return On(M[U])})}function Dr(M,O){O=_n(O,M);for(var U=0,j=O.length;M!=null&&U<j;)M=M[vn(O[U++])];return U&&U==j?M:y}function Up(M,O,U){var j=O(M);return zt(M)?j:jn(j,U(M))}function ke(M){return M==null?M===y?vt:ut:Rr&&Rr in re(M)?XC(M):eE(M)}function Vu(M,O){return M>O}function oC(M,O){return M!=null&&te.call(M,O)}function hC(M,O){return M!=null&&O in re(M)}function lC(M,O,U){return M>=$e(O,U)&&M<Fe(O,U)}function Wu(M,O,U){for(var j=U?Eu:Ro,q=M[0].length,tt=M.length,it=tt,rt=ft(tt),lt=1/0,gt=[];it--;){var mt=M[it];it&&O&&(mt=fe(mt,gi(O))),lt=$e(mt.length,lt),rt[it]=!U&&(O||q>=120&&mt.length>=120)?new Fr(it&&mt):y}mt=M[0];var yt=-1,At=rt[0];t:for(;++yt<q&&gt.length<lt;){var Lt=mt[yt],Dt=O?O(Lt):Lt;if(Lt=U||Lt!==0?Lt:0,!(At?aa(At,Dt):j(gt,Dt,U))){for(it=tt;--it;){var Xt=rt[it];if(!(Xt?aa(Xt,Dt):j(M[it],Dt,U)))continue t}At&&At.push(Dt),gt.push(Lt)}}return gt}function uC(M,O,U,j){return dn(M,function(q,tt,it){O(j,U(q),tt,it)}),j}function va(M,O,U){O=_n(O,M),M=w0(M,O);var j=M==null?M:M[vn(Gi(O))];return j==null?y:pi(j,M,U)}function Vp(M){return Se(M)&&ke(M)==N}function fC(M){return Se(M)&&ke(M)==Zt}function dC(M){return Se(M)&&ke(M)==Q}function pa(M,O,U,j,q){return M===O?!0:M==null||O==null||!Se(M)&&!Se(O)?M!==M&&O!==O:cC(M,O,U,j,pa,q)}function cC(M,O,U,j,q,tt){var it=zt(M),rt=zt(O),lt=it?b:Ke(M),gt=rt?b:Ke(O);lt=lt==N?at:lt,gt=gt==N?at:gt;var mt=lt==at,yt=gt==at,At=lt==gt;if(At&&er(M)){if(!er(O))return!1;it=!0,mt=!1}if(At&&!mt)return tt||(tt=new _i),it||cs(M)?x0(M,O,U,j,q,tt):VC(M,O,lt,U,j,q,tt);if(!(U&e)){var Lt=mt&&te.call(M,"__wrapped__"),Dt=yt&&te.call(O,"__wrapped__");if(Lt||Dt){var Xt=Lt?M.value():M,It=Dt?O.value():O;return tt||(tt=new _i),q(Xt,It,U,j,tt)}}return At?(tt||(tt=new _i),WC(M,O,U,j,q,tt)):!1}function vC(M){return Se(M)&&Ke(M)==st}function Xu(M,O,U,j){var q=U.length,tt=q,it=!j;if(M==null)return!tt;for(M=re(M);q--;){var rt=U[q];if(it&&rt[2]?rt[1]!==M[rt[0]]:!(rt[0]in M))return!1}for(;++q<tt;){rt=U[q];var lt=rt[0],gt=M[lt],mt=rt[1];if(it&&rt[2]){if(gt===y&&!(lt in M))return!1}else{var yt=new _i;if(j)var At=j(gt,mt,lt,M,O,yt);if(!(At===y?pa(mt,gt,e|n,j,yt):At))return!1}}return!0}function Wp(M){if(!ve(M)||JC(M))return!1;var O=On(M)?v2:rS;return O.test(Br(M))}function pC(M){return Se(M)&&ke(M)==St}function gC(M){return Se(M)&&Ke(M)==Ct}function mC(M){return Se(M)&&uh(M.length)&&!!he[ke(M)]}function Xp(M){return typeof M=="function"?M:M==null?hi:typeof M=="object"?zt(M)?$p(M[0],M[1]):Hp(M):ug(M)}function Yu(M){if(!ya(M))return T2(M);var O=[];for(var U in re(M))te.call(M,U)&&U!="constructor"&&O.push(U);return O}function yC(M){if(!ve(M))return tE(M);var O=ya(M),U=[];for(var j in M)j=="constructor"&&(O||!te.call(M,j))||U.push(j);return U}function Hu(M,O){return M<O}function Yp(M,O){var U=-1,j=ai(M)?ft(M.length):[];return kn(M,function(q,tt,it){j[++U]=O(q,tt,it)}),j}function Hp(M){var O=af(M);return O.length==1&&O[0][2]?P0(O[0][0],O[0][1]):function(U){return U===M||Xu(U,M,O)}}function $p(M,O){return hf(M)&&E0(O)?P0(vn(M),O):function(U){var j=yf(U,M);return j===y&&j===O?xf(U,M):pa(O,j,e|n)}}function Zo(M,O,U,j,q){M!==O&&bu(O,function(tt,it){if(q||(q=new _i),ve(tt))xC(M,O,it,U,Zo,j,q);else{var rt=j?j(uf(M,it),tt,it+"",M,O,q):y;rt===y&&(rt=tt),Gu(M,it,rt)}},oi)}function xC(M,O,U,j,q,tt,it){var rt=uf(M,U),lt=uf(O,U),gt=it.get(lt);if(gt){Gu(M,U,gt);return}var mt=tt?tt(rt,lt,U+"",M,O,it):y,yt=mt===y;if(yt){var At=zt(lt),Lt=!At&&er(lt),Dt=!At&&!Lt&&cs(lt);mt=lt,At||Lt||Dt?zt(rt)?mt=rt:Pe(rt)?mt=si(rt):Lt?(yt=!1,mt=n0(lt,!0)):Dt?(yt=!1,mt=r0(lt,!0)):mt=[]:Ta(lt)||Nr(lt)?(mt=rt,Nr(rt)?mt=tg(rt):(!ve(rt)||On(rt))&&(mt=C0(lt))):yt=!1}yt&&(it.set(lt,mt),q(mt,lt,j,tt,it),it.delete(lt)),Gu(M,U,mt)}function Kp(M,O){var U=M.length;if(U)return O+=O<0?U:0,Fn(O,U)?M[O]:y}function jp(M,O,U){O.length?O=fe(O,function(tt){return zt(tt)?function(it){return Dr(it,tt.length===1?tt[0]:tt)}:tt}):O=[hi];var j=-1;O=fe(O,gi(Ot()));var q=Yp(M,function(tt,it,rt){var lt=fe(O,function(gt){return gt(tt)});return{criteria:lt,index:++j,value:tt}});return KS(q,function(tt,it){return DC(tt,it,U)})}function TC(M,O){return Zp(M,O,function(U,j){return xf(M,j)})}function Zp(M,O,U){for(var j=-1,q=O.length,tt={};++j<q;){var it=O[j],rt=Dr(M,it);U(rt,it)&&ga(tt,_n(it,M),rt)}return tt}function SC(M){return function(O){return Dr(O,M)}}function $u(M,O,U,j){var q=j?$S:ns,tt=-1,it=O.length,rt=M;for(M===O&&(O=si(O)),U&&(rt=fe(M,gi(U)));++tt<it;)for(var lt=0,gt=O[tt],mt=U?U(gt):gt;(lt=q(rt,mt,lt,j))>-1;)rt!==M&&bo.call(rt,lt,1),bo.call(M,lt,1);return M}function Qp(M,O){for(var U=M?O.length:0,j=U-1;U--;){var q=O[U];if(U==j||q!==tt){var tt=q;Fn(q)?bo.call(M,q,1):Qu(M,q)}}return M}function Ku(M,O){return M+Wo(Lp()*(O-M+1))}function CC(M,O,U,j){for(var q=-1,tt=Fe(Vo((O-M)/(U||1)),0),it=ft(tt);tt--;)it[j?tt:++q]=M,M+=U;return it}function ju(M,O){var U="";if(!M||O<1||O>z)return U;do O%2&&(U+=M),O=Wo(O/2),O&&(M+=M);while(O);return U}function Yt(M,O){return ff(A0(M,O,hi),M+"")}function EC(M){return Dp(vs(M))}function PC(M,O){var U=vs(M);return rh(U,Or(O,0,U.length))}function ga(M,O,U,j){if(!ve(M))return M;O=_n(O,M);for(var q=-1,tt=O.length,it=tt-1,rt=M;rt!=null&&++q<tt;){var lt=vn(O[q]),gt=U;if(lt==="__proto__"||lt==="constructor"||lt==="prototype")return M;if(q!=it){var mt=rt[lt];gt=j?j(mt,lt,rt):y,gt===y&&(gt=ve(mt)?mt:Fn(O[q+1])?[]:{})}da(rt,lt,gt),rt=rt[lt]}return M}var Jp=Xo?function(M,O){return Xo.set(M,O),M}:hi,AC=Uo?function(M,O){return Uo(M,"toString",{configurable:!0,enumerable:!1,value:Sf(O),writable:!0})}:hi;function wC(M){return rh(vs(M))}function Ni(M,O,U){var j=-1,q=M.length;O<0&&(O=-O>q?0:q+O),U=U>q?q:U,U<0&&(U+=q),q=O>U?0:U-O>>>0,O>>>=0;for(var tt=ft(q);++j<q;)tt[j]=M[j+O];return tt}function MC(M,O){var U;return kn(M,function(j,q,tt){return U=O(j,q,tt),!U}),!!U}function Qo(M,O,U){var j=0,q=M==null?j:M.length;if(typeof O=="number"&&O===O&&q<=V){for(;j<q;){var tt=j+q>>>1,it=M[tt];it!==null&&!yi(it)&&(U?it<=O:it<O)?j=tt+1:q=tt}return q}return Zu(M,O,hi,U)}function Zu(M,O,U,j){var q=0,tt=M==null?0:M.length;if(tt===0)return 0;O=U(O);for(var it=O!==O,rt=O===null,lt=yi(O),gt=O===y;q<tt;){var mt=Wo((q+tt)/2),yt=U(M[mt]),At=yt!==y,Lt=yt===null,Dt=yt===yt,Xt=yi(yt);if(it)var It=j||Dt;else gt?It=Dt&&(j||At):rt?It=Dt&&At&&(j||!Lt):lt?It=Dt&&At&&!Lt&&(j||!Xt):Lt||Xt?It=!1:It=j?yt<=O:yt<O;It?q=mt+1:tt=mt}return $e(tt,Z)}function kp(M,O){for(var U=-1,j=M.length,q=0,tt=[];++U<j;){var it=M[U],rt=O?O(it):it;if(!U||!tn(rt,lt)){var lt=rt;tt[q++]=it===0?0:it}}return tt}function qp(M){return typeof M=="number"?M:yi(M)?Y:+M}function mi(M){if(typeof M=="string")return M;if(zt(M))return fe(M,mi)+"";if(yi(M))return Fp?Fp.call(M):"";var O=M+"";return O=="0"&&1/M==-G?"-0":O}function qn(M,O,U){var j=-1,q=Ro,tt=M.length,it=!0,rt=[],lt=rt;if(U)it=!1,q=Eu;else if(tt>=w){var gt=O?null:bC(M);if(gt)return Fo(gt);it=!1,q=aa,lt=new Fr}else lt=O?[]:rt;t:for(;++j<tt;){var mt=M[j],yt=O?O(mt):mt;if(mt=U||mt!==0?mt:0,it&&yt===yt){for(var At=lt.length;At--;)if(lt[At]===yt)continue t;O&&lt.push(yt),rt.push(mt)}else q(lt,yt,U)||(lt!==rt&&lt.push(yt),rt.push(mt))}return rt}function Qu(M,O){return O=_n(O,M),M=w0(M,O),M==null||delete M[vn(Gi(O))]}function _p(M,O,U,j){return ga(M,O,U(Dr(M,O)),j)}function Jo(M,O,U,j){for(var q=M.length,tt=j?q:-1;(j?tt--:++tt<q)&&O(M[tt],tt,M););return U?Ni(M,j?0:tt,j?tt+1:q):Ni(M,j?tt+1:0,j?q:tt)}function t0(M,O){var U=M;return U instanceof Kt&&(U=U.value()),Pu(O,function(j,q){return q.func.apply(q.thisArg,jn([j],q.args))},U)}function Ju(M,O,U){var j=M.length;if(j<2)return j?qn(M[0]):[];for(var q=-1,tt=ft(j);++q<j;)for(var it=M[q],rt=-1;++rt<j;)rt!=q&&(tt[q]=ca(tt[q]||it,M[rt],O,U));return qn(Ve(tt,1),O,U)}function e0(M,O,U){for(var j=-1,q=M.length,tt=O.length,it={};++j<q;){var rt=j<tt?O[j]:y;U(it,M[j],rt)}return it}function ku(M){return Pe(M)?M:[]}function qu(M){return typeof M=="function"?M:hi}function _n(M,O){return zt(M)?M:hf(M,O)?[M]:F0(_t(M))}var RC=Yt;function tr(M,O,U){var j=M.length;return U=U===y?j:U,!O&&U>=j?M:Ni(M,O,U)}var i0=p2||function(M){return Be.clearTimeout(M)};function n0(M,O){if(O)return M.slice();var U=M.length,j=Pp?Pp(U):new M.constructor(U);return M.copy(j),j}function _u(M){var O=new M.constructor(M.byteLength);return new Go(O).set(new Go(M)),O}function LC(M,O){var U=O?_u(M.buffer):M.buffer;return new M.constructor(U,M.byteOffset,M.byteLength)}function FC(M){var O=new M.constructor(M.source,Vv.exec(M));return O.lastIndex=M.lastIndex,O}function OC(M){return fa?re(fa.call(M)):{}}function r0(M,O){var U=O?_u(M.buffer):M.buffer;return new M.constructor(U,M.byteOffset,M.length)}function s0(M,O){if(M!==O){var U=M!==y,j=M===null,q=M===M,tt=yi(M),it=O!==y,rt=O===null,lt=O===O,gt=yi(O);if(!rt&&!gt&&!tt&&M>O||tt&&it&&lt&&!rt&&!gt||j&&it&&lt||!U&&lt||!q)return 1;if(!j&&!tt&&!gt&&M<O||gt&&U&&q&&!j&&!tt||rt&&U&&q||!it&&q||!lt)return-1}return 0}function DC(M,O,U){for(var j=-1,q=M.criteria,tt=O.criteria,it=q.length,rt=U.length;++j<it;){var lt=s0(q[j],tt[j]);if(lt){if(j>=rt)return lt;var gt=U[j];return lt*(gt=="desc"?-1:1)}}return M.index-O.index}function a0(M,O,U,j){for(var q=-1,tt=M.length,it=U.length,rt=-1,lt=O.length,gt=Fe(tt-it,0),mt=ft(lt+gt),yt=!j;++rt<lt;)mt[rt]=O[rt];for(;++q<it;)(yt||q<tt)&&(mt[U[q]]=M[q]);for(;gt--;)mt[rt++]=M[q++];return mt}function o0(M,O,U,j){for(var q=-1,tt=M.length,it=-1,rt=U.length,lt=-1,gt=O.length,mt=Fe(tt-rt,0),yt=ft(mt+gt),At=!j;++q<mt;)yt[q]=M[q];for(var Lt=q;++lt<gt;)yt[Lt+lt]=O[lt];for(;++it<rt;)(At||q<tt)&&(yt[Lt+U[it]]=M[q++]);return yt}function si(M,O){var U=-1,j=M.length;for(O||(O=ft(j));++U<j;)O[U]=M[U];return O}function cn(M,O,U,j){var q=!U;U||(U={});for(var tt=-1,it=O.length;++tt<it;){var rt=O[tt],lt=j?j(U[rt],M[rt],rt,U,M):y;lt===y&&(lt=M[rt]),q?Mn(U,rt,lt):da(U,rt,lt)}return U}function IC(M,O){return cn(M,of(M),O)}function BC(M,O){return cn(M,T0(M),O)}function ko(M,O){return function(U,j){var q=zt(U)?US:iC,tt=O?O():{};return q(U,M,Ot(j,2),tt)}}function us(M){return Yt(function(O,U){var j=-1,q=U.length,tt=q>1?U[q-1]:y,it=q>2?U[2]:y;for(tt=M.length>3&&typeof tt=="function"?(q--,tt):y,it&&qe(U[0],U[1],it)&&(tt=q<3?y:tt,q=1),O=re(O);++j<q;){var rt=U[j];rt&&M(O,rt,j,tt)}return O})}function h0(M,O){return function(U,j){if(U==null)return U;if(!ai(U))return M(U,j);for(var q=U.length,tt=O?q:-1,it=re(U);(O?tt--:++tt<q)&&j(it[tt],tt,it)!==!1;);return U}}function l0(M){return function(O,U,j){for(var q=-1,tt=re(O),it=j(O),rt=it.length;rt--;){var lt=it[M?rt:++q];if(U(tt[lt],lt,tt)===!1)break}return O}}function NC(M,O,U){var j=O&l,q=ma(M);function tt(){var it=this&&this!==Be&&this instanceof tt?q:M;return it.apply(j?U:this,arguments)}return tt}function u0(M){return function(O){O=_t(O);var U=rs(O)?qi(O):y,j=U?U[0]:O.charAt(0),q=U?tr(U,1).join(""):O.slice(1);return j[M]()+q}}function fs(M){return function(O){return Pu(hg(og(O).replace(AS,"")),M,"")}}function ma(M){return function(){var O=arguments;switch(O.length){case 0:return new M;case 1:return new M(O[0]);case 2:return new M(O[0],O[1]);case 3:return new M(O[0],O[1],O[2]);case 4:return new M(O[0],O[1],O[2],O[3]);case 5:return new M(O[0],O[1],O[2],O[3],O[4]);case 6:return new M(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new M(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var U=ls(M.prototype),j=M.apply(U,O);return ve(j)?j:U}}function GC(M,O,U){var j=ma(M);function q(){for(var tt=arguments.length,it=ft(tt),rt=tt,lt=ds(q);rt--;)it[rt]=arguments[rt];var gt=tt<3&&it[0]!==lt&&it[tt-1]!==lt?[]:Zn(it,lt);if(tt-=gt.length,tt<U)return p0(M,O,qo,q.placeholder,y,it,gt,y,y,U-tt);var mt=this&&this!==Be&&this instanceof q?j:M;return pi(mt,this,it)}return q}function f0(M){return function(O,U,j){var q=re(O);if(!ai(O)){var tt=Ot(U,3);O=Ne(O),U=function(rt){return tt(q[rt],rt,q)}}var it=M(O,U,j);return it>-1?q[tt?O[it]:it]:y}}function d0(M){return Ln(function(O){var U=O.length,j=U,q=Ii.prototype.thru;for(M&&O.reverse();j--;){var tt=O[j];if(typeof tt!="function")throw new Di(c);if(q&&!it&&ih(tt)=="wrapper")var it=new Ii([],!0)}for(j=it?j:U;++j<U;){tt=O[j];var rt=ih(tt),lt=rt=="wrapper"?sf(tt):y;lt&&lf(lt[0])&&lt[1]==(T|u|v|C)&&!lt[4].length&&lt[9]==1?it=it[ih(lt[0])].apply(it,lt[3]):it=tt.length==1&&lf(tt)?it[rt]():it.thru(tt)}return function(){var gt=arguments,mt=gt[0];if(it&&gt.length==1&&zt(mt))return it.plant(mt).value();for(var yt=0,At=U?O[yt].apply(this,gt):mt;++yt<U;)At=O[yt].call(this,At);return At}})}function qo(M,O,U,j,q,tt,it,rt,lt,gt){var mt=O&T,yt=O&l,At=O&i,Lt=O&(u|d),Dt=O&S,Xt=At?y:ma(M);function It(){for(var $t=arguments.length,Qt=ft($t),xi=$t;xi--;)Qt[xi]=arguments[xi];if(Lt)var _e=ds(It),Ti=ZS(Qt,_e);if(j&&(Qt=a0(Qt,j,q,Lt)),tt&&(Qt=o0(Qt,tt,it,Lt)),$t-=Ti,Lt&&$t<gt){var Ae=Zn(Qt,_e);return p0(M,O,qo,It.placeholder,U,Qt,Ae,rt,lt,gt-$t)}var en=yt?U:this,In=At?en[M]:M;return $t=Qt.length,rt?Qt=iE(Qt,rt):Dt&&$t>1&&Qt.reverse(),mt&&lt<$t&&(Qt.length=lt),this&&this!==Be&&this instanceof It&&(In=Xt||ma(In)),In.apply(en,Qt)}return It}function c0(M,O){return function(U,j){return uC(U,M,O(j),{})}}function _o(M,O){return function(U,j){var q;if(U===y&&j===y)return O;if(U!==y&&(q=U),j!==y){if(q===y)return j;typeof U=="string"||typeof j=="string"?(U=mi(U),j=mi(j)):(U=qp(U),j=qp(j)),q=M(U,j)}return q}}function tf(M){return Ln(function(O){return O=fe(O,gi(Ot())),Yt(function(U){var j=this;return M(O,function(q){return pi(q,j,U)})})})}function th(M,O){O=O===y?" ":mi(O);var U=O.length;if(U<2)return U?ju(O,M):O;var j=ju(O,Vo(M/ss(O)));return rs(O)?tr(qi(j),0,M).join(""):j.slice(0,M)}function zC(M,O,U,j){var q=O&l,tt=ma(M);function it(){for(var rt=-1,lt=arguments.length,gt=-1,mt=j.length,yt=ft(mt+lt),At=this&&this!==Be&&this instanceof it?tt:M;++gt<mt;)yt[gt]=j[gt];for(;lt--;)yt[gt++]=arguments[++rt];return pi(At,q?U:this,yt)}return it}function v0(M){return function(O,U,j){return j&&typeof j!="number"&&qe(O,U,j)&&(U=j=y),O=Dn(O),U===y?(U=O,O=0):U=Dn(U),j=j===y?O<U?1:-1:Dn(j),CC(O,U,j,M)}}function eh(M){return function(O,U){return typeof O=="string"&&typeof U=="string"||(O=zi(O),U=zi(U)),M(O,U)}}function p0(M,O,U,j,q,tt,it,rt,lt,gt){var mt=O&u,yt=mt?it:y,At=mt?y:it,Lt=mt?tt:y,Dt=mt?y:tt;O|=mt?v:m,O&=~(mt?m:v),O&h||(O&=~(l|i));var Xt=[M,O,q,Lt,yt,Dt,At,rt,lt,gt],It=U.apply(y,Xt);return lf(M)&&M0(It,Xt),It.placeholder=j,R0(It,M,O)}function ef(M){var O=Le[M];return function(U,j){if(U=zi(U),j=j==null?0:$e(Wt(j),292),j&&Rp(U)){var q=(_t(U)+"e").split("e"),tt=O(q[0]+"e"+(+q[1]+j));return q=(_t(tt)+"e").split("e"),+(q[0]+"e"+(+q[1]-j))}return O(U)}}var bC=os&&1/Fo(new os([,-0]))[1]==G?function(M){return new os(M)}:Pf;function g0(M){return function(O){var U=Ke(O);return U==st?Ou(O):U==Ct?e2(O):jS(O,M(O))}}function Rn(M,O,U,j,q,tt,it,rt){var lt=O&i;if(!lt&&typeof M!="function")throw new Di(c);var gt=j?j.length:0;if(gt||(O&=~(v|m),j=q=y),it=it===y?it:Fe(Wt(it),0),rt=rt===y?rt:Wt(rt),gt-=q?q.length:0,O&m){var mt=j,yt=q;j=q=y}var At=lt?y:sf(M),Lt=[M,O,U,j,q,mt,yt,tt,it,rt];if(At&&_C(Lt,At),M=Lt[0],O=Lt[1],U=Lt[2],j=Lt[3],q=Lt[4],rt=Lt[9]=Lt[9]===y?lt?0:M.length:Fe(Lt[9]-gt,0),!rt&&O&(u|d)&&(O&=~(u|d)),!O||O==l)var Dt=NC(M,O,U);else O==u||O==d?Dt=GC(M,O,rt):(O==v||O==(l|v))&&!q.length?Dt=zC(M,O,U,j):Dt=qo.apply(y,Lt);var Xt=At?Jp:M0;return R0(Xt(Dt,Lt),M,O)}function m0(M,O,U,j){return M===y||tn(M,as[U])&&!te.call(j,U)?O:M}function y0(M,O,U,j,q,tt){return ve(M)&&ve(O)&&(tt.set(O,M),Zo(M,O,y,y0,tt),tt.delete(O)),M}function UC(M){return Ta(M)?y:M}function x0(M,O,U,j,q,tt){var it=U&e,rt=M.length,lt=O.length;if(rt!=lt&&!(it&&lt>rt))return!1;var gt=tt.get(M),mt=tt.get(O);if(gt&&mt)return gt==O&&mt==M;var yt=-1,At=!0,Lt=U&n?new Fr:y;for(tt.set(M,O),tt.set(O,M);++yt<rt;){var Dt=M[yt],Xt=O[yt];if(j)var It=it?j(Xt,Dt,yt,O,M,tt):j(Dt,Xt,yt,M,O,tt);if(It!==y){if(It)continue;At=!1;break}if(Lt){if(!Au(O,function($t,Qt){if(!aa(Lt,Qt)&&(Dt===$t||q(Dt,$t,U,j,tt)))return Lt.push(Qt)})){At=!1;break}}else if(!(Dt===Xt||q(Dt,Xt,U,j,tt))){At=!1;break}}return tt.delete(M),tt.delete(O),At}function VC(M,O,U,j,q,tt,it){switch(U){case Ut:if(M.byteLength!=O.byteLength||M.byteOffset!=O.byteOffset)return!1;M=M.buffer,O=O.buffer;case Zt:return!(M.byteLength!=O.byteLength||!tt(new Go(M),new Go(O)));case $:case Q:case ot:return tn(+M,+O);case k:return M.name==O.name&&M.message==O.message;case St:case dt:return M==O+"";case st:var rt=Ou;case Ct:var lt=j&e;if(rt||(rt=Fo),M.size!=O.size&&!lt)return!1;var gt=it.get(M);if(gt)return gt==O;j|=n,it.set(M,O);var mt=x0(rt(M),rt(O),j,q,tt,it);return it.delete(M),mt;case Tt:if(fa)return fa.call(M)==fa.call(O)}return!1}function WC(M,O,U,j,q,tt){var it=U&e,rt=nf(M),lt=rt.length,gt=nf(O),mt=gt.length;if(lt!=mt&&!it)return!1;for(var yt=lt;yt--;){var At=rt[yt];if(!(it?At in O:te.call(O,At)))return!1}var Lt=tt.get(M),Dt=tt.get(O);if(Lt&&Dt)return Lt==O&&Dt==M;var Xt=!0;tt.set(M,O),tt.set(O,M);for(var It=it;++yt<lt;){At=rt[yt];var $t=M[At],Qt=O[At];if(j)var xi=it?j(Qt,$t,At,O,M,tt):j($t,Qt,At,M,O,tt);if(!(xi===y?$t===Qt||q($t,Qt,U,j,tt):xi)){Xt=!1;break}It||(It=At=="constructor")}if(Xt&&!It){var _e=M.constructor,Ti=O.constructor;_e!=Ti&&"constructor"in M&&"constructor"in O&&!(typeof _e=="function"&&_e instanceof _e&&typeof Ti=="function"&&Ti instanceof Ti)&&(Xt=!1)}return tt.delete(M),tt.delete(O),Xt}function Ln(M){return ff(A0(M,y,B0),M+"")}function nf(M){return Up(M,Ne,of)}function rf(M){return Up(M,oi,T0)}var sf=Xo?function(M){return Xo.get(M)}:Pf;function ih(M){for(var O=M.name+"",U=hs[O],j=te.call(hs,O)?U.length:0;j--;){var q=U[j],tt=q.func;if(tt==null||tt==M)return q.name}return O}function ds(M){var O=te.call(_,"placeholder")?_:M;return O.placeholder}function Ot(){var M=_.iteratee||Cf;return M=M===Cf?Xp:M,arguments.length?M(arguments[0],arguments[1]):M}function nh(M,O){var U=M.__data__;return QC(O)?U[typeof O=="string"?"string":"hash"]:U.map}function af(M){for(var O=Ne(M),U=O.length;U--;){var j=O[U],q=M[j];O[U]=[j,q,E0(q)]}return O}function Ir(M,O){var U=qS(M,O);return Wp(U)?U:y}function XC(M){var O=te.call(M,Rr),U=M[Rr];try{M[Rr]=y;var j=!0}catch{}var q=Bo.call(M);return j&&(O?M[Rr]=U:delete M[Rr]),q}var of=Iu?function(M){return M==null?[]:(M=re(M),Kn(Iu(M),function(O){return wp.call(M,O)}))}:Af,T0=Iu?function(M){for(var O=[];M;)jn(O,of(M)),M=zo(M);return O}:Af,Ke=ke;(Bu&&Ke(new Bu(new ArrayBuffer(1)))!=Ut||ha&&Ke(new ha)!=st||Nu&&Ke(Nu.resolve())!=ct||os&&Ke(new os)!=Ct||la&&Ke(new la)!=wt)&&(Ke=function(M){var O=ke(M),U=O==at?M.constructor:y,j=U?Br(U):"";if(j)switch(j){case P2:return Ut;case A2:return st;case w2:return ct;case M2:return Ct;case R2:return wt}return O});function YC(M,O,U){for(var j=-1,q=U.length;++j<q;){var tt=U[j],it=tt.size;switch(tt.type){case"drop":M+=it;break;case"dropRight":O-=it;break;case"take":O=$e(O,M+it);break;case"takeRight":M=Fe(M,O-it);break}}return{start:M,end:O}}function HC(M){var O=M.match(JT);return O?O[1].split(kT):[]}function S0(M,O,U){O=_n(O,M);for(var j=-1,q=O.length,tt=!1;++j<q;){var it=vn(O[j]);if(!(tt=M!=null&&U(M,it)))break;M=M[it]}return tt||++j!=q?tt:(q=M==null?0:M.length,!!q&&uh(q)&&Fn(it,q)&&(zt(M)||Nr(M)))}function $C(M){var O=M.length,U=new M.constructor(O);return O&&typeof M[0]=="string"&&te.call(M,"index")&&(U.index=M.index,U.input=M.input),U}function C0(M){return typeof M.constructor=="function"&&!ya(M)?ls(zo(M)):{}}function KC(M,O,U){var j=M.constructor;switch(O){case Zt:return _u(M);case $:case Q:return new j(+M);case Ut:return LC(M,U);case Ht:case Nt:case oe:case kt:case Te:case Ee:case Ue:case Ji:case ki:return r0(M,U);case st:return new j;case ot:case dt:return new j(M);case St:return FC(M);case Ct:return new j;case Tt:return OC(M)}}function jC(M,O){var U=O.length;if(!U)return M;var j=U-1;return O[j]=(U>1?"& ":"")+O[j],O=O.join(U>2?", ":" "),M.replace(QT,`{
/* [wrapped with `+O+`] */
`)}function ZC(M){return zt(M)||Nr(M)||!!(Mp&&M&&M[Mp])}function Fn(M,O){var U=typeof M;return O=O??z,!!O&&(U=="number"||U!="symbol"&&aS.test(M))&&M>-1&&M%1==0&&M<O}function qe(M,O,U){if(!ve(U))return!1;var j=typeof O;return(j=="number"?ai(U)&&Fn(O,U.length):j=="string"&&O in U)?tn(U[O],M):!1}function hf(M,O){if(zt(M))return!1;var U=typeof M;return U=="number"||U=="symbol"||U=="boolean"||M==null||yi(M)?!0:$T.test(M)||!HT.test(M)||O!=null&&M in re(O)}function QC(M){var O=typeof M;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?M!=="__proto__":M===null}function lf(M){var O=ih(M),U=_[O];if(typeof U!="function"||!(O in Kt.prototype))return!1;if(M===U)return!0;var j=sf(U);return!!j&&M===j[0]}function JC(M){return!!Ep&&Ep in M}var kC=Do?On:wf;function ya(M){var O=M&&M.constructor,U=typeof O=="function"&&O.prototype||as;return M===U}function E0(M){return M===M&&!ve(M)}function P0(M,O){return function(U){return U==null?!1:U[M]===O&&(O!==y||M in re(U))}}function qC(M){var O=hh(M,function(j){return U.size===a&&U.clear(),j}),U=O.cache;return O}function _C(M,O){var U=M[1],j=O[1],q=U|j,tt=q<(l|i|T),it=j==T&&U==u||j==T&&U==C&&M[7].length<=O[8]||j==(T|C)&&O[7].length<=O[8]&&U==u;if(!(tt||it))return M;j&l&&(M[2]=O[2],q|=U&l?0:h);var rt=O[3];if(rt){var lt=M[3];M[3]=lt?a0(lt,rt,O[4]):rt,M[4]=lt?Zn(M[3],p):O[4]}return rt=O[5],rt&&(lt=M[5],M[5]=lt?o0(lt,rt,O[6]):rt,M[6]=lt?Zn(M[5],p):O[6]),rt=O[7],rt&&(M[7]=rt),j&T&&(M[8]=M[8]==null?O[8]:$e(M[8],O[8])),M[9]==null&&(M[9]=O[9]),M[0]=O[0],M[1]=q,M}function tE(M){var O=[];if(M!=null)for(var U in re(M))O.push(U);return O}function eE(M){return Bo.call(M)}function A0(M,O,U){return O=Fe(O===y?M.length-1:O,0),function(){for(var j=arguments,q=-1,tt=Fe(j.length-O,0),it=ft(tt);++q<tt;)it[q]=j[O+q];q=-1;for(var rt=ft(O+1);++q<O;)rt[q]=j[q];return rt[O]=U(it),pi(M,this,rt)}}function w0(M,O){return O.length<2?M:Dr(M,Ni(O,0,-1))}function iE(M,O){for(var U=M.length,j=$e(O.length,U),q=si(M);j--;){var tt=O[j];M[j]=Fn(tt,U)?q[tt]:y}return M}function uf(M,O){if(!(O==="constructor"&&typeof M[O]=="function")&&O!="__proto__")return M[O]}var M0=L0(Jp),xa=m2||function(M,O){return Be.setTimeout(M,O)},ff=L0(AC);function R0(M,O,U){var j=O+"";return ff(M,jC(j,nE(HC(j),U)))}function L0(M){var O=0,U=0;return function(){var j=S2(),q=F-(j-U);if(U=j,q>0){if(++O>=L)return arguments[0]}else O=0;return M.apply(y,arguments)}}function rh(M,O){var U=-1,j=M.length,q=j-1;for(O=O===y?j:O;++U<O;){var tt=Ku(U,q),it=M[tt];M[tt]=M[U],M[U]=it}return M.length=O,M}var F0=qC(function(M){var O=[];return M.charCodeAt(0)===46&&O.push(""),M.replace(KT,function(U,j,q,tt){O.push(q?tt.replace(tS,"$1"):j||U)}),O});function vn(M){if(typeof M=="string"||yi(M))return M;var O=M+"";return O=="0"&&1/M==-G?"-0":O}function Br(M){if(M!=null){try{return Io.call(M)}catch{}try{return M+""}catch{}}return""}function nE(M,O){return Oi(H,function(U){var j="_."+U[0];O&U[1]&&!Ro(M,j)&&M.push(j)}),M.sort()}function O0(M){if(M instanceof Kt)return M.clone();var O=new Ii(M.__wrapped__,M.__chain__);return O.__actions__=si(M.__actions__),O.__index__=M.__index__,O.__values__=M.__values__,O}function rE(M,O,U){(U?qe(M,O,U):O===y)?O=1:O=Fe(Wt(O),0);var j=M==null?0:M.length;if(!j||O<1)return[];for(var q=0,tt=0,it=ft(Vo(j/O));q<j;)it[tt++]=Ni(M,q,q+=O);return it}function sE(M){for(var O=-1,U=M==null?0:M.length,j=0,q=[];++O<U;){var tt=M[O];tt&&(q[j++]=tt)}return q}function aE(){var M=arguments.length;if(!M)return[];for(var O=ft(M-1),U=arguments[0],j=M;j--;)O[j-1]=arguments[j];return jn(zt(U)?si(U):[U],Ve(O,1))}var oE=Yt(function(M,O){return Pe(M)?ca(M,Ve(O,1,Pe,!0)):[]}),hE=Yt(function(M,O){var U=Gi(O);return Pe(U)&&(U=y),Pe(M)?ca(M,Ve(O,1,Pe,!0),Ot(U,2)):[]}),lE=Yt(function(M,O){var U=Gi(O);return Pe(U)&&(U=y),Pe(M)?ca(M,Ve(O,1,Pe,!0),y,U):[]});function uE(M,O,U){var j=M==null?0:M.length;return j?(O=U||O===y?1:Wt(O),Ni(M,O<0?0:O,j)):[]}function fE(M,O,U){var j=M==null?0:M.length;return j?(O=U||O===y?1:Wt(O),O=j-O,Ni(M,0,O<0?0:O)):[]}function dE(M,O){return M&&M.length?Jo(M,Ot(O,3),!0,!0):[]}function cE(M,O){return M&&M.length?Jo(M,Ot(O,3),!0):[]}function vE(M,O,U,j){var q=M==null?0:M.length;return q?(U&&typeof U!="number"&&qe(M,O,U)&&(U=0,j=q),aC(M,O,U,j)):[]}function D0(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=U==null?0:Wt(U);return q<0&&(q=Fe(j+q,0)),Lo(M,Ot(O,3),q)}function I0(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=j-1;return U!==y&&(q=Wt(U),q=U<0?Fe(j+q,0):$e(q,j-1)),Lo(M,Ot(O,3),q,!0)}function B0(M){var O=M==null?0:M.length;return O?Ve(M,1):[]}function pE(M){var O=M==null?0:M.length;return O?Ve(M,G):[]}function gE(M,O){var U=M==null?0:M.length;return U?(O=O===y?1:Wt(O),Ve(M,O)):[]}function mE(M){for(var O=-1,U=M==null?0:M.length,j={};++O<U;){var q=M[O];j[q[0]]=q[1]}return j}function N0(M){return M&&M.length?M[0]:y}function yE(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=U==null?0:Wt(U);return q<0&&(q=Fe(j+q,0)),ns(M,O,q)}function xE(M){var O=M==null?0:M.length;return O?Ni(M,0,-1):[]}var TE=Yt(function(M){var O=fe(M,ku);return O.length&&O[0]===M[0]?Wu(O):[]}),SE=Yt(function(M){var O=Gi(M),U=fe(M,ku);return O===Gi(U)?O=y:U.pop(),U.length&&U[0]===M[0]?Wu(U,Ot(O,2)):[]}),CE=Yt(function(M){var O=Gi(M),U=fe(M,ku);return O=typeof O=="function"?O:y,O&&U.pop(),U.length&&U[0]===M[0]?Wu(U,y,O):[]});function EE(M,O){return M==null?"":x2.call(M,O)}function Gi(M){var O=M==null?0:M.length;return O?M[O-1]:y}function PE(M,O,U){var j=M==null?0:M.length;if(!j)return-1;var q=j;return U!==y&&(q=Wt(U),q=q<0?Fe(j+q,0):$e(q,j-1)),O===O?n2(M,O,q):Lo(M,pp,q,!0)}function AE(M,O){return M&&M.length?Kp(M,Wt(O)):y}var wE=Yt(G0);function G0(M,O){return M&&M.length&&O&&O.length?$u(M,O):M}function ME(M,O,U){return M&&M.length&&O&&O.length?$u(M,O,Ot(U,2)):M}function RE(M,O,U){return M&&M.length&&O&&O.length?$u(M,O,y,U):M}var LE=Ln(function(M,O){var U=M==null?0:M.length,j=zu(M,O);return Qp(M,fe(O,function(q){return Fn(q,U)?+q:q}).sort(s0)),j});function FE(M,O){var U=[];if(!(M&&M.length))return U;var j=-1,q=[],tt=M.length;for(O=Ot(O,3);++j<tt;){var it=M[j];O(it,j,M)&&(U.push(it),q.push(j))}return Qp(M,q),U}function df(M){return M==null?M:E2.call(M)}function OE(M,O,U){var j=M==null?0:M.length;return j?(U&&typeof U!="number"&&qe(M,O,U)?(O=0,U=j):(O=O==null?0:Wt(O),U=U===y?j:Wt(U)),Ni(M,O,U)):[]}function DE(M,O){return Qo(M,O)}function IE(M,O,U){return Zu(M,O,Ot(U,2))}function BE(M,O){var U=M==null?0:M.length;if(U){var j=Qo(M,O);if(j<U&&tn(M[j],O))return j}return-1}function NE(M,O){return Qo(M,O,!0)}function GE(M,O,U){return Zu(M,O,Ot(U,2),!0)}function zE(M,O){var U=M==null?0:M.length;if(U){var j=Qo(M,O,!0)-1;if(tn(M[j],O))return j}return-1}function bE(M){return M&&M.length?kp(M):[]}function UE(M,O){return M&&M.length?kp(M,Ot(O,2)):[]}function VE(M){var O=M==null?0:M.length;return O?Ni(M,1,O):[]}function WE(M,O,U){return M&&M.length?(O=U||O===y?1:Wt(O),Ni(M,0,O<0?0:O)):[]}function XE(M,O,U){var j=M==null?0:M.length;return j?(O=U||O===y?1:Wt(O),O=j-O,Ni(M,O<0?0:O,j)):[]}function YE(M,O){return M&&M.length?Jo(M,Ot(O,3),!1,!0):[]}function HE(M,O){return M&&M.length?Jo(M,Ot(O,3)):[]}var $E=Yt(function(M){return qn(Ve(M,1,Pe,!0))}),KE=Yt(function(M){var O=Gi(M);return Pe(O)&&(O=y),qn(Ve(M,1,Pe,!0),Ot(O,2))}),jE=Yt(function(M){var O=Gi(M);return O=typeof O=="function"?O:y,qn(Ve(M,1,Pe,!0),y,O)});function ZE(M){return M&&M.length?qn(M):[]}function QE(M,O){return M&&M.length?qn(M,Ot(O,2)):[]}function JE(M,O){return O=typeof O=="function"?O:y,M&&M.length?qn(M,y,O):[]}function cf(M){if(!(M&&M.length))return[];var O=0;return M=Kn(M,function(U){if(Pe(U))return O=Fe(U.length,O),!0}),Lu(O,function(U){return fe(M,wu(U))})}function z0(M,O){if(!(M&&M.length))return[];var U=cf(M);return O==null?U:fe(U,function(j){return pi(O,y,j)})}var kE=Yt(function(M,O){return Pe(M)?ca(M,O):[]}),qE=Yt(function(M){return Ju(Kn(M,Pe))}),_E=Yt(function(M){var O=Gi(M);return Pe(O)&&(O=y),Ju(Kn(M,Pe),Ot(O,2))}),tP=Yt(function(M){var O=Gi(M);return O=typeof O=="function"?O:y,Ju(Kn(M,Pe),y,O)}),eP=Yt(cf);function iP(M,O){return e0(M||[],O||[],da)}function nP(M,O){return e0(M||[],O||[],ga)}var rP=Yt(function(M){var O=M.length,U=O>1?M[O-1]:y;return U=typeof U=="function"?(M.pop(),U):y,z0(M,U)});function b0(M){var O=_(M);return O.__chain__=!0,O}function sP(M,O){return O(M),M}function sh(M,O){return O(M)}var aP=Ln(function(M){var O=M.length,U=O?M[0]:0,j=this.__wrapped__,q=function(tt){return zu(tt,M)};return O>1||this.__actions__.length||!(j instanceof Kt)||!Fn(U)?this.thru(q):(j=j.slice(U,+U+(O?1:0)),j.__actions__.push({func:sh,args:[q],thisArg:y}),new Ii(j,this.__chain__).thru(function(tt){return O&&!tt.length&&tt.push(y),tt}))});function oP(){return b0(this)}function hP(){return new Ii(this.value(),this.__chain__)}function lP(){this.__values__===y&&(this.__values__=q0(this.value()));var M=this.__index__>=this.__values__.length,O=M?y:this.__values__[this.__index__++];return{done:M,value:O}}function uP(){return this}function fP(M){for(var O,U=this;U instanceof Ho;){var j=O0(U);j.__index__=0,j.__values__=y,O?q.__wrapped__=j:O=j;var q=j;U=U.__wrapped__}return q.__wrapped__=M,O}function dP(){var M=this.__wrapped__;if(M instanceof Kt){var O=M;return this.__actions__.length&&(O=new Kt(this)),O=O.reverse(),O.__actions__.push({func:sh,args:[df],thisArg:y}),new Ii(O,this.__chain__)}return this.thru(df)}function cP(){return t0(this.__wrapped__,this.__actions__)}var vP=ko(function(M,O,U){te.call(M,U)?++M[U]:Mn(M,U,1)});function pP(M,O,U){var j=zt(M)?cp:sC;return U&&qe(M,O,U)&&(O=y),j(M,Ot(O,3))}function gP(M,O){var U=zt(M)?Kn:zp;return U(M,Ot(O,3))}var mP=f0(D0),yP=f0(I0);function xP(M,O){return Ve(ah(M,O),1)}function TP(M,O){return Ve(ah(M,O),G)}function SP(M,O,U){return U=U===y?1:Wt(U),Ve(ah(M,O),U)}function U0(M,O){var U=zt(M)?Oi:kn;return U(M,Ot(O,3))}function V0(M,O){var U=zt(M)?VS:Gp;return U(M,Ot(O,3))}var CP=ko(function(M,O,U){te.call(M,U)?M[U].push(O):Mn(M,U,[O])});function EP(M,O,U,j){M=ai(M)?M:vs(M),U=U&&!j?Wt(U):0;var q=M.length;return U<0&&(U=Fe(q+U,0)),fh(M)?U<=q&&M.indexOf(O,U)>-1:!!q&&ns(M,O,U)>-1}var PP=Yt(function(M,O,U){var j=-1,q=typeof O=="function",tt=ai(M)?ft(M.length):[];return kn(M,function(it){tt[++j]=q?pi(O,it,U):va(it,O,U)}),tt}),AP=ko(function(M,O,U){Mn(M,U,O)});function ah(M,O){var U=zt(M)?fe:Yp;return U(M,Ot(O,3))}function wP(M,O,U,j){return M==null?[]:(zt(O)||(O=O==null?[]:[O]),U=j?y:U,zt(U)||(U=U==null?[]:[U]),jp(M,O,U))}var MP=ko(function(M,O,U){M[U?0:1].push(O)},function(){return[[],[]]});function RP(M,O,U){var j=zt(M)?Pu:mp,q=arguments.length<3;return j(M,Ot(O,4),U,q,kn)}function LP(M,O,U){var j=zt(M)?WS:mp,q=arguments.length<3;return j(M,Ot(O,4),U,q,Gp)}function FP(M,O){var U=zt(M)?Kn:zp;return U(M,lh(Ot(O,3)))}function OP(M){var O=zt(M)?Dp:EC;return O(M)}function DP(M,O,U){(U?qe(M,O,U):O===y)?O=1:O=Wt(O);var j=zt(M)?tC:PC;return j(M,O)}function IP(M){var O=zt(M)?eC:wC;return O(M)}function BP(M){if(M==null)return 0;if(ai(M))return fh(M)?ss(M):M.length;var O=Ke(M);return O==st||O==Ct?M.size:Yu(M).length}function NP(M,O,U){var j=zt(M)?Au:MC;return U&&qe(M,O,U)&&(O=y),j(M,Ot(O,3))}var GP=Yt(function(M,O){if(M==null)return[];var U=O.length;return U>1&&qe(M,O[0],O[1])?O=[]:U>2&&qe(O[0],O[1],O[2])&&(O=[O[0]]),jp(M,Ve(O,1),[])}),oh=g2||function(){return Be.Date.now()};function zP(M,O){if(typeof O!="function")throw new Di(c);return M=Wt(M),function(){if(--M<1)return O.apply(this,arguments)}}function W0(M,O,U){return O=U?y:O,O=M&&O==null?M.length:O,Rn(M,T,y,y,y,y,O)}function X0(M,O){var U;if(typeof O!="function")throw new Di(c);return M=Wt(M),function(){return--M>0&&(U=O.apply(this,arguments)),M<=1&&(O=y),U}}var vf=Yt(function(M,O,U){var j=l;if(U.length){var q=Zn(U,ds(vf));j|=v}return Rn(M,j,O,U,q)}),Y0=Yt(function(M,O,U){var j=l|i;if(U.length){var q=Zn(U,ds(Y0));j|=v}return Rn(O,j,M,U,q)});function H0(M,O,U){O=U?y:O;var j=Rn(M,u,y,y,y,y,y,O);return j.placeholder=H0.placeholder,j}function $0(M,O,U){O=U?y:O;var j=Rn(M,d,y,y,y,y,y,O);return j.placeholder=$0.placeholder,j}function K0(M,O,U){var j,q,tt,it,rt,lt,gt=0,mt=!1,yt=!1,At=!0;if(typeof M!="function")throw new Di(c);O=zi(O)||0,ve(U)&&(mt=!!U.leading,yt="maxWait"in U,tt=yt?Fe(zi(U.maxWait)||0,O):tt,At="trailing"in U?!!U.trailing:At);function Lt(Ae){var en=j,In=q;return j=q=y,gt=Ae,it=M.apply(In,en),it}function Dt(Ae){return gt=Ae,rt=xa($t,O),mt?Lt(Ae):it}function Xt(Ae){var en=Ae-lt,In=Ae-gt,fg=O-en;return yt?$e(fg,tt-In):fg}function It(Ae){var en=Ae-lt,In=Ae-gt;return lt===y||en>=O||en<0||yt&&In>=tt}function $t(){var Ae=oh();if(It(Ae))return Qt(Ae);rt=xa($t,Xt(Ae))}function Qt(Ae){return rt=y,At&&j?Lt(Ae):(j=q=y,it)}function xi(){rt!==y&&i0(rt),gt=0,j=lt=q=rt=y}function _e(){return rt===y?it:Qt(oh())}function Ti(){var Ae=oh(),en=It(Ae);if(j=arguments,q=this,lt=Ae,en){if(rt===y)return Dt(lt);if(yt)return i0(rt),rt=xa($t,O),Lt(lt)}return rt===y&&(rt=xa($t,O)),it}return Ti.cancel=xi,Ti.flush=_e,Ti}var bP=Yt(function(M,O){return Np(M,1,O)}),UP=Yt(function(M,O,U){return Np(M,zi(O)||0,U)});function VP(M){return Rn(M,S)}function hh(M,O){if(typeof M!="function"||O!=null&&typeof O!="function")throw new Di(c);var U=function(){var j=arguments,q=O?O.apply(this,j):j[0],tt=U.cache;if(tt.has(q))return tt.get(q);var it=M.apply(this,j);return U.cache=tt.set(q,it)||tt,it};return U.cache=new(hh.Cache||wn),U}hh.Cache=wn;function lh(M){if(typeof M!="function")throw new Di(c);return function(){var O=arguments;switch(O.length){case 0:return!M.call(this);case 1:return!M.call(this,O[0]);case 2:return!M.call(this,O[0],O[1]);case 3:return!M.call(this,O[0],O[1],O[2])}return!M.apply(this,O)}}function WP(M){return X0(2,M)}var XP=RC(function(M,O){O=O.length==1&&zt(O[0])?fe(O[0],gi(Ot())):fe(Ve(O,1),gi(Ot()));var U=O.length;return Yt(function(j){for(var q=-1,tt=$e(j.length,U);++q<tt;)j[q]=O[q].call(this,j[q]);return pi(M,this,j)})}),pf=Yt(function(M,O){var U=Zn(O,ds(pf));return Rn(M,v,y,O,U)}),j0=Yt(function(M,O){var U=Zn(O,ds(j0));return Rn(M,m,y,O,U)}),YP=Ln(function(M,O){return Rn(M,C,y,y,y,O)});function HP(M,O){if(typeof M!="function")throw new Di(c);return O=O===y?O:Wt(O),Yt(M,O)}function $P(M,O){if(typeof M!="function")throw new Di(c);return O=O==null?0:Fe(Wt(O),0),Yt(function(U){var j=U[O],q=tr(U,0,O);return j&&jn(q,j),pi(M,this,q)})}function KP(M,O,U){var j=!0,q=!0;if(typeof M!="function")throw new Di(c);return ve(U)&&(j="leading"in U?!!U.leading:j,q="trailing"in U?!!U.trailing:q),K0(M,O,{leading:j,maxWait:O,trailing:q})}function jP(M){return W0(M,1)}function ZP(M,O){return pf(qu(O),M)}function QP(){if(!arguments.length)return[];var M=arguments[0];return zt(M)?M:[M]}function JP(M){return Bi(M,r)}function kP(M,O){return O=typeof O=="function"?O:y,Bi(M,r,O)}function qP(M){return Bi(M,o|r)}function _P(M,O){return O=typeof O=="function"?O:y,Bi(M,o|r,O)}function t3(M,O){return O==null||Bp(M,O,Ne(O))}function tn(M,O){return M===O||M!==M&&O!==O}var e3=eh(Vu),i3=eh(function(M,O){return M>=O}),Nr=Vp(function(){return arguments}())?Vp:function(M){return Se(M)&&te.call(M,"callee")&&!wp.call(M,"callee")},zt=ft.isArray,n3=op?gi(op):fC;function ai(M){return M!=null&&uh(M.length)&&!On(M)}function Pe(M){return Se(M)&&ai(M)}function r3(M){return M===!0||M===!1||Se(M)&&ke(M)==$}var er=y2||wf,s3=hp?gi(hp):dC;function a3(M){return Se(M)&&M.nodeType===1&&!Ta(M)}function o3(M){if(M==null)return!0;if(ai(M)&&(zt(M)||typeof M=="string"||typeof M.splice=="function"||er(M)||cs(M)||Nr(M)))return!M.length;var O=Ke(M);if(O==st||O==Ct)return!M.size;if(ya(M))return!Yu(M).length;for(var U in M)if(te.call(M,U))return!1;return!0}function h3(M,O){return pa(M,O)}function l3(M,O,U){U=typeof U=="function"?U:y;var j=U?U(M,O):y;return j===y?pa(M,O,y,U):!!j}function gf(M){if(!Se(M))return!1;var O=ke(M);return O==k||O==J||typeof M.message=="string"&&typeof M.name=="string"&&!Ta(M)}function u3(M){return typeof M=="number"&&Rp(M)}function On(M){if(!ve(M))return!1;var O=ke(M);return O==et||O==nt||O==X||O==Et}function Z0(M){return typeof M=="number"&&M==Wt(M)}function uh(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=z}function ve(M){var O=typeof M;return M!=null&&(O=="object"||O=="function")}function Se(M){return M!=null&&typeof M=="object"}var Q0=lp?gi(lp):vC;function f3(M,O){return M===O||Xu(M,O,af(O))}function d3(M,O,U){return U=typeof U=="function"?U:y,Xu(M,O,af(O),U)}function c3(M){return J0(M)&&M!=+M}function v3(M){if(kC(M))throw new Gt(R);return Wp(M)}function p3(M){return M===null}function g3(M){return M==null}function J0(M){return typeof M=="number"||Se(M)&&ke(M)==ot}function Ta(M){if(!Se(M)||ke(M)!=at)return!1;var O=zo(M);if(O===null)return!0;var U=te.call(O,"constructor")&&O.constructor;return typeof U=="function"&&U instanceof U&&Io.call(U)==d2}var mf=up?gi(up):pC;function m3(M){return Z0(M)&&M>=-z&&M<=z}var k0=fp?gi(fp):gC;function fh(M){return typeof M=="string"||!zt(M)&&Se(M)&&ke(M)==dt}function yi(M){return typeof M=="symbol"||Se(M)&&ke(M)==Tt}var cs=dp?gi(dp):mC;function y3(M){return M===y}function x3(M){return Se(M)&&Ke(M)==wt}function T3(M){return Se(M)&&ke(M)==Bt}var S3=eh(Hu),C3=eh(function(M,O){return M<=O});function q0(M){if(!M)return[];if(ai(M))return fh(M)?qi(M):si(M);if(oa&&M[oa])return t2(M[oa]());var O=Ke(M),U=O==st?Ou:O==Ct?Fo:vs;return U(M)}function Dn(M){if(!M)return M===0?M:0;if(M=zi(M),M===G||M===-G){var O=M<0?-1:1;return O*W}return M===M?M:0}function Wt(M){var O=Dn(M),U=O%1;return O===O?U?O-U:O:0}function _0(M){return M?Or(Wt(M),0,K):0}function zi(M){if(typeof M=="number")return M;if(yi(M))return Y;if(ve(M)){var O=typeof M.valueOf=="function"?M.valueOf():M;M=ve(O)?O+"":O}if(typeof M!="string")return M===0?M:+M;M=yp(M);var U=nS.test(M);return U||sS.test(M)?zS(M.slice(2),U?2:8):iS.test(M)?Y:+M}function tg(M){return cn(M,oi(M))}function E3(M){return M?Or(Wt(M),-z,z):M===0?M:0}function _t(M){return M==null?"":mi(M)}var P3=us(function(M,O){if(ya(O)||ai(O)){cn(O,Ne(O),M);return}for(var U in O)te.call(O,U)&&da(M,U,O[U])}),eg=us(function(M,O){cn(O,oi(O),M)}),dh=us(function(M,O,U,j){cn(O,oi(O),M,j)}),A3=us(function(M,O,U,j){cn(O,Ne(O),M,j)}),w3=Ln(zu);function M3(M,O){var U=ls(M);return O==null?U:Ip(U,O)}var R3=Yt(function(M,O){M=re(M);var U=-1,j=O.length,q=j>2?O[2]:y;for(q&&qe(O[0],O[1],q)&&(j=1);++U<j;)for(var tt=O[U],it=oi(tt),rt=-1,lt=it.length;++rt<lt;){var gt=it[rt],mt=M[gt];(mt===y||tn(mt,as[gt])&&!te.call(M,gt))&&(M[gt]=tt[gt])}return M}),L3=Yt(function(M){return M.push(y,y0),pi(ig,y,M)});function F3(M,O){return vp(M,Ot(O,3),dn)}function O3(M,O){return vp(M,Ot(O,3),Uu)}function D3(M,O){return M==null?M:bu(M,Ot(O,3),oi)}function I3(M,O){return M==null?M:bp(M,Ot(O,3),oi)}function B3(M,O){return M&&dn(M,Ot(O,3))}function N3(M,O){return M&&Uu(M,Ot(O,3))}function G3(M){return M==null?[]:jo(M,Ne(M))}function z3(M){return M==null?[]:jo(M,oi(M))}function yf(M,O,U){var j=M==null?y:Dr(M,O);return j===y?U:j}function b3(M,O){return M!=null&&S0(M,O,oC)}function xf(M,O){return M!=null&&S0(M,O,hC)}var U3=c0(function(M,O,U){O!=null&&typeof O.toString!="function"&&(O=Bo.call(O)),M[O]=U},Sf(hi)),V3=c0(function(M,O,U){O!=null&&typeof O.toString!="function"&&(O=Bo.call(O)),te.call(M,O)?M[O].push(U):M[O]=[U]},Ot),W3=Yt(va);function Ne(M){return ai(M)?Op(M):Yu(M)}function oi(M){return ai(M)?Op(M,!0):yC(M)}function X3(M,O){var U={};return O=Ot(O,3),dn(M,function(j,q,tt){Mn(U,O(j,q,tt),j)}),U}function Y3(M,O){var U={};return O=Ot(O,3),dn(M,function(j,q,tt){Mn(U,q,O(j,q,tt))}),U}var H3=us(function(M,O,U){Zo(M,O,U)}),ig=us(function(M,O,U,j){Zo(M,O,U,j)}),$3=Ln(function(M,O){var U={};if(M==null)return U;var j=!1;O=fe(O,function(tt){return tt=_n(tt,M),j||(j=tt.length>1),tt}),cn(M,rf(M),U),j&&(U=Bi(U,o|s|r,UC));for(var q=O.length;q--;)Qu(U,O[q]);return U});function K3(M,O){return ng(M,lh(Ot(O)))}var j3=Ln(function(M,O){return M==null?{}:TC(M,O)});function ng(M,O){if(M==null)return{};var U=fe(rf(M),function(j){return[j]});return O=Ot(O),Zp(M,U,function(j,q){return O(j,q[0])})}function Z3(M,O,U){O=_n(O,M);var j=-1,q=O.length;for(q||(q=1,M=y);++j<q;){var tt=M==null?y:M[vn(O[j])];tt===y&&(j=q,tt=U),M=On(tt)?tt.call(M):tt}return M}function Q3(M,O,U){return M==null?M:ga(M,O,U)}function J3(M,O,U,j){return j=typeof j=="function"?j:y,M==null?M:ga(M,O,U,j)}var rg=g0(Ne),sg=g0(oi);function k3(M,O,U){var j=zt(M),q=j||er(M)||cs(M);if(O=Ot(O,4),U==null){var tt=M&&M.constructor;q?U=j?new tt:[]:ve(M)?U=On(tt)?ls(zo(M)):{}:U={}}return(q?Oi:dn)(M,function(it,rt,lt){return O(U,it,rt,lt)}),U}function q3(M,O){return M==null?!0:Qu(M,O)}function _3(M,O,U){return M==null?M:_p(M,O,qu(U))}function tA(M,O,U,j){return j=typeof j=="function"?j:y,M==null?M:_p(M,O,qu(U),j)}function vs(M){return M==null?[]:Fu(M,Ne(M))}function eA(M){return M==null?[]:Fu(M,oi(M))}function iA(M,O,U){return U===y&&(U=O,O=y),U!==y&&(U=zi(U),U=U===U?U:0),O!==y&&(O=zi(O),O=O===O?O:0),Or(zi(M),O,U)}function nA(M,O,U){return O=Dn(O),U===y?(U=O,O=0):U=Dn(U),M=zi(M),lC(M,O,U)}function rA(M,O,U){if(U&&typeof U!="boolean"&&qe(M,O,U)&&(O=U=y),U===y&&(typeof O=="boolean"?(U=O,O=y):typeof M=="boolean"&&(U=M,M=y)),M===y&&O===y?(M=0,O=1):(M=Dn(M),O===y?(O=M,M=0):O=Dn(O)),M>O){var j=M;M=O,O=j}if(U||M%1||O%1){var q=Lp();return $e(M+q*(O-M+GS("1e-"+((q+"").length-1))),O)}return Ku(M,O)}var sA=fs(function(M,O,U){return O=O.toLowerCase(),M+(U?ag(O):O)});function ag(M){return Tf(_t(M).toLowerCase())}function og(M){return M=_t(M),M&&M.replace(oS,QS).replace(wS,"")}function aA(M,O,U){M=_t(M),O=mi(O);var j=M.length;U=U===y?j:Or(Wt(U),0,j);var q=U;return U-=O.length,U>=0&&M.slice(U,q)==O}function oA(M){return M=_t(M),M&&WT.test(M)?M.replace(bv,JS):M}function hA(M){return M=_t(M),M&&jT.test(M)?M.replace(vu,"\\$&"):M}var lA=fs(function(M,O,U){return M+(U?"-":"")+O.toLowerCase()}),uA=fs(function(M,O,U){return M+(U?" ":"")+O.toLowerCase()}),fA=u0("toLowerCase");function dA(M,O,U){M=_t(M),O=Wt(O);var j=O?ss(M):0;if(!O||j>=O)return M;var q=(O-j)/2;return th(Wo(q),U)+M+th(Vo(q),U)}function cA(M,O,U){M=_t(M),O=Wt(O);var j=O?ss(M):0;return O&&j<O?M+th(O-j,U):M}function vA(M,O,U){M=_t(M),O=Wt(O);var j=O?ss(M):0;return O&&j<O?th(O-j,U)+M:M}function pA(M,O,U){return U||O==null?O=0:O&&(O=+O),C2(_t(M).replace(pu,""),O||0)}function gA(M,O,U){return(U?qe(M,O,U):O===y)?O=1:O=Wt(O),ju(_t(M),O)}function mA(){var M=arguments,O=_t(M[0]);return M.length<3?O:O.replace(M[1],M[2])}var yA=fs(function(M,O,U){return M+(U?"_":"")+O.toLowerCase()});function xA(M,O,U){return U&&typeof U!="number"&&qe(M,O,U)&&(O=U=y),U=U===y?K:U>>>0,U?(M=_t(M),M&&(typeof O=="string"||O!=null&&!mf(O))&&(O=mi(O),!O&&rs(M))?tr(qi(M),0,U):M.split(O,U)):[]}var TA=fs(function(M,O,U){return M+(U?" ":"")+Tf(O)});function SA(M,O,U){return M=_t(M),U=U==null?0:Or(Wt(U),0,M.length),O=mi(O),M.slice(U,U+O.length)==O}function CA(M,O,U){var j=_.templateSettings;U&&qe(M,O,U)&&(O=y),M=_t(M),O=dh({},O,j,m0);var q=dh({},O.imports,j.imports,m0),tt=Ne(q),it=Fu(q,tt),rt,lt,gt=0,mt=O.interpolate||Ao,yt="__p += '",At=Du((O.escape||Ao).source+"|"+mt.source+"|"+(mt===Uv?eS:Ao).source+"|"+(O.evaluate||Ao).source+"|$","g"),Lt="//# sourceURL="+(te.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++OS+"]")+`
`;M.replace(At,function(It,$t,Qt,xi,_e,Ti){return Qt||(Qt=xi),yt+=M.slice(gt,Ti).replace(hS,kS),$t&&(rt=!0,yt+=`' +
__e(`+$t+`) +
'`),_e&&(lt=!0,yt+=`';
`+_e+`;
__p += '`),Qt&&(yt+=`' +
((__t = (`+Qt+`)) == null ? '' : __t) +
'`),gt=Ti+It.length,It}),yt+=`';
`;var Dt=te.call(O,"variable")&&O.variable;if(!Dt)yt=`with (obj) {
`+yt+`
}
`;else if(_T.test(Dt))throw new Gt(x);yt=(lt?yt.replace(Cn,""):yt).replace(En,"$1").replace(Pn,"$1;"),yt="function("+(Dt||"obj")+`) {
`+(Dt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rt?", __e = _.escape":"")+(lt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var Xt=lg(function(){return qt(tt,Lt+"return "+yt).apply(y,it)});if(Xt.source=yt,gf(Xt))throw Xt;return Xt}function EA(M){return _t(M).toLowerCase()}function PA(M){return _t(M).toUpperCase()}function AA(M,O,U){if(M=_t(M),M&&(U||O===y))return yp(M);if(!M||!(O=mi(O)))return M;var j=qi(M),q=qi(O),tt=xp(j,q),it=Tp(j,q)+1;return tr(j,tt,it).join("")}function wA(M,O,U){if(M=_t(M),M&&(U||O===y))return M.slice(0,Cp(M)+1);if(!M||!(O=mi(O)))return M;var j=qi(M),q=Tp(j,qi(O))+1;return tr(j,0,q).join("")}function MA(M,O,U){if(M=_t(M),M&&(U||O===y))return M.replace(pu,"");if(!M||!(O=mi(O)))return M;var j=qi(M),q=xp(j,qi(O));return tr(j,q).join("")}function RA(M,O){var U=P,j=A;if(ve(O)){var q="separator"in O?O.separator:q;U="length"in O?Wt(O.length):U,j="omission"in O?mi(O.omission):j}M=_t(M);var tt=M.length;if(rs(M)){var it=qi(M);tt=it.length}if(U>=tt)return M;var rt=U-ss(j);if(rt<1)return j;var lt=it?tr(it,0,rt).join(""):M.slice(0,rt);if(q===y)return lt+j;if(it&&(rt+=lt.length-rt),mf(q)){if(M.slice(rt).search(q)){var gt,mt=lt;for(q.global||(q=Du(q.source,_t(Vv.exec(q))+"g")),q.lastIndex=0;gt=q.exec(mt);)var yt=gt.index;lt=lt.slice(0,yt===y?rt:yt)}}else if(M.indexOf(mi(q),rt)!=rt){var At=lt.lastIndexOf(q);At>-1&&(lt=lt.slice(0,At))}return lt+j}function LA(M){return M=_t(M),M&&VT.test(M)?M.replace(zv,r2):M}var FA=fs(function(M,O,U){return M+(U?" ":"")+O.toUpperCase()}),Tf=u0("toUpperCase");function hg(M,O,U){return M=_t(M),O=U?y:O,O===y?_S(M)?o2(M):HS(M):M.match(O)||[]}var lg=Yt(function(M,O){try{return pi(M,y,O)}catch(U){return gf(U)?U:new Gt(U)}}),OA=Ln(function(M,O){return Oi(O,function(U){U=vn(U),Mn(M,U,vf(M[U],M))}),M});function DA(M){var O=M==null?0:M.length,U=Ot();return M=O?fe(M,function(j){if(typeof j[1]!="function")throw new Di(c);return[U(j[0]),j[1]]}):[],Yt(function(j){for(var q=-1;++q<O;){var tt=M[q];if(pi(tt[0],this,j))return pi(tt[1],this,j)}})}function IA(M){return rC(Bi(M,o))}function Sf(M){return function(){return M}}function BA(M,O){return M==null||M!==M?O:M}var NA=d0(),GA=d0(!0);function hi(M){return M}function Cf(M){return Xp(typeof M=="function"?M:Bi(M,o))}function zA(M){return Hp(Bi(M,o))}function bA(M,O){return $p(M,Bi(O,o))}var UA=Yt(function(M,O){return function(U){return va(U,M,O)}}),VA=Yt(function(M,O){return function(U){return va(M,U,O)}});function Ef(M,O,U){var j=Ne(O),q=jo(O,j);U==null&&!(ve(O)&&(q.length||!j.length))&&(U=O,O=M,M=this,q=jo(O,Ne(O)));var tt=!(ve(U)&&"chain"in U)||!!U.chain,it=On(M);return Oi(q,function(rt){var lt=O[rt];M[rt]=lt,it&&(M.prototype[rt]=function(){var gt=this.__chain__;if(tt||gt){var mt=M(this.__wrapped__),yt=mt.__actions__=si(this.__actions__);return yt.push({func:lt,args:arguments,thisArg:M}),mt.__chain__=gt,mt}return lt.apply(M,jn([this.value()],arguments))})}),M}function WA(){return Be._===this&&(Be._=c2),this}function Pf(){}function XA(M){return M=Wt(M),Yt(function(O){return Kp(O,M)})}var YA=tf(fe),HA=tf(cp),$A=tf(Au);function ug(M){return hf(M)?wu(vn(M)):SC(M)}function KA(M){return function(O){return M==null?y:Dr(M,O)}}var jA=v0(),ZA=v0(!0);function Af(){return[]}function wf(){return!1}function QA(){return{}}function JA(){return""}function kA(){return!0}function qA(M,O){if(M=Wt(M),M<1||M>z)return[];var U=K,j=$e(M,K);O=Ot(O),M-=K;for(var q=Lu(j,O);++U<M;)O(U);return q}function _A(M){return zt(M)?fe(M,vn):yi(M)?[M]:si(F0(_t(M)))}function t4(M){var O=++f2;return _t(M)+O}var e4=_o(function(M,O){return M+O},0),i4=ef("ceil"),n4=_o(function(M,O){return M/O},1),r4=ef("floor");function s4(M){return M&&M.length?Ko(M,hi,Vu):y}function a4(M,O){return M&&M.length?Ko(M,Ot(O,2),Vu):y}function o4(M){return gp(M,hi)}function h4(M,O){return gp(M,Ot(O,2))}function l4(M){return M&&M.length?Ko(M,hi,Hu):y}function u4(M,O){return M&&M.length?Ko(M,Ot(O,2),Hu):y}var f4=_o(function(M,O){return M*O},1),d4=ef("round"),c4=_o(function(M,O){return M-O},0);function v4(M){return M&&M.length?Ru(M,hi):0}function p4(M,O){return M&&M.length?Ru(M,Ot(O,2)):0}return _.after=zP,_.ary=W0,_.assign=P3,_.assignIn=eg,_.assignInWith=dh,_.assignWith=A3,_.at=w3,_.before=X0,_.bind=vf,_.bindAll=OA,_.bindKey=Y0,_.castArray=QP,_.chain=b0,_.chunk=rE,_.compact=sE,_.concat=aE,_.cond=DA,_.conforms=IA,_.constant=Sf,_.countBy=vP,_.create=M3,_.curry=H0,_.curryRight=$0,_.debounce=K0,_.defaults=R3,_.defaultsDeep=L3,_.defer=bP,_.delay=UP,_.difference=oE,_.differenceBy=hE,_.differenceWith=lE,_.drop=uE,_.dropRight=fE,_.dropRightWhile=dE,_.dropWhile=cE,_.fill=vE,_.filter=gP,_.flatMap=xP,_.flatMapDeep=TP,_.flatMapDepth=SP,_.flatten=B0,_.flattenDeep=pE,_.flattenDepth=gE,_.flip=VP,_.flow=NA,_.flowRight=GA,_.fromPairs=mE,_.functions=G3,_.functionsIn=z3,_.groupBy=CP,_.initial=xE,_.intersection=TE,_.intersectionBy=SE,_.intersectionWith=CE,_.invert=U3,_.invertBy=V3,_.invokeMap=PP,_.iteratee=Cf,_.keyBy=AP,_.keys=Ne,_.keysIn=oi,_.map=ah,_.mapKeys=X3,_.mapValues=Y3,_.matches=zA,_.matchesProperty=bA,_.memoize=hh,_.merge=H3,_.mergeWith=ig,_.method=UA,_.methodOf=VA,_.mixin=Ef,_.negate=lh,_.nthArg=XA,_.omit=$3,_.omitBy=K3,_.once=WP,_.orderBy=wP,_.over=YA,_.overArgs=XP,_.overEvery=HA,_.overSome=$A,_.partial=pf,_.partialRight=j0,_.partition=MP,_.pick=j3,_.pickBy=ng,_.property=ug,_.propertyOf=KA,_.pull=wE,_.pullAll=G0,_.pullAllBy=ME,_.pullAllWith=RE,_.pullAt=LE,_.range=jA,_.rangeRight=ZA,_.rearg=YP,_.reject=FP,_.remove=FE,_.rest=HP,_.reverse=df,_.sampleSize=DP,_.set=Q3,_.setWith=J3,_.shuffle=IP,_.slice=OE,_.sortBy=GP,_.sortedUniq=bE,_.sortedUniqBy=UE,_.split=xA,_.spread=$P,_.tail=VE,_.take=WE,_.takeRight=XE,_.takeRightWhile=YE,_.takeWhile=HE,_.tap=sP,_.throttle=KP,_.thru=sh,_.toArray=q0,_.toPairs=rg,_.toPairsIn=sg,_.toPath=_A,_.toPlainObject=tg,_.transform=k3,_.unary=jP,_.union=$E,_.unionBy=KE,_.unionWith=jE,_.uniq=ZE,_.uniqBy=QE,_.uniqWith=JE,_.unset=q3,_.unzip=cf,_.unzipWith=z0,_.update=_3,_.updateWith=tA,_.values=vs,_.valuesIn=eA,_.without=kE,_.words=hg,_.wrap=ZP,_.xor=qE,_.xorBy=_E,_.xorWith=tP,_.zip=eP,_.zipObject=iP,_.zipObjectDeep=nP,_.zipWith=rP,_.entries=rg,_.entriesIn=sg,_.extend=eg,_.extendWith=dh,Ef(_,_),_.add=e4,_.attempt=lg,_.camelCase=sA,_.capitalize=ag,_.ceil=i4,_.clamp=iA,_.clone=JP,_.cloneDeep=qP,_.cloneDeepWith=_P,_.cloneWith=kP,_.conformsTo=t3,_.deburr=og,_.defaultTo=BA,_.divide=n4,_.endsWith=aA,_.eq=tn,_.escape=oA,_.escapeRegExp=hA,_.every=pP,_.find=mP,_.findIndex=D0,_.findKey=F3,_.findLast=yP,_.findLastIndex=I0,_.findLastKey=O3,_.floor=r4,_.forEach=U0,_.forEachRight=V0,_.forIn=D3,_.forInRight=I3,_.forOwn=B3,_.forOwnRight=N3,_.get=yf,_.gt=e3,_.gte=i3,_.has=b3,_.hasIn=xf,_.head=N0,_.identity=hi,_.includes=EP,_.indexOf=yE,_.inRange=nA,_.invoke=W3,_.isArguments=Nr,_.isArray=zt,_.isArrayBuffer=n3,_.isArrayLike=ai,_.isArrayLikeObject=Pe,_.isBoolean=r3,_.isBuffer=er,_.isDate=s3,_.isElement=a3,_.isEmpty=o3,_.isEqual=h3,_.isEqualWith=l3,_.isError=gf,_.isFinite=u3,_.isFunction=On,_.isInteger=Z0,_.isLength=uh,_.isMap=Q0,_.isMatch=f3,_.isMatchWith=d3,_.isNaN=c3,_.isNative=v3,_.isNil=g3,_.isNull=p3,_.isNumber=J0,_.isObject=ve,_.isObjectLike=Se,_.isPlainObject=Ta,_.isRegExp=mf,_.isSafeInteger=m3,_.isSet=k0,_.isString=fh,_.isSymbol=yi,_.isTypedArray=cs,_.isUndefined=y3,_.isWeakMap=x3,_.isWeakSet=T3,_.join=EE,_.kebabCase=lA,_.last=Gi,_.lastIndexOf=PE,_.lowerCase=uA,_.lowerFirst=fA,_.lt=S3,_.lte=C3,_.max=s4,_.maxBy=a4,_.mean=o4,_.meanBy=h4,_.min=l4,_.minBy=u4,_.stubArray=Af,_.stubFalse=wf,_.stubObject=QA,_.stubString=JA,_.stubTrue=kA,_.multiply=f4,_.nth=AE,_.noConflict=WA,_.noop=Pf,_.now=oh,_.pad=dA,_.padEnd=cA,_.padStart=vA,_.parseInt=pA,_.random=rA,_.reduce=RP,_.reduceRight=LP,_.repeat=gA,_.replace=mA,_.result=Z3,_.round=d4,_.runInContext=ht,_.sample=OP,_.size=BP,_.snakeCase=yA,_.some=NP,_.sortedIndex=DE,_.sortedIndexBy=IE,_.sortedIndexOf=BE,_.sortedLastIndex=NE,_.sortedLastIndexBy=GE,_.sortedLastIndexOf=zE,_.startCase=TA,_.startsWith=SA,_.subtract=c4,_.sum=v4,_.sumBy=p4,_.template=CA,_.times=qA,_.toFinite=Dn,_.toInteger=Wt,_.toLength=_0,_.toLower=EA,_.toNumber=zi,_.toSafeInteger=E3,_.toString=_t,_.toUpper=PA,_.trim=AA,_.trimEnd=wA,_.trimStart=MA,_.truncate=RA,_.unescape=LA,_.uniqueId=t4,_.upperCase=FA,_.upperFirst=Tf,_.each=U0,_.eachRight=V0,_.first=N0,Ef(_,function(){var M={};return dn(_,function(O,U){te.call(_.prototype,U)||(M[U]=O)}),M}(),{chain:!1}),_.VERSION=E,Oi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(M){_[M].placeholder=_}),Oi(["drop","take"],function(M,O){Kt.prototype[M]=function(U){U=U===y?1:Fe(Wt(U),0);var j=this.__filtered__&&!O?new Kt(this):this.clone();return j.__filtered__?j.__takeCount__=$e(U,j.__takeCount__):j.__views__.push({size:$e(U,K),type:M+(j.__dir__<0?"Right":"")}),j},Kt.prototype[M+"Right"]=function(U){return this.reverse()[M](U).reverse()}}),Oi(["filter","map","takeWhile"],function(M,O){var U=O+1,j=U==I||U==B;Kt.prototype[M]=function(q){var tt=this.clone();return tt.__iteratees__.push({iteratee:Ot(q,3),type:U}),tt.__filtered__=tt.__filtered__||j,tt}}),Oi(["head","last"],function(M,O){var U="take"+(O?"Right":"");Kt.prototype[M]=function(){return this[U](1).value()[0]}}),Oi(["initial","tail"],function(M,O){var U="drop"+(O?"":"Right");Kt.prototype[M]=function(){return this.__filtered__?new Kt(this):this[U](1)}}),Kt.prototype.compact=function(){return this.filter(hi)},Kt.prototype.find=function(M){return this.filter(M).head()},Kt.prototype.findLast=function(M){return this.reverse().find(M)},Kt.prototype.invokeMap=Yt(function(M,O){return typeof M=="function"?new Kt(this):this.map(function(U){return va(U,M,O)})}),Kt.prototype.reject=function(M){return this.filter(lh(Ot(M)))},Kt.prototype.slice=function(M,O){M=Wt(M);var U=this;return U.__filtered__&&(M>0||O<0)?new Kt(U):(M<0?U=U.takeRight(-M):M&&(U=U.drop(M)),O!==y&&(O=Wt(O),U=O<0?U.dropRight(-O):U.take(O-M)),U)},Kt.prototype.takeRightWhile=function(M){return this.reverse().takeWhile(M).reverse()},Kt.prototype.toArray=function(){return this.take(K)},dn(Kt.prototype,function(M,O){var U=/^(?:filter|find|map|reject)|While$/.test(O),j=/^(?:head|last)$/.test(O),q=_[j?"take"+(O=="last"?"Right":""):O],tt=j||/^find/.test(O);q&&(_.prototype[O]=function(){var it=this.__wrapped__,rt=j?[1]:arguments,lt=it instanceof Kt,gt=rt[0],mt=lt||zt(it),yt=function($t){var Qt=q.apply(_,jn([$t],rt));return j&&At?Qt[0]:Qt};mt&&U&&typeof gt=="function"&&gt.length!=1&&(lt=mt=!1);var At=this.__chain__,Lt=!!this.__actions__.length,Dt=tt&&!At,Xt=lt&&!Lt;if(!tt&&mt){it=Xt?it:new Kt(this);var It=M.apply(it,rt);return It.__actions__.push({func:sh,args:[yt],thisArg:y}),new Ii(It,At)}return Dt&&Xt?M.apply(this,rt):(It=this.thru(yt),Dt?j?It.value()[0]:It.value():It)})}),Oi(["pop","push","shift","sort","splice","unshift"],function(M){var O=Oo[M],U=/^(?:push|sort|unshift)$/.test(M)?"tap":"thru",j=/^(?:pop|shift)$/.test(M);_.prototype[M]=function(){var q=arguments;if(j&&!this.__chain__){var tt=this.value();return O.apply(zt(tt)?tt:[],q)}return this[U](function(it){return O.apply(zt(it)?it:[],q)})}}),dn(Kt.prototype,function(M,O){var U=_[O];if(U){var j=U.name+"";te.call(hs,j)||(hs[j]=[]),hs[j].push({name:O,func:U})}}),hs[qo(y,i).name]=[{name:"wrapper",func:y}],Kt.prototype.clone=L2,Kt.prototype.reverse=F2,Kt.prototype.value=O2,_.prototype.at=aP,_.prototype.chain=oP,_.prototype.commit=hP,_.prototype.next=lP,_.prototype.plant=fP,_.prototype.reverse=dP,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=cP,_.prototype.first=_.prototype.head,oa&&(_.prototype[oa]=uP),_},Qn=h2();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Be._=Qn,define(function(){return Qn})):Mr?((Mr.exports=Qn)._=Qn,Su._=Qn):Be._=Qn}).call(f)}),NT=class extends Set{constructor(f,g=!1){super(f),this.valuesAsFlags=g}};function Ja(f){if(f instanceof Map)return Object.fromEntries([...f.entries()].map(([g,y])=>[g,Ja(y)]));if(f instanceof Set)return Array.from(f.values()).map(Ja);if(f instanceof NT)return{values:[...f.values()],valuesAsFlags:f.valuesAsFlags};if(typeof f=="object"){let g={};return Object.entries(f).forEach(([y,E])=>{g[y]=Ja(E)}),g}else return f}Nv(Gv(),1);var RL=Nv(Gv(),1);function Vr(f,g){if(typeof f!="object")throw new Error(`Cannot merge into non-object objectToMergeWith. Received: ${JSON.stringify(f)}`);if(typeof g!="object")throw new Error(`Cannot merge using non-object objectToMergeWith. Received: ${JSON.stringify(g)}`);let y=(0,RL.cloneDeep)(f);for(let[E,w]of Object.entries(g))typeof w!="object"||w instanceof Set||y[E]===void 0?y[E]=w:y[E]=Vr(y[E],w);return y}function GT(f,g){if(!(f===void 0||typeof f!="object"))for(let y of Object.keys(f)){if(y===g)return f[y];let E=f[y];if(typeof E=="object"){let w=GT(E,g);if(w!==void 0)return w}}}var hd="@composite:",LL="@inherit:",FL=class{constructor(f,g,y){this.tiledClassToMembersMap=f,this.enumNameToValuesMap=g,this.parserOptions=y,this.memoiser=new Map}flattenMembers(f,g){return this.memoiser.has(f)?{[f]:this.memoiser.get(f)}:(this.memoiser.set(f,g.reduce((y,E)=>de(de({},y),this.flattenMemberProperty(E)),{})),{[f]:this.memoiser.get(f)})}flattenMemberProperty(f){var g;let y=(g=f.propertyType)!=null?g:f.propertytype;if(f.type==="class"){if(!this.memoiser.has(y)){let R=this.tiledClassToMembersMap.get(y).reduce((c,x)=>Vr(this.flattenMemberProperty(x),c),{});this.memoiser.set(y,R)}let E=this.memoiser.get(y),w=Vr(E,this.flattenValue(f.value,E));return this.checkIfShouldFlatten(f.name)?w:{[f.name.replace(hd,"")]:w}}else return this.enumNameToValuesMap.has(y)?this.enumNameToValuesMap.get(y).valuesAsFlags?{[f.name]:new Set(f.value.split(",").filter(E=>E!==""))}:{[f.name]:f.value}:{[f.name]:f.value}}get memoisedFlattenedProperties(){return this.memoiser}flattenValue(f,g){return Object.entries(f).reduce((y,[E,w])=>{if(typeof w!="object")return GT(g,E)instanceof Set?Vr({[E]:new Set(w.split(",").filter(R=>R!==""))},y):Vr({[E]:w},y);if(this.checkIfShouldFlatten(E))return Vr(this.flattenValue(w,g),y);{let R=E.replace(hd,"");return Vr({[R]:this.flattenValue(w,g)},y)}},{})}checkIfShouldFlatten(f){var g;return((g=this.parserOptions)==null?void 0:g.defaultComposite)===!0?f.startsWith(LL):!f.startsWith(hd)}},_m=Nv(Gv(),1),OL=class{constructor(f){this.flattener=f}flattenPropertiesOnObject(f){var g,y,E,w;return Sr(de(de({},this.flattener.memoisedFlattenedProperties.get((g=f.class)!=null?g:f.type)),(y=f.properties)==null?void 0:y.reduce((R,c)=>de(de({},R),this.flattener.flattenMemberProperty(c)),{})),{name:f.name,id:f.id,class:(w=(E=f.class)!=null?E:f.type)!=null?w:null,x:f.x,y:f.y})}flattenPropertiesOnTile(f){var g,y,E,w;return Sr(de(de({},this.flattener.memoisedFlattenedProperties.get((g=f.class)!=null?g:f.type)),(y=f.properties)==null?void 0:y.reduce((R,c)=>de(de({},R),this.flattener.flattenMemberProperty(c)),{})),{id:f.id,class:(w=(E=f.class)!=null?E:f.type)!=null?w:null})}getCustomTypesMap(){return new Map([...this.flattener.memoisedFlattenedProperties.entries()].map(([f,g])=>[f,(0,_m.cloneDeep)(g)]))}getEnumsMap(){return new Map([...this.flattener.enumNameToValuesMap.entries()].map(([f,g])=>[f,(0,_m.cloneDeep)(g)]))}toJSON(){return JSON.stringify({customTypes:Ja(this.getCustomTypesMap()),enums:Ja(this.getEnumsMap())},null,4)}};function DL(f,g){let y=new Map(f.propertyTypes.filter(R=>R.type==="enum").map(R=>[R.name,new NT(R.values,R.valuesAsFlags)])),E=new Map(f.propertyTypes.filter(R=>R.type==="class").map(R=>[R.name,R.members])),w=new FL(E,y,g);return E.forEach((R,c)=>{w.flattenMembers(c,R)}),new OL(w)}var IL={parse:DL},zT=class{constructor(f,g){this.phaserTile=f,this.tiledProject=g}getProperty(f){var g,y;let E={};if(this.tiledProject){let w=IL.parse(this.tiledProject),R=this.getType();if(R){let c=(g=w.getCustomTypesMap())==null?void 0:g.get(R);if(c)for(let[x,t]of Object.entries(c))E[x]=t}}return(y=this.phaserTile.properties[f])!=null?y:E[f]}hasProperty(f){return this.getProperty(f)!=null}getType(){var f,g;return(g=(f=this.phaserTile.tileset)==null?void 0:f.tileData[this.phaserTile.index-1])==null?void 0:g.type}},BL=class{constructor(f,g){this.phaserTilemapLayer=f,this.tiledProject=g}getName(){return this.phaserTilemapLayer.layer.name}getProperty(f){let g=this.phaserTilemapLayer.layer.properties,y=g==null?void 0:g.find(E=>E.name==f);return y==null?void 0:y.value}hasProperty(f){return this.getProperty(f)!=null}isCharLayer(){return this.hasProperty(tl)}getData(){return this.phaserTilemapLayer.layer.data.map(f=>f.map(g=>new zT(g,this.tiledProject)))}},NL=class{constructor(f,g){this.phaserTilemap=f,this.tiledProject=g;for(let y of this.phaserTilemap.layers)if(y.tilemapLayer==null)throw new Error(`Error initializing tilemap. Layer '${y.name}' has no 'tilemapLayer'. This can happen if you call 'createLayer' with the wrong layer ID.`)}getTileWidth(){return this.phaserTilemap.tileWidth}getTileHeight(){return this.phaserTilemap.tileHeight}getWidth(){return this.phaserTilemap.width}getHeight(){return this.phaserTilemap.height}getOrientation(){return this.phaserTilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()?"isometric":"orthogonal"}getLayers(){return this.phaserTilemap.layers.map(f=>new BL(f.tilemapLayer,this.tiledProject))}hasTileAt(f,g,y){return!!this.phaserTilemap.hasTileAt(f,g,y)}getTileAt(f,g,y){let E=this.phaserTilemap.getTileAt(f,g,!1,y);if(E)return new zT(E,this.tiledProject)}},bT=class xc{constructor(g){this.scene=g,this.geHeadless=new mL(!1),this.isCreatedInternal=!1,xc.welcomeMessagePrinted||(console.log(`Using GridEngine Phaser Plugin v${LT}`),xc.welcomeMessagePrinted=!0),this.scene.sys.events.once("boot",this.boot,this)}boot(){this.scene.sys.events.on("update",this.update,this)}getCharLayer(g){return this.geHeadless.getCharLayer(g)}getTransition(g,y){return this.geHeadless.getTransition(g,y)}setTransition(g,y,E){this.geHeadless.setTransition(g,y,E)}create(g,y){this.geHeadless.create(new NL(g,y.tiledProject),y),this.isCreatedInternal=!0,this.gridCharacters=new Map;let E=this.setConfigDefaults(y);this.config=E,this.gridTilemap=new yc(g),this.addCharacters()}getPosition(g){return this.geHeadless.getPosition(g)}move(g,y){this.geHeadless.move(g,y)}moveRandomly(g,y=0,E=-1){this.geHeadless.moveRandomly(g,y,E)}getMovement(g){return this.geHeadless.getMovement(g)}moveTo(g,y,E){return this.geHeadless.moveTo(g,y,E)}stopMovement(g){this.geHeadless.stopMovement(g)}setSpeed(g,y){this.geHeadless.setSpeed(g,y)}getSpeed(g){return this.geHeadless.getSpeed(g)}setContainer(g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(g);if(!w)throw this.createCharUnknownErr(g);w.setContainer(y)}getContainer(g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(g);if(!E)throw this.createCharUnknownErr(g);return E.getContainer()}getOffsetX(g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(g);if(!E)throw this.createCharUnknownErr(g);return E.getOffsetX()}setOffsetX(g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(g);if(!w)throw this.createCharUnknownErr(g);w.setOffsetX(y)}getOffsetY(g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(g);if(!E)throw this.createCharUnknownErr(g);return E.getOffsetY()}setOffsetY(g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(g);if(!w)throw this.createCharUnknownErr(g);w.setOffsetY(y)}collidesWithTiles(g){return this.geHeadless.collidesWithTiles(g)}getWalkingAnimationMapping(g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(g);if(!E)throw this.createCharUnknownErr(g);let w=E.getAnimation();return w==null?void 0:w.getWalkingAnimationMapping()}hasLayerOverlay(){var g;return this.initGuard(),!!((g=this.config)!=null&&g.layerOverlay)}setWalkingAnimationMapping(g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(g);if(!w)throw this.createCharUnknownErr(g);let R=w.getAnimation();R==null||R.setWalkingAnimationMapping(y)}update(g,y){if(this.isCreatedInternal&&this.gridCharacters)for(let[E,w]of this.gridCharacters)w.update(y);this.geHeadless.update(g,y)}addCharacter(g){this.geHeadless.addCharacter(g),this.addCharacterInternal(g)}hasCharacter(g){return this.geHeadless.hasCharacter(g)}removeCharacter(g){var y,E;this.initGuard();let w=(y=this.gridCharacters)==null?void 0:y.get(g);if(!w)throw this.createCharUnknownErr(g);w.destroy(),(E=this.gridCharacters)==null||E.delete(g),this.geHeadless.removeCharacter(g)}removeAllCharacters(){if(this.initGuard(),!!this.gridCharacters){for(let g of this.gridCharacters.keys())this.removeCharacter(g);this.geHeadless.removeAllCharacters()}}getAllCharacters(g){return this.geHeadless.getAllCharacters(g)}getLabels(g){return this.geHeadless.getLabels(g)}addLabels(g,y){this.geHeadless.addLabels(g,y)}removeLabels(g,y){this.geHeadless.removeLabels(g,y)}clearLabels(g){this.geHeadless.clearLabels(g)}follow(g,y,E,w){let R;E===void 0?R={distance:0,closestPointIfBlocked:!1}:typeof E=="number"?(R={distance:E,closestPointIfBlocked:!1},w&&(R.closestPointIfBlocked=!0)):R=E,this.geHeadless.follow(g,y,R)}isMoving(g){return this.geHeadless.isMoving(g)}getFacingDirection(g){return this.geHeadless.getFacingDirection(g)}getFacingPosition(g){return this.geHeadless.getFacingPosition(g)}turnTowards(g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(g);if(!w)throw this.createCharUnknownErr(g);w.turnTowards(y),this.geHeadless.turnTowards(g,y)}getCharactersAt(g,y){return this.geHeadless.getCharactersAt(g,y)}setPosition(g,y,E){this.geHeadless.setPosition(g,y,E)}getSprite(g){var y;this.initGuard();let E=(y=this.gridCharacters)==null?void 0:y.get(g);if(!E)throw this.createCharUnknownErr(g);return E.getSprite()}setSprite(g,y){var E;this.initGuard();let w=(E=this.gridCharacters)==null?void 0:E.get(g);if(!w)throw this.createCharUnknownErr(g);y.setOrigin(0,0),w.setSprite(y)}isBlocked(g,y,E=["geDefault"]){return this.geHeadless.isBlocked(g,y,E)}isTileBlocked(g,y){return this.geHeadless.isTileBlocked(g,y)}getCollisionGroups(g){return this.geHeadless.getCollisionGroups(g)}setCollisionGroups(g,y){this.geHeadless.setCollisionGroups(g,y)}getIgnoreCollisionGroups(g){return this.geHeadless.getIgnoreCollisionGroups(g)}setIgnoreCollisionGroups(g,y){this.geHeadless.setIgnoreCollisionGroups(g,y)}getTilePosInDirection(g,y,E){return this.geHeadless.getTilePosInDirection(g,y,E)}findShortestPath(g,y,E={}){return this.geHeadless.findShortestPath(g,y,E)}steppedOn(g,y,E){return this.geHeadless.steppedOn(g,y,E)}characterShifted(){return this.geHeadless.characterShifted()}movementStarted(){return this.geHeadless.movementStarted()}movementStopped(){return this.geHeadless.movementStopped()}directionChanged(){return this.geHeadless.directionChanged()}positionChangeStarted(){return this.geHeadless.positionChangeStarted()}positionChangeFinished(){return this.geHeadless.positionChangeFinished()}getMovementProgress(g){return this.geHeadless.getMovementProgress(g)}rebuildTileCollisionCache(g,y,E,w){this.geHeadless.rebuildTileCollisionCache(g,y,E,w)}addQueueMovements(g,y,E){this.geHeadless.addQueueMovements(g,y,E)}getEnqueuedMovements(g){return this.geHeadless.getEnqueuedMovements(g)}queueMovementFinished(){return this.geHeadless.queueMovementFinished()}clearEnqueuedMovements(g){return this.geHeadless.clearEnqueuedMovements(g)}getState(){return{characters:this.geHeadless.getState().characters.map(g=>Sr(de({},g),{offsetX:this.getOffsetX(g.id),offsetY:this.getOffsetY(g.id)}))}}setState(g){if(this.geHeadless.setState(g),this.gridCharacters)for(let y of g.characters){let E=this.gridCharacters.get(y.id);E&&(E.setOffsetX(y.offsetX),E.setOffsetY(y.offsetY))}}getTileCost(g,y,E){return this.initGuard(),this.geHeadless.getTileCost(g,y,E)}setConfigDefaults(g){return de({collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",layerOverlay:!1,cacheTileCollisions:!1},g)}initGuard(){if(!this.isCreatedInternal)throw this.createUninitializedErr()}createUninitializedErr(){throw new Error("GridEngine not initialized. You need to call create() first.")}addCharacters(){var g;(g=this.config)==null||g.characters.forEach(y=>this.addCharacterInternal(y))}createCharUnknownErr(g){return new Error(`Character unknown: ${g}`)}addCharacterInternal(g){var y;if(this.initGuard(),!this.gridTilemap)throw this.createUninitializedErr();if(!this.config)throw this.createUninitializedErr();let E=new qR(g,this.scene,this.gridTilemap,this.config.layerOverlay,this.geHeadless);(y=this.gridCharacters)==null||y.set(g.id,E)}};bT.welcomeMessagePrinted=!1;var GL=bT,zL=GL;/*! Bundled license information:

tiled-property-flattener/dist/tiled_property_flattener.min.js:
  (*! Bundled license information:
  
  lodash/lodash.js:
    (**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     *)
  *)
*/class bL extends bt.Scene{constructor(){super("KBVE")}preload(){this.load.audio("type","https://kbve.com/assets/img/fishchip/type.mp3"),this.load.image("wave","https://kbve.com/assets/img/curved-images/wave.jpg"),this.load.image("scroll","https://kbve.com/assets/img/fishchip/scroll.webp"),this.load.image("creditsBg","https://cdn.discordapp.com/attachments/1213306326290010112/1213992501166350466/itchcover.png?ex=65f77d9f&is=65e5089f&hm=1118240df1bba0735961a514a40d5293e91710f95d3746a1e32f61b218d63a30&"),this.load.image("logo","https://kbve.com/assets/img/letter_logo.png"),this.load.image("tiles","/space_map_nenko.png"),this.load.tilemapTiledJSON("space-map","/space_data_nenko.json"),this.load.audio("music","/space.ogg"),this.load.audio("laser","/laser.ogg"),this.load.audio("thrust","/thrust.ogg"),this.load.audio("type","https://kbve.com/assets/img/fishchip/type.mp3"),this.load.spritesheet("ship","/ship.png",{frameWidth:32,frameHeight:96}),this.load.image("box","/box_small.png"),this.load.spritesheet("player","https://kbve.com/assets/img/fishchip/chip_charactersheet_warmer.png",{frameWidth:52,frameHeight:72}),this.load.image("wave","https://kbve.com/assets/img/curved-images/wave.jpg"),this.load.image("scroll","https://kbve.com/assets/img/fishchip/scroll.webp"),this.load.image("creditsBg","https://cdn.discordapp.com/attachments/1213306326290010112/1213992501166350466/itchcover.png?ex=65f77d9f&is=65e5089f&hm=1118240df1bba0735961a514a40d5293e91710f95d3746a1e32f61b218d63a30&"),this.load.image("logo","https://kbve.com/assets/img/letter_logo.png"),this.load.image("tiles","https://kbve.com/assets/img/fishchip/desert_tileset_1.png"),this.load.tilemapTiledJSON("cloud-city-map","https://kbve.com/assets/img/fishchip/cloud_city.json")}create(){var g;this.input.keyboard&&this.input.keyboard.on("keydown-SPACE",()=>{this.scene.start("Asteroids")});//! This has to be placed back in!
(g=this.sound.get("music"))!=null&&g.isPlaying||this.sound.add("music",{loop:!0,volume:.1}).play(),this.scene.start("Menu")}}function UT(f,g,y,E){for(let w=0;w<E;w++){const R=bt.Math.Between(0,g),c=bt.Math.Between(0,y),x=bt.Math.Between(1,2);f.add.rectangle(R,c,x,x,16777215)}}class UL extends bt.Scene{constructor(){super("Menu")}preload(){}create(){//! This has to be placed back in!
this.cameras.main.setBackgroundColor(0),UT(this,1200,800,50);for(let g=0;g<15;g++)this.createBox(15,1200,800);this.add.text(650,300,"TravelBox",{fontFamily:"Arial Black",fontSize:120,color:"#ffffff"}).setOrigin(.5),this.mainMenuButtonText=this.add.text(650,450,"Play",{fontFamily:"Arial Black",fontSize:50,color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.mainMenuButtonText&&this.mainMenuButtonText.preFX?(this.glow=this.mainMenuButtonText.preFX.addGlow(),this.glow.outerStrength=1,this.glow.setActive(!1)):console.warn("preFX is not available"),this.mainMenuButtonText.on("pointerover",()=>{console.log(this.glow),this.glow&&this.glow.setActive(!0),console.log("glow")}),this.mainMenuButtonText.on("pointerout",()=>{console.log(this.glow),this.glow&&(this.glow.setActive(!1),console.log("glowout"))}),this.mainMenuButtonText.on("pointerdown",()=>{this.scene.start("Space")},this)}createBox(g,y,E){const w=bt.Math.Between(0,y),R=bt.Math.Between(0,E),c=this.add.image(w,R,"box").setScale(1.5);this.physics.add.existing(c);const x=bt.Math.Between(-g,g),t=bt.Math.Between(-g,g);c.body instanceof bt.Physics.Arcade.Body?c.body.setVelocity(x,t):console.error("Failed to create a physics body for the box")}}let ti=[],VL=(f,g)=>{let y=[],E={get(){return E.lc||E.listen(()=>{})(),E.value},l:g||0,lc:0,listen(w,R){return E.lc=y.push(w,R||E.l)/2,()=>{let c=y.indexOf(w);~c&&(y.splice(c,2),E.lc--,E.lc||E.off())}},notify(w){let R=!ti.length;for(let c=0;c<y.length;c+=2)ti.push(y[c],E.value,w,y[c+1]);if(R){for(let c=0;c<ti.length;c+=4){let x=!1;for(let t=c+7;t<ti.length;t+=4)if(ti[t]<ti[c+3]){x=!0;break}x?ti.push(ti[c],ti[c+1],ti[c+2],ti[c+3]):ti[c](ti[c+1],ti[c+2])}ti.length=0}},off(){},set(w){E.value!==w&&(E.value=w,E.notify())},subscribe(w,R){let c=E.listen(w,R);return w(E.value),c},value:f};return E};const WL=5,Nh=6,Gh=10;let XL=(f,g,y,E)=>(f.events=f.events||{},f.events[y+Gh]||(f.events[y+Gh]=E(w=>{f.events[y].reduceRight((R,c)=>(c(R),R),{shared:{},...w})})),f.events[y]=f.events[y]||[],f.events[y].push(g),()=>{let w=f.events[y],R=w.indexOf(g);w.splice(R,1),w.length||(delete f.events[y],f.events[y+Gh](),delete f.events[y+Gh])}),YL=1e3,HL=(f,g)=>XL(f,E=>{let w=g(E);w&&f.events[Nh].push(w)},WL,E=>{let w=f.listen;f.listen=(...c)=>(!f.lc&&!f.active&&(f.active=!0,E()),w(...c));let R=f.off;return f.events[Nh]=[],f.off=()=>{R(),setTimeout(()=>{if(f.active&&!f.lc){f.active=!1;for(let c of f.events[Nh])c();f.events[Nh]=[]}},YL)},()=>{f.listen=w,f.off=R}}),ty=f=>f,xs={},Tc={addEventListener(){},removeEventListener(){}};function $L(){try{return typeof localStorage<"u"}catch{return!1}}$L()&&(xs=localStorage);let KL={addEventListener(f,g,y){window.addEventListener("storage",g),window.addEventListener("pageshow",y)},removeEventListener(f,g,y){window.removeEventListener("storage",g),window.removeEventListener("pageshow",y)}};typeof window<"u"&&(Tc=KL);function jL(f,g=void 0,y={}){let E=y.encode||ty,w=y.decode||ty,R=VL(g),c=R.set;R.set=a=>{typeof a>"u"?delete xs[f]:xs[f]=E(a),c(a)};function x(a){a.key===f?a.newValue===null?c(void 0):c(w(a.newValue)):xs[f]||c(void 0)}function t(){R.set(xs[f]?w(xs[f]):g)}return HL(R,()=>{if(t(),y.listen!==!1)return Tc.addEventListener(f,x,t),()=>{Tc.removeEventListener(f,x,t)}}),R}const ZL=jL("score","0");class aF extends bt.GameObjects.Sprite{}class QL extends Ux.Scene{constructor(){super({key:"Space"})}create(){this.cameras.main.setBackgroundColor(0);const g=this.make.tilemap({key:"space-map"});g.addTilesetImage("Space Map","tiles");for(let w=0;w<g.layers.length;w++){const R=g.createLayer(w,"Space Map",0,0);R?R.scale=3:console.error(`Layer ${w} could not be created.`)}this.playerSprite=this.add.sprite(0,0,"ship"),this.playerSprite.scale=1.5,this.cameras.main.startFollow(this.playerSprite,!0),this.cameras.main.setFollowOffset(-this.playerSprite.width,-this.playerSprite.height);const y={characters:[{id:"player",sprite:this.playerSprite,walkingAnimationMapping:6,startPosition:{x:5,y:12},speed:4,origin:.5},{id:"npc",sprite:this.npcSprite,walkingAnimationMapping:5,startPosition:{x:4,y:10},speed:3},{id:"fishNpc",sprite:this.fishNpcSprite,walkingAnimationMapping:4,startPosition:{x:8,y:14},speed:3}]};this.gridEngine.create(g,y),window.__GRID_ENGINE__=this.gridEngine;const E=parseInt(ZL.get());console.log("Current score:",E),this.scoreText=this.add.text(16,16,"Score: "+E,{fontSize:"32px",color:"#FFF"}),this.scoreText.setScrollFactor(0)}createTextBubble(g,y){const c=this.add.graphics();c.fillStyle(16777215,1),c.fillRoundedRect(0,0,200,60,16),c.setDepth(99);const x=this.add.text(100,30,y,{fontFamily:"Arial",fontSize:16,color:"#000000"});x.setOrigin(.5),x.setWordWrapWidth(200-10*2),x.setDepth(100);const t=this.add.container(0,0,[c,x]);t.setDepth(100),g.textBubble=t,this.updateTextBubblePosition(g)}updateTextBubblePosition(g){const y=g.textBubble;y&&(y.x=g.x,y.y=g.y-g.height-y.height/2)}update(){this.input.keyboard&&(this.cursor=this.input.keyboard.createCursorKeys());const g=this.cursor;function y(x){return x.x>=2&&x.x<=5&&x.y>=10&&x.y<=14}function E(x){return x.x>=2&&x.x<=5&&x.y>=2&&x.y<=5}function w(x){return x.x>=13&&x.x<=13&&x.y>=6&&x.y<=7}function R(x){return x.x>=7&&x.x<=10&&x.y>=9&&x.y<=10}function c(x){return x.x>=12&&x.x<=15&&x.y>=11&&x.y<=14}if(this.input.keyboard&&this.input.keyboard.addKey("F").isDown){const x=this.gridEngine.getPosition("player");y(x)&&this.scene.start("FishChipScene"),E(x)&&this.scene.start("CreditsScene"),w(x)&&this.scene.start("Asteroids"),R(x)&&console.log("Samson Statue!"),c(x)&&(this.scene.start("Asteroids"),console.log("Earth!"))}this.playerSprite&&(g&&g.left.isDown||this.input.keyboard&&this.input.keyboard.addKey("A").isDown?(this.gridEngine.move("player","left"),this.playerSprite.rotation=bt.Math.DegToRad(270)):g&&g.right.isDown||this.input.keyboard&&this.input.keyboard.addKey("D").isDown?(this.gridEngine.move("player","right"),this.playerSprite.rotation=bt.Math.DegToRad(90),this.playerSprite.setOrigin(.5,.5)):g&&g.up.isDown||this.input.keyboard&&this.input.keyboard.addKey("W").isDown?(this.gridEngine.move("player","up"),this.playerSprite.rotation=bt.Math.DegToRad(0),this.playerSprite.setOrigin(.5,.5)):(g&&g.down.isDown||this.input.keyboard&&this.input.keyboard.addKey("S").isDown)&&(this.gridEngine.move("player","down"),this.playerSprite.rotation=bt.Math.DegToRad(180),this.playerSprite.setOrigin(.5,.5))),this.npcSprite&&this.npcSprite.textBubble&&this.updateTextBubblePosition(this.npcSprite),this.fishNpcSprite&&this.fishNpcSprite.textBubble&&this.updateTextBubblePosition(this.fishNpcSprite)}}const JL=300,kL=500,ms=3e3,ys=3e3;class qL extends bt.Scene{constructor(){super("Asteroids"),this.asteroids=[],this.bullets=null,this.player=null,this.cursors=null,this.thrustSoundPlaying=!1,this.enemies=null,this.boxAttached=!1}preload(){this.load.image("potato","/asteroid_potato.png"),this.load.image("earth","/earth.png"),this.load.image("ship_still","/ship_still.png"),this.load.image("ship_thrust","/ship_thrust.png"),this.load.image("enemy","/enemy.png")}create(){var g;this.physics.world.setBounds(0,0,ys,ms,!0,!0,!0,!0),this.cursors=((g=this.input.keyboard)==null?void 0:g.createCursorKeys())??null,this.createPlayer(),this.setupCamera(),this.player&&this.add.text(this.player.x-200,this.player.y-200,`Cadet!
We have lost our cargo!
Find it and bring it back to Earth!
Good Luck!!!`,{fontSize:"16px",color:"#fff"}),this.createPlayerBullets(),UT(this,ys,ms,kL),this.createAsteroids(),this.playerShoot(),this.createPackage(),this.createEarth(),this.createEnemies(),this.createEnemyBullets(),this.handleCollisions()}update(){this.rotatePlayer(),this.playerMoveForward(),this.boxFollowPlayer(),this.enemies&&this.enemies.children.iterate(g=>(this.enemyChasePlayer(g),this.enemyShootAtPlayer(g),!0))}setupCamera(){this.cameras.main.setBackgroundColor(0),this.player&&this.cameras.main.startFollow(this.player,!0,.1,.1),this.cameras.main.setZoom(1)}createPlayer(){this.thrustSound=this.sound.add("thrust",{loop:!0,volume:.1}),this.player=this.add.image(1e3,1e3,"ship_still"),this.physics.add.existing(this.player),this.player.setOrigin(.5,.5);const g=this.player.body;g.setDrag(100),g.setMaxVelocity(200),g.setCollideWorldBounds(!0)}createPlayerBullets(){const g=this.make.graphics({},!1);g.fillStyle(16711680,1),g.fillRect(0,0,10,10),g.generateTexture("bulletTexture",10,10),g.destroy(),this.bullets=this.physics.add.group({defaultKey:"bulletTexture",maxSize:20})}createAsteroids(){for(let g=0;g<JL;g++)this.addAsteroid()}playerShoot(){this.input.keyboard&&this.input.keyboard.on("keydown-SPACE",()=>{if(!this.bullets||!this.player)return;const g=this.bullets.get(this.player.x,this.player.y);this.sound.play("laser",{volume:.1}),g&&(g.setActive(!0).setVisible(!0),g.setDepth(-99),g.body.setAllowGravity(!1),this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,400,g.body.velocity),g.body.setCollideWorldBounds(!0),g.body.onWorldBounds=!0,g.body.world.on("worldbounds",y=>{y.gameObject===g&&g.destroy()},this))})}createPackage(){const y=bt.Math.Between(0,ys-16),E=bt.Math.Between(0,ms-16);this.yellowBox=this.physics.add.sprite(y,E,"box")}createEarth(){const g=bt.Math.Between(64,ys-64),y=bt.Math.Between(64,ms-64);this.blueCircle=this.physics.add.sprite(g,y,"earth")}createEnemyBullets(){const g=this.make.graphics({},!1);g.fillStyle(65280,1),g.fillRect(0,0,10,10),g.generateTexture("enemyBulletTexture",10,10),g.destroy(),this.enemyBullets=this.physics.add.group({defaultKey:"enemyBulletTexture",createCallback:y=>{const E=y.body;E.onWorldBounds=!0},removeCallback:y=>{y.setActive(!1).setVisible(!1)}}),this.physics.world.on("worldbounds",y=>{this.enemyBullets&&this.enemyBullets.contains(y.gameObject)&&y.gameObject.setActive(!1).setVisible(!1)})}createEnemies(){this.enemies=this.physics.add.group({key:"enemy",repeat:5,setXY:{x:100,y:100,stepX:200}}),this.enemies.children.iterate(g=>(g.body&&(g.setScale(.5),g.body.setVelocity(bt.Math.Between(-50,50),bt.Math.Between(-50,50)),g.body.setCollideWorldBounds(!0)),null))}handleCollisions(){this.player&&this.yellowBox&&this.physics.add.overlap(this.player,this.yellowBox,(g,y)=>{this.attachBoxToPlayer(y)},void 0,this),this.player&&this.blueCircle&&this.physics.add.overlap(this.player,this.blueCircle,()=>{this.boxAttached&&this.youWin()},void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,(g,y)=>{y instanceof bt.GameObjects.Sprite&&y.setActive(!1).setVisible(!1),this.gameOver()},void 0,this),this.bullets&&this.asteroids&&this.physics.add.collider(this.bullets,this.asteroids,(g,y)=>{g.destroy(),y.destroy()},void 0,this),this.player&&this.asteroids&&this.physics.add.collider(this.player,this.asteroids,this.gameOver,void 0,this),this.player&&this.enemyBullets&&this.physics.add.collider(this.player,this.enemyBullets,this.gameOver,void 0,this),this.player&&this.enemies&&this.physics.add.collider(this.player,this.enemies,this.gameOver,void 0,this),this.bullets&&this.enemies&&this.physics.add.collider(this.bullets,this.enemies,(g,y)=>{g.destroy(),y.destroy()},void 0,this),this.enemyBullets&&this.physics.add.collider(this.enemyBullets,this.asteroids,(g,y)=>{g.destroy(),y.destroy()},void 0,this)}attachBoxToPlayer(g){"body"in g&&g.body!==null&&(g.body instanceof bt.Physics.Arcade.Body?g.body.enable=!1:g.body instanceof bt.Physics.Arcade.StaticBody&&console.log("Static body encountered. Consider how you want to handle static bodies."),this.boxAttached=!0)}addAsteroid(){const g=this.cameras.main.getBounds(),y=25;let E,w;bt.Math.Between(0,1)?(E=bt.Math.Between(0,1)?g.left-y:g.right+y,w=bt.Math.Between(0,ms)):(E=bt.Math.Between(0,ys),w=bt.Math.Between(0,1)?g.top-y:g.bottom+y),E=bt.Math.Clamp(E,0,ys),w=bt.Math.Clamp(w,0,ms);const R=this.add.image(E,w,"potato");R.setOrigin(.5,.5),R.setScale(bt.Math.Between(3,9)/10),this.physics.add.existing(R);const c=R.body;c.setAngularVelocity(bt.Math.Between(-50,50));const x=bt.Math.Between(-100,100),t=bt.Math.Between(-100,100);c.setVelocity(x,t),c.setCollideWorldBounds(!0),c.onWorldBounds=!0,c.world.on("worldbounds",a=>{a.gameObject===R&&(R.destroy(),this.addAsteroid())},this),this.asteroids.push(R)}enemyShootAtPlayer(g){if(this.player&&this.enemyBullets){if(bt.Math.Between(0,1e3)>999){const y=bt.Math.Angle.Between(g.x,g.y,this.player.x,this.player.y),E=this.enemyBullets.get(g.x,g.y);E&&(E.setActive(!0).setVisible(!0),E.setDepth(-99),E.body instanceof bt.Physics.Arcade.Body?this.physics.velocityFromRotation(y,300,E.body.velocity):console.error("Bullet body is not an instance of Phaser.Physics.Arcade.Body"))}}else console.error("Player or enemyBullets group is null")}enemyChasePlayer(g){this.player?this.physics.accelerateToObject(g,this.player,50):console.warn("Player object is null, cannot chase player.")}boxFollowPlayer(){if(this.boxAttached&&this.player&&this.yellowBox){const y=this.player.rotation-Math.PI/2,E=this.player.x+60*Math.cos(y),w=this.player.y+60*Math.sin(y);this.yellowBox.setPosition(E,w)}}playerMoveForward(){var g,y;this.player&&this.player.body instanceof bt.Physics.Arcade.Body?(y=(g=this.cursors)==null?void 0:g.up)!=null&&y.isDown?(this.physics.velocityFromRotation(this.player.rotation-Math.PI/2,200,this.player.body.velocity),!this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.play(),this.thrustSoundPlaying=!0,this.player.setTexture("ship_thrust"))):(this.thrustSoundPlaying&&this.thrustSound&&(this.thrustSound.pause(),this.thrustSoundPlaying=!1,this.player.setTexture("ship_still")),this.player.body.setDrag(100)):console.warn("Player or player body is not initialized.")}rotatePlayer(){var g,y,E,w;this.player?(y=(g=this.cursors)==null?void 0:g.left)!=null&&y.isDown?this.player.rotation-=.05:(w=(E=this.cursors)==null?void 0:E.right)!=null&&w.isDown&&(this.player.rotation+=.05):console.warn("Player object is null, cannot rotate player.")}gameOver(){this.physics.pause(),this.player&&this.add.text(this.player.x,this.player.y,`Game Over
Hit ENTER to restart`,{fontSize:"32px",color:"#fff"}).setOrigin(.5),this.input.keyboard&&this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart()}),this.resetGame()}resetGame(){this.boxAttached=!1}youWin(){if(this.player){const g=this.add.text(this.player.x,this.player.y,`Mission Complete!
Great work cadet!
Press ENTER to return back to port.`,{fontSize:"16px",color:"#ffffff"});this.resetGame(),g.setOrigin(.5,.5),this.physics.pause(),this.input.keyboard&&this.input.keyboard.on("keydown-ENTER",()=>{this.scene.restart(),this.scene.start("Space")})}}}const _L=zx.div`
    // Your style here
`;function tF(){const f=Pi.useRef(null);return Pi.useEffect(()=>{if(f.current){const g=f.current,E={...{title:"TravelBox",render:{antialias:!1},scale:{mode:bt.Scale.RESIZE,min:{width:1024,height:768},max:{width:1280,height:800},zoom:1},type:bt.AUTO,transparent:!0,width:800,height:600,physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1,worldBounds:!0,emitOnWorldBounds:!0}},plugins:{scene:[{key:"gridEngine",plugin:zL,mapping:"gridEngine"}]},scene:[bL,UL,QL,qL],input:{mouse:{preventDefaultWheel:!1},touch:{capture:!1}}},parent:g},w=new bt.Game(E);return()=>{w.destroy(!0)}}},[]),xn.jsx(_L,{children:xn.jsx("div",{ref:f})})}const eF=zx.div`
    // Your style here
`;function iF(){return xn.jsx(eF,{children:xn.jsx(tF,{})})}const nF=()=>xn.jsxs(Sx,{children:[xn.jsx(y5,{children:xn.jsx("title",{children:"The TravelBox"})}),xn.jsx(iF,{})]}),rF=vx(document.getElementById("travelbox"));rF.render(xn.jsx(Pi.StrictMode,{children:xn.jsx(nF,{})}));
