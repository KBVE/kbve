---
import NeoGlassPanelAnimations from './NeoGlassPanelAnimations.tsx';

const {
	title = 'Tech & Gaming Excellence with KBVE',
	subtitle = 'Flow with serene access and deep-blue level features.',
	description = "Whether you're diving into containerization, mastering Node.js, pushing for Diamond in League, or raiding in WoW, our community is here to support your journey. Share knowledge, form teams, and achieve your goals together.",
	badge = 'Memes',
	buttonText = 'Dive In',
	buttonHref = '#',
	enableAnimations = true,
	animationConfig = {},
} = Astro.props;
---

<style>
	.line-clamp-6 {
		display: -webkit-box;
		-webkit-line-clamp: 6;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}
	
	[data-neoglass-title],
	[data-neoglass-subtitle],
	[data-neoglass-description],
	[data-neoglass-badge] {
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;
	}
	
	/* Ensure fixed layout during animations */
	.neoglass-fixed-layout {
		min-height: 400px;
		display: flex;
		flex-direction: column;
	}
	
	/* Prevent content jumping */
	.neoglass-text-container {
		position: relative;
		overflow: hidden;
	}
</style>

<section class="py-4">
	<div
		data-neoglass-panel
		class="mx-auto max-w-7xl relative flex flex-col md:flex-row rounded-3xl bg-white/5 backdrop-blur-md ring-1 ring-white/10
    shadow-[inset_0_0_0.5px_rgba(255,255,255,0.15),inset_0_1px_0_rgba(255,255,255,0.08),0_20px_40px_rgba(0,0,0,0.4)]
    hover:shadow-[inset_0_0_1px_rgba(255,255,255,0.2),inset_0_2px_1px_rgba(255,255,255,0.1),0_30px_60px_rgba(0,0,0,0.5)]
    hover:ring-cyan-500/30 hover:bg-white/8
    transition-all duration-300 ease-out overflow-hidden ring-offset-1 ring-offset-white/5 group cursor-pointer
    hover:scale-[1.01] hover:-translate-y-1 will-change-transform">
		<!-- Background Image Layer for Right Section -->
		<div class="absolute top-0 right-0 w-1/3 h-full hidden md:block rounded-r-3xl pointer-events-none z-0"
		     style="background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1050&q=80'); background-size: cover; background-position: center;"></div>
		<!-- Inner Block with Enhanced Glow -->
		<div
			data-neoglass-glow
			data-neoglass-magnetic
			class="absolute inset-[14px] rounded-[1.375rem] pointer-events-none z-10
             border border-[rgba(34,211,238,0.1)] group-hover:border-[rgba(34,211,238,0.3)]
             shadow-[inset_0.5px_0.5px_1.5px_rgba(186,230,253,0.6),inset_-1px_-1px_1px_rgba(21,94,117,0.5),inset_3px_3px_6px_rgba(0,0,0,0.25)]
             group-hover:shadow-[inset_0.5px_0.5px_2px_rgba(186,230,253,0.8),inset_-1px_-1px_1.5px_rgba(21,94,117,0.7),inset_3px_3px_8px_rgba(0,0,0,0.3)]
             transition-all duration-300 ease-out will-change-transform"
			style="filter: drop-shadow(0 0 calc(var(--glow-intensity, 0.4) * 10px) var(--glow-color, #22d3ee));">
		</div>
		<!-- Left Content Block -->
		<div class="p-8 flex-1 space-y-5 relative z-20 neoglass-fixed-layout">
			<!-- Badge with Animation -->
			<div class="neoglass-text-container">
				<div
					class="inline-flex items-center gap-2 text-xs font-semibold bg-cyan-300/90 text-cyan-950 px-3 py-1 rounded-full shadow border border-white/30
					group-hover:bg-cyan-200/95 group-hover:scale-105 group-hover:shadow-lg group-hover:shadow-cyan-400/25
					transition-all duration-250 ease-out will-change-transform h-7 min-w-[4rem]">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						class="w-4 h-4 group-hover:rotate-90 transition-transform duration-400 ease-out will-change-transform flex-shrink-0"
						fill="currentColor"
						viewBox="0 0 24 24">
						<circle cx="12" cy="12" r="10"></circle>
					</svg>
					<span data-neoglass-badge class="transition-all duration-300 whitespace-nowrap overflow-hidden">{badge}</span>
				</div>
			</div>

			<!-- Title with Glow Effect -->
			<div class="h-20 sm:h-24 flex items-start neoglass-text-container">
				<h2 data-neoglass-title class="text-3xl sm:text-4xl font-bold text-white group-hover:text-cyan-50 
				         group-hover:drop-shadow-[0_0_8px_rgba(34,211,238,0.4)]
				         transition-all duration-300 ease-out will-change-auto leading-tight w-full">
					{title}
				</h2>
			</div>
			
			<div class="h-12 flex items-start neoglass-text-container">
				<p data-neoglass-subtitle class="text-base text-zinc-300 group-hover:text-zinc-200 transition-all duration-300 leading-relaxed w-full">
					{subtitle}
				</p>
			</div>

			<!-- Description Block with Subtle Animation -->
			<div class="mt-6 border-t border-white/10 group-hover:border-cyan-400/30 pt-6 h-32 overflow-hidden neoglass-text-container">
				<span data-neoglass-description class="block text-base leading-relaxed text-zinc-300 
				       group-hover:text-zinc-200 transition-all duration-300 line-clamp-6 w-full">
					{description}
				</span>
			</div>

			<!-- Enhanced Button with Multiple Hover States -->
			<a
				href={buttonHref}
				class="inline-block mt-6 bg-gradient-to-br from-cyan-400 to-cyan-500 text-white font-semibold py-2 px-6 rounded-full shadow-md text-sm tracking-wide
				       hover:from-cyan-300 hover:to-cyan-400 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-cyan-400/30
				       active:from-cyan-500 active:to-cyan-600 active:translate-y-0 
				       group-hover:scale-[1.02]
				       transition-all duration-200 ease-out transform will-change-transform
				       focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 focus:ring-offset-zinc-900
				       motion-reduce:transition-none motion-reduce:hover:transform-none">
				<span class="relative z-10">{buttonText}</span>
				<!-- Button glow effect -->
				<div class="absolute inset-0 rounded-full bg-gradient-to-br from-cyan-300 to-cyan-400 opacity-0 
				           group-hover:opacity-15 transition-opacity duration-250 blur-sm"></div>
			</a>
		</div>

		<!-- Right Accent with Ocean Background and Enhanced Effects -->
		<div
			data-neoglass-bg
			class="hidden md:block w-1/3 relative rounded-r-3xl overflow-hidden border-l border-white/10 
			       group-hover:border-cyan-400/30 transition-all duration-500 will-change-auto">
			<!-- Enhanced Overlay with Animated Glow -->
			<div data-overlay class="absolute -top-4 -right-4 -bottom-4 left-0 bg-cyan-900/30 group-hover:bg-cyan-800/40 transition-all duration-500 z-0 rounded-r-3xl"></div>
			
			<!-- Animated Gradient Overlay -->
			<div data-animated-gradient-overlay class="absolute -top-4 -right-4 -bottom-4 left-0 bg-gradient-to-br from-transparent via-cyan-400/10 to-transparent 
			           opacity-0 group-hover:opacity-100 transition-opacity duration-700 z-5 rounded-r-3xl"></div>

			<!-- Enhanced SVG Decoration with Animations -->
			<svg
				data-neoglass-decor
				class="absolute top-4 right-4 w-20 h-20 text-cyan-400/20 group-hover:text-cyan-400/40 z-10
				       group-hover:scale-110 group-hover:rotate-12 transition-all duration-700 ease-out will-change-transform
				       motion-reduce:transition-none motion-reduce:hover:transform-none"
				viewBox="0 0 100 100"
				fill="none">
				<circle
					cx="50"
					cy="50"
					r="45"
					stroke="currentColor"
					stroke-width="2"
					class="animate-pulse group-hover:animate-spin motion-reduce:animate-none"
					style="animation-duration: 4s;">
				</circle>
				<circle
					cx="50"
					cy="50"
					r="35"
					stroke="currentColor"
					stroke-width="1.5"
					class="animate-pulse group-hover:animate-ping motion-reduce:animate-none"
					style="animation-duration: 3s;">
				</circle>
				<!-- Additional inner glow circle -->
				<circle
					cx="50"
					cy="50"
					r="25"
					stroke="currentColor"
					stroke-width="1"
					opacity="0"
					class="group-hover:opacity-60 transition-opacity duration-500"
					style="filter: blur(1px);">
				</circle>
			</svg>
			
			<!-- Enhanced Floating Particles Effect -->
			<div data-neoglass-particles class="absolute inset-0 z-5 pointer-events-none">
				<!-- Static particles for fallback -->
				<div class="absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400/30 rounded-full 
				           group-hover:animate-bounce motion-reduce:animate-none" style="animation-delay: 0.5s;"></div>
				<div class="absolute top-1/2 right-1/3 w-1 h-1 bg-cyan-300/40 rounded-full 
				           group-hover:animate-ping motion-reduce:animate-none" style="animation-delay: 1s;"></div>
				<div class="absolute bottom-1/3 left-1/2 w-1.5 h-1.5 bg-cyan-500/25 rounded-full 
				           group-hover:animate-pulse motion-reduce:animate-none" style="animation-delay: 1.5s;"></div>
			</div>
		</div>
	</div>

	<!-- React Animation Component -->
	
		<NeoGlassPanelAnimations client:only="react" />
	
</section>
