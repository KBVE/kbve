---
import { ReactLogin } from '@kbve/astropad';
---

<style>
	@keyframes shimmer {
		0% {
			background-position: -200% 0;
		}
		100% {
			background-position: 200% 0;
		}
	}

	/* Custom properties for theming */
	[data-neoglass-panel] {
		--panel-bg: color-mix(in srgb, var(--sl-color-white) 5%, transparent);
		--panel-border: color-mix(in srgb, var(--sl-color-white) 10%, transparent);
		--panel-hover-bg: color-mix(in srgb, var(--sl-color-white) 8%, transparent);
		--panel-hover-ring: color-mix(in srgb, var(--sl-color-accent) 30%, transparent);
		--glow-border: color-mix(in srgb, var(--sl-color-accent) 10%, transparent);
		--glow-hover-border: color-mix(in srgb, var(--sl-color-accent) 30%, transparent);
	}

	[data-neoglass-panel]:hover {
		background-color: var(--panel-hover-bg);
		border-color: var(--panel-hover-ring);
	}

	[data-neoglass-panel]:hover [data-neoglass-glow] {
		border-color: var(--glow-hover-border);
	}
</style>

<section class="py-4 min-h-[1200px]">
	<div
		data-neoglass-panel
		class="mx-auto max-w-7xl relative flex flex-col md:flex-row rounded-3xl backdrop-blur-md ring-1
    shadow-[inset_0_0_0.5px_rgba(255,255,255,0.15),inset_0_1px_0_rgba(255,255,255,0.08),0_20px_40px_rgba(0,0,0,0.4)]
    hover:shadow-[inset_0_0_1px_rgba(255,255,255,0.2),inset_0_2px_1px_rgba(255,255,255,0.1),0_30px_60px_rgba(0,0,0,0.5)]
    transition-all duration-300 ease-out overflow-hidden ring-offset-1 ring-offset-white/5 group cursor-pointer
    hover:scale-[1.01] hover:-translate-y-1 will-change-transform"
		style="
			background-color: var(--panel-bg);
			border-color: var(--panel-border);
		">
		<!-- Inner Block with Enhanced Glow -->
		<div
			data-neoglass-glow
			class="absolute inset-[14px] rounded-[1.375rem] pointer-events-none z-10 border
             shadow-[inset_0.5px_0.5px_1.5px_rgba(186,230,253,0.6),inset_-1px_-1px_1px_rgba(21,94,117,0.5),inset_3px_3px_6px_rgba(0,0,0,0.25)]
             group-hover:shadow-[inset_0.5px_0.5px_2px_rgba(186,230,253,0.8),inset_-1px_-1px_1.5px_rgba(21,94,117,0.7),inset_3px_3px_8px_rgba(0,0,0,0.3)]
             transition-all duration-300 ease-out will-change-transform"
			style="
				border-color: var(--glow-border);
				filter: drop-shadow(0 0 calc(var(--glow-intensity, 0.4) * 10px) var(--sl-color-accent));
			">
		</div>
		<!-- Login Form Container -->
		<div class="relative mx-auto">
			<!-- Login Skeleton - Higher z-index -->
			<div class="relative z-20 max-w-md mx-auto min-h-[1200px]" data-skeleton="login">
				<!-- OAuth Buttons Skeleton -->
				<div class="flex flex-col gap-3 mb-8">
					<div
						class="h-12 rounded-xl animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%;">
					</div>
					<div
						class="h-12 rounded-xl animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.3s;">
					</div>
					<div
						class="h-12 rounded-xl animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.6s;">
					</div>
				</div>

				<!-- Divider Skeleton -->
				<div class="flex items-center my-6">
					<div
						class="flex-1 h-px animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%;">
					</div>
					<div
						class="px-4 w-8 h-4 rounded animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.2s;">
					</div>
					<div
						class="flex-1 h-px animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.4s;">
					</div>
				</div>

				<!-- Form Title Skeleton -->
				<div class="text-center mb-6">
					<div
						class="h-8 rounded w-40 mx-auto mb-2 animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%;">
					</div>
					<div
						class="h-4 rounded w-48 mx-auto animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.3s;">
					</div>
				</div>

				<!-- Form Fields Skeleton -->
				<div class="space-y-5">
					{
						Array.from({ length: 2 }).map((_, i) => (
							<div class="space-y-2">
								<div
									class="h-4 rounded w-24 animate-[shimmer_2s_infinite]"
									style={`background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: ${i * 0.1}s;`}
								/>
								<div
									class="h-12 rounded-xl animate-[shimmer_2s_infinite]"
									style={`background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: ${i * 0.15}s;`}
								/>
							</div>
						))
					}
				</div>

				<!-- Submit Button Skeleton -->
				<div
					class="h-12 rounded-xl mt-6 animate-[shimmer_2s_infinite]"
					style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.5s;">
				</div>

				<!-- Footer Links Skeleton -->
				<div class="flex justify-between mt-4">
					<div
						class="h-4 rounded w-32 animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.7s;">
					</div>
					<div
						class="h-4 rounded w-28 animate-[shimmer_2s_infinite]"
						style="background: linear-gradient(90deg, color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent), color-mix(in srgb, var(--sl-color-gray-4) 60%, transparent), color-mix(in srgb, var(--sl-color-gray-5) 40%, transparent)); background-size: 200% 100%; animation-delay: 0.9s;">
					</div>
				</div>
			</div>

			<!-- Dynamic Login Form - Will overlay skeleton -->
			<div class="max-w-md mx-auto">
				<ReactLogin client:only="react" />
			</div>
		</div>

		<!-- Card END -->
	</div>
</section>
