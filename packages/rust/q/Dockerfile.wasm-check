FROM rust:1.88-bookworm

RUN rustup target add wasm32-unknown-unknown && \
    rustup component add rustfmt clippy

WORKDIR /workspace

# Usage (from repo root):
#   docker build -t q-wasm-check -f packages/rust/q/Dockerfile.wasm-check .
#   docker run --rm -v "$(pwd):/workspace" q-wasm-check cargo check  -p q --target wasm32-unknown-unknown
#   docker run --rm -v "$(pwd):/workspace" q-wasm-check cargo clippy -p q --target wasm32-unknown-unknown
